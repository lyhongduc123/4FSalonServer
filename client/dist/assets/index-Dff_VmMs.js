var d7=Object.defineProperty;var f7=(t,e,r)=>e in t?d7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var gg=(t,e,r)=>f7(t,typeof e!="symbol"?e+"":e,r);function YD(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var XD={exports:{}},hb={},GD={exports:{}},gn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv=Symbol.for("react.element"),p7=Symbol.for("react.portal"),m7=Symbol.for("react.fragment"),g7=Symbol.for("react.strict_mode"),v7=Symbol.for("react.profiler"),y7=Symbol.for("react.provider"),x7=Symbol.for("react.context"),b7=Symbol.for("react.forward_ref"),_7=Symbol.for("react.suspense"),w7=Symbol.for("react.memo"),S7=Symbol.for("react.lazy"),RP=Symbol.iterator;function C7(t){return t===null||typeof t!="object"?null:(t=RP&&t[RP]||t["@@iterator"],typeof t=="function"?t:null)}var qD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZD=Object.assign,KD={};function Kp(t,e,r){this.props=t,this.context=e,this.refs=KD,this.updater=r||qD}Kp.prototype.isReactComponent={};Kp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Kp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function JD(){}JD.prototype=Kp.prototype;function gk(t,e,r){this.props=t,this.context=e,this.refs=KD,this.updater=r||qD}var vk=gk.prototype=new JD;vk.constructor=gk;ZD(vk,Kp.prototype);vk.isPureReactComponent=!0;var jP=Array.isArray,QD=Object.prototype.hasOwnProperty,yk={current:null},e5={key:!0,ref:!0,__self:!0,__source:!0};function t5(t,e,r){var n,i={},o=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)QD.call(e,n)&&!e5.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:qv,type:t,key:o,ref:a,props:i,_owner:yk.current}}function k7(t,e){return{$$typeof:qv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xk(t){return typeof t=="object"&&t!==null&&t.$$typeof===qv}function E7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var zP=/\/+/g;function mw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?E7(""+t.key):e.toString(36)}function vx(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case qv:case p7:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+mw(a,0):n,jP(i)?(r="",t!=null&&(r=t.replace(zP,"$&/")+"/"),vx(i,e,r,"",function(h){return h})):i!=null&&(xk(i)&&(i=k7(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(zP,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",jP(t))for(var l=0;l<t.length;l++){o=t[l];var u=n+mw(o,l);a+=vx(o,e,r,u,i)}else if(u=C7(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=n+mw(o,l++),a+=vx(o,e,r,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function A0(t,e,r){if(t==null)return t;var n=[],i=0;return vx(t,n,"","",function(o){return e.call(r,o,i++)}),n}function T7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var No={current:null},yx={transition:null},A7={ReactCurrentDispatcher:No,ReactCurrentBatchConfig:yx,ReactCurrentOwner:yk};function r5(){throw Error("act(...) is not supported in production builds of React.")}gn.Children={map:A0,forEach:function(t,e,r){A0(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return A0(t,function(){e++}),e},toArray:function(t){return A0(t,function(e){return e})||[]},only:function(t){if(!xk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};gn.Component=Kp;gn.Fragment=m7;gn.Profiler=v7;gn.PureComponent=gk;gn.StrictMode=g7;gn.Suspense=_7;gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A7;gn.act=r5;gn.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ZD({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=yk.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)QD.call(e,u)&&!e5.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];n.children=l}return{$$typeof:qv,type:t.type,key:i,ref:o,props:n,_owner:a}};gn.createContext=function(t){return t={$$typeof:x7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:y7,_context:t},t.Consumer=t};gn.createElement=t5;gn.createFactory=function(t){var e=t5.bind(null,t);return e.type=t,e};gn.createRef=function(){return{current:null}};gn.forwardRef=function(t){return{$$typeof:b7,render:t}};gn.isValidElement=xk;gn.lazy=function(t){return{$$typeof:S7,_payload:{_status:-1,_result:t},_init:T7}};gn.memo=function(t,e){return{$$typeof:w7,type:t,compare:e===void 0?null:e}};gn.startTransition=function(t){var e=yx.transition;yx.transition={};try{t()}finally{yx.transition=e}};gn.unstable_act=r5;gn.useCallback=function(t,e){return No.current.useCallback(t,e)};gn.useContext=function(t){return No.current.useContext(t)};gn.useDebugValue=function(){};gn.useDeferredValue=function(t){return No.current.useDeferredValue(t)};gn.useEffect=function(t,e){return No.current.useEffect(t,e)};gn.useId=function(){return No.current.useId()};gn.useImperativeHandle=function(t,e,r){return No.current.useImperativeHandle(t,e,r)};gn.useInsertionEffect=function(t,e){return No.current.useInsertionEffect(t,e)};gn.useLayoutEffect=function(t,e){return No.current.useLayoutEffect(t,e)};gn.useMemo=function(t,e){return No.current.useMemo(t,e)};gn.useReducer=function(t,e,r){return No.current.useReducer(t,e,r)};gn.useRef=function(t){return No.current.useRef(t)};gn.useState=function(t){return No.current.useState(t)};gn.useSyncExternalStore=function(t,e,r){return No.current.useSyncExternalStore(t,e,r)};gn.useTransition=function(){return No.current.useTransition()};gn.version="18.3.1";GD.exports=gn;var H=GD.exports;const ke=Qn(H),n5=YD({__proto__:null,default:ke},[H]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P7=H,M7=Symbol.for("react.element"),I7=Symbol.for("react.fragment"),O7=Object.prototype.hasOwnProperty,D7=P7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N7={key:!0,ref:!0,__self:!0,__source:!0};function i5(t,e,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)O7.call(e,n)&&!N7.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:M7,type:t,key:o,ref:a,props:i,_owner:D7.current}}hb.Fragment=I7;hb.jsx=i5;hb.jsxs=i5;XD.exports=hb;var _=XD.exports,a5={exports:{}},gs={},o5={exports:{}},s5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(xe,Ne){var Re=xe.length;xe.push(Ne);e:for(;0<Re;){var He=Re-1>>>1,tt=xe[He];if(0<i(tt,Ne))xe[He]=Ne,xe[Re]=tt,Re=He;else break e}}function r(xe){return xe.length===0?null:xe[0]}function n(xe){if(xe.length===0)return null;var Ne=xe[0],Re=xe.pop();if(Re!==Ne){xe[0]=Re;e:for(var He=0,tt=xe.length,nt=tt>>>1;He<nt;){var Ke=2*(He+1)-1,Ue=xe[Ke],Xe=Ke+1,Ae=xe[Xe];if(0>i(Ue,Re))Xe<tt&&0>i(Ae,Ue)?(xe[He]=Ae,xe[Xe]=Re,He=Xe):(xe[He]=Ue,xe[Ke]=Re,He=Ke);else if(Xe<tt&&0>i(Ae,Re))xe[He]=Ae,xe[Xe]=Re,He=Xe;else break e}}return Ne}function i(xe,Ne){var Re=xe.sortIndex-Ne.sortIndex;return Re!==0?Re:xe.id-Ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],h=[],f=1,m=null,x=3,w=!1,S=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(xe){for(var Ne=r(h);Ne!==null;){if(Ne.callback===null)n(h);else if(Ne.startTime<=xe)n(h),Ne.sortIndex=Ne.expirationTime,e(u,Ne);else break;Ne=r(h)}}function N(xe){if(C=!1,I(xe),!S)if(r(u)!==null)S=!0,oe(D);else{var Ne=r(h);Ne!==null&&_e(N,Ne.startTime-xe)}}function D(xe,Ne){S=!1,C&&(C=!1,E($),$=-1),w=!0;var Re=x;try{for(I(Ne),m=r(u);m!==null&&(!(m.expirationTime>Ne)||xe&&!q());){var He=m.callback;if(typeof He=="function"){m.callback=null,x=m.priorityLevel;var tt=He(m.expirationTime<=Ne);Ne=t.unstable_now(),typeof tt=="function"?m.callback=tt:m===r(u)&&n(u),I(Ne)}else n(u);m=r(u)}if(m!==null)var nt=!0;else{var Ke=r(h);Ke!==null&&_e(N,Ke.startTime-Ne),nt=!1}return nt}finally{m=null,x=Re,w=!1}}var L=!1,R=null,$=-1,W=5,J=-1;function q(){return!(t.unstable_now()-J<W)}function ee(){if(R!==null){var xe=t.unstable_now();J=xe;var Ne=!0;try{Ne=R(!0,xe)}finally{Ne?se():(L=!1,R=null)}}else L=!1}var se;if(typeof P=="function")se=function(){P(ee)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Se=he.port2;he.port1.onmessage=ee,se=function(){Se.postMessage(null)}}else se=function(){A(ee,0)};function oe(xe){R=xe,L||(L=!0,se())}function _e(xe,Ne){$=A(function(){xe(t.unstable_now())},Ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(xe){xe.callback=null},t.unstable_continueExecution=function(){S||w||(S=!0,oe(D))},t.unstable_forceFrameRate=function(xe){0>xe||125<xe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<xe?Math.floor(1e3/xe):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(xe){switch(x){case 1:case 2:case 3:var Ne=3;break;default:Ne=x}var Re=x;x=Ne;try{return xe()}finally{x=Re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(xe,Ne){switch(xe){case 1:case 2:case 3:case 4:case 5:break;default:xe=3}var Re=x;x=xe;try{return Ne()}finally{x=Re}},t.unstable_scheduleCallback=function(xe,Ne,Re){var He=t.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?He+Re:He):Re=He,xe){case 1:var tt=-1;break;case 2:tt=250;break;case 5:tt=1073741823;break;case 4:tt=1e4;break;default:tt=5e3}return tt=Re+tt,xe={id:f++,callback:Ne,priorityLevel:xe,startTime:Re,expirationTime:tt,sortIndex:-1},Re>He?(xe.sortIndex=Re,e(h,xe),r(u)===null&&xe===r(h)&&(C?(E($),$=-1):C=!0,_e(N,Re-He))):(xe.sortIndex=tt,e(u,xe),S||w||(S=!0,oe(D))),xe},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(xe){var Ne=x;return function(){var Re=x;x=Ne;try{return xe.apply(this,arguments)}finally{x=Re}}}})(s5);o5.exports=s5;var L7=o5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R7=H,ms=L7;function It(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l5=new Set,lv={};function Md(t,e){Ap(t,e),Ap(t+"Capture",e)}function Ap(t,e){for(lv[t]=e,t=0;t<e.length;t++)l5.add(e[t])}var Bc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),V2=Object.prototype.hasOwnProperty,j7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FP={},BP={};function z7(t){return V2.call(BP,t)?!0:V2.call(FP,t)?!1:j7.test(t)?BP[t]=!0:(FP[t]=!0,!1)}function F7(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function B7(t,e,r,n){if(e===null||typeof e>"u"||F7(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lo(t,e,r,n,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var qa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qa[t]=new Lo(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qa[e]=new Lo(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qa[t]=new Lo(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qa[t]=new Lo(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qa[t]=new Lo(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qa[t]=new Lo(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qa[t]=new Lo(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qa[t]=new Lo(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qa[t]=new Lo(t,5,!1,t.toLowerCase(),null,!1,!1)});var bk=/[\-:]([a-z])/g;function _k(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bk,_k);qa[e]=new Lo(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bk,_k);qa[e]=new Lo(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bk,_k);qa[e]=new Lo(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qa[t]=new Lo(t,1,!1,t.toLowerCase(),null,!1,!1)});qa.xlinkHref=new Lo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qa[t]=new Lo(t,1,!1,t.toLowerCase(),null,!0,!0)});function wk(t,e,r,n){var i=qa.hasOwnProperty(e)?qa[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(B7(e,r,i,n)&&(r=null),n||i===null?z7(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Yc=R7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P0=Symbol.for("react.element"),qf=Symbol.for("react.portal"),Zf=Symbol.for("react.fragment"),Sk=Symbol.for("react.strict_mode"),W2=Symbol.for("react.profiler"),c5=Symbol.for("react.provider"),u5=Symbol.for("react.context"),Ck=Symbol.for("react.forward_ref"),Y2=Symbol.for("react.suspense"),X2=Symbol.for("react.suspense_list"),kk=Symbol.for("react.memo"),Eu=Symbol.for("react.lazy"),h5=Symbol.for("react.offscreen"),$P=Symbol.iterator;function vg(t){return t===null||typeof t!="object"?null:(t=$P&&t[$P]||t["@@iterator"],typeof t=="function"?t:null)}var Yi=Object.assign,gw;function Ng(t){if(gw===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);gw=e&&e[1]||""}return`
`+gw+t}var vw=!1;function yw(t,e){if(!t||vw)return"";vw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{vw=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ng(t):""}function $7(t){switch(t.tag){case 5:return Ng(t.type);case 16:return Ng("Lazy");case 13:return Ng("Suspense");case 19:return Ng("SuspenseList");case 0:case 2:case 15:return t=yw(t.type,!1),t;case 11:return t=yw(t.type.render,!1),t;case 1:return t=yw(t.type,!0),t;default:return""}}function G2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zf:return"Fragment";case qf:return"Portal";case W2:return"Profiler";case Sk:return"StrictMode";case Y2:return"Suspense";case X2:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case u5:return(t.displayName||"Context")+".Consumer";case c5:return(t._context.displayName||"Context")+".Provider";case Ck:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kk:return e=t.displayName||null,e!==null?e:G2(t.type)||"Memo";case Eu:e=t._payload,t=t._init;try{return G2(t(e))}catch{}}return null}function H7(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G2(e);case 8:return e===Sk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ku(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function d5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function U7(t){var e=d5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function M0(t){t._valueTracker||(t._valueTracker=U7(t))}function f5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=d5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function e1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function q2(t,e){var r=e.checked;return Yi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function HP(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ku(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function p5(t,e){e=e.checked,e!=null&&wk(t,"checked",e,!1)}function Z2(t,e){p5(t,e);var r=Ku(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?K2(t,e.type,r):e.hasOwnProperty("defaultValue")&&K2(t,e.type,Ku(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function UP(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function K2(t,e,r){(e!=="number"||e1(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Lg=Array.isArray;function dp(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ku(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function J2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(It(91));return Yi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function VP(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(It(92));if(Lg(r)){if(1<r.length)throw Error(It(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ku(r)}}function m5(t,e){var r=Ku(e.value),n=Ku(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function WP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function g5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Q2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?g5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var I0,v5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(I0=I0||document.createElement("div"),I0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=I0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cv(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var $g={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V7=["Webkit","ms","Moz","O"];Object.keys($g).forEach(function(t){V7.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$g[e]=$g[t]})});function y5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||$g.hasOwnProperty(t)&&$g[t]?(""+e).trim():e+"px"}function x5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=y5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var W7=Yi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eS(t,e){if(e){if(W7[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(It(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(It(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(It(61))}if(e.style!=null&&typeof e.style!="object")throw Error(It(62))}}function tS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rS=null;function Ek(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nS=null,fp=null,pp=null;function YP(t){if(t=Jv(t)){if(typeof nS!="function")throw Error(It(280));var e=t.stateNode;e&&(e=gb(e),nS(t.stateNode,t.type,e))}}function b5(t){fp?pp?pp.push(t):pp=[t]:fp=t}function _5(){if(fp){var t=fp,e=pp;if(pp=fp=null,YP(t),e)for(t=0;t<e.length;t++)YP(e[t])}}function w5(t,e){return t(e)}function S5(){}var xw=!1;function C5(t,e,r){if(xw)return t(e,r);xw=!0;try{return w5(t,e,r)}finally{xw=!1,(fp!==null||pp!==null)&&(S5(),_5())}}function uv(t,e){var r=t.stateNode;if(r===null)return null;var n=gb(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(It(231,e,typeof r));return r}var iS=!1;if(Bc)try{var yg={};Object.defineProperty(yg,"passive",{get:function(){iS=!0}}),window.addEventListener("test",yg,yg),window.removeEventListener("test",yg,yg)}catch{iS=!1}function Y7(t,e,r,n,i,o,a,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(f){this.onError(f)}}var Hg=!1,t1=null,r1=!1,aS=null,X7={onError:function(t){Hg=!0,t1=t}};function G7(t,e,r,n,i,o,a,l,u){Hg=!1,t1=null,Y7.apply(X7,arguments)}function q7(t,e,r,n,i,o,a,l,u){if(G7.apply(this,arguments),Hg){if(Hg){var h=t1;Hg=!1,t1=null}else throw Error(It(198));r1||(r1=!0,aS=h)}}function Id(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function k5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function XP(t){if(Id(t)!==t)throw Error(It(188))}function Z7(t){var e=t.alternate;if(!e){if(e=Id(t),e===null)throw Error(It(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return XP(i),t;if(o===n)return XP(i),e;o=o.sibling}throw Error(It(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=o;break}if(l===n){a=!0,n=i,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=i;break}if(l===n){a=!0,n=o,r=i;break}l=l.sibling}if(!a)throw Error(It(189))}}if(r.alternate!==n)throw Error(It(190))}if(r.tag!==3)throw Error(It(188));return r.stateNode.current===r?t:e}function E5(t){return t=Z7(t),t!==null?T5(t):null}function T5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=T5(t);if(e!==null)return e;t=t.sibling}return null}var A5=ms.unstable_scheduleCallback,GP=ms.unstable_cancelCallback,K7=ms.unstable_shouldYield,J7=ms.unstable_requestPaint,ca=ms.unstable_now,Q7=ms.unstable_getCurrentPriorityLevel,Tk=ms.unstable_ImmediatePriority,P5=ms.unstable_UserBlockingPriority,n1=ms.unstable_NormalPriority,e$=ms.unstable_LowPriority,M5=ms.unstable_IdlePriority,db=null,Vl=null;function t$(t){if(Vl&&typeof Vl.onCommitFiberRoot=="function")try{Vl.onCommitFiberRoot(db,t,void 0,(t.current.flags&128)===128)}catch{}}var cl=Math.clz32?Math.clz32:i$,r$=Math.log,n$=Math.LN2;function i$(t){return t>>>=0,t===0?32:31-(r$(t)/n$|0)|0}var O0=64,D0=4194304;function Rg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function i1(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=Rg(l):(o&=a,o!==0&&(n=Rg(o)))}else a=r&~i,a!==0?n=Rg(a):o!==0&&(n=Rg(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-cl(e),i=1<<r,n|=t[r],e&=~i;return n}function a$(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o$(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-cl(o),l=1<<a,u=i[a];u===-1?(!(l&r)||l&n)&&(i[a]=a$(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function oS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function I5(){var t=O0;return O0<<=1,!(O0&4194240)&&(O0=64),t}function bw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Zv(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-cl(e),t[e]=r}function s$(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-cl(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function Ak(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-cl(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var si=0;function O5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var D5,Pk,N5,L5,R5,sS=!1,N0=[],ju=null,zu=null,Fu=null,hv=new Map,dv=new Map,Au=[],l$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qP(t,e){switch(t){case"focusin":case"focusout":ju=null;break;case"dragenter":case"dragleave":zu=null;break;case"mouseover":case"mouseout":Fu=null;break;case"pointerover":case"pointerout":hv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dv.delete(e.pointerId)}}function xg(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Jv(e),e!==null&&Pk(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function c$(t,e,r,n,i){switch(e){case"focusin":return ju=xg(ju,t,e,r,n,i),!0;case"dragenter":return zu=xg(zu,t,e,r,n,i),!0;case"mouseover":return Fu=xg(Fu,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return hv.set(o,xg(hv.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,dv.set(o,xg(dv.get(o)||null,t,e,r,n,i)),!0}return!1}function j5(t){var e=Zh(t.target);if(e!==null){var r=Id(e);if(r!==null){if(e=r.tag,e===13){if(e=k5(r),e!==null){t.blockedOn=e,R5(t.priority,function(){N5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xx(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=lS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);rS=n,r.target.dispatchEvent(n),rS=null}else return e=Jv(r),e!==null&&Pk(e),t.blockedOn=r,!1;e.shift()}return!0}function ZP(t,e,r){xx(t)&&r.delete(e)}function u$(){sS=!1,ju!==null&&xx(ju)&&(ju=null),zu!==null&&xx(zu)&&(zu=null),Fu!==null&&xx(Fu)&&(Fu=null),hv.forEach(ZP),dv.forEach(ZP)}function bg(t,e){t.blockedOn===e&&(t.blockedOn=null,sS||(sS=!0,ms.unstable_scheduleCallback(ms.unstable_NormalPriority,u$)))}function fv(t){function e(i){return bg(i,t)}if(0<N0.length){bg(N0[0],t);for(var r=1;r<N0.length;r++){var n=N0[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ju!==null&&bg(ju,t),zu!==null&&bg(zu,t),Fu!==null&&bg(Fu,t),hv.forEach(e),dv.forEach(e),r=0;r<Au.length;r++)n=Au[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Au.length&&(r=Au[0],r.blockedOn===null);)j5(r),r.blockedOn===null&&Au.shift()}var mp=Yc.ReactCurrentBatchConfig,a1=!0;function h$(t,e,r,n){var i=si,o=mp.transition;mp.transition=null;try{si=1,Mk(t,e,r,n)}finally{si=i,mp.transition=o}}function d$(t,e,r,n){var i=si,o=mp.transition;mp.transition=null;try{si=4,Mk(t,e,r,n)}finally{si=i,mp.transition=o}}function Mk(t,e,r,n){if(a1){var i=lS(t,e,r,n);if(i===null)Mw(t,e,n,o1,r),qP(t,n);else if(c$(i,t,e,r,n))n.stopPropagation();else if(qP(t,n),e&4&&-1<l$.indexOf(t)){for(;i!==null;){var o=Jv(i);if(o!==null&&D5(o),o=lS(t,e,r,n),o===null&&Mw(t,e,n,o1,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Mw(t,e,n,null,r)}}var o1=null;function lS(t,e,r,n){if(o1=null,t=Ek(n),t=Zh(t),t!==null)if(e=Id(t),e===null)t=null;else if(r=e.tag,r===13){if(t=k5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return o1=t,null}function z5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q7()){case Tk:return 1;case P5:return 4;case n1:case e$:return 16;case M5:return 536870912;default:return 16}default:return 16}}var Iu=null,Ik=null,bx=null;function F5(){if(bx)return bx;var t,e=Ik,r=e.length,n,i="value"in Iu?Iu.value:Iu.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[o-n];n++);return bx=i.slice(t,1<n?1-n:void 0)}function _x(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function L0(){return!0}function KP(){return!1}function vs(t){function e(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?L0:KP,this.isPropagationStopped=KP,this}return Yi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=L0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=L0)},persist:function(){},isPersistent:L0}),e}var Jp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ok=vs(Jp),Kv=Yi({},Jp,{view:0,detail:0}),f$=vs(Kv),_w,ww,_g,fb=Yi({},Kv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_g&&(_g&&t.type==="mousemove"?(_w=t.screenX-_g.screenX,ww=t.screenY-_g.screenY):ww=_w=0,_g=t),_w)},movementY:function(t){return"movementY"in t?t.movementY:ww}}),JP=vs(fb),p$=Yi({},fb,{dataTransfer:0}),m$=vs(p$),g$=Yi({},Kv,{relatedTarget:0}),Sw=vs(g$),v$=Yi({},Jp,{animationName:0,elapsedTime:0,pseudoElement:0}),y$=vs(v$),x$=Yi({},Jp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),b$=vs(x$),_$=Yi({},Jp,{data:0}),QP=vs(_$),w$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=C$[t])?!!e[t]:!1}function Dk(){return k$}var E$=Yi({},Kv,{key:function(t){if(t.key){var e=w$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_x(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?S$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dk,charCode:function(t){return t.type==="keypress"?_x(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_x(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),T$=vs(E$),A$=Yi({},fb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eM=vs(A$),P$=Yi({},Kv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dk}),M$=vs(P$),I$=Yi({},Jp,{propertyName:0,elapsedTime:0,pseudoElement:0}),O$=vs(I$),D$=Yi({},fb,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),N$=vs(D$),L$=[9,13,27,32],Nk=Bc&&"CompositionEvent"in window,Ug=null;Bc&&"documentMode"in document&&(Ug=document.documentMode);var R$=Bc&&"TextEvent"in window&&!Ug,B5=Bc&&(!Nk||Ug&&8<Ug&&11>=Ug),tM=" ",rM=!1;function $5(t,e){switch(t){case"keyup":return L$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kf=!1;function j$(t,e){switch(t){case"compositionend":return H5(e);case"keypress":return e.which!==32?null:(rM=!0,tM);case"textInput":return t=e.data,t===tM&&rM?null:t;default:return null}}function z$(t,e){if(Kf)return t==="compositionend"||!Nk&&$5(t,e)?(t=F5(),bx=Ik=Iu=null,Kf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return B5&&e.locale!=="ko"?null:e.data;default:return null}}var F$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!F$[t.type]:e==="textarea"}function U5(t,e,r,n){b5(n),e=s1(e,"onChange"),0<e.length&&(r=new Ok("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Vg=null,pv=null;function B$(t){eN(t,0)}function pb(t){var e=ep(t);if(f5(e))return t}function $$(t,e){if(t==="change")return e}var V5=!1;if(Bc){var Cw;if(Bc){var kw="oninput"in document;if(!kw){var iM=document.createElement("div");iM.setAttribute("oninput","return;"),kw=typeof iM.oninput=="function"}Cw=kw}else Cw=!1;V5=Cw&&(!document.documentMode||9<document.documentMode)}function aM(){Vg&&(Vg.detachEvent("onpropertychange",W5),pv=Vg=null)}function W5(t){if(t.propertyName==="value"&&pb(pv)){var e=[];U5(e,pv,t,Ek(t)),C5(B$,e)}}function H$(t,e,r){t==="focusin"?(aM(),Vg=e,pv=r,Vg.attachEvent("onpropertychange",W5)):t==="focusout"&&aM()}function U$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pb(pv)}function V$(t,e){if(t==="click")return pb(e)}function W$(t,e){if(t==="input"||t==="change")return pb(e)}function Y$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pl=typeof Object.is=="function"?Object.is:Y$;function mv(t,e){if(pl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!V2.call(e,i)||!pl(t[i],e[i]))return!1}return!0}function oM(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sM(t,e){var r=oM(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=oM(r)}}function Y5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Y5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function X5(){for(var t=window,e=e1();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=e1(t.document)}return e}function Lk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function X$(t){var e=X5(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Y5(r.ownerDocument.documentElement,r)){if(n!==null&&Lk(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=sM(r,o);var a=sM(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var G$=Bc&&"documentMode"in document&&11>=document.documentMode,Jf=null,cS=null,Wg=null,uS=!1;function lM(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;uS||Jf==null||Jf!==e1(n)||(n=Jf,"selectionStart"in n&&Lk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wg&&mv(Wg,n)||(Wg=n,n=s1(cS,"onSelect"),0<n.length&&(e=new Ok("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Jf)))}function R0(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Qf={animationend:R0("Animation","AnimationEnd"),animationiteration:R0("Animation","AnimationIteration"),animationstart:R0("Animation","AnimationStart"),transitionend:R0("Transition","TransitionEnd")},Ew={},G5={};Bc&&(G5=document.createElement("div").style,"AnimationEvent"in window||(delete Qf.animationend.animation,delete Qf.animationiteration.animation,delete Qf.animationstart.animation),"TransitionEvent"in window||delete Qf.transitionend.transition);function mb(t){if(Ew[t])return Ew[t];if(!Qf[t])return t;var e=Qf[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in G5)return Ew[t]=e[r];return t}var q5=mb("animationend"),Z5=mb("animationiteration"),K5=mb("animationstart"),J5=mb("transitionend"),Q5=new Map,cM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ch(t,e){Q5.set(t,e),Md(e,[t])}for(var Tw=0;Tw<cM.length;Tw++){var Aw=cM[Tw],q$=Aw.toLowerCase(),Z$=Aw[0].toUpperCase()+Aw.slice(1);ch(q$,"on"+Z$)}ch(q5,"onAnimationEnd");ch(Z5,"onAnimationIteration");ch(K5,"onAnimationStart");ch("dblclick","onDoubleClick");ch("focusin","onFocus");ch("focusout","onBlur");ch(J5,"onTransitionEnd");Ap("onMouseEnter",["mouseout","mouseover"]);Ap("onMouseLeave",["mouseout","mouseover"]);Ap("onPointerEnter",["pointerout","pointerover"]);Ap("onPointerLeave",["pointerout","pointerover"]);Md("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Md("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Md("onBeforeInput",["compositionend","keypress","textInput","paste"]);Md("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Md("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Md("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K$=new Set("cancel close invalid load scroll toggle".split(" ").concat(jg));function uM(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,q7(n,e,void 0,t),t.currentTarget=null}function eN(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;uM(i,l,h),o=u}else for(a=0;a<n.length;a++){if(l=n[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;uM(i,l,h),o=u}}}if(r1)throw t=aS,r1=!1,aS=null,t}function Ai(t,e){var r=e[mS];r===void 0&&(r=e[mS]=new Set);var n=t+"__bubble";r.has(n)||(tN(e,t,2,!1),r.add(n))}function Pw(t,e,r){var n=0;e&&(n|=4),tN(r,t,n,e)}var j0="_reactListening"+Math.random().toString(36).slice(2);function gv(t){if(!t[j0]){t[j0]=!0,l5.forEach(function(r){r!=="selectionchange"&&(K$.has(r)||Pw(r,!1,t),Pw(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[j0]||(e[j0]=!0,Pw("selectionchange",!1,e))}}function tN(t,e,r,n){switch(z5(e)){case 1:var i=h$;break;case 4:i=d$;break;default:i=Mk}r=i.bind(null,e,r,t),i=void 0,!iS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Mw(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Zh(l),a===null)return;if(u=a.tag,u===5||u===6){n=o=a;continue e}l=l.parentNode}}n=n.return}C5(function(){var h=o,f=Ek(r),m=[];e:{var x=Q5.get(t);if(x!==void 0){var w=Ok,S=t;switch(t){case"keypress":if(_x(r)===0)break e;case"keydown":case"keyup":w=T$;break;case"focusin":S="focus",w=Sw;break;case"focusout":S="blur",w=Sw;break;case"beforeblur":case"afterblur":w=Sw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=JP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=m$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=M$;break;case q5:case Z5:case K5:w=y$;break;case J5:w=O$;break;case"scroll":w=f$;break;case"wheel":w=N$;break;case"copy":case"cut":case"paste":w=b$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=eM}var C=(e&4)!==0,A=!C&&t==="scroll",E=C?x!==null?x+"Capture":null:x;C=[];for(var P=h,I;P!==null;){I=P;var N=I.stateNode;if(I.tag===5&&N!==null&&(I=N,E!==null&&(N=uv(P,E),N!=null&&C.push(vv(P,N,I)))),A)break;P=P.return}0<C.length&&(x=new w(x,S,null,r,f),m.push({event:x,listeners:C}))}}if(!(e&7)){e:{if(x=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",x&&r!==rS&&(S=r.relatedTarget||r.fromElement)&&(Zh(S)||S[$c]))break e;if((w||x)&&(x=f.window===f?f:(x=f.ownerDocument)?x.defaultView||x.parentWindow:window,w?(S=r.relatedTarget||r.toElement,w=h,S=S?Zh(S):null,S!==null&&(A=Id(S),S!==A||S.tag!==5&&S.tag!==6)&&(S=null)):(w=null,S=h),w!==S)){if(C=JP,N="onMouseLeave",E="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(C=eM,N="onPointerLeave",E="onPointerEnter",P="pointer"),A=w==null?x:ep(w),I=S==null?x:ep(S),x=new C(N,P+"leave",w,r,f),x.target=A,x.relatedTarget=I,N=null,Zh(f)===h&&(C=new C(E,P+"enter",S,r,f),C.target=I,C.relatedTarget=A,N=C),A=N,w&&S)t:{for(C=w,E=S,P=0,I=C;I;I=Tf(I))P++;for(I=0,N=E;N;N=Tf(N))I++;for(;0<P-I;)C=Tf(C),P--;for(;0<I-P;)E=Tf(E),I--;for(;P--;){if(C===E||E!==null&&C===E.alternate)break t;C=Tf(C),E=Tf(E)}C=null}else C=null;w!==null&&hM(m,x,w,C,!1),S!==null&&A!==null&&hM(m,A,S,C,!0)}}e:{if(x=h?ep(h):window,w=x.nodeName&&x.nodeName.toLowerCase(),w==="select"||w==="input"&&x.type==="file")var D=$$;else if(nM(x))if(V5)D=W$;else{D=U$;var L=H$}else(w=x.nodeName)&&w.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(D=V$);if(D&&(D=D(t,h))){U5(m,D,r,f);break e}L&&L(t,x,h),t==="focusout"&&(L=x._wrapperState)&&L.controlled&&x.type==="number"&&K2(x,"number",x.value)}switch(L=h?ep(h):window,t){case"focusin":(nM(L)||L.contentEditable==="true")&&(Jf=L,cS=h,Wg=null);break;case"focusout":Wg=cS=Jf=null;break;case"mousedown":uS=!0;break;case"contextmenu":case"mouseup":case"dragend":uS=!1,lM(m,r,f);break;case"selectionchange":if(G$)break;case"keydown":case"keyup":lM(m,r,f)}var R;if(Nk)e:{switch(t){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Kf?$5(t,r)&&($="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&($="onCompositionStart");$&&(B5&&r.locale!=="ko"&&(Kf||$!=="onCompositionStart"?$==="onCompositionEnd"&&Kf&&(R=F5()):(Iu=f,Ik="value"in Iu?Iu.value:Iu.textContent,Kf=!0)),L=s1(h,$),0<L.length&&($=new QP($,t,null,r,f),m.push({event:$,listeners:L}),R?$.data=R:(R=H5(r),R!==null&&($.data=R)))),(R=R$?j$(t,r):z$(t,r))&&(h=s1(h,"onBeforeInput"),0<h.length&&(f=new QP("onBeforeInput","beforeinput",null,r,f),m.push({event:f,listeners:h}),f.data=R))}eN(m,e)})}function vv(t,e,r){return{instance:t,listener:e,currentTarget:r}}function s1(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=uv(t,r),o!=null&&n.unshift(vv(t,o,i)),o=uv(t,e),o!=null&&n.push(vv(t,o,i))),t=t.return}return n}function Tf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hM(t,e,r,n,i){for(var o=e._reactName,a=[];r!==null&&r!==n;){var l=r,u=l.alternate,h=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&h!==null&&(l=h,i?(u=uv(r,o),u!=null&&a.unshift(vv(r,u,l))):i||(u=uv(r,o),u!=null&&a.push(vv(r,u,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var J$=/\r\n?/g,Q$=/\u0000|\uFFFD/g;function dM(t){return(typeof t=="string"?t:""+t).replace(J$,`
`).replace(Q$,"")}function z0(t,e,r){if(e=dM(e),dM(t)!==e&&r)throw Error(It(425))}function l1(){}var hS=null,dS=null;function fS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pS=typeof setTimeout=="function"?setTimeout:void 0,e9=typeof clearTimeout=="function"?clearTimeout:void 0,fM=typeof Promise=="function"?Promise:void 0,t9=typeof queueMicrotask=="function"?queueMicrotask:typeof fM<"u"?function(t){return fM.resolve(null).then(t).catch(r9)}:pS;function r9(t){setTimeout(function(){throw t})}function Iw(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),fv(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);fv(e)}function Bu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pM(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Qp=Math.random().toString(36).slice(2),jl="__reactFiber$"+Qp,yv="__reactProps$"+Qp,$c="__reactContainer$"+Qp,mS="__reactEvents$"+Qp,n9="__reactListeners$"+Qp,i9="__reactHandles$"+Qp;function Zh(t){var e=t[jl];if(e)return e;for(var r=t.parentNode;r;){if(e=r[$c]||r[jl]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=pM(t);t!==null;){if(r=t[jl])return r;t=pM(t)}return e}t=r,r=t.parentNode}return null}function Jv(t){return t=t[jl]||t[$c],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ep(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(It(33))}function gb(t){return t[yv]||null}var gS=[],tp=-1;function uh(t){return{current:t}}function Ii(t){0>tp||(t.current=gS[tp],gS[tp]=null,tp--)}function wi(t,e){tp++,gS[tp]=t.current,t.current=e}var Ju={},go=uh(Ju),Go=uh(!1),vd=Ju;function Pp(t,e){var r=t.type.contextTypes;if(!r)return Ju;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qo(t){return t=t.childContextTypes,t!=null}function c1(){Ii(Go),Ii(go)}function mM(t,e,r){if(go.current!==Ju)throw Error(It(168));wi(go,e),wi(Go,r)}function rN(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(It(108,H7(t)||"Unknown",i));return Yi({},r,n)}function u1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ju,vd=go.current,wi(go,t),wi(Go,Go.current),!0}function gM(t,e,r){var n=t.stateNode;if(!n)throw Error(It(169));r?(t=rN(t,e,vd),n.__reactInternalMemoizedMergedChildContext=t,Ii(Go),Ii(go),wi(go,t)):Ii(Go),wi(Go,r)}var Oc=null,vb=!1,Ow=!1;function nN(t){Oc===null?Oc=[t]:Oc.push(t)}function a9(t){vb=!0,nN(t)}function hh(){if(!Ow&&Oc!==null){Ow=!0;var t=0,e=si;try{var r=Oc;for(si=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Oc=null,vb=!1}catch(i){throw Oc!==null&&(Oc=Oc.slice(t+1)),A5(Tk,hh),i}finally{si=e,Ow=!1}}return null}var rp=[],np=0,h1=null,d1=0,Is=[],Os=0,yd=null,Nc=1,Lc="";function Hh(t,e){rp[np++]=d1,rp[np++]=h1,h1=t,d1=e}function iN(t,e,r){Is[Os++]=Nc,Is[Os++]=Lc,Is[Os++]=yd,yd=t;var n=Nc;t=Lc;var i=32-cl(n)-1;n&=~(1<<i),r+=1;var o=32-cl(e)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Nc=1<<32-cl(e)+i|r<<i|n,Lc=o+t}else Nc=1<<o|r<<i|n,Lc=t}function Rk(t){t.return!==null&&(Hh(t,1),iN(t,1,0))}function jk(t){for(;t===h1;)h1=rp[--np],rp[np]=null,d1=rp[--np],rp[np]=null;for(;t===yd;)yd=Is[--Os],Is[Os]=null,Lc=Is[--Os],Is[Os]=null,Nc=Is[--Os],Is[Os]=null}var ds=null,us=null,Ri=!1,al=null;function aN(t,e){var r=Ls(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function vM(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ds=t,us=Bu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ds=t,us=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=yd!==null?{id:Nc,overflow:Lc}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ls(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ds=t,us=null,!0):!1;default:return!1}}function vS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yS(t){if(Ri){var e=us;if(e){var r=e;if(!vM(t,e)){if(vS(t))throw Error(It(418));e=Bu(r.nextSibling);var n=ds;e&&vM(t,e)?aN(n,r):(t.flags=t.flags&-4097|2,Ri=!1,ds=t)}}else{if(vS(t))throw Error(It(418));t.flags=t.flags&-4097|2,Ri=!1,ds=t}}}function yM(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ds=t}function F0(t){if(t!==ds)return!1;if(!Ri)return yM(t),Ri=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fS(t.type,t.memoizedProps)),e&&(e=us)){if(vS(t))throw oN(),Error(It(418));for(;e;)aN(t,e),e=Bu(e.nextSibling)}if(yM(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(It(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){us=Bu(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}us=null}}else us=ds?Bu(t.stateNode.nextSibling):null;return!0}function oN(){for(var t=us;t;)t=Bu(t.nextSibling)}function Mp(){us=ds=null,Ri=!1}function zk(t){al===null?al=[t]:al.push(t)}var o9=Yc.ReactCurrentBatchConfig;function wg(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(It(309));var n=r.stateNode}if(!n)throw Error(It(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=i.refs;a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(It(284));if(!r._owner)throw Error(It(290,t))}return t}function B0(t,e){throw t=Object.prototype.toString.call(e),Error(It(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xM(t){var e=t._init;return e(t._payload)}function sN(t){function e(E,P){if(t){var I=E.deletions;I===null?(E.deletions=[P],E.flags|=16):I.push(P)}}function r(E,P){if(!t)return null;for(;P!==null;)e(E,P),P=P.sibling;return null}function n(E,P){for(E=new Map;P!==null;)P.key!==null?E.set(P.key,P):E.set(P.index,P),P=P.sibling;return E}function i(E,P){return E=Vu(E,P),E.index=0,E.sibling=null,E}function o(E,P,I){return E.index=I,t?(I=E.alternate,I!==null?(I=I.index,I<P?(E.flags|=2,P):I):(E.flags|=2,P)):(E.flags|=1048576,P)}function a(E){return t&&E.alternate===null&&(E.flags|=2),E}function l(E,P,I,N){return P===null||P.tag!==6?(P=Fw(I,E.mode,N),P.return=E,P):(P=i(P,I),P.return=E,P)}function u(E,P,I,N){var D=I.type;return D===Zf?f(E,P,I.props.children,N,I.key):P!==null&&(P.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Eu&&xM(D)===P.type)?(N=i(P,I.props),N.ref=wg(E,P,I),N.return=E,N):(N=Ax(I.type,I.key,I.props,null,E.mode,N),N.ref=wg(E,P,I),N.return=E,N)}function h(E,P,I,N){return P===null||P.tag!==4||P.stateNode.containerInfo!==I.containerInfo||P.stateNode.implementation!==I.implementation?(P=Bw(I,E.mode,N),P.return=E,P):(P=i(P,I.children||[]),P.return=E,P)}function f(E,P,I,N,D){return P===null||P.tag!==7?(P=ld(I,E.mode,N,D),P.return=E,P):(P=i(P,I),P.return=E,P)}function m(E,P,I){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Fw(""+P,E.mode,I),P.return=E,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case P0:return I=Ax(P.type,P.key,P.props,null,E.mode,I),I.ref=wg(E,null,P),I.return=E,I;case qf:return P=Bw(P,E.mode,I),P.return=E,P;case Eu:var N=P._init;return m(E,N(P._payload),I)}if(Lg(P)||vg(P))return P=ld(P,E.mode,I,null),P.return=E,P;B0(E,P)}return null}function x(E,P,I,N){var D=P!==null?P.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return D!==null?null:l(E,P,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case P0:return I.key===D?u(E,P,I,N):null;case qf:return I.key===D?h(E,P,I,N):null;case Eu:return D=I._init,x(E,P,D(I._payload),N)}if(Lg(I)||vg(I))return D!==null?null:f(E,P,I,N,null);B0(E,I)}return null}function w(E,P,I,N,D){if(typeof N=="string"&&N!==""||typeof N=="number")return E=E.get(I)||null,l(P,E,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case P0:return E=E.get(N.key===null?I:N.key)||null,u(P,E,N,D);case qf:return E=E.get(N.key===null?I:N.key)||null,h(P,E,N,D);case Eu:var L=N._init;return w(E,P,I,L(N._payload),D)}if(Lg(N)||vg(N))return E=E.get(I)||null,f(P,E,N,D,null);B0(P,N)}return null}function S(E,P,I,N){for(var D=null,L=null,R=P,$=P=0,W=null;R!==null&&$<I.length;$++){R.index>$?(W=R,R=null):W=R.sibling;var J=x(E,R,I[$],N);if(J===null){R===null&&(R=W);break}t&&R&&J.alternate===null&&e(E,R),P=o(J,P,$),L===null?D=J:L.sibling=J,L=J,R=W}if($===I.length)return r(E,R),Ri&&Hh(E,$),D;if(R===null){for(;$<I.length;$++)R=m(E,I[$],N),R!==null&&(P=o(R,P,$),L===null?D=R:L.sibling=R,L=R);return Ri&&Hh(E,$),D}for(R=n(E,R);$<I.length;$++)W=w(R,E,$,I[$],N),W!==null&&(t&&W.alternate!==null&&R.delete(W.key===null?$:W.key),P=o(W,P,$),L===null?D=W:L.sibling=W,L=W);return t&&R.forEach(function(q){return e(E,q)}),Ri&&Hh(E,$),D}function C(E,P,I,N){var D=vg(I);if(typeof D!="function")throw Error(It(150));if(I=D.call(I),I==null)throw Error(It(151));for(var L=D=null,R=P,$=P=0,W=null,J=I.next();R!==null&&!J.done;$++,J=I.next()){R.index>$?(W=R,R=null):W=R.sibling;var q=x(E,R,J.value,N);if(q===null){R===null&&(R=W);break}t&&R&&q.alternate===null&&e(E,R),P=o(q,P,$),L===null?D=q:L.sibling=q,L=q,R=W}if(J.done)return r(E,R),Ri&&Hh(E,$),D;if(R===null){for(;!J.done;$++,J=I.next())J=m(E,J.value,N),J!==null&&(P=o(J,P,$),L===null?D=J:L.sibling=J,L=J);return Ri&&Hh(E,$),D}for(R=n(E,R);!J.done;$++,J=I.next())J=w(R,E,$,J.value,N),J!==null&&(t&&J.alternate!==null&&R.delete(J.key===null?$:J.key),P=o(J,P,$),L===null?D=J:L.sibling=J,L=J);return t&&R.forEach(function(ee){return e(E,ee)}),Ri&&Hh(E,$),D}function A(E,P,I,N){if(typeof I=="object"&&I!==null&&I.type===Zf&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case P0:e:{for(var D=I.key,L=P;L!==null;){if(L.key===D){if(D=I.type,D===Zf){if(L.tag===7){r(E,L.sibling),P=i(L,I.props.children),P.return=E,E=P;break e}}else if(L.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Eu&&xM(D)===L.type){r(E,L.sibling),P=i(L,I.props),P.ref=wg(E,L,I),P.return=E,E=P;break e}r(E,L);break}else e(E,L);L=L.sibling}I.type===Zf?(P=ld(I.props.children,E.mode,N,I.key),P.return=E,E=P):(N=Ax(I.type,I.key,I.props,null,E.mode,N),N.ref=wg(E,P,I),N.return=E,E=N)}return a(E);case qf:e:{for(L=I.key;P!==null;){if(P.key===L)if(P.tag===4&&P.stateNode.containerInfo===I.containerInfo&&P.stateNode.implementation===I.implementation){r(E,P.sibling),P=i(P,I.children||[]),P.return=E,E=P;break e}else{r(E,P);break}else e(E,P);P=P.sibling}P=Bw(I,E.mode,N),P.return=E,E=P}return a(E);case Eu:return L=I._init,A(E,P,L(I._payload),N)}if(Lg(I))return S(E,P,I,N);if(vg(I))return C(E,P,I,N);B0(E,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,P!==null&&P.tag===6?(r(E,P.sibling),P=i(P,I),P.return=E,E=P):(r(E,P),P=Fw(I,E.mode,N),P.return=E,E=P),a(E)):r(E,P)}return A}var Ip=sN(!0),lN=sN(!1),f1=uh(null),p1=null,ip=null,Fk=null;function Bk(){Fk=ip=p1=null}function $k(t){var e=f1.current;Ii(f1),t._currentValue=e}function xS(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function gp(t,e){p1=t,Fk=ip=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yo=!0),t.firstContext=null)}function Fs(t){var e=t._currentValue;if(Fk!==t)if(t={context:t,memoizedValue:e,next:null},ip===null){if(p1===null)throw Error(It(308));ip=t,p1.dependencies={lanes:0,firstContext:t}}else ip=ip.next=t;return e}var Kh=null;function Hk(t){Kh===null?Kh=[t]:Kh.push(t)}function cN(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Hk(e)):(r.next=i.next,i.next=r),e.interleaved=r,Hc(t,n)}function Hc(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Tu=!1;function Uk(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $u(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Dn&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Hc(t,r)}return i=n.interleaved,i===null?(e.next=e,Hk(n)):(e.next=i.next,i.next=e),n.interleaved=e,Hc(t,r)}function wx(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ak(t,r)}}function bM(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function m1(t,e,r,n){var i=t.updateQueue;Tu=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?o=h:a.next=h,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=u))}if(o!==null){var m=i.baseState;a=0,f=h=u=null,l=o;do{var x=l.lane,w=l.eventTime;if((n&x)===x){f!==null&&(f=f.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,C=l;switch(x=e,w=r,C.tag){case 1:if(S=C.payload,typeof S=="function"){m=S.call(w,m,x);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=C.payload,x=typeof S=="function"?S.call(w,m,x):S,x==null)break e;m=Yi({},m,x);break e;case 2:Tu=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,x=i.effects,x===null?i.effects=[l]:x.push(l))}else w={eventTime:w,lane:x,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=w,u=m):f=f.next=w,a|=x;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;x=l,l=x.next,x.next=null,i.lastBaseUpdate=x,i.shared.pending=null}}while(!0);if(f===null&&(u=m),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);bd|=a,t.lanes=a,t.memoizedState=m}}function _M(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(It(191,i));i.call(n)}}}var Qv={},Wl=uh(Qv),xv=uh(Qv),bv=uh(Qv);function Jh(t){if(t===Qv)throw Error(It(174));return t}function Vk(t,e){switch(wi(bv,e),wi(xv,t),wi(Wl,Qv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Q2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Q2(e,t)}Ii(Wl),wi(Wl,e)}function Op(){Ii(Wl),Ii(xv),Ii(bv)}function hN(t){Jh(bv.current);var e=Jh(Wl.current),r=Q2(e,t.type);e!==r&&(wi(xv,t),wi(Wl,r))}function Wk(t){xv.current===t&&(Ii(Wl),Ii(xv))}var Hi=uh(0);function g1(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dw=[];function Yk(){for(var t=0;t<Dw.length;t++)Dw[t]._workInProgressVersionPrimary=null;Dw.length=0}var Sx=Yc.ReactCurrentDispatcher,Nw=Yc.ReactCurrentBatchConfig,xd=0,Vi=null,Ma=null,za=null,v1=!1,Yg=!1,_v=0,s9=0;function co(){throw Error(It(321))}function Xk(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!pl(t[r],e[r]))return!1;return!0}function Gk(t,e,r,n,i,o){if(xd=o,Vi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sx.current=t===null||t.memoizedState===null?h9:d9,t=r(n,i),Yg){o=0;do{if(Yg=!1,_v=0,25<=o)throw Error(It(301));o+=1,za=Ma=null,e.updateQueue=null,Sx.current=f9,t=r(n,i)}while(Yg)}if(Sx.current=y1,e=Ma!==null&&Ma.next!==null,xd=0,za=Ma=Vi=null,v1=!1,e)throw Error(It(300));return t}function qk(){var t=_v!==0;return _v=0,t}function Ol(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return za===null?Vi.memoizedState=za=t:za=za.next=t,za}function Bs(){if(Ma===null){var t=Vi.alternate;t=t!==null?t.memoizedState:null}else t=Ma.next;var e=za===null?Vi.memoizedState:za.next;if(e!==null)za=e,Ma=t;else{if(t===null)throw Error(It(310));Ma=t,t={memoizedState:Ma.memoizedState,baseState:Ma.baseState,baseQueue:Ma.baseQueue,queue:Ma.queue,next:null},za===null?Vi.memoizedState=za=t:za=za.next=t}return za}function wv(t,e){return typeof e=="function"?e(t):e}function Lw(t){var e=Bs(),r=e.queue;if(r===null)throw Error(It(311));r.lastRenderedReducer=t;var n=Ma,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var l=a=null,u=null,h=o;do{var f=h.lane;if((xd&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var m={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=m,a=n):u=u.next=m,Vi.lanes|=f,bd|=f}h=h.next}while(h!==null&&h!==o);u===null?a=n:u.next=l,pl(n,e.memoizedState)||(Yo=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,Vi.lanes|=o,bd|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Rw(t){var e=Bs(),r=e.queue;if(r===null)throw Error(It(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);pl(o,e.memoizedState)||(Yo=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function dN(){}function fN(t,e){var r=Vi,n=Bs(),i=e(),o=!pl(n.memoizedState,i);if(o&&(n.memoizedState=i,Yo=!0),n=n.queue,Zk(gN.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||za!==null&&za.memoizedState.tag&1){if(r.flags|=2048,Sv(9,mN.bind(null,r,n,i,e),void 0,null),Ba===null)throw Error(It(349));xd&30||pN(r,e,i)}return i}function pN(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Vi.updateQueue,e===null?(e={lastEffect:null,stores:null},Vi.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function mN(t,e,r,n){e.value=r,e.getSnapshot=n,vN(e)&&yN(t)}function gN(t,e,r){return r(function(){vN(e)&&yN(t)})}function vN(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!pl(t,r)}catch{return!0}}function yN(t){var e=Hc(t,1);e!==null&&ul(e,t,1,-1)}function wM(t){var e=Ol();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wv,lastRenderedState:t},e.queue=t,t=t.dispatch=u9.bind(null,Vi,t),[e.memoizedState,t]}function Sv(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Vi.updateQueue,e===null?(e={lastEffect:null,stores:null},Vi.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function xN(){return Bs().memoizedState}function Cx(t,e,r,n){var i=Ol();Vi.flags|=t,i.memoizedState=Sv(1|e,r,void 0,n===void 0?null:n)}function yb(t,e,r,n){var i=Bs();n=n===void 0?null:n;var o=void 0;if(Ma!==null){var a=Ma.memoizedState;if(o=a.destroy,n!==null&&Xk(n,a.deps)){i.memoizedState=Sv(e,r,o,n);return}}Vi.flags|=t,i.memoizedState=Sv(1|e,r,o,n)}function SM(t,e){return Cx(8390656,8,t,e)}function Zk(t,e){return yb(2048,8,t,e)}function bN(t,e){return yb(4,2,t,e)}function _N(t,e){return yb(4,4,t,e)}function wN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function SN(t,e,r){return r=r!=null?r.concat([t]):null,yb(4,4,wN.bind(null,e,t),r)}function Kk(){}function CN(t,e){var r=Bs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Xk(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function kN(t,e){var r=Bs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Xk(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function EN(t,e,r){return xd&21?(pl(r,e)||(r=I5(),Vi.lanes|=r,bd|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yo=!0),t.memoizedState=r)}function l9(t,e){var r=si;si=r!==0&&4>r?r:4,t(!0);var n=Nw.transition;Nw.transition={};try{t(!1),e()}finally{si=r,Nw.transition=n}}function TN(){return Bs().memoizedState}function c9(t,e,r){var n=Uu(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},AN(t))PN(e,r);else if(r=cN(t,e,r,n),r!==null){var i=Do();ul(r,t,n,i),MN(r,e,n)}}function u9(t,e,r){var n=Uu(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(AN(t))PN(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,r);if(i.hasEagerState=!0,i.eagerState=l,pl(l,a)){var u=e.interleaved;u===null?(i.next=i,Hk(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}r=cN(t,e,i,n),r!==null&&(i=Do(),ul(r,t,n,i),MN(r,e,n))}}function AN(t){var e=t.alternate;return t===Vi||e!==null&&e===Vi}function PN(t,e){Yg=v1=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function MN(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ak(t,r)}}var y1={readContext:Fs,useCallback:co,useContext:co,useEffect:co,useImperativeHandle:co,useInsertionEffect:co,useLayoutEffect:co,useMemo:co,useReducer:co,useRef:co,useState:co,useDebugValue:co,useDeferredValue:co,useTransition:co,useMutableSource:co,useSyncExternalStore:co,useId:co,unstable_isNewReconciler:!1},h9={readContext:Fs,useCallback:function(t,e){return Ol().memoizedState=[t,e===void 0?null:e],t},useContext:Fs,useEffect:SM,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Cx(4194308,4,wN.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Cx(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cx(4,2,t,e)},useMemo:function(t,e){var r=Ol();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ol();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=c9.bind(null,Vi,t),[n.memoizedState,t]},useRef:function(t){var e=Ol();return t={current:t},e.memoizedState=t},useState:wM,useDebugValue:Kk,useDeferredValue:function(t){return Ol().memoizedState=t},useTransition:function(){var t=wM(!1),e=t[0];return t=l9.bind(null,t[1]),Ol().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Vi,i=Ol();if(Ri){if(r===void 0)throw Error(It(407));r=r()}else{if(r=e(),Ba===null)throw Error(It(349));xd&30||pN(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,SM(gN.bind(null,n,o,t),[t]),n.flags|=2048,Sv(9,mN.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Ol(),e=Ba.identifierPrefix;if(Ri){var r=Lc,n=Nc;r=(n&~(1<<32-cl(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=_v++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=s9++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},d9={readContext:Fs,useCallback:CN,useContext:Fs,useEffect:Zk,useImperativeHandle:SN,useInsertionEffect:bN,useLayoutEffect:_N,useMemo:kN,useReducer:Lw,useRef:xN,useState:function(){return Lw(wv)},useDebugValue:Kk,useDeferredValue:function(t){var e=Bs();return EN(e,Ma.memoizedState,t)},useTransition:function(){var t=Lw(wv)[0],e=Bs().memoizedState;return[t,e]},useMutableSource:dN,useSyncExternalStore:fN,useId:TN,unstable_isNewReconciler:!1},f9={readContext:Fs,useCallback:CN,useContext:Fs,useEffect:Zk,useImperativeHandle:SN,useInsertionEffect:bN,useLayoutEffect:_N,useMemo:kN,useReducer:Rw,useRef:xN,useState:function(){return Rw(wv)},useDebugValue:Kk,useDeferredValue:function(t){var e=Bs();return Ma===null?e.memoizedState=t:EN(e,Ma.memoizedState,t)},useTransition:function(){var t=Rw(wv)[0],e=Bs().memoizedState;return[t,e]},useMutableSource:dN,useSyncExternalStore:fN,useId:TN,unstable_isNewReconciler:!1};function tl(t,e){if(t&&t.defaultProps){e=Yi({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function bS(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Yi({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var xb={isMounted:function(t){return(t=t._reactInternals)?Id(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Do(),i=Uu(t),o=zc(n,i);o.payload=e,r!=null&&(o.callback=r),e=$u(t,o,i),e!==null&&(ul(e,t,i,n),wx(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Do(),i=Uu(t),o=zc(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=$u(t,o,i),e!==null&&(ul(e,t,i,n),wx(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Do(),n=Uu(t),i=zc(r,n);i.tag=2,e!=null&&(i.callback=e),e=$u(t,i,n),e!==null&&(ul(e,t,n,r),wx(e,t,n))}};function CM(t,e,r,n,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!mv(r,n)||!mv(i,o):!0}function IN(t,e,r){var n=!1,i=Ju,o=e.contextType;return typeof o=="object"&&o!==null?o=Fs(o):(i=qo(e)?vd:go.current,n=e.contextTypes,o=(n=n!=null)?Pp(t,i):Ju),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xb,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function kM(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&xb.enqueueReplaceState(e,e.state,null)}function _S(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Uk(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Fs(o):(o=qo(e)?vd:go.current,i.context=Pp(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(bS(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xb.enqueueReplaceState(i,i.state,null),m1(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Dp(t,e){try{var r="",n=e;do r+=$7(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function jw(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function wS(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var p9=typeof WeakMap=="function"?WeakMap:Map;function ON(t,e,r){r=zc(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){b1||(b1=!0,OS=n),wS(t,e)},r}function DN(t,e,r){r=zc(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){wS(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){wS(t,e),typeof n!="function"&&(Hu===null?Hu=new Set([this]):Hu.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function EM(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new p9;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=A9.bind(null,t,e,r),e.then(t,t))}function TM(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function AM(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=zc(-1,1),e.tag=2,$u(r,e,1))),r.lanes|=1),t)}var m9=Yc.ReactCurrentOwner,Yo=!1;function Ao(t,e,r,n){e.child=t===null?lN(e,null,r,n):Ip(e,t.child,r,n)}function PM(t,e,r,n,i){r=r.render;var o=e.ref;return gp(e,i),n=Gk(t,e,r,n,o,i),r=qk(),t!==null&&!Yo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Uc(t,e,i)):(Ri&&r&&Rk(e),e.flags|=1,Ao(t,e,n,i),e.child)}function MM(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!aE(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,NN(t,e,o,n,i)):(t=Ax(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:mv,r(a,n)&&t.ref===e.ref)return Uc(t,e,i)}return e.flags|=1,t=Vu(o,n),t.ref=e.ref,t.return=e,e.child=t}function NN(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(mv(o,n)&&t.ref===e.ref)if(Yo=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(Yo=!0);else return e.lanes=t.lanes,Uc(t,e,i)}return SS(t,e,r,n,i)}function LN(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wi(op,ls),ls|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,wi(op,ls),ls|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,wi(op,ls),ls|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,wi(op,ls),ls|=n;return Ao(t,e,i,r),e.child}function RN(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function SS(t,e,r,n,i){var o=qo(r)?vd:go.current;return o=Pp(e,o),gp(e,i),r=Gk(t,e,r,n,o,i),n=qk(),t!==null&&!Yo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Uc(t,e,i)):(Ri&&n&&Rk(e),e.flags|=1,Ao(t,e,r,i),e.child)}function IM(t,e,r,n,i){if(qo(r)){var o=!0;u1(e)}else o=!1;if(gp(e,i),e.stateNode===null)kx(t,e),IN(e,r,n),_S(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,h=r.contextType;typeof h=="object"&&h!==null?h=Fs(h):(h=qo(r)?vd:go.current,h=Pp(e,h));var f=r.getDerivedStateFromProps,m=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||u!==h)&&kM(e,a,n,h),Tu=!1;var x=e.memoizedState;a.state=x,m1(e,n,a,i),u=e.memoizedState,l!==n||x!==u||Go.current||Tu?(typeof f=="function"&&(bS(e,r,f,n),u=e.memoizedState),(l=Tu||CM(e,r,l,n,x,u,h))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),a.props=n,a.state=u,a.context=h,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,uN(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:tl(e.type,l),a.props=h,m=e.pendingProps,x=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Fs(u):(u=qo(r)?vd:go.current,u=Pp(e,u));var w=r.getDerivedStateFromProps;(f=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==m||x!==u)&&kM(e,a,n,u),Tu=!1,x=e.memoizedState,a.state=x,m1(e,n,a,i);var S=e.memoizedState;l!==m||x!==S||Go.current||Tu?(typeof w=="function"&&(bS(e,r,w,n),S=e.memoizedState),(h=Tu||CM(e,r,h,n,x,S,u)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,S,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,S,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=S),a.props=n,a.state=S,a.context=u,n=h):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(e.flags|=1024),n=!1)}return CS(t,e,r,n,o,i)}function CS(t,e,r,n,i,o){RN(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&gM(e,r,!1),Uc(t,e,o);n=e.stateNode,m9.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Ip(e,t.child,null,o),e.child=Ip(e,null,l,o)):Ao(t,e,l,o),e.memoizedState=n.state,i&&gM(e,r,!0),e.child}function jN(t){var e=t.stateNode;e.pendingContext?mM(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mM(t,e.context,!1),Vk(t,e.containerInfo)}function OM(t,e,r,n,i){return Mp(),zk(i),e.flags|=256,Ao(t,e,r,n),e.child}var kS={dehydrated:null,treeContext:null,retryLane:0};function ES(t){return{baseLanes:t,cachePool:null,transitions:null}}function zN(t,e,r){var n=e.pendingProps,i=Hi.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),wi(Hi,i&1),t===null)return yS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,o?(n=e.mode,o=e.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=wb(a,n,0,null),t=ld(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ES(r),e.memoizedState=kS,t):Jk(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return g9(t,e,a,n,l,i,r);if(o){o=n.fallback,a=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Vu(i,u),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Vu(l,o):(o=ld(o,a,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,a=t.child.memoizedState,a=a===null?ES(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~r,e.memoizedState=kS,n}return o=t.child,t=o.sibling,n=Vu(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Jk(t,e){return e=wb({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $0(t,e,r,n){return n!==null&&zk(n),Ip(e,t.child,null,r),t=Jk(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function g9(t,e,r,n,i,o,a){if(r)return e.flags&256?(e.flags&=-257,n=jw(Error(It(422))),$0(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=wb({mode:"visible",children:n.children},i,0,null),o=ld(o,i,a,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&Ip(e,t.child,null,a),e.child.memoizedState=ES(a),e.memoizedState=kS,o);if(!(e.mode&1))return $0(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(It(419)),n=jw(o,n,void 0),$0(t,e,a,n)}if(l=(a&t.childLanes)!==0,Yo||l){if(n=Ba,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Hc(t,i),ul(n,t,i,-1))}return iE(),n=jw(Error(It(421))),$0(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=P9.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,us=Bu(i.nextSibling),ds=e,Ri=!0,al=null,t!==null&&(Is[Os++]=Nc,Is[Os++]=Lc,Is[Os++]=yd,Nc=t.id,Lc=t.overflow,yd=e),e=Jk(e,n.children),e.flags|=4096,e)}function DM(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),xS(t.return,e,r)}function zw(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function FN(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(Ao(t,e,n.children,r),n=Hi.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&DM(t,r,e);else if(t.tag===19)DM(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(wi(Hi,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&g1(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),zw(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&g1(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}zw(e,!0,r,null,o);break;case"together":zw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kx(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Uc(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),bd|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(It(153));if(e.child!==null){for(t=e.child,r=Vu(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Vu(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function v9(t,e,r){switch(e.tag){case 3:jN(e),Mp();break;case 5:hN(e);break;case 1:qo(e.type)&&u1(e);break;case 4:Vk(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;wi(f1,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(wi(Hi,Hi.current&1),e.flags|=128,null):r&e.child.childLanes?zN(t,e,r):(wi(Hi,Hi.current&1),t=Uc(t,e,r),t!==null?t.sibling:null);wi(Hi,Hi.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return FN(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wi(Hi,Hi.current),n)break;return null;case 22:case 23:return e.lanes=0,LN(t,e,r)}return Uc(t,e,r)}var BN,TS,$N,HN;BN=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};TS=function(){};$N=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Jh(Wl.current);var o=null;switch(r){case"input":i=q2(t,i),n=q2(t,n),o=[];break;case"select":i=Yi({},i,{value:void 0}),n=Yi({},n,{value:void 0}),o=[];break;case"textarea":i=J2(t,i),n=J2(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=l1)}eS(r,n);var a;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(lv.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in n){var u=n[h];if(l=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(o||(o=[]),o.push(h,r)),r=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(lv.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&Ai("scroll",t),o||l===u||(o=[])):(o=o||[]).push(h,u))}r&&(o=o||[]).push("style",r);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};HN=function(t,e,r,n){r!==n&&(e.flags|=4)};function Sg(t,e){if(!Ri)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function uo(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function y9(t,e,r){var n=e.pendingProps;switch(jk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return uo(e),null;case 1:return qo(e.type)&&c1(),uo(e),null;case 3:return n=e.stateNode,Op(),Ii(Go),Ii(go),Yk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(F0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,al!==null&&(LS(al),al=null))),TS(t,e),uo(e),null;case 5:Wk(e);var i=Jh(bv.current);if(r=e.type,t!==null&&e.stateNode!=null)$N(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(It(166));return uo(e),null}if(t=Jh(Wl.current),F0(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[jl]=e,n[yv]=o,t=(e.mode&1)!==0,r){case"dialog":Ai("cancel",n),Ai("close",n);break;case"iframe":case"object":case"embed":Ai("load",n);break;case"video":case"audio":for(i=0;i<jg.length;i++)Ai(jg[i],n);break;case"source":Ai("error",n);break;case"img":case"image":case"link":Ai("error",n),Ai("load",n);break;case"details":Ai("toggle",n);break;case"input":HP(n,o),Ai("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ai("invalid",n);break;case"textarea":VP(n,o),Ai("invalid",n)}eS(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&z0(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&z0(n.textContent,l,t),i=["children",""+l]):lv.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ai("scroll",n)}switch(r){case"input":M0(n),UP(n,o,!0);break;case"textarea":M0(n),WP(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=l1)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=g5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[jl]=e,t[yv]=n,BN(t,e,!1,!1),e.stateNode=t;e:{switch(a=tS(r,n),r){case"dialog":Ai("cancel",t),Ai("close",t),i=n;break;case"iframe":case"object":case"embed":Ai("load",t),i=n;break;case"video":case"audio":for(i=0;i<jg.length;i++)Ai(jg[i],t);i=n;break;case"source":Ai("error",t),i=n;break;case"img":case"image":case"link":Ai("error",t),Ai("load",t),i=n;break;case"details":Ai("toggle",t),i=n;break;case"input":HP(t,n),i=q2(t,n),Ai("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Yi({},n,{value:void 0}),Ai("invalid",t);break;case"textarea":VP(t,n),i=J2(t,n),Ai("invalid",t);break;default:i=n}eS(r,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?x5(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&v5(t,u)):o==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&cv(t,u):typeof u=="number"&&cv(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(lv.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ai("scroll",t):u!=null&&wk(t,o,u,a))}switch(r){case"input":M0(t),UP(t,n,!1);break;case"textarea":M0(t),WP(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ku(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?dp(t,!!n.multiple,o,!1):n.defaultValue!=null&&dp(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=l1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return uo(e),null;case 6:if(t&&e.stateNode!=null)HN(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(It(166));if(r=Jh(bv.current),Jh(Wl.current),F0(e)){if(n=e.stateNode,r=e.memoizedProps,n[jl]=e,(o=n.nodeValue!==r)&&(t=ds,t!==null))switch(t.tag){case 3:z0(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&z0(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[jl]=e,e.stateNode=n}return uo(e),null;case 13:if(Ii(Hi),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ri&&us!==null&&e.mode&1&&!(e.flags&128))oN(),Mp(),e.flags|=98560,o=!1;else if(o=F0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(It(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(It(317));o[jl]=e}else Mp(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;uo(e),o=!1}else al!==null&&(LS(al),al=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Hi.current&1?Ia===0&&(Ia=3):iE())),e.updateQueue!==null&&(e.flags|=4),uo(e),null);case 4:return Op(),TS(t,e),t===null&&gv(e.stateNode.containerInfo),uo(e),null;case 10:return $k(e.type._context),uo(e),null;case 17:return qo(e.type)&&c1(),uo(e),null;case 19:if(Ii(Hi),o=e.memoizedState,o===null)return uo(e),null;if(n=(e.flags&128)!==0,a=o.rendering,a===null)if(n)Sg(o,!1);else{if(Ia!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=g1(t),a!==null){for(e.flags|=128,Sg(o,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return wi(Hi,Hi.current&1|2),e.child}t=t.sibling}o.tail!==null&&ca()>Np&&(e.flags|=128,n=!0,Sg(o,!1),e.lanes=4194304)}else{if(!n)if(t=g1(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Sg(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ri)return uo(e),null}else 2*ca()-o.renderingStartTime>Np&&r!==1073741824&&(e.flags|=128,n=!0,Sg(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ca(),e.sibling=null,r=Hi.current,wi(Hi,n?r&1|2:r&1),e):(uo(e),null);case 22:case 23:return nE(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ls&1073741824&&(uo(e),e.subtreeFlags&6&&(e.flags|=8192)):uo(e),null;case 24:return null;case 25:return null}throw Error(It(156,e.tag))}function x9(t,e){switch(jk(e),e.tag){case 1:return qo(e.type)&&c1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Op(),Ii(Go),Ii(go),Yk(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wk(e),null;case 13:if(Ii(Hi),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(It(340));Mp()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ii(Hi),null;case 4:return Op(),null;case 10:return $k(e.type._context),null;case 22:case 23:return nE(),null;case 24:return null;default:return null}}var H0=!1,po=!1,b9=typeof WeakSet=="function"?WeakSet:Set,or=null;function ap(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ki(t,e,n)}else r.current=null}function AS(t,e,r){try{r()}catch(n){Ki(t,e,n)}}var NM=!1;function _9(t,e){if(hS=a1,t=X5(),Lk(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,u=-1,h=0,f=0,m=t,x=null;t:for(;;){for(var w;m!==r||i!==0&&m.nodeType!==3||(l=a+i),m!==o||n!==0&&m.nodeType!==3||(u=a+n),m.nodeType===3&&(a+=m.nodeValue.length),(w=m.firstChild)!==null;)x=m,m=w;for(;;){if(m===t)break t;if(x===r&&++h===i&&(l=a),x===o&&++f===n&&(u=a),(w=m.nextSibling)!==null)break;m=x,x=m.parentNode}m=w}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(dS={focusedElem:t,selectionRange:r},a1=!1,or=e;or!==null;)if(e=or,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,or=t;else for(;or!==null;){e=or;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var C=S.memoizedProps,A=S.memoizedState,E=e.stateNode,P=E.getSnapshotBeforeUpdate(e.elementType===e.type?C:tl(e.type,C),A);E.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(It(163))}}catch(N){Ki(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,or=t;break}or=e.return}return S=NM,NM=!1,S}function Xg(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&AS(e,r,o)}i=i.next}while(i!==n)}}function bb(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function PS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function UN(t){var e=t.alternate;e!==null&&(t.alternate=null,UN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jl],delete e[yv],delete e[mS],delete e[n9],delete e[i9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function VN(t){return t.tag===5||t.tag===3||t.tag===4}function LM(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||VN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function MS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=l1));else if(n!==4&&(t=t.child,t!==null))for(MS(t,e,r),t=t.sibling;t!==null;)MS(t,e,r),t=t.sibling}function IS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(IS(t,e,r),t=t.sibling;t!==null;)IS(t,e,r),t=t.sibling}var Wa=null,nl=!1;function xu(t,e,r){for(r=r.child;r!==null;)WN(t,e,r),r=r.sibling}function WN(t,e,r){if(Vl&&typeof Vl.onCommitFiberUnmount=="function")try{Vl.onCommitFiberUnmount(db,r)}catch{}switch(r.tag){case 5:po||ap(r,e);case 6:var n=Wa,i=nl;Wa=null,xu(t,e,r),Wa=n,nl=i,Wa!==null&&(nl?(t=Wa,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Wa.removeChild(r.stateNode));break;case 18:Wa!==null&&(nl?(t=Wa,r=r.stateNode,t.nodeType===8?Iw(t.parentNode,r):t.nodeType===1&&Iw(t,r),fv(t)):Iw(Wa,r.stateNode));break;case 4:n=Wa,i=nl,Wa=r.stateNode.containerInfo,nl=!0,xu(t,e,r),Wa=n,nl=i;break;case 0:case 11:case 14:case 15:if(!po&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&AS(r,e,a),i=i.next}while(i!==n)}xu(t,e,r);break;case 1:if(!po&&(ap(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ki(r,e,l)}xu(t,e,r);break;case 21:xu(t,e,r);break;case 22:r.mode&1?(po=(n=po)||r.memoizedState!==null,xu(t,e,r),po=n):xu(t,e,r);break;default:xu(t,e,r)}}function RM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new b9),e.forEach(function(n){var i=M9.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Qs(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Wa=l.stateNode,nl=!1;break e;case 3:Wa=l.stateNode.containerInfo,nl=!0;break e;case 4:Wa=l.stateNode.containerInfo,nl=!0;break e}l=l.return}if(Wa===null)throw Error(It(160));WN(o,a,i),Wa=null,nl=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Ki(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YN(e,t),e=e.sibling}function YN(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qs(e,t),Pl(t),n&4){try{Xg(3,t,t.return),bb(3,t)}catch(C){Ki(t,t.return,C)}try{Xg(5,t,t.return)}catch(C){Ki(t,t.return,C)}}break;case 1:Qs(e,t),Pl(t),n&512&&r!==null&&ap(r,r.return);break;case 5:if(Qs(e,t),Pl(t),n&512&&r!==null&&ap(r,r.return),t.flags&32){var i=t.stateNode;try{cv(i,"")}catch(C){Ki(t,t.return,C)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=r!==null?r.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&p5(i,o),tS(l,a);var h=tS(l,o);for(a=0;a<u.length;a+=2){var f=u[a],m=u[a+1];f==="style"?x5(i,m):f==="dangerouslySetInnerHTML"?v5(i,m):f==="children"?cv(i,m):wk(i,f,m,h)}switch(l){case"input":Z2(i,o);break;case"textarea":m5(i,o);break;case"select":var x=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var w=o.value;w!=null?dp(i,!!o.multiple,w,!1):x!==!!o.multiple&&(o.defaultValue!=null?dp(i,!!o.multiple,o.defaultValue,!0):dp(i,!!o.multiple,o.multiple?[]:"",!1))}i[yv]=o}catch(C){Ki(t,t.return,C)}}break;case 6:if(Qs(e,t),Pl(t),n&4){if(t.stateNode===null)throw Error(It(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(C){Ki(t,t.return,C)}}break;case 3:if(Qs(e,t),Pl(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fv(e.containerInfo)}catch(C){Ki(t,t.return,C)}break;case 4:Qs(e,t),Pl(t);break;case 13:Qs(e,t),Pl(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(tE=ca())),n&4&&RM(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(po=(h=po)||f,Qs(e,t),po=h):Qs(e,t),Pl(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(or=t,f=t.child;f!==null;){for(m=or=f;or!==null;){switch(x=or,w=x.child,x.tag){case 0:case 11:case 14:case 15:Xg(4,x,x.return);break;case 1:ap(x,x.return);var S=x.stateNode;if(typeof S.componentWillUnmount=="function"){n=x,r=x.return;try{e=n,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(C){Ki(n,r,C)}}break;case 5:ap(x,x.return);break;case 22:if(x.memoizedState!==null){zM(m);continue}}w!==null?(w.return=x,or=w):zM(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,u=m.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=y5("display",a))}catch(C){Ki(t,t.return,C)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(C){Ki(t,t.return,C)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Qs(e,t),Pl(t),n&4&&RM(t);break;case 21:break;default:Qs(e,t),Pl(t)}}function Pl(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(VN(r)){var n=r;break e}r=r.return}throw Error(It(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(cv(i,""),n.flags&=-33);var o=LM(t);IS(t,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=LM(t);MS(t,l,a);break;default:throw Error(It(161))}}catch(u){Ki(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function w9(t,e,r){or=t,XN(t)}function XN(t,e,r){for(var n=(t.mode&1)!==0;or!==null;){var i=or,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||H0;if(!a){var l=i.alternate,u=l!==null&&l.memoizedState!==null||po;l=H0;var h=po;if(H0=a,(po=u)&&!h)for(or=i;or!==null;)a=or,u=a.child,a.tag===22&&a.memoizedState!==null?FM(i):u!==null?(u.return=a,or=u):FM(i);for(;o!==null;)or=o,XN(o),o=o.sibling;or=i,H0=l,po=h}jM(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,or=o):jM(t)}}function jM(t){for(;or!==null;){var e=or;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:po||bb(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!po)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:tl(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&_M(e,o,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}_M(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&fv(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(It(163))}po||e.flags&512&&PS(e)}catch(x){Ki(e,e.return,x)}}if(e===t){or=null;break}if(r=e.sibling,r!==null){r.return=e.return,or=r;break}or=e.return}}function zM(t){for(;or!==null;){var e=or;if(e===t){or=null;break}var r=e.sibling;if(r!==null){r.return=e.return,or=r;break}or=e.return}}function FM(t){for(;or!==null;){var e=or;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{bb(4,e)}catch(u){Ki(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(u){Ki(e,i,u)}}var o=e.return;try{PS(e)}catch(u){Ki(e,o,u)}break;case 5:var a=e.return;try{PS(e)}catch(u){Ki(e,a,u)}}}catch(u){Ki(e,e.return,u)}if(e===t){or=null;break}var l=e.sibling;if(l!==null){l.return=e.return,or=l;break}or=e.return}}var S9=Math.ceil,x1=Yc.ReactCurrentDispatcher,Qk=Yc.ReactCurrentOwner,js=Yc.ReactCurrentBatchConfig,Dn=0,Ba=null,wa=null,Ga=0,ls=0,op=uh(0),Ia=0,Cv=null,bd=0,_b=0,eE=0,Gg=null,Wo=null,tE=0,Np=1/0,Pc=null,b1=!1,OS=null,Hu=null,U0=!1,Ou=null,_1=0,qg=0,DS=null,Ex=-1,Tx=0;function Do(){return Dn&6?ca():Ex!==-1?Ex:Ex=ca()}function Uu(t){return t.mode&1?Dn&2&&Ga!==0?Ga&-Ga:o9.transition!==null?(Tx===0&&(Tx=I5()),Tx):(t=si,t!==0||(t=window.event,t=t===void 0?16:z5(t.type)),t):1}function ul(t,e,r,n){if(50<qg)throw qg=0,DS=null,Error(It(185));Zv(t,r,n),(!(Dn&2)||t!==Ba)&&(t===Ba&&(!(Dn&2)&&(_b|=r),Ia===4&&Pu(t,Ga)),Zo(t,n),r===1&&Dn===0&&!(e.mode&1)&&(Np=ca()+500,vb&&hh()))}function Zo(t,e){var r=t.callbackNode;o$(t,e);var n=i1(t,t===Ba?Ga:0);if(n===0)r!==null&&GP(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&GP(r),e===1)t.tag===0?a9(BM.bind(null,t)):nN(BM.bind(null,t)),t9(function(){!(Dn&6)&&hh()}),r=null;else{switch(O5(n)){case 1:r=Tk;break;case 4:r=P5;break;case 16:r=n1;break;case 536870912:r=M5;break;default:r=n1}r=tL(r,GN.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function GN(t,e){if(Ex=-1,Tx=0,Dn&6)throw Error(It(327));var r=t.callbackNode;if(vp()&&t.callbackNode!==r)return null;var n=i1(t,t===Ba?Ga:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=w1(t,n);else{e=n;var i=Dn;Dn|=2;var o=ZN();(Ba!==t||Ga!==e)&&(Pc=null,Np=ca()+500,sd(t,e));do try{E9();break}catch(l){qN(t,l)}while(!0);Bk(),x1.current=o,Dn=i,wa!==null?e=0:(Ba=null,Ga=0,e=Ia)}if(e!==0){if(e===2&&(i=oS(t),i!==0&&(n=i,e=NS(t,i))),e===1)throw r=Cv,sd(t,0),Pu(t,n),Zo(t,ca()),r;if(e===6)Pu(t,n);else{if(i=t.current.alternate,!(n&30)&&!C9(i)&&(e=w1(t,n),e===2&&(o=oS(t),o!==0&&(n=o,e=NS(t,o))),e===1))throw r=Cv,sd(t,0),Pu(t,n),Zo(t,ca()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(It(345));case 2:Uh(t,Wo,Pc);break;case 3:if(Pu(t,n),(n&130023424)===n&&(e=tE+500-ca(),10<e)){if(i1(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Do(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=pS(Uh.bind(null,t,Wo,Pc),e);break}Uh(t,Wo,Pc);break;case 4:if(Pu(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-cl(n);o=1<<a,a=e[a],a>i&&(i=a),n&=~o}if(n=i,n=ca()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*S9(n/1960))-n,10<n){t.timeoutHandle=pS(Uh.bind(null,t,Wo,Pc),n);break}Uh(t,Wo,Pc);break;case 5:Uh(t,Wo,Pc);break;default:throw Error(It(329))}}}return Zo(t,ca()),t.callbackNode===r?GN.bind(null,t):null}function NS(t,e){var r=Gg;return t.current.memoizedState.isDehydrated&&(sd(t,e).flags|=256),t=w1(t,e),t!==2&&(e=Wo,Wo=r,e!==null&&LS(e)),t}function LS(t){Wo===null?Wo=t:Wo.push.apply(Wo,t)}function C9(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!pl(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pu(t,e){for(e&=~eE,e&=~_b,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-cl(e),n=1<<r;t[r]=-1,e&=~n}}function BM(t){if(Dn&6)throw Error(It(327));vp();var e=i1(t,0);if(!(e&1))return Zo(t,ca()),null;var r=w1(t,e);if(t.tag!==0&&r===2){var n=oS(t);n!==0&&(e=n,r=NS(t,n))}if(r===1)throw r=Cv,sd(t,0),Pu(t,e),Zo(t,ca()),r;if(r===6)throw Error(It(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Uh(t,Wo,Pc),Zo(t,ca()),null}function rE(t,e){var r=Dn;Dn|=1;try{return t(e)}finally{Dn=r,Dn===0&&(Np=ca()+500,vb&&hh())}}function _d(t){Ou!==null&&Ou.tag===0&&!(Dn&6)&&vp();var e=Dn;Dn|=1;var r=js.transition,n=si;try{if(js.transition=null,si=1,t)return t()}finally{si=n,js.transition=r,Dn=e,!(Dn&6)&&hh()}}function nE(){ls=op.current,Ii(op)}function sd(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,e9(r)),wa!==null)for(r=wa.return;r!==null;){var n=r;switch(jk(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&c1();break;case 3:Op(),Ii(Go),Ii(go),Yk();break;case 5:Wk(n);break;case 4:Op();break;case 13:Ii(Hi);break;case 19:Ii(Hi);break;case 10:$k(n.type._context);break;case 22:case 23:nE()}r=r.return}if(Ba=t,wa=t=Vu(t.current,null),Ga=ls=e,Ia=0,Cv=null,eE=_b=bd=0,Wo=Gg=null,Kh!==null){for(e=0;e<Kh.length;e++)if(r=Kh[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}Kh=null}return t}function qN(t,e){do{var r=wa;try{if(Bk(),Sx.current=y1,v1){for(var n=Vi.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}v1=!1}if(xd=0,za=Ma=Vi=null,Yg=!1,_v=0,Qk.current=null,r===null||r.return===null){Ia=1,Cv=e,wa=null;break}e:{var o=t,a=r.return,l=r,u=e;if(e=Ga,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var x=f.alternate;x?(f.updateQueue=x.updateQueue,f.memoizedState=x.memoizedState,f.lanes=x.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=TM(a);if(w!==null){w.flags&=-257,AM(w,a,l,o,e),w.mode&1&&EM(o,h,e),e=w,u=h;var S=e.updateQueue;if(S===null){var C=new Set;C.add(u),e.updateQueue=C}else S.add(u);break e}else{if(!(e&1)){EM(o,h,e),iE();break e}u=Error(It(426))}}else if(Ri&&l.mode&1){var A=TM(a);if(A!==null){!(A.flags&65536)&&(A.flags|=256),AM(A,a,l,o,e),zk(Dp(u,l));break e}}o=u=Dp(u,l),Ia!==4&&(Ia=2),Gg===null?Gg=[o]:Gg.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var E=ON(o,u,e);bM(o,E);break e;case 1:l=u;var P=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof P.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Hu===null||!Hu.has(I)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=DN(o,l,e);bM(o,N);break e}}o=o.return}while(o!==null)}JN(r)}catch(D){e=D,wa===r&&r!==null&&(wa=r=r.return);continue}break}while(!0)}function ZN(){var t=x1.current;return x1.current=y1,t===null?y1:t}function iE(){(Ia===0||Ia===3||Ia===2)&&(Ia=4),Ba===null||!(bd&268435455)&&!(_b&268435455)||Pu(Ba,Ga)}function w1(t,e){var r=Dn;Dn|=2;var n=ZN();(Ba!==t||Ga!==e)&&(Pc=null,sd(t,e));do try{k9();break}catch(i){qN(t,i)}while(!0);if(Bk(),Dn=r,x1.current=n,wa!==null)throw Error(It(261));return Ba=null,Ga=0,Ia}function k9(){for(;wa!==null;)KN(wa)}function E9(){for(;wa!==null&&!K7();)KN(wa)}function KN(t){var e=eL(t.alternate,t,ls);t.memoizedProps=t.pendingProps,e===null?JN(t):wa=e,Qk.current=null}function JN(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=x9(r,e),r!==null){r.flags&=32767,wa=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ia=6,wa=null;return}}else if(r=y9(r,e,ls),r!==null){wa=r;return}if(e=e.sibling,e!==null){wa=e;return}wa=e=t}while(e!==null);Ia===0&&(Ia=5)}function Uh(t,e,r){var n=si,i=js.transition;try{js.transition=null,si=1,T9(t,e,r,n)}finally{js.transition=i,si=n}return null}function T9(t,e,r,n){do vp();while(Ou!==null);if(Dn&6)throw Error(It(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(It(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(s$(t,o),t===Ba&&(wa=Ba=null,Ga=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||U0||(U0=!0,tL(n1,function(){return vp(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=js.transition,js.transition=null;var a=si;si=1;var l=Dn;Dn|=4,Qk.current=null,_9(t,r),YN(r,t),X$(dS),a1=!!hS,dS=hS=null,t.current=r,w9(r),J7(),Dn=l,si=a,js.transition=o}else t.current=r;if(U0&&(U0=!1,Ou=t,_1=i),o=t.pendingLanes,o===0&&(Hu=null),t$(r.stateNode),Zo(t,ca()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(b1)throw b1=!1,t=OS,OS=null,t;return _1&1&&t.tag!==0&&vp(),o=t.pendingLanes,o&1?t===DS?qg++:(qg=0,DS=t):qg=0,hh(),null}function vp(){if(Ou!==null){var t=O5(_1),e=js.transition,r=si;try{if(js.transition=null,si=16>t?16:t,Ou===null)var n=!1;else{if(t=Ou,Ou=null,_1=0,Dn&6)throw Error(It(331));var i=Dn;for(Dn|=4,or=t.current;or!==null;){var o=or,a=o.child;if(or.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(or=h;or!==null;){var f=or;switch(f.tag){case 0:case 11:case 15:Xg(8,f,o)}var m=f.child;if(m!==null)m.return=f,or=m;else for(;or!==null;){f=or;var x=f.sibling,w=f.return;if(UN(f),f===h){or=null;break}if(x!==null){x.return=w,or=x;break}or=w}}}var S=o.alternate;if(S!==null){var C=S.child;if(C!==null){S.child=null;do{var A=C.sibling;C.sibling=null,C=A}while(C!==null)}}or=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,or=a;else e:for(;or!==null;){if(o=or,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Xg(9,o,o.return)}var E=o.sibling;if(E!==null){E.return=o.return,or=E;break e}or=o.return}}var P=t.current;for(or=P;or!==null;){a=or;var I=a.child;if(a.subtreeFlags&2064&&I!==null)I.return=a,or=I;else e:for(a=P;or!==null;){if(l=or,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bb(9,l)}}catch(D){Ki(l,l.return,D)}if(l===a){or=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,or=N;break e}or=l.return}}if(Dn=i,hh(),Vl&&typeof Vl.onPostCommitFiberRoot=="function")try{Vl.onPostCommitFiberRoot(db,t)}catch{}n=!0}return n}finally{si=r,js.transition=e}}return!1}function $M(t,e,r){e=Dp(r,e),e=ON(t,e,1),t=$u(t,e,1),e=Do(),t!==null&&(Zv(t,1,e),Zo(t,e))}function Ki(t,e,r){if(t.tag===3)$M(t,t,r);else for(;e!==null;){if(e.tag===3){$M(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Hu===null||!Hu.has(n))){t=Dp(r,t),t=DN(e,t,1),e=$u(e,t,1),t=Do(),e!==null&&(Zv(e,1,t),Zo(e,t));break}}e=e.return}}function A9(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Do(),t.pingedLanes|=t.suspendedLanes&r,Ba===t&&(Ga&r)===r&&(Ia===4||Ia===3&&(Ga&130023424)===Ga&&500>ca()-tE?sd(t,0):eE|=r),Zo(t,e)}function QN(t,e){e===0&&(t.mode&1?(e=D0,D0<<=1,!(D0&130023424)&&(D0=4194304)):e=1);var r=Do();t=Hc(t,e),t!==null&&(Zv(t,e,r),Zo(t,r))}function P9(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),QN(t,r)}function M9(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(It(314))}n!==null&&n.delete(e),QN(t,r)}var eL;eL=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Go.current)Yo=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Yo=!1,v9(t,e,r);Yo=!!(t.flags&131072)}else Yo=!1,Ri&&e.flags&1048576&&iN(e,d1,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;kx(t,e),t=e.pendingProps;var i=Pp(e,go.current);gp(e,r),i=Gk(null,e,n,t,i,r);var o=qk();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qo(n)?(o=!0,u1(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Uk(e),i.updater=xb,e.stateNode=i,i._reactInternals=e,_S(e,n,t,r),e=CS(null,e,n,!0,o,r)):(e.tag=0,Ri&&o&&Rk(e),Ao(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(kx(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=O9(n),t=tl(n,t),i){case 0:e=SS(null,e,n,t,r);break e;case 1:e=IM(null,e,n,t,r);break e;case 11:e=PM(null,e,n,t,r);break e;case 14:e=MM(null,e,n,tl(n.type,t),r);break e}throw Error(It(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:tl(n,i),SS(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:tl(n,i),IM(t,e,n,i,r);case 3:e:{if(jN(e),t===null)throw Error(It(387));n=e.pendingProps,o=e.memoizedState,i=o.element,uN(t,e),m1(e,n,null,r);var a=e.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Dp(Error(It(423)),e),e=OM(t,e,n,r,i);break e}else if(n!==i){i=Dp(Error(It(424)),e),e=OM(t,e,n,r,i);break e}else for(us=Bu(e.stateNode.containerInfo.firstChild),ds=e,Ri=!0,al=null,r=lN(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Mp(),n===i){e=Uc(t,e,r);break e}Ao(t,e,n,r)}e=e.child}return e;case 5:return hN(e),t===null&&yS(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,fS(n,i)?a=null:o!==null&&fS(n,o)&&(e.flags|=32),RN(t,e),Ao(t,e,a,r),e.child;case 6:return t===null&&yS(e),null;case 13:return zN(t,e,r);case 4:return Vk(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ip(e,null,n,r):Ao(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:tl(n,i),PM(t,e,n,i,r);case 7:return Ao(t,e,e.pendingProps,r),e.child;case 8:return Ao(t,e,e.pendingProps.children,r),e.child;case 12:return Ao(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,wi(f1,n._currentValue),n._currentValue=a,o!==null)if(pl(o.value,a)){if(o.children===i.children&&!Go.current){e=Uc(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(o.tag===1){u=zc(-1,r&-r),u.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}o.lanes|=r,u=o.alternate,u!==null&&(u.lanes|=r),xS(o.return,r,e),l.lanes|=r;break}u=u.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(It(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),xS(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ao(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,gp(e,r),i=Fs(i),n=n(i),e.flags|=1,Ao(t,e,n,r),e.child;case 14:return n=e.type,i=tl(n,e.pendingProps),i=tl(n.type,i),MM(t,e,n,i,r);case 15:return NN(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:tl(n,i),kx(t,e),e.tag=1,qo(n)?(t=!0,u1(e)):t=!1,gp(e,r),IN(e,n,i),_S(e,n,i,r),CS(null,e,n,!0,t,r);case 19:return FN(t,e,r);case 22:return LN(t,e,r)}throw Error(It(156,e.tag))};function tL(t,e){return A5(t,e)}function I9(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ls(t,e,r,n){return new I9(t,e,r,n)}function aE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function O9(t){if(typeof t=="function")return aE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ck)return 11;if(t===kk)return 14}return 2}function Vu(t,e){var r=t.alternate;return r===null?(r=Ls(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ax(t,e,r,n,i,o){var a=2;if(n=t,typeof t=="function")aE(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Zf:return ld(r.children,i,o,e);case Sk:a=8,i|=8;break;case W2:return t=Ls(12,r,e,i|2),t.elementType=W2,t.lanes=o,t;case Y2:return t=Ls(13,r,e,i),t.elementType=Y2,t.lanes=o,t;case X2:return t=Ls(19,r,e,i),t.elementType=X2,t.lanes=o,t;case h5:return wb(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case c5:a=10;break e;case u5:a=9;break e;case Ck:a=11;break e;case kk:a=14;break e;case Eu:a=16,n=null;break e}throw Error(It(130,t==null?t:typeof t,""))}return e=Ls(a,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function ld(t,e,r,n){return t=Ls(7,t,n,e),t.lanes=r,t}function wb(t,e,r,n){return t=Ls(22,t,n,e),t.elementType=h5,t.lanes=r,t.stateNode={isHidden:!1},t}function Fw(t,e,r){return t=Ls(6,t,null,e),t.lanes=r,t}function Bw(t,e,r){return e=Ls(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function D9(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bw(0),this.expirationTimes=bw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bw(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function oE(t,e,r,n,i,o,a,l,u){return t=new D9(t,e,r,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ls(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uk(o),t}function N9(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qf,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function rL(t){if(!t)return Ju;t=t._reactInternals;e:{if(Id(t)!==t||t.tag!==1)throw Error(It(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(It(171))}if(t.tag===1){var r=t.type;if(qo(r))return rN(t,r,e)}return e}function nL(t,e,r,n,i,o,a,l,u){return t=oE(r,n,!0,t,i,o,a,l,u),t.context=rL(null),r=t.current,n=Do(),i=Uu(r),o=zc(n,i),o.callback=e??null,$u(r,o,i),t.current.lanes=i,Zv(t,i,n),Zo(t,n),t}function Sb(t,e,r,n){var i=e.current,o=Do(),a=Uu(i);return r=rL(r),e.context===null?e.context=r:e.pendingContext=r,e=zc(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=$u(i,e,a),t!==null&&(ul(t,i,a,o),wx(t,i,a)),a}function S1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function HM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function sE(t,e){HM(t,e),(t=t.alternate)&&HM(t,e)}function L9(){return null}var iL=typeof reportError=="function"?reportError:function(t){console.error(t)};function lE(t){this._internalRoot=t}Cb.prototype.render=lE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(It(409));Sb(t,e,null,null)};Cb.prototype.unmount=lE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_d(function(){Sb(null,t,null,null)}),e[$c]=null}};function Cb(t){this._internalRoot=t}Cb.prototype.unstable_scheduleHydration=function(t){if(t){var e=L5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Au.length&&e!==0&&e<Au[r].priority;r++);Au.splice(r,0,t),r===0&&j5(t)}};function cE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function UM(){}function R9(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var h=S1(a);o.call(h)}}var a=nL(e,n,t,0,null,!1,!1,"",UM);return t._reactRootContainer=a,t[$c]=a.current,gv(t.nodeType===8?t.parentNode:t),_d(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var h=S1(u);l.call(h)}}var u=oE(t,0,!1,null,null,!1,!1,"",UM);return t._reactRootContainer=u,t[$c]=u.current,gv(t.nodeType===8?t.parentNode:t),_d(function(){Sb(e,u,r,n)}),u}function Eb(t,e,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var u=S1(a);l.call(u)}}Sb(e,a,t,i)}else a=R9(r,e,t,i,n);return S1(a)}D5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Rg(e.pendingLanes);r!==0&&(Ak(e,r|1),Zo(e,ca()),!(Dn&6)&&(Np=ca()+500,hh()))}break;case 13:_d(function(){var n=Hc(t,1);if(n!==null){var i=Do();ul(n,t,1,i)}}),sE(t,1)}};Pk=function(t){if(t.tag===13){var e=Hc(t,134217728);if(e!==null){var r=Do();ul(e,t,134217728,r)}sE(t,134217728)}};N5=function(t){if(t.tag===13){var e=Uu(t),r=Hc(t,e);if(r!==null){var n=Do();ul(r,t,e,n)}sE(t,e)}};L5=function(){return si};R5=function(t,e){var r=si;try{return si=t,e()}finally{si=r}};nS=function(t,e,r){switch(e){case"input":if(Z2(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=gb(n);if(!i)throw Error(It(90));f5(n),Z2(n,i)}}}break;case"textarea":m5(t,r);break;case"select":e=r.value,e!=null&&dp(t,!!r.multiple,e,!1)}};w5=rE;S5=_d;var j9={usingClientEntryPoint:!1,Events:[Jv,ep,gb,b5,_5,rE]},Cg={findFiberByHostInstance:Zh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z9={bundleType:Cg.bundleType,version:Cg.version,rendererPackageName:Cg.rendererPackageName,rendererConfig:Cg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=E5(t),t===null?null:t.stateNode},findFiberByHostInstance:Cg.findFiberByHostInstance||L9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var V0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!V0.isDisabled&&V0.supportsFiber)try{db=V0.inject(z9),Vl=V0}catch{}}gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j9;gs.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cE(e))throw Error(It(200));return N9(t,e,null,r)};gs.createRoot=function(t,e){if(!cE(t))throw Error(It(299));var r=!1,n="",i=iL;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=oE(t,1,!1,null,null,r,!1,n,i),t[$c]=e.current,gv(t.nodeType===8?t.parentNode:t),new lE(e)};gs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(It(188)):(t=Object.keys(t).join(","),Error(It(268,t)));return t=E5(e),t=t===null?null:t.stateNode,t};gs.flushSync=function(t){return _d(t)};gs.hydrate=function(t,e,r){if(!kb(e))throw Error(It(200));return Eb(null,t,e,!0,r)};gs.hydrateRoot=function(t,e,r){if(!cE(t))throw Error(It(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=iL;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=nL(e,null,t,1,r??null,i,!1,o,a),t[$c]=e.current,gv(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Cb(e)};gs.render=function(t,e,r){if(!kb(e))throw Error(It(200));return Eb(null,t,e,!1,r)};gs.unmountComponentAtNode=function(t){if(!kb(t))throw Error(It(40));return t._reactRootContainer?(_d(function(){Eb(null,null,t,!1,function(){t._reactRootContainer=null,t[$c]=null})}),!0):!1};gs.unstable_batchedUpdates=rE;gs.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!kb(r))throw Error(It(200));if(t==null||t._reactInternals===void 0)throw Error(It(38));return Eb(t,e,r,!1,n)};gs.version="18.3.1-next-f1338f8080-20240426";function aL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aL)}catch(t){console.error(t)}}aL(),a5.exports=gs;var Tb=a5.exports;const F9=Qn(Tb);var oL,VM=Tb;oL=VM.createRoot,VM.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kv(){return kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kv.apply(this,arguments)}var Du;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Du||(Du={}));const WM="popstate";function B9(t){t===void 0&&(t={});function e(n,i){let{pathname:o,search:a,hash:l}=n.location;return RS("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:C1(i)}return H9(e,r,null,t)}function Wi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sL(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $9(){return Math.random().toString(36).substr(2,8)}function YM(t,e){return{usr:t.state,key:t.key,idx:e}}function RS(t,e,r,n){return r===void 0&&(r=null),kv({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?em(e):e,{state:r,key:e&&e.key||n||$9()})}function C1(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function em(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function H9(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,a=i.history,l=Du.Pop,u=null,h=f();h==null&&(h=0,a.replaceState(kv({},a.state,{idx:h}),""));function f(){return(a.state||{idx:null}).idx}function m(){l=Du.Pop;let A=f(),E=A==null?null:A-h;h=A,u&&u({action:l,location:C.location,delta:E})}function x(A,E){l=Du.Push;let P=RS(C.location,A,E);h=f()+1;let I=YM(P,h),N=C.createHref(P);try{a.pushState(I,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(N)}o&&u&&u({action:l,location:C.location,delta:1})}function w(A,E){l=Du.Replace;let P=RS(C.location,A,E);h=f();let I=YM(P,h),N=C.createHref(P);a.replaceState(I,"",N),o&&u&&u({action:l,location:C.location,delta:0})}function S(A){let E=i.location.origin!=="null"?i.location.origin:i.location.href,P=typeof A=="string"?A:C1(A);return P=P.replace(/ $/,"%20"),Wi(E,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,E)}let C={get action(){return l},get location(){return t(i,a)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(WM,m),u=A,()=>{i.removeEventListener(WM,m),u=null}},createHref(A){return e(i,A)},createURL:S,encodeLocation(A){let E=S(A);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:x,replace:w,go(A){return a.go(A)}};return C}var XM;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(XM||(XM={}));function U9(t,e,r){return r===void 0&&(r="/"),V9(t,e,r,!1)}function V9(t,e,r,n){let i=typeof e=="string"?em(e):e,o=Lp(i.pathname||"/",r);if(o==null)return null;let a=lL(t);W9(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let h=rH(o);l=eH(a[u],h,n)}return l}function lL(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,a,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(Wi(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let h=Wu([n,u.relativePath]),f=r.concat(u);o.children&&o.children.length>0&&(Wi(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),lL(o.children,e,f,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:J9(h,o.index),routesMeta:f})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of cL(o.path))i(o,a,u)}),e}function cL(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let a=cL(n.join("/")),l=[];return l.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function W9(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Q9(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Y9=/^:[\w-]+$/,X9=3,G9=2,q9=1,Z9=10,K9=-2,GM=t=>t==="*";function J9(t,e){let r=t.split("/"),n=r.length;return r.some(GM)&&(n+=K9),e&&(n+=G9),r.filter(i=>!GM(i)).reduce((i,o)=>i+(Y9.test(o)?X9:o===""?q9:Z9),n)}function Q9(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function eH(t,e,r){let{routesMeta:n}=t,i={},o="/",a=[];for(let l=0;l<n.length;++l){let u=n[l],h=l===n.length-1,f=o==="/"?e:e.slice(o.length)||"/",m=k1({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),x=u.route;if(!m&&h&&r&&!n[n.length-1].route.index&&(m=k1({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:Wu([o,m.pathname]),pathnameBase:oH(Wu([o,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(o=Wu([o,m.pathnameBase]))}return a}function k1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=tH(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((h,f,m)=>{let{paramName:x,isOptional:w}=f;if(x==="*"){let C=l[m]||"";a=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const S=l[m];return w&&!S?h[x]=void 0:h[x]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:a,pattern:t}}function tH(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),sL(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function rH(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sL(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Lp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function nH(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?em(t):t;return{pathname:r?r.startsWith("/")?r:iH(r,e):e,search:sH(n),hash:lH(i)}}function iH(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function $w(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aH(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function uE(t,e){let r=aH(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function hE(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=em(t):(i=kv({},t),Wi(!i.pathname||!i.pathname.includes("?"),$w("?","pathname","search",i)),Wi(!i.pathname||!i.pathname.includes("#"),$w("#","pathname","hash",i)),Wi(!i.search||!i.search.includes("#"),$w("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=r;else{let m=e.length-1;if(!n&&a.startsWith("..")){let x=a.split("/");for(;x[0]==="..";)x.shift(),m-=1;i.pathname=x.join("/")}l=m>=0?e[m]:"/"}let u=nH(i,l),h=a&&a!=="/"&&a.endsWith("/"),f=(o||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}const Wu=t=>t.join("/").replace(/\/\/+/g,"/"),oH=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sH=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lH=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cH(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uL=["post","put","patch","delete"];new Set(uL);const uH=["get",...uL];new Set(uH);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ev.apply(this,arguments)}const Ab=H.createContext(null),hL=H.createContext(null),Xc=H.createContext(null),Pb=H.createContext(null),dh=H.createContext({outlet:null,matches:[],isDataRoute:!1}),dL=H.createContext(null);function hH(t,e){let{relative:r}=e===void 0?{}:e;tm()||Wi(!1);let{basename:n,navigator:i}=H.useContext(Xc),{hash:o,pathname:a,search:l}=Mb(t,{relative:r}),u=a;return n!=="/"&&(u=a==="/"?n:Wu([n,a])),i.createHref({pathname:u,search:l,hash:o})}function tm(){return H.useContext(Pb)!=null}function Ql(){return tm()||Wi(!1),H.useContext(Pb).location}function fL(t){H.useContext(Xc).static||H.useLayoutEffect(t)}function Ka(){let{isDataRoute:t}=H.useContext(dh);return t?CH():dH()}function dH(){tm()||Wi(!1);let t=H.useContext(Ab),{basename:e,future:r,navigator:n}=H.useContext(Xc),{matches:i}=H.useContext(dh),{pathname:o}=Ql(),a=JSON.stringify(uE(i,r.v7_relativeSplatPath)),l=H.useRef(!1);return fL(()=>{l.current=!0}),H.useCallback(function(h,f){if(f===void 0&&(f={}),!l.current)return;if(typeof h=="number"){n.go(h);return}let m=hE(h,JSON.parse(a),o,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Wu([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,a,o,t])}function Mb(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=H.useContext(Xc),{matches:i}=H.useContext(dh),{pathname:o}=Ql(),a=JSON.stringify(uE(i,n.v7_relativeSplatPath));return H.useMemo(()=>hE(t,JSON.parse(a),o,r==="path"),[t,a,o,r])}function fH(t,e){return pH(t,e)}function pH(t,e,r,n){tm()||Wi(!1);let{navigator:i}=H.useContext(Xc),{matches:o}=H.useContext(dh),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let h=Ql(),f;if(e){var m;let A=typeof e=="string"?em(e):e;u==="/"||(m=A.pathname)!=null&&m.startsWith(u)||Wi(!1),f=A}else f=h;let x=f.pathname||"/",w=x;if(u!=="/"){let A=u.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=U9(t,{pathname:w}),C=xH(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:Wu([u,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?u:Wu([u,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,r,n);return e&&C?H.createElement(Pb.Provider,{value:{location:Ev({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Du.Pop}},C):C}function mH(){let t=SH(),e=cH(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),r?H.createElement("pre",{style:i},r):null,null)}const gH=H.createElement(mH,null);class vH extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?H.createElement(dh.Provider,{value:this.props.routeContext},H.createElement(dL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yH(t){let{routeContext:e,match:r,children:n}=t,i=H.useContext(Ab);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),H.createElement(dh.Provider,{value:e},n)}function xH(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let f=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||Wi(!1),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:x,errors:w}=r,S=m.route.loader&&x[m.route.id]===void 0&&(!w||w[m.route.id]===void 0);if(m.route.lazy||S){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,m,x)=>{let w,S=!1,C=null,A=null;r&&(w=l&&m.route.id?l[m.route.id]:void 0,C=m.route.errorElement||gH,u&&(h<0&&x===0?(S=!0,A=null):h===x&&(S=!0,A=m.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,x+1)),P=()=>{let I;return w?I=C:S?I=A:m.route.Component?I=H.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=f,H.createElement(yH,{match:m,routeContext:{outlet:f,matches:E,isDataRoute:r!=null},children:I})};return r&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?H.createElement(vH,{location:r.location,revalidation:r.revalidation,component:C,error:w,children:P(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):P()},null)}var pL=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pL||{}),E1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(E1||{});function bH(t){let e=H.useContext(Ab);return e||Wi(!1),e}function _H(t){let e=H.useContext(hL);return e||Wi(!1),e}function wH(t){let e=H.useContext(dh);return e||Wi(!1),e}function mL(t){let e=wH(),r=e.matches[e.matches.length-1];return r.route.id||Wi(!1),r.route.id}function SH(){var t;let e=H.useContext(dL),r=_H(E1.UseRouteError),n=mL(E1.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function CH(){let{router:t}=bH(pL.UseNavigateStable),e=mL(E1.UseNavigateStable),r=H.useRef(!1);return fL(()=>{r.current=!0}),H.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ev({fromRouteId:e},o)))},[t,e])}function kH(t){let{to:e,replace:r,state:n,relative:i}=t;tm()||Wi(!1);let{future:o,static:a}=H.useContext(Xc),{matches:l}=H.useContext(dh),{pathname:u}=Ql(),h=Ka(),f=hE(e,uE(l,o.v7_relativeSplatPath),u,i==="path"),m=JSON.stringify(f);return H.useEffect(()=>h(JSON.parse(m),{replace:r,state:n,relative:i}),[h,m,i,r,n]),null}function Un(t){Wi(!1)}function EH(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Du.Pop,navigator:o,static:a=!1,future:l}=t;tm()&&Wi(!1);let u=e.replace(/^\/*/,"/"),h=H.useMemo(()=>({basename:u,navigator:o,static:a,future:Ev({v7_relativeSplatPath:!1},l)}),[u,l,o,a]);typeof n=="string"&&(n=em(n));let{pathname:f="/",search:m="",hash:x="",state:w=null,key:S="default"}=n,C=H.useMemo(()=>{let A=Lp(f,u);return A==null?null:{location:{pathname:A,search:m,hash:x,state:w,key:S},navigationType:i}},[u,f,m,x,w,S,i]);return C==null?null:H.createElement(Xc.Provider,{value:h},H.createElement(Pb.Provider,{children:r,value:C}))}function Ib(t){let{children:e,location:r}=t;return fH(jS(e),r)}new Promise(()=>{});function jS(t,e){e===void 0&&(e=[]);let r=[];return H.Children.forEach(t,(n,i)=>{if(!H.isValidElement(n))return;let o=[...e,i];if(n.type===H.Fragment){r.push.apply(r,jS(n.props.children,o));return}n.type!==Un&&Wi(!1),!n.props.index||!n.props.children||Wi(!1);let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=jS(n.props.children,o)),r.push(a)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T1(){return T1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T1.apply(this,arguments)}function gL(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function TH(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AH(t,e){return t.button===0&&(!e||e==="_self")&&!TH(t)}function zS(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function PH(t,e){let r=zS(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(o=>{r.append(i,o)})}),r}const MH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],IH=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],OH="6";try{window.__reactRouterVersion=OH}catch{}const DH=H.createContext({isTransitioning:!1}),NH="startTransition",qM=n5[NH];function LH(t){let{basename:e,children:r,future:n,window:i}=t,o=H.useRef();o.current==null&&(o.current=B9({window:i,v5Compat:!0}));let a=o.current,[l,u]=H.useState({action:a.action,location:a.location}),{v7_startTransition:h}=n||{},f=H.useCallback(m=>{h&&qM?qM(()=>u(m)):u(m)},[u,h]);return H.useLayoutEffect(()=>a.listen(f),[a,f]),H.createElement(EH,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const RH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ba=H.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:o,replace:a,state:l,target:u,to:h,preventScrollReset:f,viewTransition:m}=e,x=gL(e,MH),{basename:w}=H.useContext(Xc),S,C=!1;if(typeof h=="string"&&jH.test(h)&&(S=h,RH))try{let I=new URL(window.location.href),N=h.startsWith("//")?new URL(I.protocol+h):new URL(h),D=Lp(N.pathname,w);N.origin===I.origin&&D!=null?h=D+N.search+N.hash:C=!0}catch{}let A=hH(h,{relative:i}),E=BH(h,{replace:a,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:m});function P(I){n&&n(I),I.defaultPrevented||E(I)}return H.createElement("a",T1({},x,{href:S||A,onClick:C||o?n:P,ref:r,target:u}))}),zH=H.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:o="",end:a=!1,style:l,to:u,viewTransition:h,children:f}=e,m=gL(e,IH),x=Mb(u,{relative:m.relative}),w=Ql(),S=H.useContext(hL),{navigator:C,basename:A}=H.useContext(Xc),E=S!=null&&$H(x)&&h===!0,P=C.encodeLocation?C.encodeLocation(x).pathname:x.pathname,I=w.pathname,N=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(I=I.toLowerCase(),N=N?N.toLowerCase():null,P=P.toLowerCase()),N&&A&&(N=Lp(N,A)||N);const D=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let L=I===P||!a&&I.startsWith(P)&&I.charAt(D)==="/",R=N!=null&&(N===P||!a&&N.startsWith(P)&&N.charAt(P.length)==="/"),$={isActive:L,isPending:R,isTransitioning:E},W=L?n:void 0,J;typeof o=="function"?J=o($):J=[o,L?"active":null,R?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let q=typeof l=="function"?l($):l;return H.createElement(ba,T1({},m,{"aria-current":W,className:J,ref:r,style:q,to:u,viewTransition:h}),typeof f=="function"?f($):f)});var FS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(FS||(FS={}));var ZM;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ZM||(ZM={}));function FH(t){let e=H.useContext(Ab);return e||Wi(!1),e}function BH(t,e){let{target:r,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:l}=e===void 0?{}:e,u=Ka(),h=Ql(),f=Mb(t,{relative:a});return H.useCallback(m=>{if(AH(m,r)){m.preventDefault();let x=n!==void 0?n:C1(h)===C1(f);u(t,{replace:x,state:i,preventScrollReset:o,relative:a,viewTransition:l})}},[h,u,f,n,i,r,t,o,a,l])}function dE(t){let e=H.useRef(zS(t)),r=H.useRef(!1),n=Ql(),i=H.useMemo(()=>PH(n.search,r.current?null:e.current),[n.search]),o=Ka(),a=H.useCallback((l,u)=>{const h=zS(typeof l=="function"?l(i):l);r.current=!0,o("?"+h,u)},[o,i]);return[i,a]}function $H(t,e){e===void 0&&(e={});let r=H.useContext(DH);r==null&&Wi(!1);let{basename:n}=FH(FS.useViewTransitionState),i=Mb(t,{relative:e.relative});if(!r.isTransitioning)return!1;let o=Lp(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Lp(r.nextLocation.pathname,n)||r.nextLocation.pathname;return k1(i.pathname,a)!=null||k1(i.pathname,o)!=null}function vL(t,e){return function(){return t.apply(e,arguments)}}const{toString:HH}=Object.prototype,{getPrototypeOf:fE}=Object,Ob=(t=>e=>{const r=HH.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),gl=t=>(t=t.toLowerCase(),e=>Ob(e)===t),Db=t=>e=>typeof e===t,{isArray:rm}=Array,Tv=Db("undefined");function UH(t){return t!==null&&!Tv(t)&&t.constructor!==null&&!Tv(t.constructor)&&fs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const yL=gl("ArrayBuffer");function VH(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&yL(t.buffer),e}const WH=Db("string"),fs=Db("function"),xL=Db("number"),Nb=t=>t!==null&&typeof t=="object",YH=t=>t===!0||t===!1,Px=t=>{if(Ob(t)!=="object")return!1;const e=fE(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},XH=gl("Date"),GH=gl("File"),qH=gl("Blob"),ZH=gl("FileList"),KH=t=>Nb(t)&&fs(t.pipe),JH=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||fs(t.append)&&((e=Ob(t))==="formdata"||e==="object"&&fs(t.toString)&&t.toString()==="[object FormData]"))},QH=gl("URLSearchParams"),[eU,tU,rU,nU]=["ReadableStream","Request","Response","Headers"].map(gl),iU=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ey(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),rm(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const o=r?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let l;for(n=0;n<a;n++)l=o[n],e.call(null,t[l],l,t)}}function bL(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Qh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_L=t=>!Tv(t)&&t!==Qh;function BS(){const{caseless:t}=_L(this)&&this||{},e={},r=(n,i)=>{const o=t&&bL(e,i)||i;Px(e[o])&&Px(n)?e[o]=BS(e[o],n):Px(n)?e[o]=BS({},n):rm(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ey(arguments[n],r);return e}const aU=(t,e,r,{allOwnKeys:n}={})=>(ey(e,(i,o)=>{r&&fs(i)?t[o]=vL(i,r):t[o]=i},{allOwnKeys:n}),t),oU=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),sU=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},lU=(t,e,r,n)=>{let i,o,a;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],(!n||n(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=r!==!1&&fE(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},cU=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},uU=t=>{if(!t)return null;if(rm(t))return t;let e=t.length;if(!xL(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},hU=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&fE(Uint8Array)),dU=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},fU=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},pU=gl("HTMLFormElement"),mU=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),KM=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),gU=gl("RegExp"),wL=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};ey(r,(i,o)=>{let a;(a=e(i,o,t))!==!1&&(n[o]=a||i)}),Object.defineProperties(t,n)},vU=t=>{wL(t,(e,r)=>{if(fs(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(fs(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},yU=(t,e)=>{const r={},n=i=>{i.forEach(o=>{r[o]=!0})};return rm(t)?n(t):n(String(t).split(e)),r},xU=()=>{},bU=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Hw="abcdefghijklmnopqrstuvwxyz",JM="0123456789",SL={DIGIT:JM,ALPHA:Hw,ALPHA_DIGIT:Hw+Hw.toUpperCase()+JM},_U=(t=16,e=SL.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function wU(t){return!!(t&&fs(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const SU=t=>{const e=new Array(10),r=(n,i)=>{if(Nb(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const o=rm(n)?[]:{};return ey(n,(a,l)=>{const u=r(a,i+1);!Tv(u)&&(o[l]=u)}),e[i]=void 0,o}}return n};return r(t,0)},CU=gl("AsyncFunction"),kU=t=>t&&(Nb(t)||fs(t))&&fs(t.then)&&fs(t.catch),CL=((t,e)=>t?setImmediate:e?((r,n)=>(Qh.addEventListener("message",({source:i,data:o})=>{i===Qh&&o===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Qh.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",fs(Qh.postMessage)),EU=typeof queueMicrotask<"u"?queueMicrotask.bind(Qh):typeof process<"u"&&process.nextTick||CL,ut={isArray:rm,isArrayBuffer:yL,isBuffer:UH,isFormData:JH,isArrayBufferView:VH,isString:WH,isNumber:xL,isBoolean:YH,isObject:Nb,isPlainObject:Px,isReadableStream:eU,isRequest:tU,isResponse:rU,isHeaders:nU,isUndefined:Tv,isDate:XH,isFile:GH,isBlob:qH,isRegExp:gU,isFunction:fs,isStream:KH,isURLSearchParams:QH,isTypedArray:hU,isFileList:ZH,forEach:ey,merge:BS,extend:aU,trim:iU,stripBOM:oU,inherits:sU,toFlatObject:lU,kindOf:Ob,kindOfTest:gl,endsWith:cU,toArray:uU,forEachEntry:dU,matchAll:fU,isHTMLForm:pU,hasOwnProperty:KM,hasOwnProp:KM,reduceDescriptors:wL,freezeMethods:vU,toObjectSet:yU,toCamelCase:mU,noop:xU,toFiniteNumber:bU,findKey:bL,global:Qh,isContextDefined:_L,ALPHABET:SL,generateString:_U,isSpecCompliantForm:wU,toJSONObject:SU,isAsyncFn:CU,isThenable:kU,setImmediate:CL,asap:EU};function Qr(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}ut.inherits(Qr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ut.toJSONObject(this.config),code:this.code,status:this.status}}});const kL=Qr.prototype,EL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{EL[t]={value:t}});Object.defineProperties(Qr,EL);Object.defineProperty(kL,"isAxiosError",{value:!0});Qr.from=(t,e,r,n,i,o)=>{const a=Object.create(kL);return ut.toFlatObject(t,a,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),Qr.call(a,t.message,e,r,n,i),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};const TU=null;function $S(t){return ut.isPlainObject(t)||ut.isArray(t)}function TL(t){return ut.endsWith(t,"[]")?t.slice(0,-2):t}function QM(t,e,r){return t?t.concat(e).map(function(i,o){return i=TL(i),!r&&o?"["+i+"]":i}).join(r?".":""):e}function AU(t){return ut.isArray(t)&&!t.some($S)}const PU=ut.toFlatObject(ut,{},null,function(e){return/^is[A-Z]/.test(e)});function Lb(t,e,r){if(!ut.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ut.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,A){return!ut.isUndefined(A[C])});const n=r.metaTokens,i=r.visitor||f,o=r.dots,a=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&ut.isSpecCompliantForm(e);if(!ut.isFunction(i))throw new TypeError("visitor must be a function");function h(S){if(S===null)return"";if(ut.isDate(S))return S.toISOString();if(!u&&ut.isBlob(S))throw new Qr("Blob is not supported. Use a Buffer instead.");return ut.isArrayBuffer(S)||ut.isTypedArray(S)?u&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function f(S,C,A){let E=S;if(S&&!A&&typeof S=="object"){if(ut.endsWith(C,"{}"))C=n?C:C.slice(0,-2),S=JSON.stringify(S);else if(ut.isArray(S)&&AU(S)||(ut.isFileList(S)||ut.endsWith(C,"[]"))&&(E=ut.toArray(S)))return C=TL(C),E.forEach(function(I,N){!(ut.isUndefined(I)||I===null)&&e.append(a===!0?QM([C],N,o):a===null?C:C+"[]",h(I))}),!1}return $S(S)?!0:(e.append(QM(A,C,o),h(S)),!1)}const m=[],x=Object.assign(PU,{defaultVisitor:f,convertValue:h,isVisitable:$S});function w(S,C){if(!ut.isUndefined(S)){if(m.indexOf(S)!==-1)throw Error("Circular reference detected in "+C.join("."));m.push(S),ut.forEach(S,function(E,P){(!(ut.isUndefined(E)||E===null)&&i.call(e,E,ut.isString(P)?P.trim():P,C,x))===!0&&w(E,C?C.concat(P):[P])}),m.pop()}}if(!ut.isObject(t))throw new TypeError("data must be an object");return w(t),e}function eI(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function pE(t,e){this._pairs=[],t&&Lb(t,this,e)}const AL=pE.prototype;AL.append=function(e,r){this._pairs.push([e,r])};AL.toString=function(e){const r=e?function(n){return e.call(this,n,eI)}:eI;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function MU(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function PL(t,e,r){if(!e)return t;const n=r&&r.encode||MU,i=r&&r.serialize;let o;if(i?o=i(e,r):o=ut.isURLSearchParams(e)?e.toString():new pE(e,r).toString(n),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class tI{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ut.forEach(this.handlers,function(n){n!==null&&e(n)})}}const ML={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},IU=typeof URLSearchParams<"u"?URLSearchParams:pE,OU=typeof FormData<"u"?FormData:null,DU=typeof Blob<"u"?Blob:null,NU={isBrowser:!0,classes:{URLSearchParams:IU,FormData:OU,Blob:DU},protocols:["http","https","file","blob","url","data"]},mE=typeof window<"u"&&typeof document<"u",HS=typeof navigator=="object"&&navigator||void 0,LU=mE&&(!HS||["ReactNative","NativeScript","NS"].indexOf(HS.product)<0),RU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jU=mE&&window.location.href||"http://localhost",zU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mE,hasStandardBrowserEnv:LU,hasStandardBrowserWebWorkerEnv:RU,navigator:HS,origin:jU},Symbol.toStringTag,{value:"Module"})),Ko={...zU,...NU};function FU(t,e){return Lb(t,new Ko.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,o){return Ko.isNode&&ut.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function BU(t){return ut.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function $U(t){const e={},r=Object.keys(t);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}function IL(t){function e(r,n,i,o){let a=r[o++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),u=o>=r.length;return a=!a&&ut.isArray(i)?i.length:a,u?(ut.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!l):((!i[a]||!ut.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],o)&&ut.isArray(i[a])&&(i[a]=$U(i[a])),!l)}if(ut.isFormData(t)&&ut.isFunction(t.entries)){const r={};return ut.forEachEntry(t,(n,i)=>{e(BU(n),i,r,0)}),r}return null}function HU(t,e,r){if(ut.isString(t))try{return(e||JSON.parse)(t),ut.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(t)}const ty={transitional:ML,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=ut.isObject(e);if(o&&ut.isHTMLForm(e)&&(e=new FormData(e)),ut.isFormData(e))return i?JSON.stringify(IL(e)):e;if(ut.isArrayBuffer(e)||ut.isBuffer(e)||ut.isStream(e)||ut.isFile(e)||ut.isBlob(e)||ut.isReadableStream(e))return e;if(ut.isArrayBufferView(e))return e.buffer;if(ut.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return FU(e,this.formSerializer).toString();if((l=ut.isFileList(e))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Lb(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),HU(e)):e}],transformResponse:[function(e){const r=this.transitional||ty.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(ut.isResponse(e)||ut.isReadableStream(e))return e;if(e&&ut.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(a)throw l.name==="SyntaxError"?Qr.from(l,Qr.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ko.classes.FormData,Blob:Ko.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ut.forEach(["delete","get","head","post","put","patch"],t=>{ty.headers[t]={}});const UU=ut.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),VU=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&UU[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},rI=Symbol("internals");function kg(t){return t&&String(t).trim().toLowerCase()}function Mx(t){return t===!1||t==null?t:ut.isArray(t)?t.map(Mx):String(t)}function WU(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const YU=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Uw(t,e,r,n,i){if(ut.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!ut.isString(e)){if(ut.isString(n))return e.indexOf(n)!==-1;if(ut.isRegExp(n))return n.test(e)}}function XU(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function GU(t,e){const r=ut.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,o,a){return this[n].call(this,e,i,o,a)},configurable:!0})})}class Jo{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function o(l,u,h){const f=kg(u);if(!f)throw new Error("header name must be a non-empty string");const m=ut.findKey(i,f);(!m||i[m]===void 0||h===!0||h===void 0&&i[m]!==!1)&&(i[m||u]=Mx(l))}const a=(l,u)=>ut.forEach(l,(h,f)=>o(h,f,u));if(ut.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(ut.isString(e)&&(e=e.trim())&&!YU(e))a(VU(e),r);else if(ut.isHeaders(e))for(const[l,u]of e.entries())o(u,l,n);else e!=null&&o(r,e,n);return this}get(e,r){if(e=kg(e),e){const n=ut.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return WU(i);if(ut.isFunction(r))return r.call(this,i,n);if(ut.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=kg(e),e){const n=ut.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Uw(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function o(a){if(a=kg(a),a){const l=ut.findKey(n,a);l&&(!r||Uw(n,n[l],l,r))&&(delete n[l],i=!0)}}return ut.isArray(e)?e.forEach(o):o(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const o=r[n];(!e||Uw(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const r=this,n={};return ut.forEach(this,(i,o)=>{const a=ut.findKey(n,o);if(a){r[a]=Mx(i),delete r[o];return}const l=e?XU(o):String(o).trim();l!==o&&delete r[o],r[l]=Mx(i),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ut.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&ut.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[rI]=this[rI]={accessors:{}}).accessors,i=this.prototype;function o(a){const l=kg(a);n[l]||(GU(i,a),n[l]=!0)}return ut.isArray(e)?e.forEach(o):o(e),this}}Jo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ut.reduceDescriptors(Jo.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});ut.freezeMethods(Jo);function Vw(t,e){const r=this||ty,n=e||r,i=Jo.from(n.headers);let o=n.data;return ut.forEach(t,function(l){o=l.call(r,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function OL(t){return!!(t&&t.__CANCEL__)}function nm(t,e,r){Qr.call(this,t??"canceled",Qr.ERR_CANCELED,e,r),this.name="CanceledError"}ut.inherits(nm,Qr,{__CANCEL__:!0});function DL(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Qr("Request failed with status code "+r.status,[Qr.ERR_BAD_REQUEST,Qr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function qU(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ZU(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,o=0,a;return e=e!==void 0?e:1e3,function(u){const h=Date.now(),f=n[o];a||(a=h),r[i]=u,n[i]=h;let m=o,x=0;for(;m!==i;)x+=r[m++],m=m%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),h-a<e)return;const w=f&&h-f;return w?Math.round(x*1e3/w):void 0}}function KU(t,e){let r=0,n=1e3/e,i,o;const a=(h,f=Date.now())=>{r=f,i=null,o&&(clearTimeout(o),o=null),t.apply(null,h)};return[(...h)=>{const f=Date.now(),m=f-r;m>=n?a(h,f):(i=h,o||(o=setTimeout(()=>{o=null,a(i)},n-m)))},()=>i&&a(i)]}const A1=(t,e,r=3)=>{let n=0;const i=ZU(50,250);return KU(o=>{const a=o.loaded,l=o.lengthComputable?o.total:void 0,u=a-n,h=i(u),f=a<=l;n=a;const m={loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:h||void 0,estimated:h&&l&&f?(l-a)/h:void 0,event:o,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(m)},r)},nI=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},iI=t=>(...e)=>ut.asap(()=>t(...e)),JU=Ko.hasStandardBrowserEnv?function(){const e=Ko.navigator&&/(msie|trident)/i.test(Ko.navigator.userAgent),r=document.createElement("a");let n;function i(o){let a=o;return e&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){const l=ut.isString(a)?i(a):a;return l.protocol===n.protocol&&l.host===n.host}}():function(){return function(){return!0}}(),QU=Ko.hasStandardBrowserEnv?{write(t,e,r,n,i,o){const a=[t+"="+encodeURIComponent(e)];ut.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),ut.isString(n)&&a.push("path="+n),ut.isString(i)&&a.push("domain="+i),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function eV(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function tV(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function NL(t,e){return t&&!eV(e)?tV(t,e):e}const aI=t=>t instanceof Jo?{...t}:t;function wd(t,e){e=e||{};const r={};function n(h,f,m){return ut.isPlainObject(h)&&ut.isPlainObject(f)?ut.merge.call({caseless:m},h,f):ut.isPlainObject(f)?ut.merge({},f):ut.isArray(f)?f.slice():f}function i(h,f,m){if(ut.isUndefined(f)){if(!ut.isUndefined(h))return n(void 0,h,m)}else return n(h,f,m)}function o(h,f){if(!ut.isUndefined(f))return n(void 0,f)}function a(h,f){if(ut.isUndefined(f)){if(!ut.isUndefined(h))return n(void 0,h)}else return n(void 0,f)}function l(h,f,m){if(m in e)return n(h,f);if(m in t)return n(void 0,h)}const u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(h,f)=>i(aI(h),aI(f),!0)};return ut.forEach(Object.keys(Object.assign({},t,e)),function(f){const m=u[f]||i,x=m(t[f],e[f],f);ut.isUndefined(x)&&m!==l||(r[f]=x)}),r}const LL=t=>{const e=wd({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:l}=e;e.headers=a=Jo.from(a),e.url=PL(NL(e.baseURL,e.url),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(ut.isFormData(r)){if(Ko.hasStandardBrowserEnv||Ko.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((u=a.getContentType())!==!1){const[h,...f]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];a.setContentType([h||"multipart/form-data",...f].join("; "))}}if(Ko.hasStandardBrowserEnv&&(n&&ut.isFunction(n)&&(n=n(e)),n||n!==!1&&JU(e.url))){const h=i&&o&&QU.read(o);h&&a.set(i,h)}return e},rV=typeof XMLHttpRequest<"u",nV=rV&&function(t){return new Promise(function(r,n){const i=LL(t);let o=i.data;const a=Jo.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:h}=i,f,m,x,w,S;function C(){w&&w(),S&&S(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function E(){if(!A)return;const I=Jo.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),D={data:!l||l==="text"||l==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:I,config:t,request:A};DL(function(R){r(R),C()},function(R){n(R),C()},D),A=null}"onloadend"in A?A.onloadend=E:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(E)},A.onabort=function(){A&&(n(new Qr("Request aborted",Qr.ECONNABORTED,t,A)),A=null)},A.onerror=function(){n(new Qr("Network Error",Qr.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const D=i.transitional||ML;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),n(new Qr(N,D.clarifyTimeoutError?Qr.ETIMEDOUT:Qr.ECONNABORTED,t,A)),A=null},o===void 0&&a.setContentType(null),"setRequestHeader"in A&&ut.forEach(a.toJSON(),function(N,D){A.setRequestHeader(D,N)}),ut.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),l&&l!=="json"&&(A.responseType=i.responseType),h&&([x,S]=A1(h,!0),A.addEventListener("progress",x)),u&&A.upload&&([m,w]=A1(u),A.upload.addEventListener("progress",m),A.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(f=I=>{A&&(n(!I||I.type?new nm(null,t,A):I),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const P=qU(i.url);if(P&&Ko.protocols.indexOf(P)===-1){n(new Qr("Unsupported protocol "+P+":",Qr.ERR_BAD_REQUEST,t));return}A.send(o||null)})},iV=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const o=function(h){if(!i){i=!0,l();const f=h instanceof Error?h:this.reason;n.abort(f instanceof Qr?f:new nm(f instanceof Error?f.message:f))}};let a=e&&setTimeout(()=>{a=null,o(new Qr(`timeout ${e} of ms exceeded`,Qr.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),t=null)};t.forEach(h=>h.addEventListener("abort",o));const{signal:u}=n;return u.unsubscribe=()=>ut.asap(l),u}},aV=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},oV=async function*(t,e){for await(const r of sV(t))yield*aV(r,e)},sV=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},oI=(t,e,r,n)=>{const i=oV(t,e);let o=0,a,l=u=>{a||(a=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:h,value:f}=await i.next();if(h){l(),u.close();return}let m=f.byteLength;if(r){let x=o+=m;r(x)}u.enqueue(new Uint8Array(f))}catch(h){throw l(h),h}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},Rb=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",RL=Rb&&typeof ReadableStream=="function",lV=Rb&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),jL=(t,...e)=>{try{return!!t(...e)}catch{return!1}},cV=RL&&jL(()=>{let t=!1;const e=new Request(Ko.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),sI=64*1024,US=RL&&jL(()=>ut.isReadableStream(new Response("").body)),P1={stream:US&&(t=>t.body)};Rb&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!P1[e]&&(P1[e]=ut.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Qr(`Response type '${e}' is not supported`,Qr.ERR_NOT_SUPPORT,n)})})})(new Response);const uV=async t=>{if(t==null)return 0;if(ut.isBlob(t))return t.size;if(ut.isSpecCompliantForm(t))return(await new Request(Ko.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ut.isArrayBufferView(t)||ut.isArrayBuffer(t))return t.byteLength;if(ut.isURLSearchParams(t)&&(t=t+""),ut.isString(t))return(await lV(t)).byteLength},hV=async(t,e)=>{const r=ut.toFiniteNumber(t.getContentLength());return r??uV(e)},dV=Rb&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:o,timeout:a,onDownloadProgress:l,onUploadProgress:u,responseType:h,headers:f,withCredentials:m="same-origin",fetchOptions:x}=LL(t);h=h?(h+"").toLowerCase():"text";let w=iV([i,o&&o.toAbortSignal()],a),S;const C=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let A;try{if(u&&cV&&r!=="get"&&r!=="head"&&(A=await hV(f,n))!==0){let D=new Request(e,{method:"POST",body:n,duplex:"half"}),L;if(ut.isFormData(n)&&(L=D.headers.get("content-type"))&&f.setContentType(L),D.body){const[R,$]=nI(A,A1(iI(u)));n=oI(D.body,sI,R,$)}}ut.isString(m)||(m=m?"include":"omit");const E="credentials"in Request.prototype;S=new Request(e,{...x,signal:w,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:E?m:void 0});let P=await fetch(S);const I=US&&(h==="stream"||h==="response");if(US&&(l||I&&C)){const D={};["status","statusText","headers"].forEach(W=>{D[W]=P[W]});const L=ut.toFiniteNumber(P.headers.get("content-length")),[R,$]=l&&nI(L,A1(iI(l),!0))||[];P=new Response(oI(P.body,sI,R,()=>{$&&$(),C&&C()}),D)}h=h||"text";let N=await P1[ut.findKey(P1,h)||"text"](P,t);return!I&&C&&C(),await new Promise((D,L)=>{DL(D,L,{data:N,headers:Jo.from(P.headers),status:P.status,statusText:P.statusText,config:t,request:S})})}catch(E){throw C&&C(),E&&E.name==="TypeError"&&/fetch/i.test(E.message)?Object.assign(new Qr("Network Error",Qr.ERR_NETWORK,t,S),{cause:E.cause||E}):Qr.from(E,E&&E.code,t,S)}}),VS={http:TU,xhr:nV,fetch:dV};ut.forEach(VS,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const lI=t=>`- ${t}`,fV=t=>ut.isFunction(t)||t===null||t===!1,zL={getAdapter:t=>{t=ut.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let o=0;o<e;o++){r=t[o];let a;if(n=r,!fV(r)&&(n=VS[(a=String(r)).toLowerCase()],n===void 0))throw new Qr(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+o]=n}if(!n){const o=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=e?o.length>1?`since :
`+o.map(lI).join(`
`):" "+lI(o[0]):"as no adapter specified";throw new Qr("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:VS};function Ww(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new nm(null,t)}function cI(t){return Ww(t),t.headers=Jo.from(t.headers),t.data=Vw.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),zL.getAdapter(t.adapter||ty.adapter)(t).then(function(n){return Ww(t),n.data=Vw.call(t,t.transformResponse,n),n.headers=Jo.from(n.headers),n},function(n){return OL(n)||(Ww(t),n&&n.response&&(n.response.data=Vw.call(t,t.transformResponse,n.response),n.response.headers=Jo.from(n.response.headers))),Promise.reject(n)})}const FL="1.7.7",gE={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{gE[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const uI={};gE.transitional=function(e,r,n){function i(o,a){return"[Axios v"+FL+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return(o,a,l)=>{if(e===!1)throw new Qr(i(a," has been removed"+(r?" in "+r:"")),Qr.ERR_DEPRECATED);return r&&!uI[a]&&(uI[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,a,l):!0}};function pV(t,e,r){if(typeof t!="object")throw new Qr("options must be an object",Qr.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const o=n[i],a=e[o];if(a){const l=t[o],u=l===void 0||a(l,o,t);if(u!==!0)throw new Qr("option "+o+" must be "+u,Qr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Qr("Unknown option "+o,Qr.ERR_BAD_OPTION)}}const WS={assertOptions:pV,validators:gE},bu=WS.validators;class cd{constructor(e){this.defaults=e,this.interceptors={request:new tI,response:new tI}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=wd(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&WS.assertOptions(n,{silentJSONParsing:bu.transitional(bu.boolean),forcedJSONParsing:bu.transitional(bu.boolean),clarifyTimeoutError:bu.transitional(bu.boolean)},!1),i!=null&&(ut.isFunction(i)?r.paramsSerializer={serialize:i}:WS.assertOptions(i,{encode:bu.function,serialize:bu.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=o&&ut.merge(o.common,o[r.method]);o&&ut.forEach(["delete","get","head","post","put","patch","common"],S=>{delete o[S]}),r.headers=Jo.concat(a,o);const l=[];let u=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(r)===!1||(u=u&&C.synchronous,l.unshift(C.fulfilled,C.rejected))});const h=[];this.interceptors.response.forEach(function(C){h.push(C.fulfilled,C.rejected)});let f,m=0,x;if(!u){const S=[cI.bind(this),void 0];for(S.unshift.apply(S,l),S.push.apply(S,h),x=S.length,f=Promise.resolve(r);m<x;)f=f.then(S[m++],S[m++]);return f}x=l.length;let w=r;for(m=0;m<x;){const S=l[m++],C=l[m++];try{w=S(w)}catch(A){C.call(this,A);break}}try{f=cI.call(this,w)}catch(S){return Promise.reject(S)}for(m=0,x=h.length;m<x;)f=f.then(h[m++],h[m++]);return f}getUri(e){e=wd(this.defaults,e);const r=NL(e.baseURL,e.url);return PL(r,e.params,e.paramsSerializer)}}ut.forEach(["delete","get","head","options"],function(e){cd.prototype[e]=function(r,n){return this.request(wd(n||{},{method:e,url:r,data:(n||{}).data}))}});ut.forEach(["post","put","patch"],function(e){function r(n){return function(o,a,l){return this.request(wd(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}cd.prototype[e]=r(),cd.prototype[e+"Form"]=r(!0)});class vE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(l=>{n.subscribe(l),o=l}).then(i);return a.cancel=function(){n.unsubscribe(o)},a},e(function(o,a,l){n.reason||(n.reason=new nm(o,a,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new vE(function(i){e=i}),cancel:e}}}function mV(t){return function(r){return t.apply(null,r)}}function gV(t){return ut.isObject(t)&&t.isAxiosError===!0}const YS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(YS).forEach(([t,e])=>{YS[e]=t});function BL(t){const e=new cd(t),r=vL(cd.prototype.request,e);return ut.extend(r,cd.prototype,e,{allOwnKeys:!0}),ut.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return BL(wd(t,i))},r}const ea=BL(ty);ea.Axios=cd;ea.CanceledError=nm;ea.CancelToken=vE;ea.isCancel=OL;ea.VERSION=FL;ea.toFormData=Lb;ea.AxiosError=Qr;ea.Cancel=ea.CanceledError;ea.all=function(e){return Promise.all(e)};ea.spread=mV;ea.isAxiosError=gV;ea.mergeConfig=wd;ea.AxiosHeaders=Jo;ea.formToJSON=t=>IL(ut.isHTMLForm(t)?new FormData(t):t);ea.getAdapter=zL.getAdapter;ea.HttpStatusCode=YS;ea.default=ea;const Av="https://fourfsalonserver.onrender.com",$i=ea.create({baseURL:Av,headers:{"Content-Type":"application/json"}});$i.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&t.headers&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));$i.interceptors.response.use(t=>t,t=>(t.response==="ECONNABORTED"&&t.message.includes("timeout")&&console.log("Request timed out"),t.response&&t.response.status===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(t)));const M1=async()=>(await $i.get("api/users/profile")).data,Ix=async t=>(await $i.get(`api/appointments/search?${t}`)).data,vV=async t=>(await $i.put(`api/appointments/${t.id}`,t)).data,yV=async t=>(await $i.post("api/feedbacks",t)).data,$L=H.createContext(void 0),xV=({children:t})=>{const[e,r]=H.useState(null),n=ke.useCallback(async()=>{try{if(localStorage.getItem("token")){const i=await M1();r(i)}}catch(i){console.error("Failed to fetch user:",i)}},[]);return H.useEffect(()=>{!e&&localStorage.getItem("user")?n():console.log("User already exists")},[]),_.jsx($L.Provider,{value:{user:e,setUser:r},children:t})},ry=()=>{const t=H.useContext($L);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},bV=()=>{const{user:t,setUser:e}=ry(),[r,n]=H.useState(!1),i=Ql(),o=u=>i.pathname===u?"nav-items text-blue-400 border-b-2 border-blue-200":"nav-items",a=()=>{e(null),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"},l=()=>{n(!1)};return _.jsxs("nav",{className:"bg-white p-4 sticky top-0 left-0 shadow-md z-10",children:[_.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("img",{src:"logo2.png",alt:"Logo",className:"h-10 w-10"}),_.jsx("h1",{className:"text-black text-2xl",children:"4F Salon"})]}),_.jsxs("div",{className:"hidden md:flex items-center",children:[_.jsx(ba,{to:"/",className:o("/"),children:"Trang Chủ"}),_.jsx(ba,{to:"/about-us",className:o("/about-us"),children:"Về chúng tôi"}),_.jsx("a",{href:"https://zalo.me/g/brxjir719",className:"nav-items",target:"_blank",rel:"noopener noreferrer",children:"Liên hệ"}),_.jsx(ba,{to:"/find-nearest-shop",className:o("/find-nearest-shop"),children:"Tìm chi nhánh"}),_.jsx(ba,{to:"/booking",className:o("/booking"),children:"Đặt lịch Hẹn"}),t?_.jsxs("div",{className:"relative",children:[_.jsxs("div",{className:"flex items-center space-x-4 mx-4 cursor-pointer border rounded-full p-1",onClick:()=>n(!r),children:[_.jsx("img",{src:t.avatar_url,alt:"Avatar",className:"w-8 h-8 rounded-full"}),_.jsx("span",{children:t.name})]}),r&&_.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border rounded-lg shadow-lg p-2",children:[_.jsx(ba,{to:"/profile",className:"block px-4 py-2 text-gray-900 hover:bg-gray-100",onClick:l,children:"Xem thông tin"}),_.jsx(ba,{to:"/appointment",className:"block px-4 py-2 text-gray-900 hover:bg-gray-100",onClick:l,children:"Lịch hẹn"}),_.jsx("button",{onClick:a,className:"block w-full text-left px-4 py-2 text-gray-900 hover:bg-gray-100",children:"Đăng xuất"})]})]}):_.jsx(ba,{to:"/login",className:"bg-black text-white px-3 rounded-full hover:bg-gray-600 hover:text-white transition-colors duration-200 mx-4",children:"Đăng nhập"})]}),_.jsx("button",{onClick:()=>n(!r),className:"w-1/6 md:hidden text-black text-xl",children:r?"✖":"☰"})]}),_.jsx("div",{className:`md:hidden ${r?"block":"hidden"} mt-4`,children:_.jsxs("div",{className:"flex flex-col space-y-2",children:[_.jsx(ba,{to:"/",className:"mobile-nav-items",onClick:l,children:"Trang Chủ"}),_.jsx(ba,{to:"/about-us",className:"mobile-nav-items",onClick:l,children:"Về chúng tôi"}),_.jsx("a",{href:"https://zalo.me/g/brxjir719",className:"mobile-nav-items",target:"_blank",rel:"noopener noreferrer",onClick:l,children:"Liên hệ"}),_.jsx(ba,{to:"/find-nearest-shop",className:"mobile-nav-items",onClick:l,children:"Tìm chi nhánh"}),_.jsx(ba,{to:"/booking",className:"mobile-nav-items",onClick:l,children:"Đặt lịch Hẹn"}),t?_.jsxs(_.Fragment,{children:[_.jsx(ba,{to:"/profile",className:"mobile-nav-items",onClick:l,children:"Xem thông tin"}),_.jsx(ba,{to:"/appointment",className:"mobile-nav-items",onClick:l,children:"Lịch hẹn"}),_.jsx("button",{onClick:a,className:"text-left mobile-nav-items",children:"Đăng xuất"})]}):_.jsx(ba,{to:"/login",className:"bg-black text-white px-3 rounded-full hover:bg-gray-600 hover:text-white transition-colors duration-200 mobile-nav-items",onClick:l,children:"Đăng Nhập"})]})})]})};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function _V(t,e,r){return(e=SV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(r),!0).forEach(function(n){_V(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wV(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SV(t){var e=wV(t,"string");return typeof e=="symbol"?e:e+""}const dI=()=>{};let yE={},HL={},UL=null,VL={mark:dI,measure:dI};try{typeof window<"u"&&(yE=window),typeof document<"u"&&(HL=document),typeof MutationObserver<"u"&&(UL=MutationObserver),typeof performance<"u"&&(VL=performance)}catch{}const{userAgent:fI=""}=yE.navigator||{},Qu=yE,Oi=HL,pI=UL,W0=VL;Qu.document;const Gc=!!Oi.documentElement&&!!Oi.head&&typeof Oi.addEventListener=="function"&&typeof Oi.createElement=="function",WL=~fI.indexOf("MSIE")||~fI.indexOf("Trident/");var CV=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,kV=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,YL={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},EV={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},XL=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],vo="classic",jb="duotone",TV="sharp",AV="sharp-duotone",GL=[vo,jb,TV,AV],PV={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},MV={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},IV=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),OV={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},DV=["fak","fa-kit","fakd","fa-kit-duotone"],mI={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},NV=["kit"],LV={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},RV=["fak","fakd"],jV={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},gI={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Y0={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},zV=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],FV=["fak","fa-kit","fakd","fa-kit-duotone"],BV={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},$V={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},HV={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},XS={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},UV=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],GS=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...zV,...UV],VV=["solid","regular","light","thin","duotone","brands"],qL=[1,2,3,4,5,6,7,8,9,10],WV=qL.concat([11,12,13,14,15,16,17,18,19,20]),YV=[...Object.keys(HV),...VV,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Y0.GROUP,Y0.SWAP_OPACITY,Y0.PRIMARY,Y0.SECONDARY].concat(qL.map(t=>"".concat(t,"x"))).concat(WV.map(t=>"w-".concat(t))),XV={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Vc="___FONT_AWESOME___",qS=16,ZL="fa",KL="svg-inline--fa",Sd="data-fa-i2svg",ZS="data-fa-pseudo-element",GV="data-fa-pseudo-element-pending",xE="data-prefix",bE="data-icon",vI="fontawesome-i2svg",qV="async",ZV=["HTML","HEAD","STYLE","SCRIPT"],JL=(()=>{try{return!0}catch{return!1}})();function ny(t){return new Proxy(t,{get(e,r){return r in e?e[r]:e[vo]}})}const QL=Mt({},YL);QL[vo]=Mt(Mt(Mt(Mt({},{"fa-duotone":"duotone"}),YL[vo]),mI.kit),mI["kit-duotone"]);const KV=ny(QL),KS=Mt({},OV);KS[vo]=Mt(Mt(Mt(Mt({},{duotone:"fad"}),KS[vo]),gI.kit),gI["kit-duotone"]);const yI=ny(KS),JS=Mt({},XS);JS[vo]=Mt(Mt({},JS[vo]),jV.kit);const _E=ny(JS),QS=Mt({},$V);QS[vo]=Mt(Mt({},QS[vo]),LV.kit);ny(QS);const JV=CV,eR="fa-layers-text",QV=kV,eW=Mt({},PV);ny(eW);const tW=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Yw=EV,rW=[...NV,...YV],Zg=Qu.FontAwesomeConfig||{};function nW(t){var e=Oi.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function iW(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Oi&&typeof Oi.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[r,n]=e;const i=iW(nW(r));i!=null&&(Zg[n]=i)});const tR={styleDefault:"solid",familyDefault:vo,cssPrefix:ZL,replacementClass:KL,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Zg.familyPrefix&&(Zg.cssPrefix=Zg.familyPrefix);const Rp=Mt(Mt({},tR),Zg);Rp.autoReplaceSvg||(Rp.observeMutations=!1);const yr={};Object.keys(tR).forEach(t=>{Object.defineProperty(yr,t,{enumerable:!0,set:function(e){Rp[t]=e,Kg.forEach(r=>r(yr))},get:function(){return Rp[t]}})});Object.defineProperty(yr,"familyPrefix",{enumerable:!0,set:function(t){Rp.cssPrefix=t,Kg.forEach(e=>e(yr))},get:function(){return Rp.cssPrefix}});Qu.FontAwesomeConfig=yr;const Kg=[];function aW(t){return Kg.push(t),()=>{Kg.splice(Kg.indexOf(t),1)}}const _u=qS,$l={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function oW(t){if(!t||!Gc)return;const e=Oi.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const r=Oi.head.childNodes;let n=null;for(let i=r.length-1;i>-1;i--){const o=r[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(n=o)}return Oi.head.insertBefore(e,n),t}const sW="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Pv(){let t=12,e="";for(;t-- >0;)e+=sW[Math.random()*62|0];return e}function im(t){const e=[];for(let r=(t||[]).length>>>0;r--;)e[r]=t[r];return e}function wE(t){return t.classList?im(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function rR(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function lW(t){return Object.keys(t||{}).reduce((e,r)=>e+"".concat(r,'="').concat(rR(t[r]),'" '),"").trim()}function zb(t){return Object.keys(t||{}).reduce((e,r)=>e+"".concat(r,": ").concat(t[r].trim(),";"),"")}function SE(t){return t.size!==$l.size||t.x!==$l.x||t.y!==$l.y||t.rotate!==$l.rotate||t.flipX||t.flipY}function cW(t){let{transform:e,containerWidth:r,iconWidth:n}=t;const i={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),l="rotate(".concat(e.rotate," 0 0)"),u={transform:"".concat(o," ").concat(a," ").concat(l)},h={transform:"translate(".concat(n/2*-1," -256)")};return{outer:i,inner:u,path:h}}function uW(t){let{transform:e,width:r=qS,height:n=qS,startCentered:i=!1}=t,o="";return i&&WL?o+="translate(".concat(e.x/_u-r/2,"em, ").concat(e.y/_u-n/2,"em) "):i?o+="translate(calc(-50% + ".concat(e.x/_u,"em), calc(-50% + ").concat(e.y/_u,"em)) "):o+="translate(".concat(e.x/_u,"em, ").concat(e.y/_u,"em) "),o+="scale(".concat(e.size/_u*(e.flipX?-1:1),", ").concat(e.size/_u*(e.flipY?-1:1),") "),o+="rotate(".concat(e.rotate,"deg) "),o}var hW=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function nR(){const t=ZL,e=KL,r=yr.cssPrefix,n=yr.replacementClass;let i=hW;if(r!==t||n!==e){const o=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),l=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(r,"-")).replace(a,"--".concat(r,"-")).replace(l,".".concat(n))}return i}let xI=!1;function Xw(){yr.autoAddCss&&!xI&&(oW(nR()),xI=!0)}var dW={mixout(){return{dom:{css:nR,insertCss:Xw}}},hooks(){return{beforeDOMElementCreation(){Xw()},beforeI2svg(){Xw()}}}};const Wc=Qu||{};Wc[Vc]||(Wc[Vc]={});Wc[Vc].styles||(Wc[Vc].styles={});Wc[Vc].hooks||(Wc[Vc].hooks={});Wc[Vc].shims||(Wc[Vc].shims=[]);var Hl=Wc[Vc];const iR=[],aR=function(){Oi.removeEventListener("DOMContentLoaded",aR),I1=1,iR.map(t=>t())};let I1=!1;Gc&&(I1=(Oi.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Oi.readyState),I1||Oi.addEventListener("DOMContentLoaded",aR));function fW(t){Gc&&(I1?setTimeout(t,0):iR.push(t))}function iy(t){const{tag:e,attributes:r={},children:n=[]}=t;return typeof t=="string"?rR(t):"<".concat(e," ").concat(lW(r),">").concat(n.map(iy).join(""),"</").concat(e,">")}function bI(t,e,r){if(t&&t[e]&&t[e][r])return{prefix:e,iconName:r,icon:t[e][r]}}var Gw=function(e,r,n,i){var o=Object.keys(e),a=o.length,l=r,u,h,f;for(n===void 0?(u=1,f=e[o[0]]):(u=0,f=n);u<a;u++)h=o[u],f=l(f,e[h],h,e);return f};function pW(t){const e=[];let r=0;const n=t.length;for(;r<n;){const i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const o=t.charCodeAt(r++);(o&64512)==56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),r--)}else e.push(i)}return e}function eC(t){const e=pW(t);return e.length===1?e[0].toString(16):null}function mW(t,e){const r=t.length;let n=t.charCodeAt(e),i;return n>=55296&&n<=56319&&r>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(n-55296)*1024+i-56320+65536:n}function _I(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return!!n.icon?e[n.iconName]=n.icon:e[r]=n,e},{})}function tC(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:n=!1}=r,i=_I(e);typeof Hl.hooks.addPack=="function"&&!n?Hl.hooks.addPack(t,_I(e)):Hl.styles[t]=Mt(Mt({},Hl.styles[t]||{}),i),t==="fas"&&tC("fa",e)}const{styles:Mv,shims:gW}=Hl,oR=Object.keys(_E),vW=oR.reduce((t,e)=>(t[e]=Object.keys(_E[e]),t),{});let CE=null,sR={},lR={},cR={},uR={},hR={};function yW(t){return~rW.indexOf(t)}function xW(t,e){const r=e.split("-"),n=r[0],i=r.slice(1).join("-");return n===t&&i!==""&&!yW(i)?i:null}const dR=()=>{const t=n=>Gw(Mv,(i,o,a)=>(i[a]=Gw(o,n,{}),i),{});sR=t((n,i,o)=>(i[3]&&(n[i[3]]=o),i[2]&&i[2].filter(l=>typeof l=="number").forEach(l=>{n[l.toString(16)]=o}),n)),lR=t((n,i,o)=>(n[o]=o,i[2]&&i[2].filter(l=>typeof l=="string").forEach(l=>{n[l]=o}),n)),hR=t((n,i,o)=>{const a=i[2];return n[o]=o,a.forEach(l=>{n[l]=o}),n});const e="far"in Mv||yr.autoFetchSvg,r=Gw(gW,(n,i)=>{const o=i[0];let a=i[1];const l=i[2];return a==="far"&&!e&&(a="fas"),typeof o=="string"&&(n.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(n.unicodes[o.toString(16)]={prefix:a,iconName:l}),n},{names:{},unicodes:{}});cR=r.names,uR=r.unicodes,CE=Fb(yr.styleDefault,{family:yr.familyDefault})};aW(t=>{CE=Fb(t.styleDefault,{family:yr.familyDefault})});dR();function kE(t,e){return(sR[t]||{})[e]}function bW(t,e){return(lR[t]||{})[e]}function ed(t,e){return(hR[t]||{})[e]}function fR(t){return cR[t]||{prefix:null,iconName:null}}function _W(t){const e=uR[t],r=kE("fas",t);return e||(r?{prefix:"fas",iconName:r}:null)||{prefix:null,iconName:null}}function eh(){return CE}const pR=()=>({prefix:null,iconName:null,rest:[]});function wW(t){let e=vo;const r=oR.reduce((n,i)=>(n[i]="".concat(yr.cssPrefix,"-").concat(i),n),{});return GL.forEach(n=>{(t.includes(r[n])||t.some(i=>vW[n].includes(i)))&&(e=n)}),e}function Fb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:r=vo}=e,n=KV[r][t];if(r===jb&&!t)return"fad";const i=yI[r][t]||yI[r][n],o=t in Hl.styles?t:null;return i||o||null}function SW(t){let e=[],r=null;return t.forEach(n=>{const i=xW(yr.cssPrefix,n);i?r=i:n&&e.push(n)}),{iconName:r,rest:e}}function wI(t){return t.sort().filter((e,r,n)=>n.indexOf(e)===r)}function Bb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:r=!1}=e;let n=null;const i=GS.concat(FV),o=wI(t.filter(m=>i.includes(m))),a=wI(t.filter(m=>!GS.includes(m))),l=o.filter(m=>(n=m,!XL.includes(m))),[u=null]=l,h=wW(o),f=Mt(Mt({},SW(a)),{},{prefix:Fb(u,{family:h})});return Mt(Mt(Mt({},f),TW({values:t,family:h,styles:Mv,config:yr,canonical:f,givenPrefix:n})),CW(r,n,f))}function CW(t,e,r){let{prefix:n,iconName:i}=r;if(t||!n||!i)return{prefix:n,iconName:i};const o=e==="fa"?fR(i):{},a=ed(n,i);return i=o.iconName||a||i,n=o.prefix||n,n==="far"&&!Mv.far&&Mv.fas&&!yr.autoFetchSvg&&(n="fas"),{prefix:n,iconName:i}}const kW=GL.filter(t=>t!==vo||t!==jb),EW=Object.keys(XS).filter(t=>t!==vo).map(t=>Object.keys(XS[t])).flat();function TW(t){const{values:e,family:r,canonical:n,givenPrefix:i="",styles:o={},config:a={}}=t,l=r===jb,u=e.includes("fa-duotone")||e.includes("fad"),h=a.familyDefault==="duotone",f=n.prefix==="fad"||n.prefix==="fa-duotone";if(!l&&(u||h||f)&&(n.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(n.prefix="fab"),!n.prefix&&kW.includes(r)&&(Object.keys(o).find(x=>EW.includes(x))||a.autoFetchSvg)){const x=IV.get(r).defaultShortPrefixId;n.prefix=x,n.iconName=ed(n.prefix,n.iconName)||n.iconName}return(n.prefix==="fa"||i==="fa")&&(n.prefix=eh()||"fas"),n}class AW{constructor(){this.definitions={}}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const i=r.reduce(this._pullDefinitions,{});Object.keys(i).forEach(o=>{this.definitions[o]=Mt(Mt({},this.definitions[o]||{}),i[o]),tC(o,i[o]);const a=_E[vo][o];a&&tC(a,i[o]),dR()})}reset(){this.definitions={}}_pullDefinitions(e,r){const n=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(n).map(i=>{const{prefix:o,iconName:a,icon:l}=n[i],u=l[2];e[o]||(e[o]={}),u.length>0&&u.forEach(h=>{typeof h=="string"&&(e[o][h]=l)}),e[o][a]=l}),e}}let SI=[],sp={};const yp={},PW=Object.keys(yp);function MW(t,e){let{mixoutsTo:r}=e;return SI=t,sp={},Object.keys(yp).forEach(n=>{PW.indexOf(n)===-1&&delete yp[n]}),SI.forEach(n=>{const i=n.mixout?n.mixout():{};if(Object.keys(i).forEach(o=>{typeof i[o]=="function"&&(r[o]=i[o]),typeof i[o]=="object"&&Object.keys(i[o]).forEach(a=>{r[o]||(r[o]={}),r[o][a]=i[o][a]})}),n.hooks){const o=n.hooks();Object.keys(o).forEach(a=>{sp[a]||(sp[a]=[]),sp[a].push(o[a])})}n.provides&&n.provides(yp)}),r}function rC(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return(sp[t]||[]).forEach(a=>{e=a.apply(null,[e,...n])}),e}function Cd(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];(sp[t]||[]).forEach(o=>{o.apply(null,r)})}function th(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return yp[t]?yp[t].apply(null,e):void 0}function nC(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const r=t.prefix||eh();if(e)return e=ed(r,e)||e,bI(mR.definitions,r,e)||bI(Hl.styles,r,e)}const mR=new AW,IW=()=>{yr.autoReplaceSvg=!1,yr.observeMutations=!1,Cd("noAuto")},OW={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Gc?(Cd("beforeI2svg",t),th("pseudoElements2svg",t),th("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;yr.autoReplaceSvg===!1&&(yr.autoReplaceSvg=!0),yr.observeMutations=!0,fW(()=>{NW({autoReplaceSvgRoot:e}),Cd("watch",t)})}},DW={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:ed(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],r=Fb(t[0]);return{prefix:r,iconName:ed(r,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(yr.cssPrefix,"-"))>-1||t.match(JV))){const e=Bb(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||eh(),iconName:ed(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=eh();return{prefix:e,iconName:ed(e,t)||t}}}},ys={noAuto:IW,config:yr,dom:OW,parse:DW,library:mR,findIconDefinition:nC,toHtml:iy},NW=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Oi}=t;(Object.keys(Hl.styles).length>0||yr.autoFetchSvg)&&Gc&&yr.autoReplaceSvg&&ys.dom.i2svg({node:e})};function $b(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(r=>iy(r))}}),Object.defineProperty(t,"node",{get:function(){if(!Gc)return;const r=Oi.createElement("div");return r.innerHTML=t.html,r.children}}),t}function LW(t){let{children:e,main:r,mask:n,attributes:i,styles:o,transform:a}=t;if(SE(a)&&r.found&&!n.found){const{width:l,height:u}=r,h={x:l/u/2,y:.5};i.style=zb(Mt(Mt({},o),{},{"transform-origin":"".concat(h.x+a.x/16,"em ").concat(h.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function RW(t){let{prefix:e,iconName:r,children:n,attributes:i,symbol:o}=t;const a=o===!0?"".concat(e,"-").concat(yr.cssPrefix,"-").concat(r):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Mt(Mt({},i),{},{id:a}),children:n}]}]}function EE(t){const{icons:{main:e,mask:r},prefix:n,iconName:i,transform:o,symbol:a,title:l,maskId:u,titleId:h,extra:f,watchable:m=!1}=t,{width:x,height:w}=r.found?r:e,S=RV.includes(n),C=[yr.replacementClass,i?"".concat(yr.cssPrefix,"-").concat(i):""].filter(D=>f.classes.indexOf(D)===-1).filter(D=>D!==""||!!D).concat(f.classes).join(" ");let A={children:[],attributes:Mt(Mt({},f.attributes),{},{"data-prefix":n,"data-icon":i,class:C,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(x," ").concat(w)})};const E=S&&!~f.classes.indexOf("fa-fw")?{width:"".concat(x/w*16*.0625,"em")}:{};m&&(A.attributes[Sd]=""),l&&(A.children.push({tag:"title",attributes:{id:A.attributes["aria-labelledby"]||"title-".concat(h||Pv())},children:[l]}),delete A.attributes.title);const P=Mt(Mt({},A),{},{prefix:n,iconName:i,main:e,mask:r,maskId:u,transform:o,symbol:a,styles:Mt(Mt({},E),f.styles)}),{children:I,attributes:N}=r.found&&e.found?th("generateAbstractMask",P)||{children:[],attributes:{}}:th("generateAbstractIcon",P)||{children:[],attributes:{}};return P.children=I,P.attributes=N,a?RW(P):LW(P)}function CI(t){const{content:e,width:r,height:n,transform:i,title:o,extra:a,watchable:l=!1}=t,u=Mt(Mt(Mt({},a.attributes),o?{title:o}:{}),{},{class:a.classes.join(" ")});l&&(u[Sd]="");const h=Mt({},a.styles);SE(i)&&(h.transform=uW({transform:i,startCentered:!0,width:r,height:n}),h["-webkit-transform"]=h.transform);const f=zb(h);f.length>0&&(u.style=f);const m=[];return m.push({tag:"span",attributes:u,children:[e]}),o&&m.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),m}function jW(t){const{content:e,title:r,extra:n}=t,i=Mt(Mt(Mt({},n.attributes),r?{title:r}:{}),{},{class:n.classes.join(" ")}),o=zb(n.styles);o.length>0&&(i.style=o);const a=[];return a.push({tag:"span",attributes:i,children:[e]}),r&&a.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),a}const{styles:qw}=Hl;function iC(t){const e=t[0],r=t[1],[n]=t.slice(4);let i=null;return Array.isArray(n)?i={tag:"g",attributes:{class:"".concat(yr.cssPrefix,"-").concat(Yw.GROUP)},children:[{tag:"path",attributes:{class:"".concat(yr.cssPrefix,"-").concat(Yw.SECONDARY),fill:"currentColor",d:n[0]}},{tag:"path",attributes:{class:"".concat(yr.cssPrefix,"-").concat(Yw.PRIMARY),fill:"currentColor",d:n[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:n}},{found:!0,width:e,height:r,icon:i}}const zW={found:!1,width:512,height:512};function FW(t,e){!JL&&!yr.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function aC(t,e){let r=e;return e==="fa"&&yr.styleDefault!==null&&(e=eh()),new Promise((n,i)=>{if(r==="fa"){const o=fR(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&qw[e]&&qw[e][t]){const o=qw[e][t];return n(iC(o))}FW(t,e),n(Mt(Mt({},zW),{},{icon:yr.showMissingIcons&&t?th("missingIconAbstract")||{}:{}}))})}const kI=()=>{},oC=yr.measurePerformance&&W0&&W0.mark&&W0.measure?W0:{mark:kI,measure:kI},zg='FA "6.7.2"',BW=t=>(oC.mark("".concat(zg," ").concat(t," begins")),()=>gR(t)),gR=t=>{oC.mark("".concat(zg," ").concat(t," ends")),oC.measure("".concat(zg," ").concat(t),"".concat(zg," ").concat(t," begins"),"".concat(zg," ").concat(t," ends"))};var TE={begin:BW,end:gR};const Ox=()=>{};function EI(t){return typeof(t.getAttribute?t.getAttribute(Sd):null)=="string"}function $W(t){const e=t.getAttribute?t.getAttribute(xE):null,r=t.getAttribute?t.getAttribute(bE):null;return e&&r}function HW(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(yr.replacementClass)}function UW(){return yr.autoReplaceSvg===!0?Dx.replace:Dx[yr.autoReplaceSvg]||Dx.replace}function VW(t){return Oi.createElementNS("http://www.w3.org/2000/svg",t)}function WW(t){return Oi.createElement(t)}function vR(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:r=t.tag==="svg"?VW:WW}=e;if(typeof t=="string")return Oi.createTextNode(t);const n=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){n.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){n.appendChild(vR(o,{ceFn:r}))}),n}function YW(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Dx={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(r=>{e.parentNode.insertBefore(vR(r),e)}),e.getAttribute(Sd)===null&&yr.keepOriginalSource){let r=Oi.createComment(YW(e));e.parentNode.replaceChild(r,e)}else e.remove()},nest:function(t){const e=t[0],r=t[1];if(~wE(e).indexOf(yr.replacementClass))return Dx.replace(t);const n=new RegExp("".concat(yr.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){const o=r[0].attributes.class.split(" ").reduce((a,l)=>(l===yr.replacementClass||l.match(n)?a.toSvg.push(l):a.toNode.push(l),a),{toNode:[],toSvg:[]});r[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",o.toNode.join(" "))}const i=r.map(o=>iy(o)).join(`
`);e.setAttribute(Sd,""),e.innerHTML=i}};function TI(t){t()}function yR(t,e){const r=typeof e=="function"?e:Ox;if(t.length===0)r();else{let n=TI;yr.mutateApproach===qV&&(n=Qu.requestAnimationFrame||TI),n(()=>{const i=UW(),o=TE.begin("mutate");t.map(i),o(),r()})}}let AE=!1;function xR(){AE=!0}function sC(){AE=!1}let O1=null;function AI(t){if(!pI||!yr.observeMutations)return;const{treeCallback:e=Ox,nodeCallback:r=Ox,pseudoElementsCallback:n=Ox,observeMutationsRoot:i=Oi}=t;O1=new pI(o=>{if(AE)return;const a=eh();im(o).forEach(l=>{if(l.type==="childList"&&l.addedNodes.length>0&&!EI(l.addedNodes[0])&&(yr.searchPseudoElements&&n(l.target),e(l.target)),l.type==="attributes"&&l.target.parentNode&&yr.searchPseudoElements&&n(l.target.parentNode),l.type==="attributes"&&EI(l.target)&&~tW.indexOf(l.attributeName))if(l.attributeName==="class"&&$W(l.target)){const{prefix:u,iconName:h}=Bb(wE(l.target));l.target.setAttribute(xE,u||a),h&&l.target.setAttribute(bE,h)}else HW(l.target)&&r(l.target)})}),Gc&&O1.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function XW(){O1&&O1.disconnect()}function GW(t){const e=t.getAttribute("style");let r=[];return e&&(r=e.split(";").reduce((n,i)=>{const o=i.split(":"),a=o[0],l=o.slice(1);return a&&l.length>0&&(n[a]=l.join(":").trim()),n},{})),r}function qW(t){const e=t.getAttribute("data-prefix"),r=t.getAttribute("data-icon"),n=t.innerText!==void 0?t.innerText.trim():"";let i=Bb(wE(t));return i.prefix||(i.prefix=eh()),e&&r&&(i.prefix=e,i.iconName=r),i.iconName&&i.prefix||(i.prefix&&n.length>0&&(i.iconName=bW(i.prefix,t.innerText)||kE(i.prefix,eC(t.innerText))),!i.iconName&&yr.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function ZW(t){const e=im(t.attributes).reduce((i,o)=>(i.name!=="class"&&i.name!=="style"&&(i[o.name]=o.value),i),{}),r=t.getAttribute("title"),n=t.getAttribute("data-fa-title-id");return yr.autoA11y&&(r?e["aria-labelledby"]="".concat(yr.replacementClass,"-title-").concat(n||Pv()):(e["aria-hidden"]="true",e.focusable="false")),e}function KW(){return{iconName:null,title:null,titleId:null,prefix:null,transform:$l,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function PI(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:r,prefix:n,rest:i}=qW(t),o=ZW(t),a=rC("parseNodeAttributes",{},t);let l=e.styleParser?GW(t):[];return Mt({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:n,transform:$l,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:l,attributes:o}},a)}const{styles:JW}=Hl;function bR(t){const e=yr.autoReplaceSvg==="nest"?PI(t,{styleParser:!1}):PI(t);return~e.extra.classes.indexOf(eR)?th("generateLayersText",t,e):th("generateSvgReplacementMutation",t,e)}function QW(){return[...DV,...GS]}function MI(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Gc)return Promise.resolve();const r=Oi.documentElement.classList,n=f=>r.add("".concat(vI,"-").concat(f)),i=f=>r.remove("".concat(vI,"-").concat(f)),o=yr.autoFetchSvg?QW():XL.concat(Object.keys(JW));o.includes("fa")||o.push("fa");const a=[".".concat(eR,":not([").concat(Sd,"])")].concat(o.map(f=>".".concat(f,":not([").concat(Sd,"])"))).join(", ");if(a.length===0)return Promise.resolve();let l=[];try{l=im(t.querySelectorAll(a))}catch{}if(l.length>0)n("pending"),i("complete");else return Promise.resolve();const u=TE.begin("onTree"),h=l.reduce((f,m)=>{try{const x=bR(m);x&&f.push(x)}catch(x){JL||x.name==="MissingIcon"&&console.error(x)}return f},[]);return new Promise((f,m)=>{Promise.all(h).then(x=>{yR(x,()=>{n("active"),n("complete"),i("pending"),typeof e=="function"&&e(),u(),f()})}).catch(x=>{u(),m(x)})})}function eY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;bR(t).then(r=>{r&&yR([r],e)})}function tY(t){return function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=(e||{}).icon?e:nC(e||{});let{mask:i}=r;return i&&(i=(i||{}).icon?i:nC(i||{})),t(n,Mt(Mt({},r),{},{mask:i}))}}const rY=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:r=$l,symbol:n=!1,mask:i=null,maskId:o=null,title:a=null,titleId:l=null,classes:u=[],attributes:h={},styles:f={}}=e;if(!t)return;const{prefix:m,iconName:x,icon:w}=t;return $b(Mt({type:"icon"},t),()=>(Cd("beforeDOMElementCreation",{iconDefinition:t,params:e}),yr.autoA11y&&(a?h["aria-labelledby"]="".concat(yr.replacementClass,"-title-").concat(l||Pv()):(h["aria-hidden"]="true",h.focusable="false")),EE({icons:{main:iC(w),mask:i?iC(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:m,iconName:x,transform:Mt(Mt({},$l),r),symbol:n,title:a,maskId:o,titleId:l,extra:{attributes:h,styles:f,classes:u}})))};var nY={mixout(){return{icon:tY(rY)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=MI,t.nodeCallback=eY,t}}},provides(t){t.i2svg=function(e){const{node:r=Oi,callback:n=()=>{}}=e;return MI(r,n)},t.generateSvgReplacementMutation=function(e,r){const{iconName:n,title:i,titleId:o,prefix:a,transform:l,symbol:u,mask:h,maskId:f,extra:m}=r;return new Promise((x,w)=>{Promise.all([aC(n,a),h.iconName?aC(h.iconName,h.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(S=>{let[C,A]=S;x([e,EE({icons:{main:C,mask:A},prefix:a,iconName:n,transform:l,symbol:u,maskId:f,title:i,titleId:o,extra:m,watchable:!0})])}).catch(w)})},t.generateAbstractIcon=function(e){let{children:r,attributes:n,main:i,transform:o,styles:a}=e;const l=zb(a);l.length>0&&(n.style=l);let u;return SE(o)&&(u=th("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),r.push(u||i.icon),{children:r,attributes:n}}}},iY={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:r=[]}=e;return $b({type:"layer"},()=>{Cd("beforeDOMElementCreation",{assembler:t,params:e});let n=[];return t(i=>{Array.isArray(i)?i.map(o=>{n=n.concat(o.abstract)}):n=n.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(yr.cssPrefix,"-layers"),...r].join(" ")},children:n}]})}}}},aY={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:r=null,classes:n=[],attributes:i={},styles:o={}}=e;return $b({type:"counter",content:t},()=>(Cd("beforeDOMElementCreation",{content:t,params:e}),jW({content:t.toString(),title:r,extra:{attributes:i,styles:o,classes:["".concat(yr.cssPrefix,"-layers-counter"),...n]}})))}}}},oY={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:r=$l,title:n=null,classes:i=[],attributes:o={},styles:a={}}=e;return $b({type:"text",content:t},()=>(Cd("beforeDOMElementCreation",{content:t,params:e}),CI({content:t,transform:Mt(Mt({},$l),r),title:n,extra:{attributes:o,styles:a,classes:["".concat(yr.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,r){const{title:n,transform:i,extra:o}=r;let a=null,l=null;if(WL){const u=parseInt(getComputedStyle(e).fontSize,10),h=e.getBoundingClientRect();a=h.width/u,l=h.height/u}return yr.autoA11y&&!n&&(o.attributes["aria-hidden"]="true"),Promise.resolve([e,CI({content:e.innerHTML,width:a,height:l,transform:i,title:n,extra:o,watchable:!0})])}}};const sY=new RegExp('"',"ug"),II=[1105920,1112319],OI=Mt(Mt(Mt(Mt({},{FontAwesome:{normal:"fas",400:"fas"}}),MV),XV),BV),lC=Object.keys(OI).reduce((t,e)=>(t[e.toLowerCase()]=OI[e],t),{}),lY=Object.keys(lC).reduce((t,e)=>{const r=lC[e];return t[e]=r[900]||[...Object.entries(r)][0][1],t},{});function cY(t){const e=t.replace(sY,""),r=mW(e,0),n=r>=II[0]&&r<=II[1],i=e.length===2?e[0]===e[1]:!1;return{value:eC(i?e[0]:e),isSecondary:n||i}}function uY(t,e){const r=t.replace(/^['"]|['"]$/g,"").toLowerCase(),n=parseInt(e),i=isNaN(n)?"normal":n;return(lC[r]||{})[i]||lY[r]}function DI(t,e){const r="".concat(GV).concat(e.replace(":","-"));return new Promise((n,i)=>{if(t.getAttribute(r)!==null)return n();const a=im(t.children).filter(x=>x.getAttribute(ZS)===e)[0],l=Qu.getComputedStyle(t,e),u=l.getPropertyValue("font-family"),h=u.match(QV),f=l.getPropertyValue("font-weight"),m=l.getPropertyValue("content");if(a&&!h)return t.removeChild(a),n();if(h&&m!=="none"&&m!==""){const x=l.getPropertyValue("content");let w=uY(u,f);const{value:S,isSecondary:C}=cY(x),A=h[0].startsWith("FontAwesome");let E=kE(w,S),P=E;if(A){const I=_W(S);I.iconName&&I.prefix&&(E=I.iconName,w=I.prefix)}if(E&&!C&&(!a||a.getAttribute(xE)!==w||a.getAttribute(bE)!==P)){t.setAttribute(r,P),a&&t.removeChild(a);const I=KW(),{extra:N}=I;N.attributes[ZS]=e,aC(E,w).then(D=>{const L=EE(Mt(Mt({},I),{},{icons:{main:D,mask:pR()},prefix:w,iconName:P,extra:N,watchable:!0})),R=Oi.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(R,t.firstChild):t.appendChild(R),R.outerHTML=L.map($=>iy($)).join(`
`),t.removeAttribute(r),n()}).catch(i)}else n()}else n()})}function hY(t){return Promise.all([DI(t,"::before"),DI(t,"::after")])}function dY(t){return t.parentNode!==document.head&&!~ZV.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(ZS)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function NI(t){if(Gc)return new Promise((e,r)=>{const n=im(t.querySelectorAll("*")).filter(dY).map(hY),i=TE.begin("searchPseudoElements");xR(),Promise.all(n).then(()=>{i(),sC(),e()}).catch(()=>{i(),sC(),r()})})}var fY={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=NI,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:r=Oi}=e;yr.searchPseudoElements&&NI(r)}}};let LI=!1;var pY={mixout(){return{dom:{unwatch(){xR(),LI=!0}}}},hooks(){return{bootstrap(){AI(rC("mutationObserverCallbacks",{}))},noAuto(){XW()},watch(t){const{observeMutationsRoot:e}=t;LI?sC():AI(rC("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const RI=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((r,n)=>{const i=n.toLowerCase().split("-"),o=i[0];let a=i.slice(1).join("-");if(o&&a==="h")return r.flipX=!0,r;if(o&&a==="v")return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a;break}return r},e)};var mY={mixout(){return{parse:{transform:t=>RI(t)}}},hooks(){return{parseNodeAttributes(t,e){const r=e.getAttribute("data-fa-transform");return r&&(t.transform=RI(r)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:r,transform:n,containerWidth:i,iconWidth:o}=e;const a={transform:"translate(".concat(i/2," 256)")},l="translate(".concat(n.x*32,", ").concat(n.y*32,") "),u="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),h="rotate(".concat(n.rotate," 0 0)"),f={transform:"".concat(l," ").concat(u," ").concat(h)},m={transform:"translate(".concat(o/2*-1," -256)")},x={outer:a,inner:f,path:m};return{tag:"g",attributes:Mt({},x.outer),children:[{tag:"g",attributes:Mt({},x.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Mt(Mt({},r.icon.attributes),x.path)}]}]}}}};const Zw={x:0,y:0,width:"100%",height:"100%"};function jI(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function gY(t){return t.tag==="g"?t.children:[t]}var vY={hooks(){return{parseNodeAttributes(t,e){const r=e.getAttribute("data-fa-mask"),n=r?Bb(r.split(" ").map(i=>i.trim())):pR();return n.prefix||(n.prefix=eh()),t.mask=n,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:r,attributes:n,main:i,mask:o,maskId:a,transform:l}=e;const{width:u,icon:h}=i,{width:f,icon:m}=o,x=cW({transform:l,containerWidth:f,iconWidth:u}),w={tag:"rect",attributes:Mt(Mt({},Zw),{},{fill:"white"})},S=h.children?{children:h.children.map(jI)}:{},C={tag:"g",attributes:Mt({},x.inner),children:[jI(Mt({tag:h.tag,attributes:Mt(Mt({},h.attributes),x.path)},S))]},A={tag:"g",attributes:Mt({},x.outer),children:[C]},E="mask-".concat(a||Pv()),P="clip-".concat(a||Pv()),I={tag:"mask",attributes:Mt(Mt({},Zw),{},{id:E,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[w,A]},N={tag:"defs",children:[{tag:"clipPath",attributes:{id:P},children:gY(m)},I]};return r.push(N,{tag:"rect",attributes:Mt({fill:"currentColor","clip-path":"url(#".concat(P,")"),mask:"url(#".concat(E,")")},Zw)}),{children:r,attributes:n}}}},yY={provides(t){let e=!1;Qu.matchMedia&&(e=Qu.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const r=[],n={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Mt(Mt({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const o=Mt(Mt({},i),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Mt(Mt({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||a.children.push({tag:"animate",attributes:Mt(Mt({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Mt(Mt({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:Mt(Mt({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:Mt(Mt({},o),{},{values:"1;0;0;0;0;1;"})}]}),e||r.push({tag:"path",attributes:Mt(Mt({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Mt(Mt({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},xY={hooks(){return{parseNodeAttributes(t,e){const r=e.getAttribute("data-fa-symbol"),n=r===null?!1:r===""?!0:r;return t.symbol=n,t}}}},bY=[dW,nY,iY,aY,oY,fY,pY,mY,vY,yY,xY];MW(bY,{mixoutsTo:ys});ys.noAuto;ys.config;ys.library;ys.dom;const cC=ys.parse;ys.findIconDefinition;ys.toHtml;const _Y=ys.icon;ys.layer;ys.text;ys.counter;var _R={exports:{}},wY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",SY=wY,CY=SY;function wR(){}function SR(){}SR.resetWarningCache=wR;var kY=function(){function t(n,i,o,a,l,u){if(u!==CY){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:SR,resetWarningCache:wR};return r.PropTypes=r,r};_R.exports=kY();var Ze=_R.exports;const Ee=Qn(Ze);function zI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ll(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(r),!0).forEach(function(n){lp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D1(t){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D1(t)}function lp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EY(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function TY(t,e){if(t==null)return{};var r=EY(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uC(t){return AY(t)||PY(t)||MY(t)||IY()}function AY(t){if(Array.isArray(t))return hC(t)}function PY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MY(t,e){if(t){if(typeof t=="string")return hC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hC(t,e)}}function hC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OY(t){var e,r=t.beat,n=t.fade,i=t.beatFade,o=t.bounce,a=t.shake,l=t.flash,u=t.spin,h=t.spinPulse,f=t.spinReverse,m=t.pulse,x=t.fixedWidth,w=t.inverse,S=t.border,C=t.listItem,A=t.flip,E=t.size,P=t.rotation,I=t.pull,N=(e={"fa-beat":r,"fa-fade":n,"fa-beat-fade":i,"fa-bounce":o,"fa-shake":a,"fa-flash":l,"fa-spin":u,"fa-spin-reverse":f,"fa-spin-pulse":h,"fa-pulse":m,"fa-fw":x,"fa-inverse":w,"fa-border":S,"fa-li":C,"fa-flip":A===!0,"fa-flip-horizontal":A==="horizontal"||A==="both","fa-flip-vertical":A==="vertical"||A==="both"},lp(e,"fa-".concat(E),typeof E<"u"&&E!==null),lp(e,"fa-rotate-".concat(P),typeof P<"u"&&P!==null&&P!==0),lp(e,"fa-pull-".concat(I),typeof I<"u"&&I!==null),lp(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(N).map(function(D){return N[D]?D:null}).filter(function(D){return D})}function DY(t){return t=t-0,t===t}function CR(t){return DY(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,r){return r?r.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var NY=["style"];function LY(t){return t.charAt(0).toUpperCase()+t.slice(1)}function RY(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,r){var n=r.indexOf(":"),i=CR(r.slice(0,n)),o=r.slice(n+1).trim();return i.startsWith("webkit")?e[LY(i)]=o:e[i]=o,e},{})}function kR(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var n=(e.children||[]).map(function(u){return kR(t,u)}),i=Object.keys(e.attributes||{}).reduce(function(u,h){var f=e.attributes[h];switch(h){case"class":u.attrs.className=f,delete e.attributes.class;break;case"style":u.attrs.style=RY(f);break;default:h.indexOf("aria-")===0||h.indexOf("data-")===0?u.attrs[h.toLowerCase()]=f:u.attrs[CR(h)]=f}return u},{attrs:{}}),o=r.style,a=o===void 0?{}:o,l=TY(r,NY);return i.attrs.style=Ll(Ll({},i.attrs.style),a),t.apply(void 0,[e.tag,Ll(Ll({},i.attrs),l)].concat(uC(n)))}var ER=!1;try{ER=!0}catch{}function jY(){if(!ER&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function FI(t){if(t&&D1(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(cC.icon)return cC.icon(t);if(t===null)return null;if(t&&D1(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function Kw(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?lp({},t,e):{}}var BI={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},mr=ke.forwardRef(function(t,e){var r=Ll(Ll({},BI),t),n=r.icon,i=r.mask,o=r.symbol,a=r.className,l=r.title,u=r.titleId,h=r.maskId,f=FI(n),m=Kw("classes",[].concat(uC(OY(r)),uC((a||"").split(" ")))),x=Kw("transform",typeof r.transform=="string"?cC.transform(r.transform):r.transform),w=Kw("mask",FI(i)),S=_Y(f,Ll(Ll(Ll(Ll({},m),x),w),{},{symbol:o,title:l,titleId:u,maskId:h}));if(!S)return jY("Could not find icon",f),null;var C=S.abstract,A={ref:e};return Object.keys(r).forEach(function(E){BI.hasOwnProperty(E)||(A[E]=r[E])}),zY(C[0],A)});mr.displayName="FontAwesomeIcon";mr.propTypes={beat:Ee.bool,border:Ee.bool,beatFade:Ee.bool,bounce:Ee.bool,className:Ee.string,fade:Ee.bool,flash:Ee.bool,mask:Ee.oneOfType([Ee.object,Ee.array,Ee.string]),maskId:Ee.string,fixedWidth:Ee.bool,inverse:Ee.bool,flip:Ee.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Ee.oneOfType([Ee.object,Ee.array,Ee.string]),listItem:Ee.bool,pull:Ee.oneOf(["right","left"]),pulse:Ee.bool,rotation:Ee.oneOf([0,90,180,270]),shake:Ee.bool,size:Ee.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Ee.bool,spinPulse:Ee.bool,spinReverse:Ee.bool,symbol:Ee.oneOfType([Ee.bool,Ee.string]),title:Ee.string,titleId:Ee.string,transform:Ee.oneOfType([Ee.string,Ee.object]),swapOpacity:Ee.bool};var zY=kR.bind(null,ke.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const FY={prefix:"fab",iconName:"tiktok",icon:[448,512,[],"e07b","M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"]},BY={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]},$Y={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"]},HY={prefix:"fab",iconName:"youtube",icon:[576,512,[61802],"f167","M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"]},UY=()=>_.jsxs("footer",{className:"bg-gray-800 text-gray-300",children:[_.jsxs("div",{className:"container mx-auto grid grid-cols-1 md:grid-cols-4 gap-8 p-4 py-8",children:[_.jsxs("div",{children:[_.jsx("div",{className:"flex items-center space-x-3",children:_.jsx("h2",{className:"text-3xl font-bold text-white",children:"Barber Shop"})}),_.jsx("p",{className:"mt-4 text-gray-400",children:"Barber Shop là nơi chuyên cắt tóc nam với phong cách hiện đại và cá tính. Chúng tôi cam kết mang lại dịch vụ chuyên nghiệp và sự hài lòng tối đa cho khách hàng."})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Sitemap"}),_.jsxs("ul",{className:"space-y-2",children:[_.jsx("li",{children:_.jsx("a",{href:"/",className:"hover:text-white transition duration-200",children:"Trang chủ"})}),_.jsx("li",{children:_.jsx("a",{href:"/services",className:"hover:text-white transition duration-200",children:"Dịch vụ"})}),_.jsx("li",{children:_.jsx("a",{href:"/about",className:"hover:text-white transition duration-200",children:"Giới thiệu"})}),_.jsx("li",{children:_.jsx("a",{href:"/contact",className:"hover:text-white transition duration-200",children:"Liên hệ"})}),_.jsx("li",{children:_.jsx("a",{href:"/booking",className:"hover:text-white transition duration-200",children:"Đặt lịch"})})]})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Thông tin"}),_.jsxs("ul",{className:"space-y-2",children:[_.jsx("li",{children:_.jsx("a",{href:"/privacy-policy",className:"hover:text-white transition duration-200",children:"Chính sách bảo mật"})}),_.jsx("li",{children:_.jsx("a",{href:"/terms",className:"hover:text-white transition duration-200",children:"Điều khoản sử dụng"})}),_.jsx("li",{children:_.jsx("a",{href:"/reviews",className:"hover:text-white transition duration-200",children:"Đánh giá"})}),_.jsx("li",{children:_.jsx("a",{href:"/products",className:"hover:text-white transition duration-200",children:"Sản phẩm"})})]})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Theo dõi chúng tôi"}),_.jsxs("div",{className:"space-x-4 flex mb-6",children:[_.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition duration-200",children:_.jsx(mr,{icon:$Y,size:"2x"})}),_.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition duration-200",children:_.jsx(mr,{icon:BY,size:"2x"})}),_.jsx("a",{href:"https://youtube.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition duration-200",children:_.jsx(mr,{icon:HY,size:"2x"})}),_.jsx("a",{href:"https://tiktok.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition duration-200",children:_.jsx(mr,{icon:FY,size:"2x"})})]})]})]}),_.jsx("div",{className:"bg-gray-900 py-4 mt-8 text-center",children:_.jsx("p",{className:"text-gray-400 text-sm",children:"© 2024 Barber Shop. All rights reserved. | Made with ❤️ by YourCompany"})})]});var TR={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Gf,function(){return function(r){function n(o){if(i[o])return i[o].exports;var a=i[o]={exports:{},id:o,loaded:!1};return r[o].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var i={};return n.m=r,n.c=i,n.p="dist/",n(0)}([function(r,n,i){function o(he){return he&&he.__esModule?he:{default:he}}var a=Object.assign||function(he){for(var Se=1;Se<arguments.length;Se++){var oe=arguments[Se];for(var _e in oe)Object.prototype.hasOwnProperty.call(oe,_e)&&(he[_e]=oe[_e])}return he},l=i(1),u=(o(l),i(6)),h=o(u),f=i(7),m=o(f),x=i(8),w=o(x),S=i(9),C=o(S),A=i(10),E=o(A),P=i(11),I=o(P),N=i(14),D=o(N),L=[],R=!1,$={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},W=function(){var he=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(he&&(R=!0),R)return L=(0,I.default)(L,$),(0,E.default)(L,$.once),L},J=function(){L=(0,D.default)(),W()},q=function(){L.forEach(function(he,Se){he.node.removeAttribute("data-aos"),he.node.removeAttribute("data-aos-easing"),he.node.removeAttribute("data-aos-duration"),he.node.removeAttribute("data-aos-delay")})},ee=function(he){return he===!0||he==="mobile"&&C.default.mobile()||he==="phone"&&C.default.phone()||he==="tablet"&&C.default.tablet()||typeof he=="function"&&he()===!0},se=function(he){$=a($,he),L=(0,D.default)();var Se=document.all&&!window.atob;return ee($.disable)||Se?q():($.disableMutationObserver||w.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),$.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",$.easing),document.querySelector("body").setAttribute("data-aos-duration",$.duration),document.querySelector("body").setAttribute("data-aos-delay",$.delay),$.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?W(!0):$.startEvent==="load"?window.addEventListener($.startEvent,function(){W(!0)}):document.addEventListener($.startEvent,function(){W(!0)}),window.addEventListener("resize",(0,m.default)(W,$.debounceDelay,!0)),window.addEventListener("orientationchange",(0,m.default)(W,$.debounceDelay,!0)),window.addEventListener("scroll",(0,h.default)(function(){(0,E.default)(L,$.once)},$.throttleDelay)),$.disableMutationObserver||w.default.ready("[data-aos]",J),L)};r.exports={init:se,refresh:W,refreshHard:J}},function(r,n){},,,,,function(r,n){(function(i){function o(ee,se,he){function Se(yt){var sr=Ke,kr=Ue;return Ke=Ue=void 0,pt=yt,Ae=ee.apply(kr,sr)}function oe(yt){return pt=yt,We=setTimeout(Ne,se),Pt?Se(yt):Ae}function _e(yt){var sr=yt-qe,kr=yt-pt,rn=se-sr;return Ht?J(rn,Xe-kr):rn}function xe(yt){var sr=yt-qe,kr=yt-pt;return qe===void 0||sr>=se||sr<0||Ht&&kr>=Xe}function Ne(){var yt=q();return xe(yt)?Re(yt):void(We=setTimeout(Ne,_e(yt)))}function Re(yt){return We=void 0,dt&&Ke?Se(yt):(Ke=Ue=void 0,Ae)}function He(){We!==void 0&&clearTimeout(We),pt=0,Ke=qe=Ue=We=void 0}function tt(){return We===void 0?Ae:Re(q())}function nt(){var yt=q(),sr=xe(yt);if(Ke=arguments,Ue=this,qe=yt,sr){if(We===void 0)return oe(qe);if(Ht)return We=setTimeout(Ne,se),Se(qe)}return We===void 0&&(We=setTimeout(Ne,se)),Ae}var Ke,Ue,Xe,Ae,We,qe,pt=0,Pt=!1,Ht=!1,dt=!0;if(typeof ee!="function")throw new TypeError(x);return se=f(se)||0,l(he)&&(Pt=!!he.leading,Ht="maxWait"in he,Xe=Ht?W(f(he.maxWait)||0,se):Xe,dt="trailing"in he?!!he.trailing:dt),nt.cancel=He,nt.flush=tt,nt}function a(ee,se,he){var Se=!0,oe=!0;if(typeof ee!="function")throw new TypeError(x);return l(he)&&(Se="leading"in he?!!he.leading:Se,oe="trailing"in he?!!he.trailing:oe),o(ee,se,{leading:Se,maxWait:se,trailing:oe})}function l(ee){var se=typeof ee>"u"?"undefined":m(ee);return!!ee&&(se=="object"||se=="function")}function u(ee){return!!ee&&(typeof ee>"u"?"undefined":m(ee))=="object"}function h(ee){return(typeof ee>"u"?"undefined":m(ee))=="symbol"||u(ee)&&$.call(ee)==S}function f(ee){if(typeof ee=="number")return ee;if(h(ee))return w;if(l(ee)){var se=typeof ee.valueOf=="function"?ee.valueOf():ee;ee=l(se)?se+"":se}if(typeof ee!="string")return ee===0?ee:+ee;ee=ee.replace(C,"");var he=E.test(ee);return he||P.test(ee)?I(ee.slice(2),he?2:8):A.test(ee)?w:+ee}var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},x="Expected a function",w=NaN,S="[object Symbol]",C=/^\s+|\s+$/g,A=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,P=/^0o[0-7]+$/i,I=parseInt,N=(typeof i>"u"?"undefined":m(i))=="object"&&i&&i.Object===Object&&i,D=(typeof self>"u"?"undefined":m(self))=="object"&&self&&self.Object===Object&&self,L=N||D||Function("return this")(),R=Object.prototype,$=R.toString,W=Math.max,J=Math.min,q=function(){return L.Date.now()};r.exports=a}).call(n,function(){return this}())},function(r,n){(function(i){function o(q,ee,se){function he(dt){var yt=nt,sr=Ke;return nt=Ke=void 0,qe=dt,Xe=q.apply(sr,yt)}function Se(dt){return qe=dt,Ae=setTimeout(xe,ee),pt?he(dt):Xe}function oe(dt){var yt=dt-We,sr=dt-qe,kr=ee-yt;return Pt?W(kr,Ue-sr):kr}function _e(dt){var yt=dt-We,sr=dt-qe;return We===void 0||yt>=ee||yt<0||Pt&&sr>=Ue}function xe(){var dt=J();return _e(dt)?Ne(dt):void(Ae=setTimeout(xe,oe(dt)))}function Ne(dt){return Ae=void 0,Ht&&nt?he(dt):(nt=Ke=void 0,Xe)}function Re(){Ae!==void 0&&clearTimeout(Ae),qe=0,nt=We=Ke=Ae=void 0}function He(){return Ae===void 0?Xe:Ne(J())}function tt(){var dt=J(),yt=_e(dt);if(nt=arguments,Ke=this,We=dt,yt){if(Ae===void 0)return Se(We);if(Pt)return Ae=setTimeout(xe,ee),he(We)}return Ae===void 0&&(Ae=setTimeout(xe,ee)),Xe}var nt,Ke,Ue,Xe,Ae,We,qe=0,pt=!1,Pt=!1,Ht=!0;if(typeof q!="function")throw new TypeError(m);return ee=h(ee)||0,a(se)&&(pt=!!se.leading,Pt="maxWait"in se,Ue=Pt?$(h(se.maxWait)||0,ee):Ue,Ht="trailing"in se?!!se.trailing:Ht),tt.cancel=Re,tt.flush=He,tt}function a(q){var ee=typeof q>"u"?"undefined":f(q);return!!q&&(ee=="object"||ee=="function")}function l(q){return!!q&&(typeof q>"u"?"undefined":f(q))=="object"}function u(q){return(typeof q>"u"?"undefined":f(q))=="symbol"||l(q)&&R.call(q)==w}function h(q){if(typeof q=="number")return q;if(u(q))return x;if(a(q)){var ee=typeof q.valueOf=="function"?q.valueOf():q;q=a(ee)?ee+"":ee}if(typeof q!="string")return q===0?q:+q;q=q.replace(S,"");var se=A.test(q);return se||E.test(q)?P(q.slice(2),se?2:8):C.test(q)?x:+q}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},m="Expected a function",x=NaN,w="[object Symbol]",S=/^\s+|\s+$/g,C=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,E=/^0o[0-7]+$/i,P=parseInt,I=(typeof i>"u"?"undefined":f(i))=="object"&&i&&i.Object===Object&&i,N=(typeof self>"u"?"undefined":f(self))=="object"&&self&&self.Object===Object&&self,D=I||N||Function("return this")(),L=Object.prototype,R=L.toString,$=Math.max,W=Math.min,J=function(){return D.Date.now()};r.exports=o}).call(n,function(){return this}())},function(r,n){function i(f){var m=void 0,x=void 0;for(m=0;m<f.length;m+=1)if(x=f[m],x.dataset&&x.dataset.aos||x.children&&i(x.children))return!0;return!1}function o(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function a(){return!!o()}function l(f,m){var x=window.document,w=o(),S=new w(u);h=m,S.observe(x.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function u(f){f&&f.forEach(function(m){var x=Array.prototype.slice.call(m.addedNodes),w=Array.prototype.slice.call(m.removedNodes),S=x.concat(w);if(i(S))return h()})}Object.defineProperty(n,"__esModule",{value:!0});var h=function(){};n.default={isSupported:a,ready:l}},function(r,n){function i(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function o(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function x(w,S){for(var C=0;C<S.length;C++){var A=S[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(w,A.key,A)}}return function(w,S,C){return S&&x(w.prototype,S),C&&x(w,C),w}}(),l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,u=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,h=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,f=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,m=function(){function x(){i(this,x)}return a(x,[{key:"phone",value:function(){var w=o();return!(!l.test(w)&&!u.test(w.substr(0,4)))}},{key:"mobile",value:function(){var w=o();return!(!h.test(w)&&!f.test(w.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),x}();n.default=new m},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(a,l,u){var h=a.node.getAttribute("data-aos-once");l>a.position?a.node.classList.add("aos-animate"):typeof h<"u"&&(h==="false"||!u&&h!=="true")&&a.node.classList.remove("aos-animate")},o=function(a,l){var u=window.pageYOffset,h=window.innerHeight;a.forEach(function(f,m){i(f,h+u,l)})};n.default=o},function(r,n,i){function o(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),l=o(a),u=function(h,f){return h.forEach(function(m,x){m.node.classList.add("aos-init"),m.position=(0,l.default)(m.node,f.offset)}),h};n.default=u},function(r,n,i){function o(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(n,"__esModule",{value:!0});var a=i(13),l=o(a),u=function(h,f){var m=0,x=0,w=window.innerHeight,S={offset:h.getAttribute("data-aos-offset"),anchor:h.getAttribute("data-aos-anchor"),anchorPlacement:h.getAttribute("data-aos-anchor-placement")};switch(S.offset&&!isNaN(S.offset)&&(x=parseInt(S.offset)),S.anchor&&document.querySelectorAll(S.anchor)&&(h=document.querySelectorAll(S.anchor)[0]),m=(0,l.default)(h).top,S.anchorPlacement){case"top-bottom":break;case"center-bottom":m+=h.offsetHeight/2;break;case"bottom-bottom":m+=h.offsetHeight;break;case"top-center":m+=w/2;break;case"bottom-center":m+=w/2+h.offsetHeight;break;case"center-center":m+=w/2+h.offsetHeight/2;break;case"top-top":m+=w;break;case"bottom-top":m+=h.offsetHeight+w;break;case"center-top":m+=h.offsetHeight/2+w}return S.anchorPlacement||S.offset||isNaN(f)||(x=f),m+x};n.default=u},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(o){for(var a=0,l=0;o&&!isNaN(o.offsetLeft)&&!isNaN(o.offsetTop);)a+=o.offsetLeft-(o.tagName!="BODY"?o.scrollLeft:0),l+=o.offsetTop-(o.tagName!="BODY"?o.scrollTop:0),o=o.offsetParent;return{top:l,left:a}};n.default=i},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(o){return o=o||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(o,function(a){return{node:a}})};n.default=i}])})})(TR);var VY=TR.exports;const AR=Qn(VY),WY=async()=>{const t=await $i.get("api/employees");return console.log(t.data),t.data},YY=async t=>(await $i.get(`api/employees/search?branch_id=${t}`)).data,PR=async(t,e)=>(await $i.get(`api/employees/${t}/available/${e}`)).data;var MR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$I=ke.createContext&&ke.createContext(MR),XY=["attr","size","title"];function GY(t,e){if(t==null)return{};var r=qY(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function N1(){return N1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N1.apply(this,arguments)}function HI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function L1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(r),!0).forEach(function(n){ZY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZY(t,e,r){return e=KY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KY(t){var e=JY(t,"string");return typeof e=="symbol"?e:e+""}function JY(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IR(t){return t&&t.map((e,r)=>ke.createElement(e.tag,L1({key:r},e.attr),IR(e.child)))}function da(t){return e=>ke.createElement(QY,N1({attr:L1({},t.attr)},e),IR(t.child))}function QY(t){var e=r=>{var{attr:n,size:i,title:o}=t,a=GY(t,XY),l=i||r.size||"1em",u;return r.className&&(u=r.className),t.className&&(u=(u?u+" ":"")+t.className),ke.createElement("svg",N1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:u,style:L1(L1({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&ke.createElement("title",null,o),t.children)};return $I!==void 0?ke.createElement($I.Consumer,null,r=>e(r)):e(MR)}function eX(t){return da({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M15.28 5.22a.75.75 0 0 1 0 1.06L9.56 12l5.72 5.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-6.25-6.25a.75.75 0 0 1 0-1.06l6.25-6.25a.75.75 0 0 1 1.06 0Z"},child:[]}]})(t)}function tX(t){return da({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M8.72 18.78a.75.75 0 0 1 0-1.06L14.44 12 8.72 6.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l6.25 6.25a.75.75 0 0 1 0 1.06l-6.25 6.25a.75.75 0 0 1-1.06 0Z"},child:[]}]})(t)}const rX=()=>{const t=Ka(),e=()=>{t("/servicesHairCut")},r=()=>{t("/servicesCurlHair")},n=()=>{t("/servicesHairDying")},i=H.useRef(null),[o,a]=H.useState([]);H.useEffect(()=>{AR.init({once:!0,duration:1200}),window.scrollTo(0,0),(async()=>{try{const f=await WY();a(f)}catch(f){console.error("Error fetching stylists:",f)}})()},[]);const l=()=>{i.current&&i.current.scrollBy({left:-300,behavior:"smooth"})},u=()=>{i.current&&i.current.scrollBy({left:300,behavior:"smooth"})};return _.jsxs("div",{className:"bg-cover bg-top min-h-screen",style:{backgroundImage:"url('bg.png')"},children:[_.jsxs("div",{className:"relative flex flex-col items-center justify-center text-center py-64 bg-cover bg-center",style:{backgroundImage:"url('https://assets.zyrosite.com/cdn-cgi/image/format=auto,w=1920,fit=crop/mePnvZ15VEHy7n8p/lkq_8164-YrDNq1ROv3u0q257.jpg')"},"data-aos":"fade-up",children:[_.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),_.jsx("h1",{className:"relative text-6xl font-bold text-white mb-2",children:"4F SALON"}),_.jsx("div",{className:"relative w-24 h-px bg-gray-300 my-4"}),_.jsx("p",{className:"relative text-2xl font-semi-bold text-white",children:"The best place for your best haircut"})]}),_.jsxs("section",{className:"py-12 bg-white min-w-screen",children:[_.jsx("h2",{className:"text-4xl font-bold text-center mb-8",children:"Dịch vụ"}),_.jsxs("div",{className:"container w-3/4 mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:[_.jsxs("div",{className:"bg-gray-100 rounded-lg shadow-lg p-4 flex flex-col items-center",children:[_.jsx("div",{className:"overflow-hidden rounded-lg flex items-center justify-center","data-aos":"fade-up",children:_.jsx("img",{src:"https://assets.zyrosite.com/mePnvZ15VEHy7n8p/450613263_891765619633403_6662505036750197758_n-A1aJBEKQaji93D1x.jpg",alt:"Cắt tóc",className:"w-full h-full object-cover"})}),_.jsxs("div",{className:"text-center","data-aos":"fade-up",children:[_.jsx("h3",{className:"text-xl font-semibold mt-4",children:"Cắt tóc"}),_.jsx("p",{className:"text-blue-600 mt-2 cursor-pointer hover:underline",onClick:e,children:"Tìm hiểu thêm >"})]})]}),_.jsxs("div",{className:"bg-gray-100 rounded-lg shadow-lg p-4 flex flex-col items-center",children:[_.jsx("div",{className:"overflow-hidden rounded-lg flex items-center justify-center","data-aos":"fade-up",children:_.jsx("img",{src:"https://assets.zyrosite.com/mePnvZ15VEHy7n8p/449384592_884027163740582_3894658124597652362_n-ALpo73JBMotXxKyQ.jpg",alt:"Uốn tóc",className:"w-full h-full object-cover"})}),_.jsxs("div",{className:"text-center","data-aos":"fade-up",children:[_.jsx("h3",{className:"text-xl font-semibold mt-4",children:"Uốn tóc"}),_.jsx("p",{className:"text-blue-600 mt-2 cursor-pointer hover:underline",onClick:r,children:"Tìm hiểu thêm >"})]})]}),_.jsxs("div",{className:"bg-gray-100 rounded-lg shadow-lg p-4 flex flex-col items-center",children:[_.jsx("div",{className:"overflow-hidden rounded-lg flex items-center justify-center","data-aos":"fade-up",children:_.jsx("img",{src:"https://assets.zyrosite.com/mePnvZ15VEHy7n8p/448353959_874397401370225_9111820804653780252_n-Yg29qnlL6JuvKpKZ.jpg",alt:"Nhuộm tóc",className:"w-full h-full object-cover"})}),_.jsxs("div",{className:"text-center","data-aos":"fade-up",children:[_.jsx("h3",{className:"text-xl font-semibold mt-4",children:"Nhuộm tóc"}),_.jsx("p",{className:"text-blue-600 mt-2 cursor-pointer hover:underline",onClick:n,children:"Tìm hiểu thêm >"})]})]})]})]}),_.jsx("div",{className:"py-14",children:_.jsxs("div",{className:"container mx-auto px-4","data-aos":"fade-up",children:[_.jsx("h2",{className:"text-3xl font-semibold mb-4 text-white",children:"Khuyến mãi"}),_.jsxs("div",{className:"bg-gray-800 rounded-lg p-7 flex flex-col md:flex-row items-center",children:[_.jsx("div",{className:"md:w-1/3 mb-4 md:mb-0 md:mr-4","data-aos":"fade-up",children:_.jsx("img",{src:"khuyenmai.png",alt:"Khuyến mãi",className:"rounded-lg object-cover"})}),_.jsxs("div",{className:"md:w-2/3 text-left","data-aos":"fade-up",children:[_.jsx("h3",{className:"text-2xl font-semibold mb-2 text-white",children:"Cơ hội nhận ưu đãi dịch vụ thông qua điểm thành viên"}),_.jsx("p",{className:"mb-8 text-white",children:"Tham gia ngay để tích điểm và hưởng nhiều ưu đãi độc quyền."}),_.jsx(ba,{to:"/booking",className:"text-gray-900 mb-4 border border-white p-4 bg-white hover:bg-gray-900 hover:text-white transition-colors","data-aos":"fade-up",children:"Đặt lịch ngay"})]})]})]})}),_.jsxs("section",{className:"py-12 bg-white","data-aos":"fade-up",children:[_.jsx("h2",{className:"text-4xl font-bold text-center mb-8",children:"Gặp gỡ các stylist"}),_.jsxs("div",{className:"relative max-w-screen-lg w-full mx-auto overflow-hidden","data-aos":"fade-up",children:[_.jsx("button",{onClick:l,className:"absolute left-0 top-1/2 transform -translate-y-1/2 text-white p-2 rounded-full w-10 h-10 flex items-center justify-center",children:_.jsx(eX,{})}),_.jsx("div",{ref:i,className:"overflow-x-scroll flex space-x-8 scrollbar-hide",children:_.jsx("div",{className:"flex space-x-8",children:o.map(h=>_.jsxs("div",{className:"bg-gray-100 rounded-lg shadow-lg flex flex-col items-center",children:[_.jsx("div",{className:"overflow-hidden h-32 w-32 sm:h-48 sm:w-48 md:h-64 md:w-64 lg:h-80 lg:w-80 flex items-center justify-center",children:_.jsx("img",{src:h.big_avatar_url?h.big_avatar_url:"https://assets.zyrosite.com/mePnvZ15VEHy7n8p/canh-m5KbLrq72aU69ovZ.jpg",alt:h.name,className:"w-full h-full object-cover"})}),_.jsxs("div",{className:"text-center",children:[_.jsx("h3",{className:"text-xl font-semibold mt-4",children:h.name}),_.jsx("p",{className:"text-gray-500 mt-2",children:h.specialty})]})]},h.id))})}),_.jsx("button",{onClick:u,className:"absolute right-0 top-1/2 transform -translate-y-1/2 text-white p-2 rounded-full w-10 h-10 flex items-center justify-center",children:_.jsx(tX,{})})]})]}),_.jsxs("div",{className:"container mx-auto grid grid-cols-1 md:grid-cols-3","data-aos":"fade-up",children:[_.jsxs("div",{className:"bg-cover bg-right p-6 text-white flex flex-col justify-center",style:{backgroundImage:"url('../assets/HomeImg/bottom.png')"},"data-aos":"fade-right",children:[_.jsxs("h2",{className:"text-4xl font-bold",children:[_.jsx("span",{className:"text-blue-500",children:"20% "}),"OFF",_.jsx("br",{}),"CHO LẦN ĐẶT LỊCH",_.jsx("br",{}),"ĐẦU TIÊN"]}),_.jsxs("p",{className:"mt-8 font-bold text-white",children:["CALL US:",_.jsx("br",{}),"XXX XXX XXXX"]})]}),_.jsxs("div",{className:"bg-gray-300 p-8 flex flex-col items-center text-center",children:[_.jsx("h2",{className:"text-3xl font-bold mb-4",children:"OUR STORY"}),_.jsx("img",{src:"logo.png",alt:"Barber Logo",className:"w-24 h-24 mb-4"}),_.jsx("p",{className:"mb-6","data-aos":"fade-up",children:"4F Salon – Nơi biến mái tóc thành ngôn ngữ của cá tính. Chúng tôi không chỉ cắt tóc, mà tạo nên phong cách. Đến với 4F Salon, bạn sẽ thấy sự khác biệt trong từng đường kéo, từng mái tóc. Hãy để chúng tôi giúp bạn tỏa sáng theo cách riêng của bạn."}),_.jsx(ba,{to:"/booking",className:"text-blue-500","data-aos":"fade-up",children:_.jsx("button",{className:"bg-black text-white px-4 py-2 rounded hover:bg-white hover:text-gray-900 transition-colors",children:"Đặt lịch ngay"})})]}),_.jsx("div",{className:"bg-cover bg-center p-8 text-white w-full h-full",style:{backgroundImage:"url('../assets/HomeImg/Bg2.png')"},children:_.jsxs("div",{className:"bg-gray-900 bg-opacity-80 text-white p-8",children:[_.jsx("h2",{className:"text-3xl font-bold mb-6 text-center",children:"LỊCH LÀM VIỆC"}),_.jsx("ul",{className:"space-y-2 text-sm","data-aos":"fade-up",children:["Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy","Chủ nhật"].map((h,f)=>_.jsxs("li",{className:"flex justify-between",children:[_.jsx("span",{children:h}),_.jsx("span",{children:"8:00 - 21:00"})]},f))})]})})]})]})},OR="/assets/Barber%20Hair%20Cutting%20Effect%203-C9ULpaOX.png",DR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEkUlEQVR4nO2Zb0wbZRzHn3taesUtRpOJYbo/DoQM5c/GMgryzxkYxbGBiQsbNBCEFGaIY8zCCuaUMSiQAQMGQWAgcSY2GeuNuzpc8NqNvRoCItE3841Dthj3ToNzbX+mVRBI197Zo2VJv8n3XZ+nn89dn6dPrwj5448/HgcoJIWqgGIoxywU4HuQTfwJSsIKBxBAKgJIQzbIJhZBhX+BE/g6VAUU2ccgXwc0UgWU4tvwNmGBJASCqiQsoMa3QRsQ433wOlk4qPEsvCkQ2llTEUAxnoEaFOIdeA3RCumEzWPwtT2IrHCK0K0f+HkUCMX4B9HBk9b0PTwNFJKJC9+NngcVfrDu8En/toJoFw9+EMnhOPGr1+DLCE40eIeAGn/vPXgsMvyHRIfgrbEMT0IlroUmaQpQaAtQKAjOSN6C05hy7Db21zgbW4pN4sI3kyGQQVh5g5+W9PJZfEChZ+ADydAqkVKR4R1vVIHv8IIvwPNwDr0oeP4aFAJ5+P76wJvl22CcfAQaCUCyC/gSPAV6JEEbLWAmdWAmwdHeAIB0wvmV35DweiQBs2x+WcDeURmACv8Hn0lYoAK9hDZiwCSPXwW/VI4E0En/ObuclPSjjRowybROBZY6FPAAyhGJNmrATF5xKWCSdQiZL1gzC2I0XDthO9rUd9e9gImccynAkRm+EAjWzMIbddcW+Qg8dCMQ6iuB3TW3rHwEHrkWQJt9JbCjehKeaoHtVd+C5x+hm7IwXwns1t60Pd2L+JNRHovYTI642UY7fSVwRDc8z0NAduZJ8A+5Z6Geif/jvF4RiEROy3D+puiPvrG4Eii/0DjqXoALVDiDnx0PBhWthENXs6HDGHtJbIGTnfX97u6Arq/iuHsBQBjMsntL4DYzCfRYOGQbDjvg7c2jlZaL11/bJhZ8W496Z2SNyeoK/vVas4XiKH5P88BENtrhfzdthrNMwjL4ylaPJi9wXIrHjwcpjpIeafxswd3VL2lrm+A9KXCBL98df+GvEjrdKfxSP2YTZjyRoDhKmt/SM+d2/6+egsbuylhBkzcwihlX8CvvRP/X4VuFwvfeiNhe1lX3E5/d51hz75zQ+RE9FvZKPq208pHIp5WWzq/2DlCDKXJ38w6PRW1qZ/b15RmU1pyRHDja2uH2FEp9ekrQl+dyutmY1iweAitFGljFdJdxL6VnIw5cGdsVdJkL2zJgjEq8aNxTV8ckTNpfs3JM1kgOFPZQsLXqO6cC77c3dSNPomPjpvkKeNKiwXLYWX1nFfy7TQM/Ik+j10fINHTqfW9IFH5RCJG1Jgd8ev2Xv53o6hJ0cHxiOG7HczVM4oI3JI7pc0HVemGeGq4MEgV+hYT8LBM/K2RN/J+eYxXTRmPo+v3m7jNGNecaMq2iX3lDprWXjWlG3sgwvSe0gY2beseQ5TF4ztXDjqt++caru5C3MzQWGdvM7L9VZDj4WCh4AZ3xuJGJm/icifb+n3xrowck6WeiC1uN+0a1TOLPajptUWVQWu13yH4IzDVk2tSGtMWqa8nzLex+ts8YU2Afg/zxxx/kaf4GzSVnCicBYF0AAAAASUVORK5CYII=";var Ul;let nX=(Ul=class{constructor(){gg(this,"token",localStorage.getItem("token"));this.setAxiosAuthToken(this.token)}static getInstance(){return Ul.instance||(Ul.instance=new Ul),Ul.instance}setAxiosAuthToken(e){e?($i.defaults.headers.Authorization=`Bearer ${e}`,console.log("Set token",`Bearer ${e}`)):delete $i.defaults.headers.Authorization}isAuthenticated(){return!!this.token}async login(e,r){var n,i;try{const o=await $i.post("/auth/login",{email:e,password:r});this.token=o.data.access_token,localStorage.setItem("token",this.token),this.setAxiosAuthToken(this.token);const a=await M1();return localStorage.setItem("user",JSON.stringify(a)),{access_token:this.token,user:a}}catch(o){throw new Error(((i=(n=o.response)==null?void 0:n.data)==null?void 0:i.message)||"Đăng nhập thất bại")}}async loginWithGoogle(e){var r,n;try{this.token=e,localStorage.setItem("token",this.token);const i=await M1();return localStorage.setItem("user",JSON.stringify(i)),{user:i}}catch(i){throw new Error(((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||"Đăng nhập bằng Google thất bại")}}async logout(){try{await $i.post("/auth/logout")}catch(e){console.error("Logout failed:",e)}finally{this.token=null,localStorage.removeItem("token"),this.setAxiosAuthToken(this.token),window.location.href="/login"}}async register(e,r,n,i){var o,a;try{return(await $i.post("/auth/register",{name:e,email:r,password:n,phone:i})).data}catch(l){throw new Error(((a=(o=l.response)==null?void 0:o.data)==null?void 0:a.message)||"Đăng ký thất bại")}}async updateProfile(e,r,n){var i,o;try{const a=await $i.patch("/api/users/profile",{name:e,phone:r,gender:n});return a.data}catch(a){throw new Error(((o=(i=a.response)==null?void 0:i.data)==null?void 0:o.message)||"Cập nhật thất bại")}}async changePassword(e,r){try{const n=localStorage.getItem("token");if(!n)throw new Error("Token not found");return await $i.post("/auth/change-password",{oldPassword:e,newPassword:r},{headers:{Authorization:`Bearer ${n}`}}),"Mật khẩu đã được thay đổi thành công."}catch(n){throw console.error("Change password failed:",n),n}}async forgotPassword(e){try{return await $i.post("/auth/forgot-password",{email:e}),"Hướng dẫn khôi phục mật khẩu đã được gửi đến email của bạn."}catch(r){throw console.error("Forgot password failed:",r),r}}async resetPassword(e,r){var n,i;try{return console.log("token",e),await $i.patch("/auth/reset-password",{token:e,newPassword:r}),"Mật khẩu đã được đặt lại thành công."}catch(o){throw console.log("token",e),console.error("Reset password failed:",o),new Error(((i=(n=o.response)==null?void 0:n.data)==null?void 0:i.message)||"Không thể đặt lại mật khẩu.")}}},gg(Ul,"instance"),Ul);const rh=nX.getInstance();function NR(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=NR(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Nu(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=NR(t))&&(n&&(n+=" "),n+=e);return n}const Iv=t=>typeof t=="number"&&!isNaN(t),ud=t=>typeof t=="string",hs=t=>typeof t=="function",Nx=t=>ud(t)||hs(t)?t:null,dC=t=>H.isValidElement(t)||ud(t)||hs(t)||Iv(t);function iX(t,e,r){r===void 0&&(r=300);const{scrollHeight:n,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${r}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,r)})})}function Hb(t){let{enter:e,exit:r,appendPosition:n=!1,collapse:i=!0,collapseDuration:o=300}=t;return function(a){let{children:l,position:u,preventExitTransition:h,done:f,nodeRef:m,isIn:x,playToast:w}=a;const S=n?`${e}--${u}`:e,C=n?`${r}--${u}`:r,A=H.useRef(0);return H.useLayoutEffect(()=>{const E=m.current,P=S.split(" "),I=N=>{N.target===m.current&&(w(),E.removeEventListener("animationend",I),E.removeEventListener("animationcancel",I),A.current===0&&N.type!=="animationcancel"&&E.classList.remove(...P))};E.classList.add(...P),E.addEventListener("animationend",I),E.addEventListener("animationcancel",I)},[]),H.useEffect(()=>{const E=m.current,P=()=>{E.removeEventListener("animationend",P),i?iX(E,f,o):f()};x||(h?P():(A.current=1,E.className+=` ${C}`,E.addEventListener("animationend",P)))},[x]),ke.createElement(ke.Fragment,null,l)}}function UI(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Mo=new Map;let Ov=[];const fC=new Set,aX=t=>fC.forEach(e=>e(t)),LR=()=>Mo.size>0;function RR(t,e){var r;if(e)return!((r=Mo.get(e))==null||!r.isToastActive(t));let n=!1;return Mo.forEach(i=>{i.isToastActive(t)&&(n=!0)}),n}function jR(t,e){dC(t)&&(LR()||Ov.push({content:t,options:e}),Mo.forEach(r=>{r.buildToast(t,e)}))}function VI(t,e){Mo.forEach(r=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===r.id&&r.toggle(t,e==null?void 0:e.id):r.toggle(t,e==null?void 0:e.id)})}function oX(t){const{subscribe:e,getSnapshot:r,setProps:n}=H.useRef(function(o){const a=o.containerId||1;return{subscribe(l){const u=function(f,m,x){let w=1,S=0,C=[],A=[],E=[],P=m;const I=new Map,N=new Set,D=()=>{E=Array.from(I.values()),N.forEach($=>$())},L=$=>{A=$==null?[]:A.filter(W=>W!==$),D()},R=$=>{const{toastId:W,onOpen:J,updateId:q,children:ee}=$.props,se=q==null;$.staleId&&I.delete($.staleId),I.set(W,$),A=[...A,$.props.toastId].filter(he=>he!==$.staleId),D(),x(UI($,se?"added":"updated")),se&&hs(J)&&J(H.isValidElement(ee)&&ee.props)};return{id:f,props:P,observe:$=>(N.add($),()=>N.delete($)),toggle:($,W)=>{I.forEach(J=>{W!=null&&W!==J.props.toastId||hs(J.toggle)&&J.toggle($)})},removeToast:L,toasts:I,clearQueue:()=>{S-=C.length,C=[]},buildToast:($,W)=>{if((tt=>{let{containerId:nt,toastId:Ke,updateId:Ue}=tt;const Xe=nt?nt!==f:f!==1,Ae=I.has(Ke)&&Ue==null;return Xe||Ae})(W))return;const{toastId:J,updateId:q,data:ee,staleId:se,delay:he}=W,Se=()=>{L(J)},oe=q==null;oe&&S++;const _e={...P,style:P.toastStyle,key:w++,...Object.fromEntries(Object.entries(W).filter(tt=>{let[nt,Ke]=tt;return Ke!=null})),toastId:J,updateId:q,data:ee,closeToast:Se,isIn:!1,className:Nx(W.className||P.toastClassName),bodyClassName:Nx(W.bodyClassName||P.bodyClassName),progressClassName:Nx(W.progressClassName||P.progressClassName),autoClose:!W.isLoading&&(xe=W.autoClose,Ne=P.autoClose,xe===!1||Iv(xe)&&xe>0?xe:Ne),deleteToast(){const tt=I.get(J),{onClose:nt,children:Ke}=tt.props;hs(nt)&&nt(H.isValidElement(Ke)&&Ke.props),x(UI(tt,"removed")),I.delete(J),S--,S<0&&(S=0),C.length>0?R(C.shift()):D()}};var xe,Ne;_e.closeButton=P.closeButton,W.closeButton===!1||dC(W.closeButton)?_e.closeButton=W.closeButton:W.closeButton===!0&&(_e.closeButton=!dC(P.closeButton)||P.closeButton);let Re=$;H.isValidElement($)&&!ud($.type)?Re=H.cloneElement($,{closeToast:Se,toastProps:_e,data:ee}):hs($)&&(Re=$({closeToast:Se,toastProps:_e,data:ee}));const He={content:Re,props:_e,staleId:se};P.limit&&P.limit>0&&S>P.limit&&oe?C.push(He):Iv(he)?setTimeout(()=>{R(He)},he):R(He)},setProps($){P=$},setToggle:($,W)=>{I.get($).toggle=W},isToastActive:$=>A.some(W=>W===$),getSnapshot:()=>E}}(a,o,aX);Mo.set(a,u);const h=u.observe(l);return Ov.forEach(f=>jR(f.content,f.options)),Ov=[],()=>{h(),Mo.delete(a)}},setProps(l){var u;(u=Mo.get(a))==null||u.setProps(l)},getSnapshot(){var l;return(l=Mo.get(a))==null?void 0:l.getSnapshot()}}}(t)).current;n(t);const i=H.useSyncExternalStore(e,r,r);return{getToastToRender:function(o){if(!i)return[];const a=new Map;return t.newestOnTop&&i.reverse(),i.forEach(l=>{const{position:u}=l.props;a.has(u)||a.set(u,[]),a.get(u).push(l)}),Array.from(a,l=>o(l[0],l[1]))},isToastActive:RR,count:i==null?void 0:i.length}}function sX(t){const[e,r]=H.useState(!1),[n,i]=H.useState(!1),o=H.useRef(null),a=H.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:u,closeToast:h,onClick:f,closeOnClick:m}=t;var x,w;function S(){r(!0)}function C(){r(!1)}function A(I){const N=o.current;a.canDrag&&N&&(a.didMove=!0,e&&C(),a.delta=t.draggableDirection==="x"?I.clientX-a.start:I.clientY-a.start,a.start!==I.clientX&&(a.canCloseOnClick=!1),N.style.transform=`translate3d(${t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`},0)`,N.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function E(){document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",E);const I=o.current;if(a.canDrag&&a.didMove&&I){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();I.style.transition="transform 0.2s, opacity 0.2s",I.style.removeProperty("transform"),I.style.removeProperty("opacity")}}(w=Mo.get((x={id:t.toastId,containerId:t.containerId,fn:r}).containerId||1))==null||w.setToggle(x.id,x.fn),H.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||C(),window.addEventListener("focus",S),window.addEventListener("blur",C),()=>{window.removeEventListener("focus",S),window.removeEventListener("blur",C)}},[t.pauseOnFocusLoss]);const P={onPointerDown:function(I){if(t.draggable===!0||t.draggable===I.pointerType){a.didMove=!1,document.addEventListener("pointermove",A),document.addEventListener("pointerup",E);const N=o.current;a.canCloseOnClick=!0,a.canDrag=!0,N.style.transition="none",t.draggableDirection==="x"?(a.start=I.clientX,a.removalDistance=N.offsetWidth*(t.draggablePercent/100)):(a.start=I.clientY,a.removalDistance=N.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(I){const{top:N,bottom:D,left:L,right:R}=o.current.getBoundingClientRect();I.nativeEvent.type!=="touchend"&&t.pauseOnHover&&I.clientX>=L&&I.clientX<=R&&I.clientY>=N&&I.clientY<=D?C():S()}};return l&&u&&(P.onMouseEnter=C,t.stacked||(P.onMouseLeave=S)),m&&(P.onClick=I=>{f&&f(I),a.canCloseOnClick&&h()}),{playToast:S,pauseToast:C,isRunning:e,preventExitTransition:n,toastRef:o,eventHandlers:P}}function lX(t){let{delay:e,isRunning:r,closeToast:n,type:i="default",hide:o,className:a,style:l,controlledProgress:u,progress:h,rtl:f,isIn:m,theme:x}=t;const w=o||u&&h===0,S={...l,animationDuration:`${e}ms`,animationPlayState:r?"running":"paused"};u&&(S.transform=`scaleX(${h})`);const C=Nu("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${x}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),A=hs(a)?a({rtl:f,type:i,defaultClassName:C}):Nu(C,a),E={[u&&h>=1?"onTransitionEnd":"onAnimationEnd"]:u&&h<1?null:()=>{m&&n()}};return ke.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":w},ke.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${x} Toastify__progress-bar--${i}`}),ke.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:A,style:S,...E}))}let cX=1;const zR=()=>""+cX++;function uX(t){return t&&(ud(t.toastId)||Iv(t.toastId))?t.toastId:zR()}function Jg(t,e){return jR(t,e),e.toastId}function R1(t,e){return{...e,type:e&&e.type||t,toastId:uX(e)}}function X0(t){return(e,r)=>Jg(e,R1(t,r))}function Cn(t,e){return Jg(t,R1("default",e))}Cn.loading=(t,e)=>Jg(t,R1("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Cn.promise=function(t,e,r){let n,{pending:i,error:o,success:a}=e;i&&(n=ud(i)?Cn.loading(i,r):Cn.loading(i.render,{...r,...i}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(f,m,x)=>{if(m==null)return void Cn.dismiss(n);const w={type:f,...l,...r,data:x},S=ud(m)?{render:m}:m;return n?Cn.update(n,{...w,...S}):Cn(S.render,{...w,...S}),x},h=hs(t)?t():t;return h.then(f=>u("success",a,f)).catch(f=>u("error",o,f)),h},Cn.success=X0("success"),Cn.info=X0("info"),Cn.error=X0("error"),Cn.warning=X0("warning"),Cn.warn=Cn.warning,Cn.dark=(t,e)=>Jg(t,R1("default",{theme:"dark",...e})),Cn.dismiss=function(t){(function(e){var r;if(LR()){if(e==null||ud(r=e)||Iv(r))Mo.forEach(n=>{n.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const n=Mo.get(e.containerId);n?n.removeToast(e.id):Mo.forEach(i=>{i.removeToast(e.id)})}}else Ov=Ov.filter(n=>e!=null&&n.options.toastId!==e)})(t)},Cn.clearWaitingQueue=function(t){t===void 0&&(t={}),Mo.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Cn.isActive=RR,Cn.update=function(t,e){e===void 0&&(e={});const r=((n,i)=>{var o;let{containerId:a}=i;return(o=Mo.get(a||1))==null?void 0:o.toasts.get(n)})(t,e);if(r){const{props:n,content:i}=r,o={delay:100,...n,...e,toastId:e.toastId||t,updateId:zR()};o.toastId!==t&&(o.staleId=t);const a=o.render||i;delete o.render,Jg(a,o)}},Cn.done=t=>{Cn.update(t,{progress:1})},Cn.onChange=function(t){return fC.add(t),()=>{fC.delete(t)}},Cn.play=t=>VI(!0,t),Cn.pause=t=>VI(!1,t);const hX=typeof window<"u"?H.useLayoutEffect:H.useEffect,G0=t=>{let{theme:e,type:r,isLoading:n,...i}=t;return ke.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...i})},Jw={info:function(t){return ke.createElement(G0,{...t},ke.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return ke.createElement(G0,{...t},ke.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return ke.createElement(G0,{...t},ke.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return ke.createElement(G0,{...t},ke.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ke.createElement("div",{className:"Toastify__spinner"})}},dX=t=>{const{isRunning:e,preventExitTransition:r,toastRef:n,eventHandlers:i,playToast:o}=sX(t),{closeButton:a,children:l,autoClose:u,onClick:h,type:f,hideProgressBar:m,closeToast:x,transition:w,position:S,className:C,style:A,bodyClassName:E,bodyStyle:P,progressClassName:I,progressStyle:N,updateId:D,role:L,progress:R,rtl:$,toastId:W,deleteToast:J,isIn:q,isLoading:ee,closeOnClick:se,theme:he}=t,Se=Nu("Toastify__toast",`Toastify__toast-theme--${he}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":$},{"Toastify__toast--close-on-click":se}),oe=hs(C)?C({rtl:$,position:S,type:f,defaultClassName:Se}):Nu(Se,C),_e=function(He){let{theme:tt,type:nt,isLoading:Ke,icon:Ue}=He,Xe=null;const Ae={theme:tt,type:nt};return Ue===!1||(hs(Ue)?Xe=Ue({...Ae,isLoading:Ke}):H.isValidElement(Ue)?Xe=H.cloneElement(Ue,Ae):Ke?Xe=Jw.spinner():(We=>We in Jw)(nt)&&(Xe=Jw[nt](Ae))),Xe}(t),xe=!!R||!u,Ne={closeToast:x,type:f,theme:he};let Re=null;return a===!1||(Re=hs(a)?a(Ne):H.isValidElement(a)?H.cloneElement(a,Ne):function(He){let{closeToast:tt,theme:nt,ariaLabel:Ke="close"}=He;return ke.createElement("button",{className:`Toastify__close-button Toastify__close-button--${nt}`,type:"button",onClick:Ue=>{Ue.stopPropagation(),tt(Ue)},"aria-label":Ke},ke.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ke.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Ne)),ke.createElement(w,{isIn:q,done:J,position:S,preventExitTransition:r,nodeRef:n,playToast:o},ke.createElement("div",{id:W,onClick:h,"data-in":q,className:oe,...i,style:A,ref:n},ke.createElement("div",{...q&&{role:L},className:hs(E)?E({type:f}):Nu("Toastify__toast-body",E),style:P},_e!=null&&ke.createElement("div",{className:Nu("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ee})},_e),ke.createElement("div",null,l)),Re,ke.createElement(lX,{...D&&!xe?{key:`pb-${D}`}:{},rtl:$,theme:he,delay:u,isRunning:e,isIn:q,closeToast:x,hide:m,type:f,style:N,className:I,controlledProgress:xe,progress:R||0})))},Ub=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},fX=Hb(Ub("bounce",!0));Hb(Ub("slide",!0));Hb(Ub("zoom"));Hb(Ub("flip"));const pX={position:"top-right",transition:fX,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function mX(t){let e={...pX,...t};const r=t.stacked,[n,i]=H.useState(!0),o=H.useRef(null),{getToastToRender:a,isToastActive:l,count:u}=oX(e),{className:h,style:f,rtl:m,containerId:x}=e;function w(C){const A=Nu("Toastify__toast-container",`Toastify__toast-container--${C}`,{"Toastify__toast-container--rtl":m});return hs(h)?h({position:C,rtl:m,defaultClassName:A}):Nu(A,Nx(h))}function S(){r&&(i(!0),Cn.play())}return hX(()=>{if(r){var C;const A=o.current.querySelectorAll('[data-in="true"]'),E=12,P=(C=e.position)==null?void 0:C.includes("top");let I=0,N=0;Array.from(A).reverse().forEach((D,L)=>{const R=D;R.classList.add("Toastify__toast--stacked"),L>0&&(R.dataset.collapsed=`${n}`),R.dataset.pos||(R.dataset.pos=P?"top":"bot");const $=I*(n?.2:1)+(n?0:E*L);R.style.setProperty("--y",`${P?$:-1*$}px`),R.style.setProperty("--g",`${E}`),R.style.setProperty("--s",""+(1-(n?N:0))),I+=R.offsetHeight,N+=.025})}},[n,u,r]),ke.createElement("div",{ref:o,className:"Toastify",id:x,onMouseEnter:()=>{r&&(i(!1),Cn.pause())},onMouseLeave:S},a((C,A)=>{const E=A.length?{...f}:{...f,pointerEvents:"none"};return ke.createElement("div",{className:w(C),style:E,key:`container-${C}`},A.map(P=>{let{content:I,props:N}=P;return ke.createElement(dX,{...N,stacked:r,collapseAll:S,isIn:l(N.toastId,N.containerId),style:N.style,key:`toast-${N.key}`},I)}))}))}const gX=()=>{const[t,e]=H.useState(""),[r,n]=H.useState(""),[i,o]=H.useState(""),a=Ka(),{user:l,setUser:u}=ry();H.useEffect(()=>{l&&a("/")},[l]);const h=async x=>{x.preventDefault();try{const w=await rh.login(t,r),{user:S}=w;u(S),Cn.success("Đăng nhập thành công"),a("/")}catch(w){Cn.error("Đăng nhập thất bại"),o(w.message),console.error("Login failed:",w)}},f=async()=>{console.log("handleGoogleLogin"),await window.open(`${Av}/auth/google`,"","width=500,height=600"),window.addEventListener("message",x=>{if(x.origin!==Av){console.log("Invalid origin",x.origin);return}const{access_token:w}=x.data;console.log("access_token",w),w&&(console.log("access_token",w),m(w))})},m=async x=>{const{user:w}=await rh.loginWithGoogle(x);Cn.success("Đăng nhập thành công"),u(w),console.log("Logged in with Google successfully")};return _.jsx("div",{className:"container mx-auto min-h-screen flex items-center justify-center bg-gray-100",children:_.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-sm md:max-w-md lg:max-w-lg",children:[_.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Đăng nhập"}),_.jsx("div",{className:"flex justify-center mb-6",children:_.jsx("img",{src:OR,alt:"Logo",className:"w-24 h-24 object-contain"})}),_.jsxs("form",{className:"space-y-4",onSubmit:h,children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:"block text-sm font-medium",children:"Tên đăng nhập"}),_.jsx("input",{type:"text",id:"loginIdentifier",value:t,onChange:x=>e(x.target.value),placeholder:"Email, số điện thoại hoặc tên đăng nhập",className:"mt-1 p-2 w-full border rounded-lg focus:outline-none focus:ring focus:ring-gray-300"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"password",className:"block text-sm font-medium",children:"Mật khẩu"}),_.jsx("input",{type:"password",id:"password",value:r,onChange:x=>n(x.target.value),placeholder:"Nhập mật khẩu",className:"mt-1 p-2 w-full border rounded-lg focus:outline-none focus:ring focus:ring-gray-300"})]}),_.jsx("div",{className:"text-right",children:_.jsx("a",{href:"/forgot-password",className:"text-sm text-blue-600 hover:underline",children:"Quên mật khẩu ?"})}),i&&_.jsx("div",{className:"text-red-500 text-sm mb-4",children:i}),_.jsx("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded-lg hover:bg-gray-800 transition-colors",children:"Đăng nhập"})]}),_.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[_.jsx("span",{className:"w-full border-t"}),_.jsx("span",{className:"text-sm mx-2",children:"hoặc"}),_.jsx("span",{className:"w-full border-t"})]}),_.jsxs("button",{onClick:f,className:"mt-4 flex items-center justify-center w-full border py-2 rounded-lg bg-white shadow-md hover:bg-gray-100",children:[_.jsx("img",{src:DR,alt:"Google",className:"w-5 h-5 mr-2"}),"Đăng nhập với tài khoản Google"]}),_.jsxs("p",{className:"text-center mt-4 text-sm",children:["Không có tài khoản?"," ",_.jsx(ba,{to:"/register",className:"nav-items",children:"Đăng ký"})]})]})})},vX=()=>Cn("Wow so easy !"),yX=()=>(H.useEffect(()=>{AR.init({once:!0}),window.scrollTo(0,0)},[]),_.jsxs("div",{className:"bg-cover pb-8 bg-bottom min-h-screen ",style:{backgroundImage:"url('bg.png')"},children:[_.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-32","data-aos":"fade-up",children:[_.jsx("h1",{className:"text-6xl font-bold text-white mb-2 ",children:"4F SALON"}),_.jsx("div",{className:"w-24 h-px bg-gray-300 my-4"}),_.jsx("p",{className:"text-2xl font-semi-bold text-white",children:"The best place for your best haircut"})]}),_.jsxs("section",{className:"m-auto px-4 py-8 bg-white w-[98%] rounded",children:[_.jsx("li",{className:"text-2xl font-bold uppercase text-left indent-4 mb-8","data-aos":"fade-right",children:"Về chúng tôi"}),_.jsx("div",{className:"text-xl text-pretty text-justify px-12 mb-8","data-aos":"fade-up",children:"Chào mừng bạn đến với 4F Salon — nơi mà vẻ đẹp và sự tự tin của bạn là ưu tiên hàng đầu của chúng tôi. Tại 4F Salon, chúng tôi hiểu rằng mỗi khách hàng là duy nhất và xứng đáng nhận được sự chăm sóc tốt nhất. Đó là lý do chúng tôi không ngừng nỗ lực để mang đến những trải nghiệm dịch vụ đẳng cấp và phù hợp với nhu cầu của từng cá nhân."}),_.jsxs("div",{className:"flex h-[28rem] mx-12 items-center justify-between space-x-2","data-aos":"flip-left",children:[_.jsx("div",{className:"flex-1 h-full",children:_.jsx("img",{src:"bottom.png",alt:"service1",className:"w-full h-full object-cover rounded-lg"})}),_.jsxs("div",{className:"flex flex-col space-y-2 h-full w-1/3",children:[_.jsx("div",{className:"flex-1 rounded-lg overflow-hidden",children:_.jsx("img",{src:"bottom.png",alt:"service1",className:"w-full h-full object-cover"})}),_.jsx("div",{className:"flex-1 rounded-lg overflow-hidden",children:_.jsx("img",{src:"bottom.png",alt:"service1",className:"w-full h-full object-cover"})})]})]}),_.jsx("div",{className:"text-xl text-pretty text-justify px-12  mt-8","data-aos":"fade-up",children:"Được thành lập từ 2024, 4F Salon tự hào sở hữu đội ngũ chuyên gia với nhiều năm kinh nghiệm trong ngành làm đẹp. Chúng tôi không chỉ cam kết mang đến những kiểu tóc thời thượng và hợp xu hướng, mà còn chú trọng đến sức khỏe và sự an toàn của mái tóc và da đầu của bạn. Các sản phẩm và liệu pháp chúng tôi sử dụng đều đến từ những thương hiệu uy tín và an toàn tuyệt đối."}),_.jsx("div",{className:"text-xl text-pretty text-justify px-12  mt-8","data-aos":"fade-up",children:"Phong cách của chúng tôi là sự kết hợp hoàn hảo giữa sự sáng tạo và chuyên nghiệp. Mỗi lần ghé thăm 4F Salon, bạn không chỉ thay đổi kiểu tóc mà còn cảm nhận được sự thay đổi tích cực về bản thân. Hãy để chúng tôi biến ý tưởng và phong cách của bạn thành hiện thực."}),_.jsx("div",{className:"text-xl text-pretty text-justify px-12  mt-8","data-aos":"fade-up",children:"Cảm ơn bạn đã tin tưởng và lựa chọn 4F Salon. Chúng tôi rất mong được chào đón bạn và mang đến cho bạn những trải nghiệm tuyệt vời nhất."}),_.jsx("button",{children:_.jsx("button",{onClick:vX,children:"Notify !"})})]})]}));/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const fh={prefix:"fas",iconName:"sort-down",icon:[320,512,["sort-desc"],"f0dd","M182.6 470.6c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8l256 0c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128z"]},xX={prefix:"fas",iconName:"user-check",icon:[640,512,[],"f4fc","M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3zM625 177L497 305c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L591 143c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},bX={prefix:"fas",iconName:"scissors",icon:[512,512,[9984,9986,9988,"cut"],"f0c4","M256 192l-39.5-39.5c4.9-12.6 7.5-26.2 7.5-40.5C224 50.1 173.9 0 112 0S0 50.1 0 112s50.1 112 112 112c14.3 0 27.9-2.7 40.5-7.5L192 256l-39.5 39.5c-12.6-4.9-26.2-7.5-40.5-7.5C50.1 288 0 338.1 0 400s50.1 112 112 112s112-50.1 112-112c0-14.3-2.7-27.9-7.5-40.5L499.2 76.8c7.1-7.1 7.1-18.5 0-25.6c-28.3-28.3-74.1-28.3-102.4 0L256 192zm22.6 150.6L396.8 460.8c28.3 28.3 74.1 28.3 102.4 0c7.1-7.1 7.1-18.5 0-25.6L342.6 278.6l-64 64zM64 112a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm48 240a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},ph={prefix:"fas",iconName:"sort",icon:[320,512,["unsorted"],"f0dc","M137.4 41.4c12.5-12.5 32.8-12.5 45.3 0l128 128c9.2 9.2 11.9 22.9 6.9 34.9s-16.6 19.8-29.6 19.8L32 224c-12.9 0-24.6-7.8-29.6-19.8s-2.2-25.7 6.9-34.9l128-128zm0 429.3l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8l256 0c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128c-12.5 12.5-32.8 12.5-45.3 0z"]},mh={prefix:"fas",iconName:"sort-up",icon:[320,512,["sort-asc"],"f0de","M182.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8l256 0c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"]},_X={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},wX={prefix:"fas",iconName:"ticket",icon:[576,512,[127903],"f145","M64 64C28.7 64 0 92.7 0 128l0 64c0 8.8 7.4 15.7 15.7 18.6C34.5 217.1 48 235 48 256s-13.5 38.9-32.3 45.4C7.4 304.3 0 311.2 0 320l0 64c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-64c0-8.8-7.4-15.7-15.7-18.6C541.5 294.9 528 277 528 256s13.5-38.9 32.3-45.4c8.3-2.9 15.7-9.8 15.7-18.6l0-64c0-35.3-28.7-64-64-64L64 64zm64 112l0 160c0 8.8 7.2 16 16 16l288 0c8.8 0 16-7.2 16-16l0-160c0-8.8-7.2-16-16-16l-288 0c-8.8 0-16 7.2-16 16zM96 160c0-17.7 14.3-32 32-32l320 0c17.7 0 32 14.3 32 32l0 192c0 17.7-14.3 32-32 32l-320 0c-17.7 0-32-14.3-32-32l0-192z"]},SX={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},CX={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},kX=CX,EX=({viewType:t,services:e,selectedService:r,setSelectedService:n,setSelectedVoucher:i,searchTerm:o})=>t!=="services"?null:_.jsx("div",{className:"container mx-auto max-h-[500px] p-4 overflow-y-auto",children:_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:e.filter(a=>a.title.toLowerCase().includes(o.toLowerCase())||String(a.estimate_time).toLowerCase().includes(o.toLowerCase())||a.price.toString().toLowerCase().includes(o.toLowerCase())).map(a=>_.jsxs("div",{onClick:()=>{i(null),n((r==null?void 0:r.id)===a.id?null:a)},className:`w-full max-h-[300px] my-2.5 pb-5 rounded-lg shadow-lg transition-transform transform hover:scale-105 ${(r==null?void 0:r.id)===a.id?"bg-blue-200 border-blue-500":"bg-white border-gray-300"} cursor-pointer text-left flex flex-col`,children:[_.jsx("div",{className:"w-full h-28 overflow-hidden rounded-t-lg",children:_.jsx("img",{src:"src/customer/assets/Booking/employees.jpeg",alt:"Image",className:"w-full h-full object-cover"})}),_.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:_.jsxs("div",{className:"flex flex-col justify-between h-full",children:[_.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-top w-full",children:[_.jsx("h2",{className:"text-base font-semibold mb-2",children:a.title}),_.jsxs("div",{children:[_.jsx(mr,{icon:_X,className:"text-gray-600 mr-2"}),_.jsxs("span",{className:"text-green-600 mb-4",children:[a.estimate_time,"p"]})]})]}),_.jsx("p",{className:"text-sm text-gray-600",children:a.description})]})})]},a.id))})}),TX=({viewType:t,branches:e,selectedBranch:r,setSelectedBranch:n,resetState:i,searchTerm:o})=>t!=="branches"?null:_.jsx("div",{className:"p-5 max-h-[500px] overflow-y-auto border border-gray-300",children:e.map(a=>_.jsxs("button",{onClick:()=>{n((r==null?void 0:r.id)===a.id?null:a),i()},className:`w-full rounded-lg h-[150px] my-10 transition-transform duration-300 transform hover:scale-105 ${(r==null?void 0:r.id)===a.id?"bg-blue-200 border-blue-500":"bg-gray-100 border-gray-300"} cursor-pointer text-left flex items-center hover:border-gray-400`,children:[_.jsx("div",{className:"w-1/3 h-full overflow-hidden rounded-lg",children:_.jsx("img",{src:a.picture_url||void 0,alt:"branch image",className:"w-full h-full object-cover rounded-lg"})}),_.jsxs("div",{className:"flex-1 p-4",children:[_.jsx("strong",{children:a.name}),_.jsx("div",{className:"text-sm text-gray-600",children:a.address})]})]},a.id))}),WI=t=>{if(!t)return"";const e=new Date(t),r={year:"numeric",month:"numeric",day:"numeric"};return new Intl.DateTimeFormat("vi-VN",r).format(e)},td=t=>{if(!t)return"";const e=new Date(t),r={hour:"numeric",minute:"numeric"};return new Intl.DateTimeFormat("vi-VN",r).format(e)},YI=t=>t.charAt(0).toUpperCase()+t.slice(1),Qg=t=>t?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t):"Không khả dụng";function FR({onTimeSelect:t,schedule:e,isDisplaying:r,selectedDate:n,setErrorTime:i,timeBlock:o}){const[a,l]=H.useState(new Map),[u,h]=H.useState([0,24]),[f,m]=H.useState(null),x=()=>{const E=new Map;let P=7,I=0;for(;P<21||P===21&&I===0;){const N=new Date;N.setHours(0,0,0,0),n&&n<N?E.set(`${P}:${I===0?"00":I}`,!1):E.set(`${P}:${I===0?"00":I}`,!0),I+=20,I===60&&(I=0,P+=1)}return E},w=()=>{const E=x(),P=new Date;if((n==null?void 0:n.toDateString())===P.toDateString()){const N=td(P.toISOString()),[D,L]=N.split(":").map(Number);let R=7,$=0;for(;(R<D||R===D&&$<=L)&&!(R>21||R===21&&$>0);){const W=`${R}:${$===0?"00":$}`;E.set(W,!1),$+=20,$===60&&($=0,R+=1)}}e.forEach(({start_time:N,estimated_end_time:D})=>{let L=td(N);const R=new Date(N),$=new Date(D);let W=Math.floor(($.getTime()-R.getTime())/(1e3*60*20))+1,J=o;for(;J>0;){let[q,ee]=L.split(":").map(Number);if(ee-=20,ee<0&&(ee=40,q-=1),q<7)break;L=`${q}:${ee===0?"00":ee}`,E.set(L,!1),J--}for(L=td(N);W--;){let[q,ee]=L.split(":").map(Number);if(q>21||q===21&&ee>0||(E.set(L,!1),L===td(D)))break;ee+=20,ee===60&&(ee=0,q+=1),L=`${q}:${ee===0?"00":ee}`}}),l(E),m(null),t(null)};H.useEffect(()=>{w()},[n,e,o]);const S=()=>{h(([E,P])=>E>0?[E-24,P-24]:[E,P])},C=()=>{h(([E,P])=>P<a.size?[E+24,P+24]:[E,P])},A=E=>{m(P=>{i("");const I=P===E?null:E;return t(I),I})};return _.jsxs("div",{className:`flex items-center justify-center space-x-2 ${r?"block":"hidden"}`,children:[_.jsx("button",{type:"button",onClick:S,className:"w-8 h-8 flex items-center justify-center bg-gray-200 text-gray-800 rounded-full hover:bg-gray-300 disabled:opacity-50",disabled:u[0]===0,children:"<"}),_.jsx("div",{className:"grid grid-cols-8 gap-3 min-h-[200px] grid-auto-rows-[40px] place-items-start",children:Array.from(a.keys()).slice(u[0],u[1]).map(E=>_.jsx("button",{type:"button",onClick:()=>A(E),disabled:!a.get(E),className:`p-3 rounded-md text-center text-sm font-medium ${f===E?"bg-teal-600 text-white font-bold":a.get(E)===!1?"bg-gray-400 cursor-not-allowed":"bg-gray-300 hover:bg-gray-400"}`,children:E},E))}),_.jsx("button",{type:"button",onClick:C,className:"w-8 h-8 flex items-center justify-center bg-gray-200 text-gray-800 rounded-full hover:bg-gray-300 disabled:opacity-50",disabled:u[1]>=a.size,children:">"})]})}const AX=async()=>(await $i.get("api/branches")).data,XI=async()=>await AX(),PX=async t=>await YY(t),MX=async()=>(await $i.get("api/services")).data,IX=async()=>await MX(),OX=({viewType:t,vouchers:e,selectedVoucher:r,setSelectedVoucher:n,selectedService:i,user:o,selectedDate:a,searchTerm:l})=>{const u=h=>{if(a===void 0)return!1;const f=new Date(h.start_date),m=new Date(h.end_date),x=a>=f&&a<=m,w=((i==null?void 0:i.price)??0)>=h.price_threshold,S=Number(o==null?void 0:o.points)>=h.required_point;return x&&w&&S};return t!=="voucher"?null:(i||(r=null),_.jsx("div",{className:"container mx-auto max-h-[500px] p-4 overflow-y-auto",children:e.filter(h=>h.code.toLowerCase().includes(l.toLowerCase())).map(h=>{const f=u(h);return _.jsxs("button",{onClick:()=>n((r==null?void 0:r.id)===h.id?null:h),disabled:!f,className:`w-full max-h-[300px] my-2.5 pb-5 rounded-lg shadow-lg transition-transform transform hover:scale-105 ${(r==null?void 0:r.id)===h.id?"bg-blue-700 border-blue-950":"bg-gray-100 border-[#0a0a0a]"} cursor-pointer text-left flex ${f?"":"opacity-50"}`,children:[_.jsx("div",{className:"w-28 h-28 overflow-hidden rounded-t-lg",children:_.jsx("img",{src:"src/customer/assets/Booking/employees.jpeg",alt:h.description,className:"w-full h-full object-cover overflow-hidden rounded-s-lg"})}),_.jsxs("div",{className:"flex-1 p-4",children:[_.jsx("strong",{children:h.code}),_.jsxs("div",{className:"text-sm text-gray-600",children:["Giá dịch vụ yêu cầu: ",h.price_threshold]}),_.jsx("div",{className:"text-sm text-gray-600",children:h.discount_type==="percentage"?`${h.discount_value}%`:`${h.discount_value} VNĐ`}),_.jsxs("div",{className:"text-sm text-gray-600 justify-center",children:["Điểm yêu cầu: ",h.required_point]})]})]},h.id)})}))},DX=async t=>(await $i.post("api/appointments",t)).data,NX=async(t,e)=>(await $i.put(`api/appointments/${t}`,e)).data,LX=async t=>await DX(t),RX=async(t,e)=>await NX(t,e),jX=({viewType:t,employees:e,selectedEmployee:r,setSelectedEmployee:n,searchTerm:i})=>t!=="employees"?null:_.jsx("div",{className:"mt-2.5 max-h-[500px] overflow-y-auto border border-gray-300 rounded-s-lg p-2 grid grid-cols-2 gap-3.5",children:e.filter(o=>o.name.toLowerCase().includes(i.toLowerCase())||o.phone.toLowerCase().includes(i.toLowerCase())||o.work_position.toLowerCase().includes(i.toLowerCase())).map(o=>_.jsxs("button",{onClick:()=>n((r==null?void 0:r.id)===o.id?null:o),className:`w-full py-6.5 h-[400px] my-2.5 transition-transform duration-300 transform hover:scale-105 ${(r==null?void 0:r.id)===o.id?"bg-blue-200 border-blue-950":"bg-gray-100 border-[#0a0a0a] hover:bg-gray-200 hover:border-gray-400"} cursor-pointer text-left flex rounded-lg shadow-md`,children:[_.jsx("div",{className:"w-2/5 h-full overflow-hidden rounded-s-lg",children:_.jsx("img",{src:o.big_avatar_url,alt:o.name,className:"w-full h-full object-cover overflow-hidden rounded-s-lg"})}),_.jsxs("div",{className:"flex-1 p-4",children:[_.jsx("strong",{children:o.name}),_.jsxs("div",{className:"text-sm text-gray-600 font-semibold",children:["Số điện thoại: ",o.phone]}),_.jsxs("div",{className:"text-sm text-gray-600 text-transform: capitalize font-semibold",children:["Vị trí : ",o.work_position]})]})]},o.id))}),zX=async t=>(await $i.get(`api/vouchers/search?branch_id=${t}`)).data,BR=async t=>await zX(t),FX=()=>{const[t,e]=H.useState([]),[r,n]=H.useState(""),[i,o]=H.useState(!1),[a,l]=H.useState(null),[u,h]=H.useState("branches"),[f,m]=H.useState([]),[x,w]=H.useState([]),[S,C]=H.useState(null),[A,E]=H.useState([]),[P,I]=H.useState(null),[N,D]=H.useState(null),[L,R]=H.useState(null),[$,W]=H.useState(null),[J,q]=H.useState(null),[ee,se]=H.useState(null),[he,Se]=H.useState(null),[oe,_e]=H.useState(null),[xe,Ne]=H.useState(null),[Re,He]=H.useState(null),[tt,nt]=H.useState([]),[Ke,Ue]=H.useState(0),[Xe,Ae]=H.useState(null),[We,qe]=H.useState(null),pt=Ka();H.useEffect(()=>{window.scrollTo(0,0),N&&se("")},[]);const[Pt]=dE(),Ht=Pt.get("appointment_id"),dt=Pt.get("branch_id");H.useEffect(()=>{Ht&&(async()=>{var rr,gr,Fr,en,kn,Xn,fn,Et;const ct=await Ix("id="+Ht);(((rr=ct[0])==null?void 0:rr.status)==="cancelled"||((gr=ct[0])==null?void 0:gr.status)==="completed")&&pt(`/appointment?id=${Ht}`),(Fr=ct[0])!=null&&Fr.branch&&D(ct[0].branch),(en=ct[0])!=null&&en.voucher&&I(ct[0].voucher),(kn=ct[0])!=null&&kn.service&&R(ct[0].service),(Xn=ct[0])!=null&&Xn.employee&&C(ct[0].employee),(fn=ct[0])!=null&&fn.date&&sr(new Date(ct[0].date)),(Et=ct[0])!=null&&Et.start_time&&W(ct[0].start_time)})()},[Ht]),H.useEffect(()=>{dt&&(async()=>{const ct=await XI();if(ct){const rr=ct.find(gr=>gr.id===Number(dt));rr&&D(rr),h("services")}})()},[dt]);const[yt,sr]=H.useState(()=>{const tr=new Date;return tr.setHours(0,0,0,0),tr}),kr=tr=>{const ct=new Date;if(ct.setHours(8,0,0,0),tr.target.value==="today")sr(ct);else if(tr.target.value==="tomorrow"){const rr=new Date(ct);rr.setDate(ct.getDate()+1),rr.setHours(8,0,0,0),sr(rr)}};H.useEffect(()=>{if(yt&&$){const[tr,ct]=$.split(":").map(Number),rr=new Date(yt);if(rr.setHours(tr,ct,0,0),Ae(rr),L){const gr=new Date(rr);gr.setMinutes(gr.getMinutes()+Number(L==null?void 0:L.estimate_time).valueOf()),qe(gr)}}},[yt,$,L]);const rn=()=>{C(null),R(null),I(null),W(null),sr(new Date),Ae(null),qe(null)};H.useEffect(()=>{(async()=>{try{const ct=await M1();He(ct),o(!1)}catch(ct){console.error("Error fetching user data:",ct),o(!1)}})()},[]),H.useEffect(()=>{(async()=>{o(!0);try{const ct=await XI();e(ct)}catch{l("Failed to fetch branches.")}finally{o(!1)}})()},[]),H.useEffect(()=>{(async()=>{o(!0);try{const ct=await BR(N==null?void 0:N.id);E(Array.isArray(ct)?ct:[])}catch{l("Failed to fetch branches.")}finally{o(!1)}})()},[N]),H.useEffect(()=>{(async()=>{o(!0);try{const ct=await PX(N==null?void 0:N.id);Array.isArray(ct)?w(ct):l("Failed to fetch employees.")}catch{l("Failed to fetch branches.")}finally{o(!1)}})()},[N]),H.useEffect(()=>{(async()=>{if(S!=null&&S.id){o(!0);try{const ct=await PR(S==null?void 0:S.id,yt);nt(Array.isArray(ct)?ct:[])}catch{l("Failed to fetch schedule.")}finally{o(!1)}}})()},[S,yt]),H.useEffect(()=>{(async()=>{o(!0);try{const ct=await IX();m(ct)}catch{l("Failed to fetch branches.")}finally{o(!1)}})()},[]),H.useEffect(()=>{const tr=(L==null?void 0:L.price)??0;let ct=(P==null?void 0:P.discount_value)??0;(P==null?void 0:P.discount_type)==="percentage"&&(ct=Math.floor(tr*ct/100)),console.log(P),Ue(tr-ct)},[L,P]);const xt=async()=>{let tr=!1;if(S?q(null):(q("Vui lòng chọn nhân viên."),tr=!0),N?se(null):(se("Vui lòng chọn chi nhánh."),tr=!0),L?Se(null):(Se("Vui lòng chọn dịch vụ."),tr=!0),$?_e(null):(_e("Vui lòng chọn thời gian"),tr=!0),!tr)try{Ht==null?await LX({title:L==null?void 0:L.title,date:String(yt==null?void 0:yt.toISOString()),start_time:String(Xe==null?void 0:Xe.toISOString()),estimated_end_time:String(We==null?void 0:We.toISOString()),final_price:Ke,employee_id:S==null?void 0:S.id,user_id:Re==null?void 0:Re.id,service_id:L==null?void 0:L.id,voucher_id:P==null?void 0:P.id,branch_id:N==null?void 0:N.id,status:"Pending"}):await RX(Number(Ht),{title:L==null?void 0:L.title,date:String(yt==null?void 0:yt.toISOString()),start_time:String(Xe==null?void 0:Xe.toISOString()),estimated_end_time:String(We==null?void 0:We.toISOString()),final_price:Ke,employee_id:S==null?void 0:S.id,user_id:Re==null?void 0:Re.id,service_id:L==null?void 0:L.id,voucher_id:P==null?void 0:P.id,branch_id:N==null?void 0:N.id,status:"Pending"}),Ne({service:" "+(L==null?void 0:L.title),employee:" "+(S==null?void 0:S.name),address:" "+(N==null?void 0:N.address),time:" "+(Xe==null?void 0:Xe.getHours().toString())+":"+(Xe==null?void 0:Xe.getMinutes().toString())+", "+(yt==null?void 0:yt.toLocaleDateString()),price:" "+Ke+"đ",status:"Chờ xác nhận"})}catch(ct){console.error("Lỗi khi xác nhận lịch hẹn:",ct)}},qt=tr=>{W(tr)};return _.jsxs("div",{className:"min-h-screen bg-cover bg-no-repeat pb-10",style:{backgroundImage:"url('bg.png')"},children:[_.jsx("div",{className:" pt-10",children:_.jsx("h1",{className:"text-3xl font-bold text-center text-white pb-2",children:"Đặt lịch hẹn"})}),_.jsxs("div",{className:"m-10 mt-0 flex justify-between bg-white rounded-lg p-10 pb-15 space-x-10",children:[_.jsxs("div",{className:"w-full ",children:[_.jsxs("div",{className:"mb-6",children:[_.jsx("h2",{className:"text-3xl font-bold mb-1",children:"1. Chọn chi nhánh"}),_.jsx("div",{className:"flex items-center",children:_.jsxs("button",{className:`px-2 py-2 border rounded mt-8 w-fit text-left ${u==="branches"?"bg-teal-600 text-white font-bold":"bg-gray-200 hover:bg-teal-600 hover:text-white"}`,onClick:()=>{h("branches"),se("")},children:[_.jsx(mr,{icon:SX,className:"mr-2"}),_.jsx("span",{children:N?N.address:"Chọn chi nhánh"})]})}),ee&&_.jsx("p",{className:"text-red-500 mt-2",children:ee})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("h2",{className:"text-3xl font-bold mb-1",children:"2. Chọn dịch vụ"}),_.jsx("div",{className:"flex items-center",children:_.jsxs("button",{className:`px-2 py-2 border rounded mt-8 w-full text-left ${u==="services"?"bg-teal-600 text-white font-bold":"bg-gray-200 hover:hover:bg-teal-600 hover:text-white"}`,onClick:()=>{if(!N){se("Vui lòng chọn chi nhánh trước");return}h("services"),Se("")},children:[_.jsx(mr,{icon:bX,className:"mr-2"}),L?L.title:"Chọn dịch vụ với nhiều ưu đãi hấp dẫn"]})}),he&&_.jsx("p",{className:"text-red-500 mt-2",children:he}),_.jsxs("button",{className:`inline-flex items-center px-2 py-2 border rounded mt-8 text-left w-full ${u==="voucher"?"bg-teal-600 text-white font-bold":"bg-gray-200 hover:bg-teal-600 hover:text-white"}`,onClick:()=>{if(!N||!L){N||se("Vui lòng chọn chi nhánh trước"),L||Se("Vui lòng chọn dịch vụ trước");return}h("voucher")},children:[_.jsx(mr,{icon:wX,className:"mr-2"}),P?P==null?void 0:P.code:"Voucher"]}),_.jsxs("p",{className:"pt-3 text-green-700	",children:["Tổng thanh toán:"," ",L?(L.price??0)-((P==null?void 0:P.discount_value)??0):0," VNĐ"]})]}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-3xl font-bold mb-1",children:"3. Chọn ngày giờ & nhân viên"}),_.jsx("div",{className:"flex items-center mb-1",children:_.jsxs("button",{className:`inline-block px-2 py-2 border rounded mt-4 w-full text-left ${u==="employees"?"bg-teal-600 text-white font-bold":"bg-gray-200 hover:bg-teal-600 hover:text-white"}`,onClick:()=>{if(!N||!L){N||se("Vui lòng chọn chi nhánh trước"),L||Se("Vui lòng chọn dịch vụ trước");return}h("employees"),q("")},children:[_.jsx(mr,{icon:xX,className:"mr-2"}),"Chọn nhân viên"]})}),J&&_.jsx("p",{className:"text-red-500 mb-2",children:J}),_.jsxs("div",{children:[_.jsxs("select",{className:"p-2 border rounded-lg flex-grow text-left",onChange:kr,defaultValue:"today",disabled:!N||!L,children:[_.jsx("option",{value:"tomorrow",children:"Ngày mai"}),_.jsx("option",{value:"today",children:"Hôm nay"})]}),_.jsxs("p",{className:"pb-3 pt-2",children:["Ngày được chọn:"," ",yt==null?void 0:yt.toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),_.jsx(FR,{timeBlock:Math.floor(Number(L==null?void 0:L.estimate_time)/20),onTimeSelect:qt,schedule:tt,selectedDate:yt,isDisplaying:S!=null,setErrorTime:_e}),oe&&_.jsx("p",{className:"text-red-500 mt-2",children:oe})]}),_.jsx("button",{className:"mt-6 w-full p-3 bg-black text-white rounded-full text-center font-medium hover:bg-gray-900 active:bg-gray-800",onClick:xt,children:"Đặt ngay"}),xe&&_.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center z-50",children:_.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96",children:[_.jsxs("div",{className:"flex items-center mb-4",children:[_.jsx("span",{className:"text-green-500 text-xl mr-2",children:"✔"}),_.jsx("h2",{className:"text-center font-bold",children:"Đặt lịch thành công"})]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Dịch vụ:"})," ",xe.service]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Nhân viên:"})," ",xe.employee]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Địa chỉ:"})," ",xe.address]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Thời gian:"})," ",xe.time]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Tổng tiền ước tính:"})," ",xe.price]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Trạng thái:"})," ",xe.status]}),_.jsx("button",{onClick:()=>{Ne(null),pt("/appointment")},className:"mt-4 w-full p-2 bg-blue-500 text-white rounded-lg",children:"Đóng"})]})})]}),_.jsx("div",{className:"w-full",children:_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:"text",placeholder:"",className:"w-full p-3 pl-9 mb-6 rounded-lg border-2 border-black",onChange:tr=>n(tr.target.value)}),_.jsx(mr,{icon:kX,className:"absolute top-5  left-4 text-gray-500 font-bold"}),_.jsx(TX,{viewType:u,branches:t,selectedBranch:N,setSelectedBranch:D,resetState:rn,searchTerm:r}),_.jsx(EX,{viewType:u,services:f,selectedService:L,setSelectedService:R,setSelectedVoucher:I,searchTerm:r}),_.jsx(OX,{viewType:u,vouchers:A,selectedVoucher:P,setSelectedVoucher:I,user:Re,selectedDate:yt,selectedService:L,searchTerm:r}),_.jsx(jX,{viewType:u,employees:x,selectedEmployee:S,setSelectedEmployee:C,searchTerm:r})]})})]})]})},BX=()=>{const[t,e]=ke.useState(""),[r,n]=ke.useState(""),[i,o]=ke.useState(""),[a,l]=ke.useState(""),{user:u,setUser:h}=ry(),f=Ka();H.useEffect(()=>{u&&f("/")},[u]);const m=async()=>{console.log("handleGoogleLogin"),await window.open(`${Av}/auth/google`,"","width=500,height=600"),window.addEventListener("message",S=>{if(S.origin!==Av){console.log("Invalid origin",S.origin);return}const{access_token:C}=S.data;console.log("access_token",C),C&&(console.log("access_token",C),x(C))})},x=async S=>{const{user:C}=await rh.loginWithGoogle(S);h(C),console.log("Logged in with Google successfully")},w=async S=>{S.preventDefault();try{console.log("Registering..."),console.log("name:",i),console.log("email:",t),console.log("password...",r),console.log("phoneNumber...",a);const C=await rh.register(i,t,r,a);Cn.success("Đăng ký thành công"),console.log("Register success:",C),f("/login")}catch(C){Cn.error("Đăng ký thất bại"),console.error("Register failed:",C)}};return _.jsx("div",{className:"container mx-auto min-h-screen flex items-center justify-center bg-gray-100",children:_.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-sm md:max-w-md lg:max-w-lg",children:[_.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Đăng Ký"}),_.jsx("div",{className:"flex justify-center mb-6",children:_.jsx("img",{src:OR,alt:"Logo",className:"w-24 h-24 object-contain"})}),_.jsxs("form",{className:"space-y-4",onSubmit:w,children:[_.jsx("div",{children:_.jsx("input",{type:"text",id:"Name",value:i,onChange:S=>o(S.target.value),placeholder:"Nhập tên đăng ký",className:"mt-1 p-2 w-full border rounded-lg focus:outline-none focus:ring focus:ring-gray-300"})}),_.jsx("div",{children:_.jsx("input",{type:"text",id:"email",value:t,onChange:S=>e(S.target.value),placeholder:"Nhập email đăng ký",className:"mt-1 p-2 w-full border rounded-lg focus:outline-none focus:ring focus:ring-gray-300"})}),_.jsx("div",{children:_.jsx("input",{type:"password",id:"password",value:r,onChange:S=>n(S.target.value),placeholder:"Nhập mật khẩu",className:"mt-1 p-2 w-full border rounded-lg focus:outline-none focus:ring focus:ring-gray-300"})}),_.jsx("div",{children:_.jsx("input",{type:"text",id:"phonenumber",value:a,onChange:S=>l(S.target.value),placeholder:"Nhập số điện thoại",className:"mt-1 p-2 w-full border rounded-lg focus:outline-none focus:ring focus:ring-gray-300"})}),_.jsx("div",{className:"text-right"}),_.jsx("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded-lg hover:bg-gray-800 transition-colors",children:"Đăng Ký"})]}),_.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[_.jsx("span",{className:"w-full border-t"}),_.jsx("span",{className:"text-sm mx-2",children:"hoặc"}),_.jsx("span",{className:"w-full border-t"})]}),_.jsxs("button",{onClick:m,className:"mt-4 flex items-center justify-center w-full border py-2 rounded-lg bg-white shadow-md hover:bg-gray-100",children:[_.jsx("img",{src:DR,alt:"Google",className:"w-5 h-5 mr-2"}),"Đăng ký với tài khoản Google"]}),_.jsxs("p",{className:"text-center mt-4 text-sm",children:["Đã có tài khoản?"," ",_.jsx(ba,{to:"/login",className:"nav-items",children:"Đăng nhập"})]})]})})},$X=()=>{const{user:t,setUser:e}=ry(),[r,n]=H.useState(!1),[i,o]=H.useState(t),[a,l]=H.useState(!1),u=Ka();H.useEffect(()=>{t&&(console.log("user",t),o(t))},[t]);const h=S=>{i&&o({...i,[S.target.name]:S.target.value})},f=S=>{i&&o({...i,gender:S.target.value})},m=async()=>{if(i){l(!0);try{await rh.updateProfile(i.name,i.phone,i.gender),e(i),Cn.success("Cập nhật thông tin thành công"),console.log("update user........",i),n(!1)}catch(S){Cn.error("Cập nhật thông tin thất bại"),console.error("Update user failed:",S)}finally{l(!1)}}},x=()=>{o(t),n(!1)},w=()=>{u("/change-password")};return i?_.jsx("div",{className:"block items-center overflow-hidden bg-gray-50 py-6 sm:py-12 ",children:_.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-lg mt-10 border",children:[_.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Thông tin"}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tên"}),_.jsx("input",{type:"text",name:"name",value:i.name,onChange:h,disabled:!r,className:`w-full mt-1 px-4 py-2 border ${r?"border-gray-300":"border-transparent"} rounded-md focus:ring-blue-500 focus:border-blue-500`})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Số Điện Thoại"}),_.jsx("input",{type:"text",name:"phone",value:i.phone,onChange:h,disabled:!r,className:`w-full mt-1 px-4 py-2 border ${r?"border-gray-300":"border-transparent"} rounded-md focus:ring-blue-500 focus:border-blue-500`})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Giới Tính"}),_.jsx("div",{className:"flex items-center mt-2 space-x-4",children:["male","female","other"].map(S=>_.jsxs("label",{className:"flex items-center",children:[_.jsx("input",{type:"radio",name:"gender",value:S,checked:i.gender===S,onChange:f,disabled:!r,className:"text-blue-600 focus:ring-blue-500"}),_.jsx("span",{className:"ml-2 capitalize",children:S})]},S))})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),_.jsx("input",{type:"email",name:"email",value:i.email,disabled:!0,className:"w-full mt-1 px-4 py-2 border border-transparent rounded-md bg-gray-100 text-gray-600"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Số Lần Đặt"}),_.jsx("input",{type:"number",name:"bookingCount",value:i.booking_count||0,disabled:!0,className:"w-full mt-1 px-4 py-2 border border-transparent rounded-md bg-gray-100 text-gray-600"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Số Lần Hủy"}),_.jsx("input",{type:"number",name:"cancelCount",value:i.cancel_count||0,disabled:!0,className:"w-full mt-1 px-4 py-2 border border-transparent rounded-md bg-gray-100 text-gray-600"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Points"}),_.jsx("input",{type:"number",name:"points",value:i.points,disabled:!0,className:"w-full mt-1 px-4 py-2 border border-transparent rounded-md bg-gray-100 text-gray-600"})]}),_.jsxs("div",{className:"flex space-x-4",children:[r?_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:m,disabled:a,className:"bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-md",children:a?"Saving...":"Save"}),_.jsx("button",{onClick:x,className:"bg-gray-300 hover:bg-gray-400 text-gray-700 font-medium py-2 px-4 rounded-md",children:"Cancel"})]}):_.jsx("button",{onClick:()=>n(!0),className:"bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-md",children:"Chỉnh Sửa"}),_.jsx("button",{onClick:w,className:"bg-red-500 hover:bg-red-600 text-white font-medium py-2 px-4 rounded-md",children:"Thay đổi mật khẩu"})]})]})]})}):_.jsx("p",{children:"Loading user data..."})},HX=()=>{const t=Ka(),[e,r]=H.useState(""),[n,i]=H.useState(""),[o,a]=H.useState(""),[l,u]=H.useState(!1),[h,f]=H.useState(null),[m,x]=H.useState(null),w=A=>{const{name:E,value:P}=A.target;E==="oldPassword"?r(P):E==="newPassword"?i(P):E==="confirmNewPassword"&&a(P)};function S(A){return typeof A=="object"&&A!==null&&"message"in A}const C=async A=>{if(A.preventDefault(),f(null),x(null),n!==o){Cn.error("Mật khẩu mới và xác nhận mật khẩu mới không khớp."),f("Mật khẩu mới và xác nhận mật khẩu mới không khớp.");return}try{u(!0);const E=await rh.changePassword(e,n);console.log(E),Cn.success("Mật khẩu đã được thay đổi thành công"),x("Mật khẩu đã được thay đổi thành công."),r(""),i(""),a(""),setTimeout(()=>{t("/")},2e3)}catch(E){S(E)&&E.message==="Token not found"?(f("Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại."),t("/")):f("Đã có lỗi xảy ra khi thay đổi mật khẩu."),u(!1)}};return _.jsxs("div",{className:"max-w-lg mx-auto p-6 bg-white shadow-md rounded-lg border mt-10",children:[_.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Change Password"}),_.jsxs("form",{onSubmit:C,className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Old Password"}),_.jsx("input",{type:"password",name:"oldPassword",value:e,onChange:w,required:!0,className:"w-full mt-1 px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Password"}),_.jsx("input",{type:"password",name:"newPassword",value:n,onChange:w,required:!0,className:"w-full mt-1 px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),_.jsx("input",{type:"password",name:"confirmNewPassword",value:o,onChange:w,required:!0,className:"w-full mt-1 px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),h&&_.jsx("p",{className:"text-red-500 text-sm mt-2",children:h}),m&&_.jsx("p",{className:"text-green-500 text-sm mt-2",children:m}),_.jsx("div",{className:"flex justify-center",children:_.jsx("button",{type:"submit",disabled:l,className:"bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-md",children:l?"Changing...":"Change Password"})})]})]})};function kt(){return kt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kt.apply(null,arguments)}function pC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function UX(t){if(Array.isArray(t))return pC(t)}function VX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PE(t,e){if(t){if(typeof t=="string")return pC(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pC(t,e):void 0}}function WX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YX(t){return UX(t)||VX(t)||PE(t)||WX()}function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function XX(t,e){if(ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $R(t){var e=XX(t,"string");return ql(e)=="symbol"?e:e+""}function lt(t,e,r){return(e=$R(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GX(t){if(Array.isArray(t))return t}function qX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,l=[],u=!0,h=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(f){h=!0,i=f}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(h)throw i}}return l}}function ZX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sa(t,e){return GX(t)||qX(t,e)||PE(t,e)||ZX()}var ho=1e-6,jp=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function KX(){var t=new jp(4);return jp!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function JX(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function QX(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,t[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,t[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,t[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,t}(function(){var t=KX();return function(e,r,n,i,o,a){var l,u;for(r||(r=4),n||(n=0),i?u=Math.min(i*r+n,e.length):u=e.length,l=n;l<u;l+=r)t[0]=e[l],t[1]=e[l+1],t[2]=e[l+2],t[3]=e[l+3],o(t,t,a),e[l]=t[0],e[l+1]=t[1],e[l+2]=t[2],e[l+3]=t[3];return e}})();function Lx(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function xp(t,e){const r=QX([],e,t);return JX(r,r,1/r[3]),r}function GI(t,e){const r=t%e;return r<0?e+r:r}function eG(t,e,r){return r*e+(1-r)*t}function mC(t,e,r){return t<e?e:t>r?r:t}function tG(t){return Math.log(t)*Math.LOG2E}const ME=Math.log2||tG;function rG(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],l=e[5],u=e[6],h=e[7],f=e[8],m=e[9],x=e[10],w=e[11],S=e[12],C=e[13],A=e[14],E=e[15],P=r*l-n*a,I=r*u-i*a,N=r*h-o*a,D=n*u-i*l,L=n*h-o*l,R=i*h-o*u,$=f*C-m*S,W=f*A-x*S,J=f*E-w*S,q=m*A-x*C,ee=m*E-w*C,se=x*E-w*A,he=P*se-I*ee+N*q+D*J-L*W+R*$;return he?(he=1/he,t[0]=(l*se-u*ee+h*q)*he,t[1]=(i*ee-n*se-o*q)*he,t[2]=(C*R-A*L+E*D)*he,t[3]=(x*L-m*R-w*D)*he,t[4]=(u*J-a*se-h*W)*he,t[5]=(r*se-i*J+o*W)*he,t[6]=(A*N-S*R-E*I)*he,t[7]=(f*R-x*N+w*I)*he,t[8]=(a*ee-l*J+h*$)*he,t[9]=(n*J-r*ee-o*$)*he,t[10]=(S*L-C*N+E*P)*he,t[11]=(m*N-f*L-w*P)*he,t[12]=(l*W-a*q-u*$)*he,t[13]=(r*q-n*W+i*$)*he,t[14]=(C*I-S*D-A*P)*he,t[15]=(f*D-m*I+x*P)*he,t):null}function Qw(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],l=e[4],u=e[5],h=e[6],f=e[7],m=e[8],x=e[9],w=e[10],S=e[11],C=e[12],A=e[13],E=e[14],P=e[15],I=r[0],N=r[1],D=r[2],L=r[3];return t[0]=I*n+N*l+D*m+L*C,t[1]=I*i+N*u+D*x+L*A,t[2]=I*o+N*h+D*w+L*E,t[3]=I*a+N*f+D*S+L*P,I=r[4],N=r[5],D=r[6],L=r[7],t[4]=I*n+N*l+D*m+L*C,t[5]=I*i+N*u+D*x+L*A,t[6]=I*o+N*h+D*w+L*E,t[7]=I*a+N*f+D*S+L*P,I=r[8],N=r[9],D=r[10],L=r[11],t[8]=I*n+N*l+D*m+L*C,t[9]=I*i+N*u+D*x+L*A,t[10]=I*o+N*h+D*w+L*E,t[11]=I*a+N*f+D*S+L*P,I=r[12],N=r[13],D=r[14],L=r[15],t[12]=I*n+N*l+D*m+L*C,t[13]=I*i+N*u+D*x+L*A,t[14]=I*o+N*h+D*w+L*E,t[15]=I*a+N*f+D*S+L*P,t}function gC(t,e,r){var n=r[0],i=r[1],o=r[2],a,l,u,h,f,m,x,w,S,C,A,E;return e===t?(t[12]=e[0]*n+e[4]*i+e[8]*o+e[12],t[13]=e[1]*n+e[5]*i+e[9]*o+e[13],t[14]=e[2]*n+e[6]*i+e[10]*o+e[14],t[15]=e[3]*n+e[7]*i+e[11]*o+e[15]):(a=e[0],l=e[1],u=e[2],h=e[3],f=e[4],m=e[5],x=e[6],w=e[7],S=e[8],C=e[9],A=e[10],E=e[11],t[0]=a,t[1]=l,t[2]=u,t[3]=h,t[4]=f,t[5]=m,t[6]=x,t[7]=w,t[8]=S,t[9]=C,t[10]=A,t[11]=E,t[12]=a*n+f*i+S*o+e[12],t[13]=l*n+m*i+C*o+e[13],t[14]=u*n+x*i+A*o+e[14],t[15]=h*n+w*i+E*o+e[15]),t}function HR(t,e,r){var n=r[0],i=r[1],o=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function nG(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],f=e[9],m=e[10],x=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+h*n,t[5]=a*i+f*n,t[6]=l*i+m*n,t[7]=u*i+x*n,t[8]=h*i-o*n,t[9]=f*i-a*n,t[10]=m*i-l*n,t[11]=x*i-u*n,t}function iG(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[0],a=e[1],l=e[2],u=e[3],h=e[4],f=e[5],m=e[6],x=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+h*n,t[1]=a*i+f*n,t[2]=l*i+m*n,t[3]=u*i+x*n,t[4]=h*i-o*n,t[5]=f*i-a*n,t[6]=m*i-l*n,t[7]=x*i-u*n,t}function aG(t,e,r,n,i){var o=1/Math.tan(e/2),a;return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0?(a=1/(n-i),t[10]=(i+n)*a,t[14]=2*i*n*a):(t[10]=-1,t[14]=-2*n),t}var oG=aG;function qI(t,e){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],l=t[5],u=t[6],h=t[7],f=t[8],m=t[9],x=t[10],w=t[11],S=t[12],C=t[13],A=t[14],E=t[15],P=e[0],I=e[1],N=e[2],D=e[3],L=e[4],R=e[5],$=e[6],W=e[7],J=e[8],q=e[9],ee=e[10],se=e[11],he=e[12],Se=e[13],oe=e[14],_e=e[15];return Math.abs(r-P)<=ho*Math.max(1,Math.abs(r),Math.abs(P))&&Math.abs(n-I)<=ho*Math.max(1,Math.abs(n),Math.abs(I))&&Math.abs(i-N)<=ho*Math.max(1,Math.abs(i),Math.abs(N))&&Math.abs(o-D)<=ho*Math.max(1,Math.abs(o),Math.abs(D))&&Math.abs(a-L)<=ho*Math.max(1,Math.abs(a),Math.abs(L))&&Math.abs(l-R)<=ho*Math.max(1,Math.abs(l),Math.abs(R))&&Math.abs(u-$)<=ho*Math.max(1,Math.abs(u),Math.abs($))&&Math.abs(h-W)<=ho*Math.max(1,Math.abs(h),Math.abs(W))&&Math.abs(f-J)<=ho*Math.max(1,Math.abs(f),Math.abs(J))&&Math.abs(m-q)<=ho*Math.max(1,Math.abs(m),Math.abs(q))&&Math.abs(x-ee)<=ho*Math.max(1,Math.abs(x),Math.abs(ee))&&Math.abs(w-se)<=ho*Math.max(1,Math.abs(w),Math.abs(se))&&Math.abs(S-he)<=ho*Math.max(1,Math.abs(S),Math.abs(he))&&Math.abs(C-Se)<=ho*Math.max(1,Math.abs(C),Math.abs(Se))&&Math.abs(A-oe)<=ho*Math.max(1,Math.abs(A),Math.abs(oe))&&Math.abs(E-_e)<=ho*Math.max(1,Math.abs(E),Math.abs(_e))}function sG(){var t=new jp(2);return jp!=Float32Array&&(t[0]=0,t[1]=0),t}function vC(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function lG(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function cG(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function uG(t){var e=t[0],r=t[1];return Math.hypot(e,r)}function hG(t,e){return t[0]=-e[0],t[1]=-e[1],t}function UR(t,e,r,n){var i=e[0],o=e[1];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t}var dG=lG;(function(){var t=sG();return function(e,r,n,i,o,a){var l,u;for(r||(r=2),n||(n=0),i?u=Math.min(i*r+n,e.length):u=e.length,l=n;l<u;l+=r)t[0]=e[l],t[1]=e[l+1],o(t,t,a),e[l]=t[0],e[l+1]=t[1];return e}})();function fG(){var t=new jp(3);return jp!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function pG(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function mG(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function gG(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}var vG=mG;(function(){var t=fG();return function(e,r,n,i,o,a){var l,u;for(r||(r=3),n||(n=0),i?u=Math.min(i*r+n,e.length):u=e.length,l=n;l<u;l+=r)t[0]=e[l],t[1]=e[l+1],t[2]=e[l+2],o(t,t,a),e[l]=t[0],e[l+1]=t[1],e[l+2]=t[2];return e}})();function nh(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const ol=Math.PI,VR=ol/4,Yl=ol/180,yC=180/ol,Dv=512,ZI=4003e4,q0=85.051129,WR=1.5;function xC(t){return Math.pow(2,t)}function yG(t){return ME(t)}function Lu(t){const[e,r]=t;nh(Number.isFinite(e)),nh(Number.isFinite(r)&&r>=-90&&r<=90,"invalid latitude");const n=e*Yl,i=r*Yl,o=Dv*(n+ol)/(2*ol),a=Dv*(ol+Math.log(Math.tan(VR+i*.5)))/(2*ol);return[o,a]}function Yu(t){const[e,r]=t,n=e/Dv*(2*ol)-ol,i=2*(Math.atan(Math.exp(r/Dv*(2*ol)-ol))-VR);return[n*yC,i*yC]}function xG(t){const{latitude:e,longitude:r,highPrecision:n=!1}=t;nh(Number.isFinite(e)&&Number.isFinite(r));const i=Dv,o=Math.cos(e*Yl),a=i/360,l=a/o,u=i/ZI/o,h={unitsPerMeter:[u,u,u],metersPerUnit:[1/u,1/u,1/u],unitsPerDegree:[a,l,u],degreesPerUnit:[1/a,1/l,1/u]};if(n){const f=Yl*Math.tan(e*Yl)/o,m=a*f/2,x=i/ZI*f,w=x/l*u;h.unitsPerDegree2=[0,m,x],h.unitsPerMeter2=[w,0,w]}return h}function bG(t){const{height:e,pitch:r,bearing:n,altitude:i,scale:o,center:a}=t,l=Lx();gC(l,l,[0,0,-i]),nG(l,l,-r*Yl),iG(l,l,n*Yl);const u=o/e;return HR(l,l,[u,u,u]),a&&gC(l,l,gG([],a)),l}function _G(t){const{width:e,height:r,altitude:n,pitch:i=0,offset:o,center:a,scale:l,nearZMultiplier:u=1,farZMultiplier:h=1}=t;let{fovy:f=j1(WR)}=t;n!==void 0&&(f=j1(n));const m=f*Yl,x=i*Yl,w=YR(f);let S=w;a&&(S+=a[2]*l/Math.cos(x)/r);const C=m*(.5+(o?o[1]:0)/r),A=Math.sin(C)*S/Math.sin(mC(Math.PI/2-x-C,.01,Math.PI-.01)),E=Math.sin(x)*A+S,P=S*10,I=Math.min(E*h,P);return{fov:m,aspect:e/r,focalDistance:w,near:u,far:I}}function wG(t){const{fov:e,aspect:r,near:n,far:i}=_G(t);return oG([],e,r,n,i)}function j1(t){return 2*Math.atan(.5/t)*yC}function YR(t){return .5/Math.tan(.5*t*Yl)}function SG(t,e){const[r,n,i=0]=t;return nh(Number.isFinite(r)&&Number.isFinite(n)&&Number.isFinite(i)),xp(e,[r,n,i,1])}function KI(t,e,r=0){const[n,i,o]=t;if(nh(Number.isFinite(n)&&Number.isFinite(i),"invalid pixel coordinate"),Number.isFinite(o))return xp(e,[n,i,o,1]);const a=xp(e,[n,i,0,1]),l=xp(e,[n,i,1,1]),u=a[2],h=l[2],f=u===h?0:((r||0)-u)/(h-u);return UR([],a,l,f)}function CG(t){const{width:e,height:r,bounds:n,minExtent:i=0,maxZoom:o=24,offset:a=[0,0]}=t,[[l,u],[h,f]]=n,m=kG(t.padding),x=Lu([l,mC(f,-q0,q0)]),w=Lu([h,mC(u,-q0,q0)]),S=[Math.max(Math.abs(w[0]-x[0]),i),Math.max(Math.abs(w[1]-x[1]),i)],C=[e-m.left-m.right-Math.abs(a[0])*2,r-m.top-m.bottom-Math.abs(a[1])*2];nh(C[0]>0&&C[1]>0);const A=C[0]/S[0],E=C[1]/S[1],P=(m.right-m.left)/2/A,I=(m.top-m.bottom)/2/E,N=[(w[0]+x[0])/2+P,(w[1]+x[1])/2+I],D=Yu(N),L=Math.min(o,ME(Math.abs(Math.min(A,E))));return nh(Number.isFinite(L)),{longitude:D[0],latitude:D[1],zoom:L}}function kG(t=0){return typeof t=="number"?{top:t,bottom:t,left:t,right:t}:(nh(Number.isFinite(t.top)&&Number.isFinite(t.bottom)&&Number.isFinite(t.left)&&Number.isFinite(t.right)),t)}const JI=Math.PI/180;function EG(t,e=0){const{width:r,height:n,unproject:i}=t,o={targetZ:e},a=i([0,n],o),l=i([r,n],o);let u,h;const f=t.fovy?.5*t.fovy*JI:Math.atan(.5/t.altitude),m=(90-t.pitch)*JI;return f>m-.01?(u=QI(t,0,e),h=QI(t,r,e)):(u=i([0,0],o),h=i([r,0],o)),[a,l,h,u]}function QI(t,e,r){const{pixelUnprojectionMatrix:n}=t,i=xp(n,[e,0,1,1]),o=xp(n,[e,t.height,1,1]),l=(r*t.distanceScales.unitsPerMeter[2]-i[2])/(o[2]-i[2]),u=UR([],i,o,l),h=Yu(u);return h.push(r),h}class Xl{constructor(e={width:1,height:1}){lt(this,"latitude",void 0),lt(this,"longitude",void 0),lt(this,"zoom",void 0),lt(this,"pitch",void 0),lt(this,"bearing",void 0),lt(this,"altitude",void 0),lt(this,"fovy",void 0),lt(this,"meterOffset",void 0),lt(this,"center",void 0),lt(this,"width",void 0),lt(this,"height",void 0),lt(this,"scale",void 0),lt(this,"distanceScales",void 0),lt(this,"viewMatrix",void 0),lt(this,"projectionMatrix",void 0),lt(this,"viewProjectionMatrix",void 0),lt(this,"pixelProjectionMatrix",void 0),lt(this,"pixelUnprojectionMatrix",void 0),lt(this,"equals",E=>E instanceof Xl?E.width===this.width&&E.height===this.height&&qI(E.projectionMatrix,this.projectionMatrix)&&qI(E.viewMatrix,this.viewMatrix):!1),lt(this,"project",(E,P={})=>{const{topLeft:I=!0}=P,N=this.projectPosition(E),D=SG(N,this.pixelProjectionMatrix),[L,R]=D,$=I?R:this.height-R;return E.length===2?[L,$]:[L,$,D[2]]}),lt(this,"unproject",(E,P={})=>{const{topLeft:I=!0,targetZ:N=void 0}=P,[D,L,R]=E,$=I?L:this.height-L,W=N&&N*this.distanceScales.unitsPerMeter[2],J=KI([D,$,R],this.pixelUnprojectionMatrix,W),[q,ee,se]=this.unprojectPosition(J);return Number.isFinite(R)?[q,ee,se]:Number.isFinite(N)?[q,ee,N]:[q,ee]}),lt(this,"projectPosition",E=>{const[P,I]=Lu(E),N=(E[2]||0)*this.distanceScales.unitsPerMeter[2];return[P,I,N]}),lt(this,"unprojectPosition",E=>{const[P,I]=Yu(E),N=(E[2]||0)*this.distanceScales.metersPerUnit[2];return[P,I,N]});let{width:r,height:n,altitude:i=null,fovy:o=null}=e;const{latitude:a=0,longitude:l=0,zoom:u=0,pitch:h=0,bearing:f=0,position:m=null,nearZMultiplier:x=.02,farZMultiplier:w=1.01}=e;r=r||1,n=n||1,o===null&&i===null?(i=WR,o=j1(i)):o===null?o=j1(i):i===null&&(i=YR(o));const S=xC(u);i=Math.max(.75,i);const C=xG({longitude:l,latitude:a}),A=Lu([l,a]);A.push(0),m&&pG(A,A,vG([],m,C.unitsPerMeter)),this.projectionMatrix=wG({width:r,height:n,scale:S,center:A,pitch:h,fovy:o,nearZMultiplier:x,farZMultiplier:w}),this.viewMatrix=bG({height:n,scale:S,center:A,pitch:h,bearing:f,altitude:i}),this.width=r,this.height=n,this.scale=S,this.latitude=a,this.longitude=l,this.zoom=u,this.pitch=h,this.bearing=f,this.altitude=i,this.fovy=o,this.center=A,this.meterOffset=m||[0,0,0],this.distanceScales=C,this._initMatrices(),Object.freeze(this)}_initMatrices(){const{width:e,height:r,projectionMatrix:n,viewMatrix:i}=this,o=Lx();Qw(o,o,n),Qw(o,o,i),this.viewProjectionMatrix=o;const a=Lx();HR(a,a,[e/2,-r/2,1]),gC(a,a,[1,-1,0]),Qw(a,a,o);const l=rG(Lx(),a);if(!l)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=a,this.pixelUnprojectionMatrix=l}projectFlat(e){return Lu(e)}unprojectFlat(e){return Yu(e)}getMapCenterByLngLatPosition({lngLat:e,pos:r}){const n=KI(r,this.pixelUnprojectionMatrix),i=Lu(e),o=vC([],i,hG([],n)),a=vC([],this.center,o);return Yu(a)}fitBounds(e,r={}){const{width:n,height:i}=this,{longitude:o,latitude:a,zoom:l}=CG(Object.assign({width:n,height:i,bounds:e},r));return new Xl({width:n,height:i,longitude:o,latitude:a,zoom:l})}getBounds(e){const r=this.getBoundingRegion(e),n=Math.min(...r.map(l=>l[0])),i=Math.max(...r.map(l=>l[0])),o=Math.min(...r.map(l=>l[1])),a=Math.max(...r.map(l=>l[1]));return[[n,o],[i,a]]}getBoundingRegion(e={}){return EG(this,e.z||0)}getLocationAtPoint({lngLat:e,pos:r}){return this.getMapCenterByLngLatPosition({lngLat:e,pos:r})}}const e4=512;function TG(t){const{width:e,height:r,pitch:n=0}=t;let{longitude:i,latitude:o,zoom:a,bearing:l=0}=t;(i<-180||i>180)&&(i=GI(i+180,360)-180),(l<-180||l>180)&&(l=GI(l+180,360)-180);const u=ME(r/e4);if(a<=u)a=u,o=0;else{const h=r/2/Math.pow(2,a),f=Yu([0,h])[1];if(o<f)o=f;else{const m=Yu([0,e4-h])[1];o>m&&(o=m)}}return{width:e,height:r,longitude:i,latitude:o,zoom:a,pitch:n,bearing:l}}const XR=.01,AG=["longitude","latitude","zoom"],GR={curve:1.414,speed:1.2};function PG(t,e,r,n){const{startZoom:i,startCenterXY:o,uDelta:a,w0:l,u1:u,S:h,rho:f,rho2:m,r0:x}=qR(t,e,n);if(u<XR){const N={};for(const D of AG){const L=t[D],R=e[D];N[D]=eG(L,R,r)}return N}const w=r*h,S=Math.cosh(x)/Math.cosh(x+f*w),C=l*((Math.cosh(x)*Math.tanh(x+f*w)-Math.sinh(x))/m)/u,A=1/S,E=i+yG(A),P=cG([],a,C);vC(P,P,o);const I=Yu(P);return{longitude:I[0],latitude:I[1],zoom:E}}function MG(t,e,r){const n={...GR,...r},{screenSpeed:i,speed:o,maxDuration:a}=n,{S:l,rho:u}=qR(t,e,n),h=1e3*l;let f;return Number.isFinite(i)?f=h/(i/u):f=h/o,Number.isFinite(a)&&f>a?0:f}function qR(t,e,r){r=Object.assign({},GR,r);const n=r.curve,i=t.zoom,o=[t.longitude,t.latitude],a=xC(i),l=e.zoom,u=[e.longitude,e.latitude],h=xC(l-i),f=Lu(o),m=Lu(u),x=dG([],m,f),w=Math.max(t.width,t.height),S=w/h,C=uG(x)*a,A=Math.max(C,XR),E=n*n,P=(S*S-w*w+E*E*A*A)/(2*w*E*A),I=(S*S-w*w-E*E*A*A)/(2*S*E*A),N=Math.log(Math.sqrt(P*P+1)-P),D=Math.log(Math.sqrt(I*I+1)-I),L=(D-N)/n;return{startZoom:i,startCenterXY:f,uDelta:x,w0:w,u1:C,S:L,rho:n,rho2:E,r0:N,r1:D}}var ZR=function(){if(typeof Map<"u")return Map;function t(e,r){var n=-1;return e.some(function(i,o){return i[0]===r?(n=o,!0):!1}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(r){var n=t(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(r,n){var i=t(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},e.prototype.delete=function(r){var n=this.__entries__,i=t(n,r);~i&&n.splice(i,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];r.call(n,a[1],a[0])}},e}()}(),bC=typeof window<"u"&&typeof document<"u"&&window.document===document,z1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),IG=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(z1):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),OG=2;function DG(t,e){var r=!1,n=!1,i=0;function o(){r&&(r=!1,t()),n&&l()}function a(){IG(o)}function l(){var u=Date.now();if(r){if(u-i<OG)return;n=!0}else r=!0,n=!1,setTimeout(a,e);i=u}return l}var NG=20,LG=["top","right","bottom","left","width","height","size","weight"],RG=typeof MutationObserver<"u",jG=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=DG(this.refresh.bind(this),NG)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var r=this.observers_,n=r.indexOf(e);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!bC||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),RG?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!bC||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var r=e.propertyName,n=r===void 0?"":r,i=LG.some(function(o){return!!~n.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),KR=function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},zp=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||z1},JR=Vb(0,0,0,0);function F1(t){return parseFloat(t)||0}function t4(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(n,i){var o=t["border-"+i+"-width"];return n+F1(o)},0)}function zG(t){for(var e=["top","right","bottom","left"],r={},n=0,i=e;n<i.length;n++){var o=i[n],a=t["padding-"+o];r[o]=F1(a)}return r}function FG(t){var e=t.getBBox();return Vb(0,0,e.width,e.height)}function BG(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return JR;var n=zp(t).getComputedStyle(t),i=zG(n),o=i.left+i.right,a=i.top+i.bottom,l=F1(n.width),u=F1(n.height);if(n.boxSizing==="border-box"&&(Math.round(l+o)!==e&&(l-=t4(n,"left","right")+o),Math.round(u+a)!==r&&(u-=t4(n,"top","bottom")+a)),!HG(t)){var h=Math.round(l+o)-e,f=Math.round(u+a)-r;Math.abs(h)!==1&&(l-=h),Math.abs(f)!==1&&(u-=f)}return Vb(i.left,i.top,l,u)}var $G=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof zp(t).SVGGraphicsElement}:function(t){return t instanceof zp(t).SVGElement&&typeof t.getBBox=="function"}}();function HG(t){return t===zp(t).document.documentElement}function UG(t){return bC?$G(t)?FG(t):BG(t):JR}function VG(t){var e=t.x,r=t.y,n=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return KR(a,{x:e,y:r,width:n,height:i,top:r,right:e+n,bottom:i+r,left:e}),a}function Vb(t,e,r,n){return{x:t,y:e,width:r,height:n}}var WG=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Vb(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=UG(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),YG=function(){function t(e,r){var n=VG(r);KR(this,{target:e,contentRect:n})}return t}(),XG=function(){function t(e,r,n){if(this.activeObservations_=[],this.observations_=new ZR,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=n}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof zp(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new WG(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof zp(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)&&(r.delete(e),r.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new YG(n.target,n.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),QR=typeof WeakMap<"u"?new WeakMap:new ZR,ej=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=jG.getInstance(),n=new XG(e,r,this);QR.set(this,n)}return t}();["observe","unobserve","disconnect"].forEach(function(t){ej.prototype[t]=function(){var e;return(e=QR.get(this))[t].apply(e,arguments)}});var GG=function(){return typeof z1.ResizeObserver<"u"?z1.ResizeObserver:ej}();function Zr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$R(n.key),n)}}function Kr(t,e,r){return e&&qG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var Dc=typeof document<"u"?document:{};function r4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r4(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n4(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ZG(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(h){throw h},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,l;return{s:function(){r=r.call(t)},n:function(){var h=r.next();return o=h.done,h},e:function(h){a=!0,l=h},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(a)throw l}}}}function ZG(t,e){if(t){if(typeof t=="string")return i4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i4(t,e)}}function i4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var KG=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function e2(t){if(!t)return null;if(typeof t=="string")return t;t.toJS&&(t=t.toJS());var e={},r=n4(t.layers),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;e[i.id]=i}}catch(a){r.e(a)}finally{r.f()}var o=t.layers.map(function(a){var l=e[a.ref],u=null;if("interactive"in a&&(u=Z0({},a),delete u.interactive),l){u=u||Z0({},a),delete u.ref;var h=n4(KG),f;try{for(h.s();!(f=h.n()).done;){var m=f.value;m in l&&(u[m]=l[m])}}catch(x){h.e(x)}finally{h.f()}}return u||a});return Z0(Z0({},t),{},{layers:o})}var a4={};function JG(){}function QG(t){t&&console.error(t.error)}var tj={container:Ze.object,gl:Ze.object,goongApiAccessToken:Ze.string,goongApiUrl:Ze.string,attributionControl:Ze.bool,preserveDrawingBuffer:Ze.bool,reuseMaps:Ze.bool,transformRequest:Ze.func,mapOptions:Ze.object,mapStyle:Ze.oneOfType([Ze.string,Ze.object]),preventStyleDiffing:Ze.bool,visible:Ze.bool,asyncRender:Ze.bool,onLoad:Ze.func,onError:Ze.func,width:Ze.number,height:Ze.number,viewState:Ze.object,longitude:Ze.number,latitude:Ze.number,zoom:Ze.number,bearing:Ze.number,pitch:Ze.number,altitude:Ze.number},Rx={container:Dc.body,goongApiAccessToken:eq(),goongApiUrl:"https://tiles.goong.io",preserveDrawingBuffer:!1,attributionControl:!0,reuseMaps:!1,mapOptions:{},mapStyle:"https://tiles.goong.io/assets/goong_map_web.json",preventStyleDiffing:!1,visible:!0,asyncRender:!1,onLoad:JG,onError:QG,width:0,height:0,longitude:0,latitude:0,zoom:0,bearing:0,pitch:0,altitude:1.5};function eq(){var t=null;if(typeof window<"u"&&window.location){var e=window.location.search.match(/api_key=([^&\/]*)/);t=e&&e[1]}return!t&&typeof process<"u"&&(t=t||a4.GoongAccessToken||a4.REACT_APP_GOONG_ACCESS_TOKEN),t||"no-token"}function o4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"component";t.debug&&Ze.checkPropTypes(tj,t,"prop",e)}var Od=function(){function t(e){var r=this;if(Zr(this,t),lt(this,"props",Rx),lt(this,"width",0),lt(this,"height",0),lt(this,"_fireLoadEvent",function(){r.props.onLoad({type:"load",target:r._map})}),!e.mapboxgl)throw new Error("Goong JS not available");this.mapboxgl=e.mapboxgl,t.initialized||(t.initialized=!0,this._checkStyleSheet(this.mapboxgl.version)),this._initialize(e)}return Kr(t,[{key:"finalize",value:function(){return this._destroy(),this}},{key:"setProps",value:function(r){return this._update(this.props,r),this}},{key:"redraw",value:function(){var r=this._map;r.style&&(r._frame&&(r._frame.cancel(),r._frame=null),r._render())}},{key:"getMap",value:function(){return this._map}},{key:"_reuse",value:function(r){this._map=t.savedMap;var n=this._map.getContainer(),i=r.container;if(i.classList.add("mapboxgl-map"),n!==i)for(;n.childNodes.length>0;)i.appendChild(n.childNodes[0]);this._map._container=i,t.savedMap=null,r.mapStyle&&this._map.setStyle(e2(r.mapStyle),{diff:!1}),this._map.isStyleLoaded()?this._fireLoadEvent():this._map.once("styledata",this._fireLoadEvent)}},{key:"_create",value:function(r){if(r.reuseMaps&&t.savedMap)this._reuse(r);else{if(r.gl){var n=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=n,r.gl}}var i={container:r.container,center:[0,0],zoom:8,pitch:0,bearing:0,maxZoom:24,style:e2(r.mapStyle),interactive:!1,trackResize:!1,attributionControl:r.attributionControl,preserveDrawingBuffer:r.preserveDrawingBuffer};r.transformRequest&&(i.transformRequest=r.transformRequest),this._map=new this.mapboxgl.Map(Object.assign({},i,r.mapOptions)),this._map.once("load",r.onLoad),this._map.on("error",r.onError)}return this}},{key:"_destroy",value:function(){this._map&&(this.props.reuseMaps&&!t.savedMap?(t.savedMap=this._map,this._map.off("load",this.props.onLoad),this._map.off("error",this.props.onError),this._map.off("styledata",this._fireLoadEvent)):this._map.remove(),this._map=null)}},{key:"_initialize",value:function(r){var n=this;r=Object.assign({},Rx,r),o4(r,"Goong"),this.mapboxgl.accessToken=r.goongApiAccessToken||Rx.goongApiAccessToken,this.mapboxgl.baseApiUrl=r.goongApiUrl,this._create(r);var i=r,o=i.container;Object.defineProperty(o,"offsetWidth",{configurable:!0,get:function(){return n.width}}),Object.defineProperty(o,"clientWidth",{configurable:!0,get:function(){return n.width}}),Object.defineProperty(o,"offsetHeight",{configurable:!0,get:function(){return n.height}}),Object.defineProperty(o,"clientHeight",{configurable:!0,get:function(){return n.height}});var a=this._map.getCanvas();a&&(a.style.outline="none"),this._updateMapViewport({},r),this._updateMapSize({},r),this.props=r}},{key:"_update",value:function(r,n){if(this._map){n=Object.assign({},this.props,n),o4(n,"Goong");var i=this._updateMapViewport(r,n),o=this._updateMapSize(r,n);this._updateMapStyle(r,n),!n.asyncRender&&(i||o)&&this.redraw(),this.props=n}}},{key:"_updateMapStyle",value:function(r,n){var i=r.mapStyle!==n.mapStyle;i&&this._map.setStyle(e2(n.mapStyle),{diff:!n.preventStyleDiffing})}},{key:"_updateMapSize",value:function(r,n){var i=r.width!==n.width||r.height!==n.height;return i&&(this.width=n.width,this.height=n.height,this._map.resize()),i}},{key:"_updateMapViewport",value:function(r,n){var i=this._getViewState(r),o=this._getViewState(n),a=o.latitude!==i.latitude||o.longitude!==i.longitude||o.zoom!==i.zoom||o.pitch!==i.pitch||o.bearing!==i.bearing||o.altitude!==i.altitude;return a&&(this._map.jumpTo(this._viewStateToMapboxProps(o)),o.altitude!==i.altitude&&(this._map.transform.altitude=o.altitude)),a}},{key:"_getViewState",value:function(r){var n=r.viewState||r,i=n.longitude,o=n.latitude,a=n.zoom,l=n.pitch,u=l===void 0?0:l,h=n.bearing,f=h===void 0?0:h,m=n.altitude,x=m===void 0?1.5:m;return{longitude:i,latitude:o,zoom:a,pitch:u,bearing:f,altitude:x}}},{key:"_checkStyleSheet",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1.0.6";if(!(typeof Dc>"u"))try{var n=Dc.createElement("div");n.className="mapboxgl-map",n.style.display="none",Dc.body.appendChild(n);var i=window.getComputedStyle(n).position!=="static";if(!i){var o=Dc.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href","https://cdn.jsdelivr.net/npm/@goongmaps/goong-js@".concat(r,"/dist/goong-js.css")),Dc.head.appendChild(o)}}catch{}}},{key:"_viewStateToMapboxProps",value:function(r){return{center:[r.longitude,r.latitude],zoom:r.zoom,bearing:r.bearing,pitch:r.pitch}}}]),t}();lt(Od,"initialized",!1);lt(Od,"propTypes",tj);lt(Od,"defaultProps",Rx);lt(Od,"savedMap",null);var rj={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Gf,function(){var r,n,i;function o(a,l){if(!r)r=l;else if(!n)n=l;else{var u="var sharedChunk = {}; ("+r+")(sharedChunk); ("+n+")(sharedChunk);",h={};r(h),i=l(h),i.workerUrl=window.URL.createObjectURL(new Blob([u],{type:"text/javascript"}))}}return o(["exports"],function(a){function l(s,c){return s(c={exports:{}},c.exports),c.exports}var u=h;function h(s,c,d,y){this.cx=3*s,this.bx=3*(d-s)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*c,this.by=3*(y-c)-this.cy,this.ay=1-this.cy-this.by,this.p1x=s,this.p1y=y,this.p2x=d,this.p2y=y}h.prototype.sampleCurveX=function(s){return((this.ax*s+this.bx)*s+this.cx)*s},h.prototype.sampleCurveY=function(s){return((this.ay*s+this.by)*s+this.cy)*s},h.prototype.sampleCurveDerivativeX=function(s){return(3*this.ax*s+2*this.bx)*s+this.cx},h.prototype.solveCurveX=function(s,c){var d,y,k,T,O;for(c===void 0&&(c=1e-6),k=s,O=0;O<8;O++){if(T=this.sampleCurveX(k)-s,Math.abs(T)<c)return k;var F=this.sampleCurveDerivativeX(k);if(Math.abs(F)<1e-6)break;k-=T/F}if((k=s)<(d=0))return d;if(k>(y=1))return y;for(;d<y;){if(T=this.sampleCurveX(k),Math.abs(T-s)<c)return k;s>T?d=k:y=k,k=.5*(y-d)+d}return k},h.prototype.solve=function(s,c){return this.sampleCurveY(this.solveCurveX(s,c))};var f=m;function m(s,c){this.x=s,this.y=c}function x(s,c,d,y){var k=new u(s,c,d,y);return function(T){return k.solve(T)}}m.prototype={clone:function(){return new m(this.x,this.y)},add:function(s){return this.clone()._add(s)},sub:function(s){return this.clone()._sub(s)},multByPoint:function(s){return this.clone()._multByPoint(s)},divByPoint:function(s){return this.clone()._divByPoint(s)},mult:function(s){return this.clone()._mult(s)},div:function(s){return this.clone()._div(s)},rotate:function(s){return this.clone()._rotate(s)},rotateAround:function(s,c){return this.clone()._rotateAround(s,c)},matMult:function(s){return this.clone()._matMult(s)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(s){return this.x===s.x&&this.y===s.y},dist:function(s){return Math.sqrt(this.distSqr(s))},distSqr:function(s){var c=s.x-this.x,d=s.y-this.y;return c*c+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(s){return Math.atan2(this.y-s.y,this.x-s.x)},angleWith:function(s){return this.angleWithSep(s.x,s.y)},angleWithSep:function(s,c){return Math.atan2(this.x*c-this.y*s,this.x*s+this.y*c)},_matMult:function(s){var c=s[0]*this.x+s[1]*this.y,d=s[2]*this.x+s[3]*this.y;return this.x=c,this.y=d,this},_add:function(s){return this.x+=s.x,this.y+=s.y,this},_sub:function(s){return this.x-=s.x,this.y-=s.y,this},_mult:function(s){return this.x*=s,this.y*=s,this},_div:function(s){return this.x/=s,this.y/=s,this},_multByPoint:function(s){return this.x*=s.x,this.y*=s.y,this},_divByPoint:function(s){return this.x/=s.x,this.y/=s.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var s=this.y;return this.y=this.x,this.x=-s,this},_rotate:function(s){var c=Math.cos(s),d=Math.sin(s),y=c*this.x-d*this.y,k=d*this.x+c*this.y;return this.x=y,this.y=k,this},_rotateAround:function(s,c){var d=Math.cos(s),y=Math.sin(s),k=c.x+d*(this.x-c.x)-y*(this.y-c.y),T=c.y+y*(this.x-c.x)+d*(this.y-c.y);return this.x=k,this.y=T,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},m.convert=function(s){return s instanceof m?s:Array.isArray(s)?new m(s[0],s[1]):s};var w=x(.25,.1,.25,1);function S(s,c,d){return Math.min(d,Math.max(c,s))}function C(s,c,d){var y=d-c,k=((s-c)%y+y)%y+c;return k===c?d:k}function A(s){for(var c=[],d=arguments.length-1;d-- >0;)c[d]=arguments[d+1];for(var y=0,k=c;y<k.length;y+=1){var T=k[y];for(var O in T)s[O]=T[O]}return s}var E=1;function P(){return E++}function I(){return function s(c){return c?(c^16*Math.random()>>c/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,s)}()}function N(s){return!!s&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(s)}function D(s,c){s.forEach(function(d){c[d]&&(c[d]=c[d].bind(c))})}function L(s,c){return s.indexOf(c,s.length-c.length)!==-1}function R(s,c,d){var y={};for(var k in s)y[k]=c.call(d||this,s[k],k,s);return y}function $(s,c,d){var y={};for(var k in s)c.call(d||this,s[k],k,s)&&(y[k]=s[k]);return y}function W(s){return Array.isArray(s)?s.map(W):typeof s=="object"&&s?R(s,W):s}var J={};function q(s){J[s]||(typeof console<"u"&&console.warn(s),J[s]=!0)}function ee(s,c,d){return(d.y-s.y)*(c.x-s.x)>(c.y-s.y)*(d.x-s.x)}function se(s){for(var c=0,d=0,y=s.length,k=y-1,T=void 0,O=void 0;d<y;k=d++)T=s[d],c+=((O=s[k]).x-T.x)*(T.y+O.y);return c}function he(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Se(s){var c={};if(s.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(y,k,T,O){var F=T||O;return c[k]=!F||F.toLowerCase(),""}),c["max-age"]){var d=parseInt(c["max-age"],10);isNaN(d)?delete c["max-age"]:c["max-age"]=d}return c}var oe=null;function _e(s){if(oe==null){var c=s.navigator?s.navigator.userAgent:null;oe=!!s.safari||!(!c||!(/\b(iPad|iPhone|iPod)\b/.test(c)||c.match("Safari")&&!c.match("Chrome")))}return oe}function xe(s){try{var c=self[s];return c.setItem("_mapbox_test_",1),c.removeItem("_mapbox_test_"),!0}catch{return!1}}var Ne,Re,He,tt,nt=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),Ke=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,Ue=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,Xe={now:nt,frame:function(s){var c=Ke(s);return{cancel:function(){return Ue(c)}}},getImageData:function(s,c){c===void 0&&(c=0);var d=self.document.createElement("canvas"),y=d.getContext("2d");if(!y)throw new Error("failed to create canvas 2d context");return d.width=s.width,d.height=s.height,y.drawImage(s,0,0,s.width,s.height),y.getImageData(-c,-c,s.width+2*c,s.height+2*c)},resolveURL:function(s){return Ne||(Ne=self.document.createElement("a")),Ne.href=s,Ne.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(Re==null&&(Re=self.matchMedia("(prefers-reduced-motion: reduce)")),Re.matches)}},Ae={API_URL:"https://tiles.goong.io",get EVENTS_URL(){return"https://rsapi.goong.io"},FEEDBACK_URL:"https://goong.io",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},We={supported:!1,testSupport:function(s){qe||!tt||(pt?Pt(s):He=s)}},qe=!1,pt=!1;function Pt(s){var c=s.createTexture();s.bindTexture(s.TEXTURE_2D,c);try{if(s.texImage2D(s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,tt),s.isContextLost())return;We.supported=!0}catch{}s.deleteTexture(c),qe=!0}self.document&&((tt=self.document.createElement("img")).onload=function(){He&&Pt(He),He=null,pt=!0},tt.onerror=function(){qe=!0,He=null},tt.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var Ht="01",dt=function(s,c){this._transformRequestFn=s,this._customAccessToken=c,this._createSkuToken()};function yt(s){return s.indexOf("https://tiles.goong.io")===0}dt.prototype._createSkuToken=function(){var s=function(){for(var c="",d=0;d<10;d++)c+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Ht,c].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=s.token,this._skuTokenExpiresAt=s.tokenExpiresAt},dt.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},dt.prototype.transformRequest=function(s,c){return this._transformRequestFn&&this._transformRequestFn(s,c)||{url:s}},dt.prototype.normalizeStyleURL=function(s,c){if(!yt(s))return s;var d=xt(s);return this._makeAPIURL(d,this._customAccessToken||c)},dt.prototype.normalizeGlyphsURL=function(s,c){if(!yt(s))return s;var d=xt(s);return this._makeAPIURL(d,this._customAccessToken||c)},dt.prototype.normalizeSourceURL=function(s,c){if(!yt(s))return s;var d=xt(s);return this._makeAPIURL(d,this._customAccessToken||c)},dt.prototype.normalizeSpriteURL=function(s,c,d,y){var k=xt(s);return yt(s)?(k.path=""+k.path+c+d,this._makeAPIURL(k,this._customAccessToken||y)):(k.path+=""+c+d,qt(k))},dt.prototype.normalizeTileURL=function(s,c,d){if(this._isSkuTokenExpired()&&this._createSkuToken(),!c||!yt(c))return s;var y=xt(s),k=Xe.devicePixelRatio>=2||d===512?"@2x":"",T=We.supported?".webp":"$1";return y.path=y.path.replace(/(\.(png|jpg)\d*)(?=$)/,""+k+T),y.path=y.path.replace(/^.+\/v4\//,"/"),Ae.REQUIRE_ACCESS_TOKEN&&(Ae.ACCESS_TOKEN||this._customAccessToken)&&this._skuToken&&y.params.push("sku="+this._skuToken),this._makeAPIURL(y,this._customAccessToken)},dt.prototype.canonicalizeTileURL=function(s){var c=xt(s);if(!c.path.match(/(^\/v4\/)/)||!c.path.match(/\.[\w]+$/))return s;var d="mapbox://tiles/";d+=c.path.replace("/v4/","");var y=c.params.filter(function(k){return!k.match(/^api_key=/)});return y.length&&(d+="?"+y.join("&")),d},dt.prototype.canonicalizeTileset=function(s,c){if(!yt(c))return s.tiles||[];for(var d=[],y=0,k=s.tiles;y<k.length;y+=1){var T=k[y],O=this.canonicalizeTileURL(T);d.push(O)}return d},dt.prototype._makeAPIURL=function(s,c){var d=xt(Ae.API_URL);if(s.protocol=d.protocol,s.authority=d.authority,d.path!=="/"&&(s.path=""+d.path+s.path),!Ae.REQUIRE_ACCESS_TOKEN)return qt(s);if(!(c=c||Ae.ACCESS_TOKEN))throw new Error("An API access token is required to use Goong JS. See https://docs.goong.io");return s.params=s.params.filter(function(y){return y.indexOf("api_key")===-1}),s.params.push("api_key="+c),qt(s)};var sr=/^((https?:)?\/\/)?([^\/]+\.)?goong\.io(\/|\?|$)/i;function kr(s){return sr.test(s)}var rn=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function xt(s){var c=s.match(rn);if(!c)throw new Error("Unable to parse URL object");return{protocol:c[1],authority:c[2],path:c[3]||"/",params:c[4]?c[4].split("&"):[]}}function qt(s){var c=s.params.length?"?"+s.params.join("&"):"";return s.protocol+"://"+s.authority+s.path+c}function tr(s){if(!s)return null;var c,d=s.split(".");if(!d||d.length!==3)return null;try{return JSON.parse((c=d[1],decodeURIComponent(self.atob(c).split("").map(function(y){return"%"+("00"+y.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch{return null}}var ct=function(s){this.type=s,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};ct.prototype.getStorageKey=function(s){var c,d=tr(Ae.ACCESS_TOKEN),y="";return d&&d.u?(c=d.u,y=self.btoa(encodeURIComponent(c).replace(/%([0-9A-F]{2})/g,function(k,T){return String.fromCharCode(+("0x"+T))}))):y=Ae.ACCESS_TOKEN||"",s?"goong.eventData."+s+":"+y:"goong.eventData:"+y},ct.prototype.fetchEventData=function(){var s=xe("localStorage"),c=this.getStorageKey(),d=this.getStorageKey("uuid");if(s)try{var y=self.localStorage.getItem(c);y&&(this.eventData=JSON.parse(y));var k=self.localStorage.getItem(d);k&&(this.anonId=k)}catch{q("Unable to read from LocalStorage")}},ct.prototype.saveEventData=function(){var s=xe("localStorage"),c=this.getStorageKey(),d=this.getStorageKey("uuid");if(s)try{self.localStorage.setItem(d,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(c,JSON.stringify(this.eventData))}catch{q("Unable to write to LocalStorage")}},ct.prototype.processRequests=function(s){},ct.prototype.postEvent=function(s,c,d,y){},ct.prototype.queueRequest=function(s,c){this.queue.push(s),this.processRequests(c)};var rr,gr,Fr=function(s){function c(){s.call(this,"map.load"),this.success={},this.skuToken=""}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.postMapLoadEvent=function(d,y,k,T){this.skuToken=k,(Ae.EVENTS_URL&&T||Ae.ACCESS_TOKEN&&Array.isArray(d)&&d.some(function(O){return yt(O)||kr(O)}))&&this.queueRequest({id:y,timestamp:Date.now()},T)},c.prototype.processRequests=function(d){var y=this;if(!this.pendingRequest&&this.queue.length!==0){var k=this.queue.shift(),T=k.id,O=k.timestamp;T&&this.success[T]||(this.anonId||this.fetchEventData(),N(this.anonId)||(this.anonId=I()),this.postEvent(O,{skuToken:this.skuToken},function(F){F||T&&(y.success[T]=!0)},d))}},c}(ct),en=new(function(s){function c(d){s.call(this,"appUserTurnstile"),this._customAccessToken=d}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.postTurnstileEvent=function(d,y){Ae.EVENTS_URL&&Ae.ACCESS_TOKEN&&Array.isArray(d)&&d.some(function(k){return yt(k)||kr(k)})&&this.queueRequest(Date.now(),y)},c.prototype.processRequests=function(d){var y=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var k=tr(Ae.ACCESS_TOKEN),T=k?k.u:Ae.ACCESS_TOKEN,O=T!==this.eventData.tokenU;N(this.anonId)||(this.anonId=I(),O=!0);var F=this.queue.shift();if(this.eventData.lastSuccess){var V=new Date(this.eventData.lastSuccess),X=new Date(F),Z=(F-this.eventData.lastSuccess)/864e5;O=O||Z>=1||Z<-1||V.getDate()!==X.getDate()}else O=!0;if(!O)return this.processRequests();this.postEvent(F,{"enabled.telemetry":!1},function(ne){ne||(y.eventData.lastSuccess=F,y.eventData.tokenU=T)},d)}},c}(ct)),kn=en.postTurnstileEvent.bind(en),Xn=new Fr,fn=Xn.postMapLoadEvent.bind(Xn),Et=500,Lt=50;function Sr(){self.caches&&!rr&&(rr=self.caches.open("mapbox-tiles"))}function pn(s,c,d){if(Sr(),rr){var y={status:c.status,statusText:c.statusText,headers:new self.Headers};c.headers.forEach(function(T,O){return y.headers.set(O,T)});var k=Se(c.headers.get("Cache-Control")||"");k["no-store"]||(k["max-age"]&&y.headers.set("Expires",new Date(d+1e3*k["max-age"]).toUTCString()),new Date(y.headers.get("Expires")).getTime()-d<42e4||function(T,O){if(gr===void 0)try{new Response(new ReadableStream),gr=!0}catch{gr=!1}gr?O(T.body):T.blob().then(O)}(c,function(T){var O=new self.Response(T,y);Sr(),rr&&rr.then(function(F){return F.put(Xt(s.url),O)}).catch(function(F){return q(F.message)})}))}}function Xt(s){var c=s.indexOf("?");return c<0?s:s.slice(0,c)}function Cr(s,c){if(Sr(),!rr)return c(null);var d=Xt(s.url);rr.then(function(y){y.match(d).then(function(k){var T=function(O){if(!O)return!1;var F=new Date(O.headers.get("Expires")||0),V=Se(O.headers.get("Cache-Control")||"");return F>Date.now()&&!V["no-cache"]}(k);y.delete(d),T&&y.put(d,k.clone()),c(null,k,T)}).catch(c)}).catch(c)}var mn,jn=1/0;function Rn(){return mn==null&&(mn=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),mn}var di={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(di);var jo=function(s){function c(d,y,k){y===401&&kr(k)&&(d+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),s.call(this,d),this.status=y,this.url=k,this.name=this.constructor.name,this.message=d}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},c}(Error),yo=he()?function(){return self.worker&&self.worker.referrer}:function(){return(self.location.protocol==="blob:"?self.parent:self).location.href};function Hs(s,c){var d,y=new self.AbortController,k=new self.Request(s.url,{method:s.method||"GET",body:s.body,credentials:s.credentials,headers:s.headers,referrer:yo(),signal:y.signal}),T=!1,O=!1,F=(d=k.url).indexOf("sku=")>0&&kr(d);s.type==="json"&&k.headers.set("Accept","application/json");var V=function(Z,ne,ue){if(!O){if(Z&&Z.message!=="SecurityError"&&q(Z),ne&&ue)return X(ne);var ae=Date.now();self.fetch(k).then(function(de){if(de.ok){var we=F?de.clone():null;return X(de,we,ae)}return c(new jo(de.statusText,de.status,s.url))}).catch(function(de){de.code!==20&&c(new Error(de.message))})}},X=function(Z,ne,ue){(s.type==="arrayBuffer"?Z.arrayBuffer():s.type==="json"?Z.json():Z.text()).then(function(ae){O||(ne&&ue&&pn(k,ne,ue),T=!0,c(null,ae,Z.headers.get("Cache-Control"),Z.headers.get("Expires")))}).catch(function(ae){O||c(new Error(ae.message))})};return F?Cr(k,V):V(null,null),{cancel:function(){O=!0,T||y.abort()}}}var Ca=function(s,c){if(d=s.url,!(/^file:/.test(d)||/^file:/.test(yo())&&!/^\w+:/.test(d))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return Hs(s,c);if(he()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",s,c,void 0,!0)}var d;return function(y,k){var T=new self.XMLHttpRequest;for(var O in T.open(y.method||"GET",y.url,!0),y.type==="arrayBuffer"&&(T.responseType="arraybuffer"),y.headers)T.setRequestHeader(O,y.headers[O]);return y.type==="json"&&(T.responseType="text",T.setRequestHeader("Accept","application/json")),T.withCredentials=y.credentials==="include",T.onerror=function(){k(new Error(T.statusText))},T.onload=function(){if((T.status>=200&&T.status<300||T.status===0)&&T.response!==null){var F=T.response;if(y.type==="json")try{F=JSON.parse(T.response)}catch(V){return k(V)}k(null,F,T.getResponseHeader("Cache-Control"),T.getResponseHeader("Expires"))}else k(new jo(T.statusText,T.status,y.url))},T.send(y.body),{cancel:function(){return T.abort()}}}(s,c)},Ja=function(s,c){return Ca(A(s,{type:"arrayBuffer"}),c)},es,Da;es=[],Da=0;var _s=function(s,c){if(We.supported&&(s.headers||(s.headers={}),s.headers.accept="image/webp,*/*"),Da>=Ae.MAX_PARALLEL_IMAGE_REQUESTS){var d={requestParameters:s,callback:c,cancelled:!1,cancel:function(){this.cancelled=!0}};return es.push(d),d}Da++;var y=!1,k=function(){if(!y)for(y=!0,Da--;es.length&&Da<Ae.MAX_PARALLEL_IMAGE_REQUESTS;){var O=es.shift(),F=O.requestParameters,V=O.callback;O.cancelled||(O.cancel=_s(F,V).cancel)}},T=Ja(s,function(O,F,V,X){k(),O?c(O):F&&(Rn()?function(Z,ne){var ue=new self.Blob([new Uint8Array(Z)],{type:"image/png"});self.createImageBitmap(ue).then(function(ae){ne(null,ae)}).catch(function(){ne(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(F,c):function(Z,ne,ue,ae){var de=new self.Image,we=self.URL;de.onload=function(){ne(null,de),we.revokeObjectURL(de.src)},de.onerror=function(){return ne(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Ce=new self.Blob([new Uint8Array(Z)],{type:"image/png"});de.cacheControl=ue,de.expires=ae,de.src=Z.byteLength?we.createObjectURL(Ce):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(F,c,V,X))});return{cancel:function(){T.cancel(),k()}}};function fa(s,c,d){d[s]&&d[s].indexOf(c)!==-1||(d[s]=d[s]||[],d[s].push(c))}function ts(s,c,d){if(d&&d[s]){var y=d[s].indexOf(c);y!==-1&&d[s].splice(y,1)}}var Vr=function(s,c){c===void 0&&(c={}),A(this,c),this.type=s},un=function(s){function c(d,y){y===void 0&&(y={}),s.call(this,"error",A({error:d},y))}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c}(Vr),Jr=function(){};Jr.prototype.on=function(s,c){return this._listeners=this._listeners||{},fa(s,c,this._listeners),this},Jr.prototype.off=function(s,c){return ts(s,c,this._listeners),ts(s,c,this._oneTimeListeners),this},Jr.prototype.once=function(s,c){return this._oneTimeListeners=this._oneTimeListeners||{},fa(s,c,this._oneTimeListeners),this},Jr.prototype.fire=function(s,c){typeof s=="string"&&(s=new Vr(s,c||{}));var d=s.type;if(this.listens(d)){s.target=this;for(var y=0,k=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];y<k.length;y+=1)k[y].call(this,s);for(var T=0,O=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];T<O.length;T+=1){var F=O[T];ts(d,F,this._oneTimeListeners),F.call(this,s)}var V=this._eventedParent;V&&(A(s,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),V.fire(s))}else s instanceof un&&console.error(s.error);return this},Jr.prototype.listens=function(s){return this._listeners&&this._listeners[s]&&this._listeners[s].length>0||this._oneTimeListeners&&this._oneTimeListeners[s]&&this._oneTimeListeners[s].length>0||this._eventedParent&&this._eventedParent.listens(s)},Jr.prototype.setEventedParent=function(s,c){return this._eventedParent=s,this._eventedParentData=c,this};var et={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Roboto Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},At=function(s,c,d,y){this.message=(s?s+": ":"")+d,y&&(this.identifier=y),c!=null&&c.__line__&&(this.line=c.__line__)};function $a(s){var c=s.key,d=s.value;return d?[new At(c,d,"constants have been deprecated as of v8")]:[]}function Ha(s){for(var c=[],d=arguments.length-1;d-- >0;)c[d]=arguments[d+1];for(var y=0,k=c;y<k.length;y+=1){var T=k[y];for(var O in T)s[O]=T[O]}return s}function Gn(s){return s instanceof Number||s instanceof String||s instanceof Boolean?s.valueOf():s}function bn(s){if(Array.isArray(s))return s.map(bn);if(s instanceof Object&&!(s instanceof Number||s instanceof String||s instanceof Boolean)){var c={};for(var d in s)c[d]=bn(s[d]);return c}return Gn(s)}var G=function(s){function c(d,y){s.call(this,y),this.message=y,this.key=d}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c}(Error),Q=function(s,c){c===void 0&&(c=[]),this.parent=s,this.bindings={};for(var d=0,y=c;d<y.length;d+=1){var k=y[d],T=k[0],O=k[1];this.bindings[T]=O}};Q.prototype.concat=function(s){return new Q(this,s)},Q.prototype.get=function(s){if(this.bindings[s])return this.bindings[s];if(this.parent)return this.parent.get(s);throw new Error(s+" not found in scope.")},Q.prototype.has=function(s){return!!this.bindings[s]||!!this.parent&&this.parent.has(s)};var re={kind:"null"},ie={kind:"number"},ge={kind:"string"},be={kind:"boolean"},Le={kind:"color"},Pe={kind:"object"},Te={kind:"value"},je={kind:"collator"},at={kind:"formatted"},vt={kind:"resolvedImage"};function rt(s,c){return{kind:"array",itemType:s,N:c}}function mt(s){if(s.kind==="array"){var c=mt(s.itemType);return typeof s.N=="number"?"array<"+c+", "+s.N+">":s.itemType.kind==="value"?"array":"array<"+c+">"}return s.kind}var St=[re,ie,ge,be,Le,at,Pe,rt(Te),vt];function Dt(s,c){if(c.kind==="error")return null;if(s.kind==="array"){if(c.kind==="array"&&(c.N===0&&c.itemType.kind==="value"||!Dt(s.itemType,c.itemType))&&(typeof s.N!="number"||s.N===c.N))return null}else{if(s.kind===c.kind)return null;if(s.kind==="value"){for(var d=0,y=St;d<y.length;d+=1)if(!Dt(y[d],c))return null}}return"Expected "+mt(s)+" but found "+mt(c)+" instead."}var jt=l(function(s,c){var d={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function y(V){return(V=Math.round(V))<0?0:V>255?255:V}function k(V){return V<0?0:V>1?1:V}function T(V){return V[V.length-1]==="%"?y(parseFloat(V)/100*255):y(parseInt(V))}function O(V){return V[V.length-1]==="%"?k(parseFloat(V)/100):k(parseFloat(V))}function F(V,X,Z){return Z<0?Z+=1:Z>1&&(Z-=1),6*Z<1?V+(X-V)*Z*6:2*Z<1?X:3*Z<2?V+(X-V)*(2/3-Z)*6:V}try{c.parseCSSColor=function(V){var X,Z=V.replace(/ /g,"").toLowerCase();if(Z in d)return d[Z].slice();if(Z[0]==="#")return Z.length===4?(X=parseInt(Z.substr(1),16))>=0&&X<=4095?[(3840&X)>>4|(3840&X)>>8,240&X|(240&X)>>4,15&X|(15&X)<<4,1]:null:Z.length===7&&(X=parseInt(Z.substr(1),16))>=0&&X<=16777215?[(16711680&X)>>16,(65280&X)>>8,255&X,1]:null;var ne=Z.indexOf("("),ue=Z.indexOf(")");if(ne!==-1&&ue+1===Z.length){var ae=Z.substr(0,ne),de=Z.substr(ne+1,ue-(ne+1)).split(","),we=1;switch(ae){case"rgba":if(de.length!==4)return null;we=O(de.pop());case"rgb":return de.length!==3?null:[T(de[0]),T(de[1]),T(de[2]),we];case"hsla":if(de.length!==4)return null;we=O(de.pop());case"hsl":if(de.length!==3)return null;var Ce=(parseFloat(de[0])%360+360)%360/360,Ie=O(de[1]),Ve=O(de[2]),Ye=Ve<=.5?Ve*(Ie+1):Ve+Ie-Ve*Ie,Ge=2*Ve-Ye;return[y(255*F(Ge,Ye,Ce+1/3)),y(255*F(Ge,Ye,Ce)),y(255*F(Ge,Ye,Ce-1/3)),we];default:return null}}return null}}catch{}}).parseCSSColor,_t=function(s,c,d,y){y===void 0&&(y=1),this.r=s,this.g=c,this.b=d,this.a=y};_t.parse=function(s){if(s){if(s instanceof _t)return s;if(typeof s=="string"){var c=jt(s);if(c)return new _t(c[0]/255*c[3],c[1]/255*c[3],c[2]/255*c[3],c[3])}}},_t.prototype.toString=function(){var s=this.toArray(),c=s[0],d=s[1],y=s[2],k=s[3];return"rgba("+Math.round(c)+","+Math.round(d)+","+Math.round(y)+","+k+")"},_t.prototype.toArray=function(){var s=this.r,c=this.g,d=this.b,y=this.a;return y===0?[0,0,0,0]:[255*s/y,255*c/y,255*d/y,y]},_t.black=new _t(0,0,0,1),_t.white=new _t(1,1,1,1),_t.transparent=new _t(0,0,0,0),_t.red=new _t(1,0,0,1);var dr=function(s,c,d){this.sensitivity=s?c?"variant":"case":c?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};dr.prototype.compare=function(s,c){return this.collator.compare(s,c)},dr.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var fr=function(s,c,d,y,k){this.text=s,this.image=c,this.scale=d,this.fontStack=y,this.textColor=k},ar=function(s){this.sections=s};ar.fromString=function(s){return new ar([new fr(s,null,null,null,null)])},ar.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(s){return s.text.length!==0||s.image&&s.image.name.length!==0})},ar.factory=function(s){return s instanceof ar?s:ar.fromString(s)},ar.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(s){return s.text}).join("")},ar.prototype.serialize=function(){for(var s=["format"],c=0,d=this.sections;c<d.length;c+=1){var y=d[c];if(y.image)s.push(["image",y.image.name]);else{s.push(y.text);var k={};y.fontStack&&(k["text-font"]=["literal",y.fontStack.split(",")]),y.scale&&(k["font-scale"]=y.scale),y.textColor&&(k["text-color"]=["rgba"].concat(y.textColor.toArray())),s.push(k)}}return s};var ur=function(s){this.name=s.name,this.available=s.available};function on(s,c,d,y){return typeof s=="number"&&s>=0&&s<=255&&typeof c=="number"&&c>=0&&c<=255&&typeof d=="number"&&d>=0&&d<=255?y===void 0||typeof y=="number"&&y>=0&&y<=1?null:"Invalid rgba value ["+[s,c,d,y].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof y=="number"?[s,c,d,y]:[s,c,d]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function pr(s){if(s===null)return re;if(typeof s=="string")return ge;if(typeof s=="boolean")return be;if(typeof s=="number")return ie;if(s instanceof _t)return Le;if(s instanceof dr)return je;if(s instanceof ar)return at;if(s instanceof ur)return vt;if(Array.isArray(s)){for(var c,d=s.length,y=0,k=s;y<k.length;y+=1){var T=pr(k[y]);if(c){if(c===T)continue;c=Te;break}c=T}return rt(c||Te,d)}return Pe}function Lr(s){var c=typeof s;return s===null?"":c==="string"||c==="number"||c==="boolean"?String(s):s instanceof _t||s instanceof ar||s instanceof ur?s.toString():JSON.stringify(s)}ur.prototype.toString=function(){return this.name},ur.fromString=function(s){return new ur({name:s,available:!1})},ur.prototype.serialize=function(){return["image",this.name]};var hn=function(s,c){this.type=s,this.value=c};hn.parse=function(s,c){if(s.length!==2)return c.error("'literal' expression requires exactly one argument, but found "+(s.length-1)+" instead.");if(!function T(O){if(O===null||typeof O=="string"||typeof O=="boolean"||typeof O=="number"||O instanceof _t||O instanceof dr||O instanceof ar||O instanceof ur)return!0;if(Array.isArray(O)){for(var F=0,V=O;F<V.length;F+=1)if(!T(V[F]))return!1;return!0}if(typeof O=="object"){for(var X in O)if(!T(O[X]))return!1;return!0}return!1}(s[1]))return c.error("invalid value");var d=s[1],y=pr(d),k=c.expectedType;return y.kind!=="array"||y.N!==0||!k||k.kind!=="array"||typeof k.N=="number"&&k.N!==0||(y=k),new hn(y,d)},hn.prototype.evaluate=function(){return this.value},hn.prototype.eachChild=function(){},hn.prototype.possibleOutputs=function(){return[this.value]},hn.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof _t?["rgba"].concat(this.value.toArray()):this.value instanceof ar?this.value.serialize():this.value};var Br=function(s){this.name="ExpressionEvaluationError",this.message=s};Br.prototype.toJSON=function(){return this.message};var vi={string:ge,number:ie,boolean:be,object:Pe},Dr=function(s,c){this.type=s,this.args=c};Dr.parse=function(s,c){if(s.length<2)return c.error("Expected at least one argument.");var d,y=1,k=s[0];if(k==="array"){var T,O;if(s.length>2){var F=s[1];if(typeof F!="string"||!(F in vi)||F==="object")return c.error('The item type argument of "array" must be one of string, number, boolean',1);T=vi[F],y++}else T=Te;if(s.length>3){if(s[2]!==null&&(typeof s[2]!="number"||s[2]<0||s[2]!==Math.floor(s[2])))return c.error('The length argument to "array" must be a positive integer literal',2);O=s[2],y++}d=rt(T,O)}else d=vi[k];for(var V=[];y<s.length;y++){var X=c.parse(s[y],y,Te);if(!X)return null;V.push(X)}return new Dr(d,V)},Dr.prototype.evaluate=function(s){for(var c=0;c<this.args.length;c++){var d=this.args[c].evaluate(s);if(!Dt(this.type,pr(d)))return d;if(c===this.args.length-1)throw new Br("Expected value to be of type "+mt(this.type)+", but found "+mt(pr(d))+" instead.")}return null},Dr.prototype.eachChild=function(s){this.args.forEach(s)},Dr.prototype.possibleOutputs=function(){var s;return(s=[]).concat.apply(s,this.args.map(function(c){return c.possibleOutputs()}))},Dr.prototype.serialize=function(){var s=this.type,c=[s.kind];if(s.kind==="array"){var d=s.itemType;if(d.kind==="string"||d.kind==="number"||d.kind==="boolean"){c.push(d.kind);var y=s.N;(typeof y=="number"||this.args.length>1)&&c.push(y)}}return c.concat(this.args.map(function(k){return k.serialize()}))};var Pn=function(s){this.type=at,this.sections=s};Pn.parse=function(s,c){if(s.length<2)return c.error("Expected at least one argument.");var d=s[1];if(!Array.isArray(d)&&typeof d=="object")return c.error("First argument must be an image or text section.");for(var y=[],k=!1,T=1;T<=s.length-1;++T){var O=s[T];if(k&&typeof O=="object"&&!Array.isArray(O)){k=!1;var F=null;if(O["font-scale"]&&!(F=c.parse(O["font-scale"],1,ie)))return null;var V=null;if(O["text-font"]&&!(V=c.parse(O["text-font"],1,rt(ge))))return null;var X=null;if(O["text-color"]&&!(X=c.parse(O["text-color"],1,Le)))return null;var Z=y[y.length-1];Z.scale=F,Z.font=V,Z.textColor=X}else{var ne=c.parse(s[T],1,Te);if(!ne)return null;var ue=ne.type.kind;if(ue!=="string"&&ue!=="value"&&ue!=="null"&&ue!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");k=!0,y.push({content:ne,scale:null,font:null,textColor:null})}}return new Pn(y)},Pn.prototype.evaluate=function(s){return new ar(this.sections.map(function(c){var d=c.content.evaluate(s);return pr(d)===vt?new fr("",d,null,null,null):new fr(Lr(d),null,c.scale?c.scale.evaluate(s):null,c.font?c.font.evaluate(s).join(","):null,c.textColor?c.textColor.evaluate(s):null)}))},Pn.prototype.eachChild=function(s){for(var c=0,d=this.sections;c<d.length;c+=1){var y=d[c];s(y.content),y.scale&&s(y.scale),y.font&&s(y.font),y.textColor&&s(y.textColor)}},Pn.prototype.possibleOutputs=function(){return[void 0]},Pn.prototype.serialize=function(){for(var s=["format"],c=0,d=this.sections;c<d.length;c+=1){var y=d[c];s.push(y.content.serialize());var k={};y.scale&&(k["font-scale"]=y.scale.serialize()),y.font&&(k["text-font"]=y.font.serialize()),y.textColor&&(k["text-color"]=y.textColor.serialize()),s.push(k)}return s};var Er=function(s){this.type=vt,this.input=s};Er.parse=function(s,c){if(s.length!==2)return c.error("Expected two arguments.");var d=c.parse(s[1],1,ge);return d?new Er(d):c.error("No image name provided.")},Er.prototype.evaluate=function(s){var c=this.input.evaluate(s),d=!1;return s.availableImages&&s.availableImages.indexOf(c)>-1&&(d=!0),new ur({name:c,available:d})},Er.prototype.eachChild=function(s){s(this.input)},Er.prototype.possibleOutputs=function(){return[void 0]},Er.prototype.serialize=function(){return["image",this.input.serialize()]};var zn={"to-boolean":be,"to-color":Le,"to-number":ie,"to-string":ge},yi=function(s,c){this.type=s,this.args=c};yi.parse=function(s,c){if(s.length<2)return c.error("Expected at least one argument.");var d=s[0];if((d==="to-boolean"||d==="to-string")&&s.length!==2)return c.error("Expected one argument.");for(var y=zn[d],k=[],T=1;T<s.length;T++){var O=c.parse(s[T],T,Te);if(!O)return null;k.push(O)}return new yi(y,k)},yi.prototype.evaluate=function(s){if(this.type.kind==="boolean")return!!this.args[0].evaluate(s);if(this.type.kind==="color"){for(var c,d,y=0,k=this.args;y<k.length;y+=1){if(d=null,(c=k[y].evaluate(s))instanceof _t)return c;if(typeof c=="string"){var T=s.parseColor(c);if(T)return T}else if(Array.isArray(c)&&!(d=c.length<3||c.length>4?"Invalid rbga value "+JSON.stringify(c)+": expected an array containing either three or four numeric values.":on(c[0],c[1],c[2],c[3])))return new _t(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new Br(d||"Could not parse color from value '"+(typeof c=="string"?c:String(JSON.stringify(c)))+"'")}if(this.type.kind==="number"){for(var O=null,F=0,V=this.args;F<V.length;F+=1){if((O=V[F].evaluate(s))===null)return 0;var X=Number(O);if(!isNaN(X))return X}throw new Br("Could not convert "+JSON.stringify(O)+" to number.")}return this.type.kind==="formatted"?ar.fromString(Lr(this.args[0].evaluate(s))):this.type.kind==="resolvedImage"?ur.fromString(Lr(this.args[0].evaluate(s))):Lr(this.args[0].evaluate(s))},yi.prototype.eachChild=function(s){this.args.forEach(s)},yi.prototype.possibleOutputs=function(){var s;return(s=[]).concat.apply(s,this.args.map(function(c){return c.possibleOutputs()}))},yi.prototype.serialize=function(){if(this.type.kind==="formatted")return new Pn([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Er(this.args[0]).serialize();var s=["to-"+this.type.kind];return this.eachChild(function(c){s.push(c.serialize())}),s};var ka=["Unknown","Point","LineString","Polygon"],Qa=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null};Qa.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Qa.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?ka[this.feature.type]:this.feature.type:null},Qa.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Qa.prototype.parseColor=function(s){var c=this._parseColorCache[s];return c||(c=this._parseColorCache[s]=_t.parse(s)),c};var Si=function(s,c,d,y){this.name=s,this.type=c,this._evaluate=d,this.args=y};Si.prototype.evaluate=function(s){return this._evaluate(s,this.args)},Si.prototype.eachChild=function(s){this.args.forEach(s)},Si.prototype.possibleOutputs=function(){return[void 0]},Si.prototype.serialize=function(){return[this.name].concat(this.args.map(function(s){return s.serialize()}))},Si.parse=function(s,c){var d,y=s[0],k=Si.definitions[y];if(!k)return c.error('Unknown expression "'+y+'". If you wanted a literal array, use ["literal", [...]].',0);for(var T=Array.isArray(k)?k[0]:k.type,O=Array.isArray(k)?[[k[1],k[2]]]:k.overloads,F=O.filter(function(nr){var Wt=nr[0];return!Array.isArray(Wt)||Wt.length===s.length-1}),V=null,X=0,Z=F;X<Z.length;X+=1){var ne=Z[X],ue=ne[0],ae=ne[1];V=new Je(c.registry,c.path,null,c.scope);for(var de=[],we=!1,Ce=1;Ce<s.length;Ce++){var Ie=s[Ce],Ve=Array.isArray(ue)?ue[Ce-1]:ue.type,Ye=V.parse(Ie,1+de.length,Ve);if(!Ye){we=!0;break}de.push(Ye)}if(!we)if(Array.isArray(ue)&&ue.length!==de.length)V.error("Expected "+ue.length+" arguments, but found "+de.length+" instead.");else{for(var Ge=0;Ge<de.length;Ge++){var ot=Array.isArray(ue)?ue[Ge]:ue.type,ft=de[Ge];V.concat(Ge+1).checkSubtype(ot,ft.type)}if(V.errors.length===0)return new Si(y,T,ae,de)}}if(F.length===1)(d=c.errors).push.apply(d,V.errors);else{for(var ht=(F.length?F:O).map(function(nr){var Wt,zt=nr[0];return Wt=zt,Array.isArray(Wt)?"("+Wt.map(mt).join(", ")+")":"("+mt(Wt.type)+"...)"}).join(" | "),Rt=[],Jt=1;Jt<s.length;Jt++){var Vt=c.parse(s[Jt],1+Rt.length);if(!Vt)return null;Rt.push(mt(Vt.type))}c.error("Expected arguments of type "+ht+", but found ("+Rt.join(", ")+") instead.")}return null},Si.register=function(s,c){for(var d in Si.definitions=c,c)s[d]=Si};var xo=function(s,c,d){this.type=je,this.locale=d,this.caseSensitive=s,this.diacriticSensitive=c};function ws(s){if(s instanceof Si&&(s.name==="get"&&s.args.length===1||s.name==="feature-state"||s.name==="has"&&s.args.length===1||s.name==="properties"||s.name==="geometry-type"||s.name==="id"||/^filter-/.test(s.name)))return!1;var c=!0;return s.eachChild(function(d){c&&!ws(d)&&(c=!1)}),c}function le(s){if(s instanceof Si&&s.name==="feature-state")return!1;var c=!0;return s.eachChild(function(d){c&&!le(d)&&(c=!1)}),c}function fe(s,c){if(s instanceof Si&&c.indexOf(s.name)>=0)return!1;var d=!0;return s.eachChild(function(y){d&&!fe(y,c)&&(d=!1)}),d}xo.parse=function(s,c){if(s.length!==2)return c.error("Expected one argument.");var d=s[1];if(typeof d!="object"||Array.isArray(d))return c.error("Collator options argument must be an object.");var y=c.parse(d["case-sensitive"]!==void 0&&d["case-sensitive"],1,be);if(!y)return null;var k=c.parse(d["diacritic-sensitive"]!==void 0&&d["diacritic-sensitive"],1,be);if(!k)return null;var T=null;return d.locale&&!(T=c.parse(d.locale,1,ge))?null:new xo(y,k,T)},xo.prototype.evaluate=function(s){return new dr(this.caseSensitive.evaluate(s),this.diacriticSensitive.evaluate(s),this.locale?this.locale.evaluate(s):null)},xo.prototype.eachChild=function(s){s(this.caseSensitive),s(this.diacriticSensitive),this.locale&&s(this.locale)},xo.prototype.possibleOutputs=function(){return[void 0]},xo.prototype.serialize=function(){var s={};return s["case-sensitive"]=this.caseSensitive.serialize(),s["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(s.locale=this.locale.serialize()),["collator",s]};var Me=function(s,c){this.type=c.type,this.name=s,this.boundExpression=c};Me.parse=function(s,c){if(s.length!==2||typeof s[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");var d=s[1];return c.scope.has(d)?new Me(d,c.scope.get(d)):c.error('Unknown variable "'+d+'". Make sure "'+d+'" has been bound in an enclosing "let" expression before using it.',1)},Me.prototype.evaluate=function(s){return this.boundExpression.evaluate(s)},Me.prototype.eachChild=function(){},Me.prototype.possibleOutputs=function(){return[void 0]},Me.prototype.serialize=function(){return["var",this.name]};var Je=function(s,c,d,y,k){c===void 0&&(c=[]),y===void 0&&(y=new Q),k===void 0&&(k=[]),this.registry=s,this.path=c,this.key=c.map(function(T){return"["+T+"]"}).join(""),this.scope=y,this.errors=k,this.expectedType=d};function wt(s,c){for(var d,y,k=s.length-1,T=0,O=k,F=0;T<=O;)if(d=s[F=Math.floor((T+O)/2)],y=s[F+1],d<=c){if(F===k||c<y)return F;T=F+1}else{if(!(d>c))throw new Br("Input is not a number.");O=F-1}return 0}Je.prototype.parse=function(s,c,d,y,k){return k===void 0&&(k={}),c?this.concat(c,d,y)._parse(s,k):this._parse(s,k)},Je.prototype._parse=function(s,c){function d(X,Z,ne){return ne==="assert"?new Dr(Z,[X]):ne==="coerce"?new yi(Z,[X]):X}if(s!==null&&typeof s!="string"&&typeof s!="boolean"&&typeof s!="number"||(s=["literal",s]),Array.isArray(s)){if(s.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var y=s[0];if(typeof y!="string")return this.error("Expression name must be a string, but found "+typeof y+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var k=this.registry[y];if(k){var T=k.parse(s,this);if(!T)return null;if(this.expectedType){var O=this.expectedType,F=T.type;if(O.kind!=="string"&&O.kind!=="number"&&O.kind!=="boolean"&&O.kind!=="object"&&O.kind!=="array"||F.kind!=="value")if(O.kind!=="color"&&O.kind!=="formatted"&&O.kind!=="resolvedImage"||F.kind!=="value"&&F.kind!=="string"){if(this.checkSubtype(O,F))return null}else T=d(T,O,c.typeAnnotation||"coerce");else T=d(T,O,c.typeAnnotation||"assert")}if(!(T instanceof hn)&&T.type.kind!=="resolvedImage"&&function X(Z){if(Z instanceof Me)return X(Z.boundExpression);if(Z instanceof Si&&Z.name==="error"||Z instanceof xo)return!1;var ne=Z instanceof yi||Z instanceof Dr,ue=!0;return Z.eachChild(function(ae){ue=ne?ue&&X(ae):ue&&ae instanceof hn}),ue?ws(Z)&&fe(Z,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}(T)){var V=new Qa;try{T=new hn(T.type,T.evaluate(V))}catch(X){return this.error(X.message),null}}return T}return this.error('Unknown expression "'+y+'". If you wanted a literal array, use ["literal", [...]].',0)}return s===void 0?this.error("'undefined' value invalid. Use null instead."):typeof s=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof s+" instead.")},Je.prototype.concat=function(s,c,d){var y=typeof s=="number"?this.path.concat(s):this.path,k=d?this.scope.concat(d):this.scope;return new Je(this.registry,y,c||null,k,this.errors)},Je.prototype.error=function(s){for(var c=[],d=arguments.length-1;d-- >0;)c[d]=arguments[d+1];var y=""+this.key+c.map(function(k){return"["+k+"]"}).join("");this.errors.push(new G(y,s))},Je.prototype.checkSubtype=function(s,c){var d=Dt(s,c);return d&&this.error(d),d};var Ut=function(s,c,d){this.type=s,this.input=c,this.labels=[],this.outputs=[];for(var y=0,k=d;y<k.length;y+=1){var T=k[y],O=T[0],F=T[1];this.labels.push(O),this.outputs.push(F)}};function cr(s,c,d){return s*(1-d)+c*d}Ut.parse=function(s,c){if(s.length-1<4)return c.error("Expected at least 4 arguments, but found only "+(s.length-1)+".");if((s.length-1)%2!=0)return c.error("Expected an even number of arguments.");var d=c.parse(s[1],1,ie);if(!d)return null;var y=[],k=null;c.expectedType&&c.expectedType.kind!=="value"&&(k=c.expectedType);for(var T=1;T<s.length;T+=2){var O=T===1?-1/0:s[T],F=s[T+1],V=T,X=T+1;if(typeof O!="number")return c.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',V);if(y.length&&y[y.length-1][0]>=O)return c.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',V);var Z=c.parse(F,X,k);if(!Z)return null;k=k||Z.type,y.push([O,Z])}return new Ut(k,d,y)},Ut.prototype.evaluate=function(s){var c=this.labels,d=this.outputs;if(c.length===1)return d[0].evaluate(s);var y=this.input.evaluate(s);if(y<=c[0])return d[0].evaluate(s);var k=c.length;return y>=c[k-1]?d[k-1].evaluate(s):d[wt(c,y)].evaluate(s)},Ut.prototype.eachChild=function(s){s(this.input);for(var c=0,d=this.outputs;c<d.length;c+=1)s(d[c])},Ut.prototype.possibleOutputs=function(){var s;return(s=[]).concat.apply(s,this.outputs.map(function(c){return c.possibleOutputs()}))},Ut.prototype.serialize=function(){for(var s=["step",this.input.serialize()],c=0;c<this.labels.length;c++)c>0&&s.push(this.labels[c]),s.push(this.outputs[c].serialize());return s};var fi=Object.freeze({__proto__:null,number:cr,color:function(s,c,d){return new _t(cr(s.r,c.r,d),cr(s.g,c.g,d),cr(s.b,c.b,d),cr(s.a,c.a,d))},array:function(s,c,d){return s.map(function(y,k){return cr(y,c[k],d)})}}),Ci=6/29,Di=3*Ci*Ci,Gt=Math.PI/180,Rr=180/Math.PI;function pi(s){return s>.008856451679035631?Math.pow(s,1/3):s/Di+4/29}function Ni(s){return s>Ci?s*s*s:Di*(s-4/29)}function eo(s){return 255*(s<=.0031308?12.92*s:1.055*Math.pow(s,1/2.4)-.055)}function Ss(s){return(s/=255)<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4)}function xl(s){var c=Ss(s.r),d=Ss(s.g),y=Ss(s.b),k=pi((.4124564*c+.3575761*d+.1804375*y)/.95047),T=pi((.2126729*c+.7151522*d+.072175*y)/1);return{l:116*T-16,a:500*(k-T),b:200*(T-pi((.0193339*c+.119192*d+.9503041*y)/1.08883)),alpha:s.a}}function tc(s){var c=(s.l+16)/116,d=isNaN(s.a)?c:c+s.a/500,y=isNaN(s.b)?c:c-s.b/200;return c=1*Ni(c),d=.95047*Ni(d),y=1.08883*Ni(y),new _t(eo(3.2404542*d-1.5371385*c-.4985314*y),eo(-.969266*d+1.8760108*c+.041556*y),eo(.0556434*d-.2040259*c+1.0572252*y),s.alpha)}function Bd(s,c,d){var y=c-s;return s+d*(y>180||y<-180?y-360*Math.round(y/360):y)}var bh={forward:xl,reverse:tc,interpolate:function(s,c,d){return{l:cr(s.l,c.l,d),a:cr(s.a,c.a,d),b:cr(s.b,c.b,d),alpha:cr(s.alpha,c.alpha,d)}}},_h={forward:function(s){var c=xl(s),d=c.l,y=c.a,k=c.b,T=Math.atan2(k,y)*Rr;return{h:T<0?T+360:T,c:Math.sqrt(y*y+k*k),l:d,alpha:s.a}},reverse:function(s){var c=s.h*Gt,d=s.c;return tc({l:s.l,a:Math.cos(c)*d,b:Math.sin(c)*d,alpha:s.alpha})},interpolate:function(s,c,d){return{h:Bd(s.h,c.h,d),c:cr(s.c,c.c,d),l:cr(s.l,c.l,d),alpha:cr(s.alpha,c.alpha,d)}}},ky=Object.freeze({__proto__:null,lab:bh,hcl:_h}),ki=function(s,c,d,y,k){this.type=s,this.operator=c,this.interpolation=d,this.input=y,this.labels=[],this.outputs=[];for(var T=0,O=k;T<O.length;T+=1){var F=O[T],V=F[0],X=F[1];this.labels.push(V),this.outputs.push(X)}};function Jc(s,c,d,y){var k=y-d,T=s-d;return k===0?0:c===1?T/k:(Math.pow(c,T)-1)/(Math.pow(c,k)-1)}ki.interpolationFactor=function(s,c,d,y){var k=0;if(s.name==="exponential")k=Jc(c,s.base,d,y);else if(s.name==="linear")k=Jc(c,1,d,y);else if(s.name==="cubic-bezier"){var T=s.controlPoints;k=new u(T[0],T[1],T[2],T[3]).solve(Jc(c,1,d,y))}return k},ki.parse=function(s,c){var d=s[0],y=s[1],k=s[2],T=s.slice(3);if(!Array.isArray(y)||y.length===0)return c.error("Expected an interpolation type expression.",1);if(y[0]==="linear")y={name:"linear"};else if(y[0]==="exponential"){var O=y[1];if(typeof O!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);y={name:"exponential",base:O}}else{if(y[0]!=="cubic-bezier")return c.error("Unknown interpolation type "+String(y[0]),1,0);var F=y.slice(1);if(F.length!==4||F.some(function(Ce){return typeof Ce!="number"||Ce<0||Ce>1}))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);y={name:"cubic-bezier",controlPoints:F}}if(s.length-1<4)return c.error("Expected at least 4 arguments, but found only "+(s.length-1)+".");if((s.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(!(k=c.parse(k,2,ie)))return null;var V=[],X=null;d==="interpolate-hcl"||d==="interpolate-lab"?X=Le:c.expectedType&&c.expectedType.kind!=="value"&&(X=c.expectedType);for(var Z=0;Z<T.length;Z+=2){var ne=T[Z],ue=T[Z+1],ae=Z+3,de=Z+4;if(typeof ne!="number")return c.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ae);if(V.length&&V[V.length-1][0]>=ne)return c.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ae);var we=c.parse(ue,de,X);if(!we)return null;X=X||we.type,V.push([ne,we])}return X.kind==="number"||X.kind==="color"||X.kind==="array"&&X.itemType.kind==="number"&&typeof X.N=="number"?new ki(X,d,y,k,V):c.error("Type "+mt(X)+" is not interpolatable.")},ki.prototype.evaluate=function(s){var c=this.labels,d=this.outputs;if(c.length===1)return d[0].evaluate(s);var y=this.input.evaluate(s);if(y<=c[0])return d[0].evaluate(s);var k=c.length;if(y>=c[k-1])return d[k-1].evaluate(s);var T=wt(c,y),O=c[T],F=c[T+1],V=ki.interpolationFactor(this.interpolation,y,O,F),X=d[T].evaluate(s),Z=d[T+1].evaluate(s);return this.operator==="interpolate"?fi[this.type.kind.toLowerCase()](X,Z,V):this.operator==="interpolate-hcl"?_h.reverse(_h.interpolate(_h.forward(X),_h.forward(Z),V)):bh.reverse(bh.interpolate(bh.forward(X),bh.forward(Z),V))},ki.prototype.eachChild=function(s){s(this.input);for(var c=0,d=this.outputs;c<d.length;c+=1)s(d[c])},ki.prototype.possibleOutputs=function(){var s;return(s=[]).concat.apply(s,this.outputs.map(function(c){return c.possibleOutputs()}))},ki.prototype.serialize=function(){var s;s=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var c=[this.operator,s,this.input.serialize()],d=0;d<this.labels.length;d++)c.push(this.labels[d],this.outputs[d].serialize());return c};var Cs=function(s,c){this.type=s,this.args=c};Cs.parse=function(s,c){if(s.length<2)return c.error("Expectected at least one argument.");var d=null,y=c.expectedType;y&&y.kind!=="value"&&(d=y);for(var k=[],T=0,O=s.slice(1);T<O.length;T+=1){var F=O[T],V=c.parse(F,1+k.length,d,void 0,{typeAnnotation:"omit"});if(!V)return null;d=d||V.type,k.push(V)}var X=y&&k.some(function(Z){return Dt(y,Z.type)});return new Cs(X?Te:d,k)},Cs.prototype.evaluate=function(s){for(var c,d=null,y=0,k=0,T=this.args;k<T.length&&(y++,(d=T[k].evaluate(s))&&d instanceof ur&&!d.available&&(c||(c=d.name),d=null,y===this.args.length&&(d=c)),d===null);k+=1);return d},Cs.prototype.eachChild=function(s){this.args.forEach(s)},Cs.prototype.possibleOutputs=function(){var s;return(s=[]).concat.apply(s,this.args.map(function(c){return c.possibleOutputs()}))},Cs.prototype.serialize=function(){var s=["coalesce"];return this.eachChild(function(c){s.push(c.serialize())}),s};var bl=function(s,c){this.type=c.type,this.bindings=[].concat(s),this.result=c};bl.prototype.evaluate=function(s){return this.result.evaluate(s)},bl.prototype.eachChild=function(s){for(var c=0,d=this.bindings;c<d.length;c+=1)s(d[c][1]);s(this.result)},bl.parse=function(s,c){if(s.length<4)return c.error("Expected at least 3 arguments, but found "+(s.length-1)+" instead.");for(var d=[],y=1;y<s.length-1;y+=2){var k=s[y];if(typeof k!="string")return c.error("Expected string, but found "+typeof k+" instead.",y);if(/[^a-zA-Z0-9_]/.test(k))return c.error("Variable names must contain only alphanumeric characters or '_'.",y);var T=c.parse(s[y+1],y+1);if(!T)return null;d.push([k,T])}var O=c.parse(s[s.length-1],s.length-1,c.expectedType,d);return O?new bl(d,O):null},bl.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},bl.prototype.serialize=function(){for(var s=["let"],c=0,d=this.bindings;c<d.length;c+=1){var y=d[c],k=y[0],T=y[1];s.push(k,T.serialize())}return s.push(this.result.serialize()),s};var rc=function(s,c,d){this.type=s,this.index=c,this.input=d};rc.parse=function(s,c){if(s.length!==3)return c.error("Expected 2 arguments, but found "+(s.length-1)+" instead.");var d=c.parse(s[1],1,ie),y=c.parse(s[2],2,rt(c.expectedType||Te));if(!d||!y)return null;var k=y.type;return new rc(k.itemType,d,y)},rc.prototype.evaluate=function(s){var c=this.index.evaluate(s),d=this.input.evaluate(s);if(c<0)throw new Br("Array index out of bounds: "+c+" < 0.");if(c>=d.length)throw new Br("Array index out of bounds: "+c+" > "+(d.length-1)+".");if(c!==Math.floor(c))throw new Br("Array index must be an integer, but found "+c+" instead.");return d[c]},rc.prototype.eachChild=function(s){s(this.index),s(this.input)},rc.prototype.possibleOutputs=function(){return[void 0]},rc.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var nc=function(s,c){this.type=be,this.needle=s,this.haystack=c};nc.parse=function(s,c){if(s.length!==3)return c.error("Expected 2 arguments, but found "+(s.length-1)+" instead.");var d,y=c.parse(s[1],1,Te),k=c.parse(s[2],2,Te);return y&&k?(d=y.type).kind!=="boolean"&&d.kind!=="string"&&d.kind!=="number"&&d.kind!=="null"&&d.kind!=="value"?c.error("Expected first argument to be of type boolean, string, number or null, but found "+mt(y.type)+" instead"):new nc(y,k):null},nc.prototype.evaluate=function(s){var c=this.needle.evaluate(s),d=this.haystack.evaluate(s);if(!c||!d)return!1;if(!function(y){return typeof y=="boolean"||typeof y=="string"||typeof y=="number"}(c))throw new Br("Expected first argument to be of type boolean, string or number, but found "+mt(pr(c))+" instead.");if(!function(y){return Array.isArray(y)||typeof y=="string"}(d))throw new Br("Expected second argument to be of type array or string, but found "+mt(pr(d))+" instead.");return d.indexOf(c)>=0},nc.prototype.eachChild=function(s){s(this.needle),s(this.haystack)},nc.prototype.possibleOutputs=function(){return[!0,!1]},nc.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var ic=function(s,c,d,y,k,T){this.inputType=s,this.type=c,this.input=d,this.cases=y,this.outputs=k,this.otherwise=T};ic.parse=function(s,c){if(s.length<5)return c.error("Expected at least 4 arguments, but found only "+(s.length-1)+".");if(s.length%2!=1)return c.error("Expected an even number of arguments.");var d,y;c.expectedType&&c.expectedType.kind!=="value"&&(y=c.expectedType);for(var k={},T=[],O=2;O<s.length-1;O+=2){var F=s[O],V=s[O+1];Array.isArray(F)||(F=[F]);var X=c.concat(O);if(F.length===0)return X.error("Expected at least one branch label.");for(var Z=0,ne=F;Z<ne.length;Z+=1){var ue=ne[Z];if(typeof ue!="number"&&typeof ue!="string")return X.error("Branch labels must be numbers or strings.");if(typeof ue=="number"&&Math.abs(ue)>Number.MAX_SAFE_INTEGER)return X.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof ue=="number"&&Math.floor(ue)!==ue)return X.error("Numeric branch labels must be integer values.");if(d){if(X.checkSubtype(d,pr(ue)))return null}else d=pr(ue);if(k[String(ue)]!==void 0)return X.error("Branch labels must be unique.");k[String(ue)]=T.length}var ae=c.parse(V,O,y);if(!ae)return null;y=y||ae.type,T.push(ae)}var de=c.parse(s[1],1,Te);if(!de)return null;var we=c.parse(s[s.length-1],s.length-1,y);return we?de.type.kind!=="value"&&c.concat(1).checkSubtype(d,de.type)?null:new ic(d,y,de,k,T,we):null},ic.prototype.evaluate=function(s){var c=this.input.evaluate(s);return(pr(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(s)},ic.prototype.eachChild=function(s){s(this.input),this.outputs.forEach(s),s(this.otherwise)},ic.prototype.possibleOutputs=function(){var s;return(s=[]).concat.apply(s,this.outputs.map(function(c){return c.possibleOutputs()})).concat(this.otherwise.possibleOutputs())},ic.prototype.serialize=function(){for(var s=this,c=["match",this.input.serialize()],d=[],y={},k=0,T=Object.keys(this.cases).sort();k<T.length;k+=1){var O=T[k];(ne=y[this.cases[O]])===void 0?(y[this.cases[O]]=d.length,d.push([this.cases[O],[O]])):d[ne][1].push(O)}for(var F=function(ae){return s.inputType.kind==="number"?Number(ae):ae},V=0,X=d;V<X.length;V+=1){var Z=X[V],ne=Z[0],ue=Z[1];ue.length===1?c.push(F(ue[0])):c.push(ue.map(F)),c.push(this.outputs[outputIndex$1].serialize())}return c.push(this.otherwise.serialize()),c};var ac=function(s,c,d){this.type=s,this.branches=c,this.otherwise=d};function Ey(s,c){return s==="=="||s==="!="?c.kind==="boolean"||c.kind==="string"||c.kind==="number"||c.kind==="null"||c.kind==="value":c.kind==="string"||c.kind==="number"||c.kind==="value"}function Ty(s,c,d,y){return y.compare(c,d)===0}function Qc(s,c,d){var y=s!=="=="&&s!=="!=";return function(){function k(T,O,F){this.type=be,this.lhs=T,this.rhs=O,this.collator=F,this.hasUntypedArgument=T.type.kind==="value"||O.type.kind==="value"}return k.parse=function(T,O){if(T.length!==3&&T.length!==4)return O.error("Expected two or three arguments.");var F=T[0],V=O.parse(T[1],1,Te);if(!V)return null;if(!Ey(F,V.type))return O.concat(1).error('"'+F+`" comparisons are not supported for type '`+mt(V.type)+"'.");var X=O.parse(T[2],2,Te);if(!X)return null;if(!Ey(F,X.type))return O.concat(2).error('"'+F+`" comparisons are not supported for type '`+mt(X.type)+"'.");if(V.type.kind!==X.type.kind&&V.type.kind!=="value"&&X.type.kind!=="value")return O.error("Cannot compare types '"+mt(V.type)+"' and '"+mt(X.type)+"'.");y&&(V.type.kind==="value"&&X.type.kind!=="value"?V=new Dr(X.type,[V]):V.type.kind!=="value"&&X.type.kind==="value"&&(X=new Dr(V.type,[X])));var Z=null;if(T.length===4){if(V.type.kind!=="string"&&X.type.kind!=="string"&&V.type.kind!=="value"&&X.type.kind!=="value")return O.error("Cannot use collator to compare non-string types.");if(!(Z=O.parse(T[3],3,je)))return null}return new k(V,X,Z)},k.prototype.evaluate=function(T){var O=this.lhs.evaluate(T),F=this.rhs.evaluate(T);if(y&&this.hasUntypedArgument){var V=pr(O),X=pr(F);if(V.kind!==X.kind||V.kind!=="string"&&V.kind!=="number")throw new Br('Expected arguments for "'+s+'" to be (string, string) or (number, number), but found ('+V.kind+", "+X.kind+") instead.")}if(this.collator&&!y&&this.hasUntypedArgument){var Z=pr(O),ne=pr(F);if(Z.kind!=="string"||ne.kind!=="string")return c(T,O,F)}return this.collator?d(T,O,F,this.collator.evaluate(T)):c(T,O,F)},k.prototype.eachChild=function(T){T(this.lhs),T(this.rhs),this.collator&&T(this.collator)},k.prototype.possibleOutputs=function(){return[!0,!1]},k.prototype.serialize=function(){var T=[s];return this.eachChild(function(O){T.push(O.serialize())}),T},k}()}ac.parse=function(s,c){if(s.length<4)return c.error("Expected at least 3 arguments, but found only "+(s.length-1)+".");if(s.length%2!=0)return c.error("Expected an odd number of arguments.");var d;c.expectedType&&c.expectedType.kind!=="value"&&(d=c.expectedType);for(var y=[],k=1;k<s.length-1;k+=2){var T=c.parse(s[k],k,be);if(!T)return null;var O=c.parse(s[k+1],k+1,d);if(!O)return null;y.push([T,O]),d=d||O.type}var F=c.parse(s[s.length-1],s.length-1,d);return F?new ac(d,y,F):null},ac.prototype.evaluate=function(s){for(var c=0,d=this.branches;c<d.length;c+=1){var y=d[c],k=y[0],T=y[1];if(k.evaluate(s))return T.evaluate(s)}return this.otherwise.evaluate(s)},ac.prototype.eachChild=function(s){for(var c=0,d=this.branches;c<d.length;c+=1){var y=d[c],k=y[0],T=y[1];s(k),s(T)}s(this.otherwise)},ac.prototype.possibleOutputs=function(){var s;return(s=[]).concat.apply(s,this.branches.map(function(c){return c[0],c[1].possibleOutputs()})).concat(this.otherwise.possibleOutputs())},ac.prototype.serialize=function(){var s=["case"];return this.eachChild(function(c){s.push(c.serialize())}),s};var w_=Qc("==",function(s,c,d){return c===d},Ty),S_=Qc("!=",function(s,c,d){return c!==d},function(s,c,d,y){return!Ty(0,c,d,y)}),C_=Qc("<",function(s,c,d){return c<d},function(s,c,d,y){return y.compare(c,d)<0}),k_=Qc(">",function(s,c,d){return c>d},function(s,c,d,y){return y.compare(c,d)>0}),E_=Qc("<=",function(s,c,d){return c<=d},function(s,c,d,y){return y.compare(c,d)<=0}),T_=Qc(">=",function(s,c,d){return c>=d},function(s,c,d,y){return y.compare(c,d)>=0}),oc=function(s,c,d,y,k){this.type=ge,this.number=s,this.locale=c,this.currency=d,this.minFractionDigits=y,this.maxFractionDigits=k};oc.parse=function(s,c){if(s.length!==3)return c.error("Expected two arguments.");var d=c.parse(s[1],1,ie);if(!d)return null;var y=s[2];if(typeof y!="object"||Array.isArray(y))return c.error("NumberFormat options argument must be an object.");var k=null;if(y.locale&&!(k=c.parse(y.locale,1,ge)))return null;var T=null;if(y.currency&&!(T=c.parse(y.currency,1,ge)))return null;var O=null;if(y["min-fraction-digits"]&&!(O=c.parse(y["min-fraction-digits"],1,ie)))return null;var F=null;return y["max-fraction-digits"]&&!(F=c.parse(y["max-fraction-digits"],1,ie))?null:new oc(d,k,T,O,F)},oc.prototype.evaluate=function(s){return new Intl.NumberFormat(this.locale?this.locale.evaluate(s):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(s):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(s):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(s):void 0}).format(this.number.evaluate(s))},oc.prototype.eachChild=function(s){s(this.number),this.locale&&s(this.locale),this.currency&&s(this.currency),this.minFractionDigits&&s(this.minFractionDigits),this.maxFractionDigits&&s(this.maxFractionDigits)},oc.prototype.possibleOutputs=function(){return[void 0]},oc.prototype.serialize=function(){var s={};return this.locale&&(s.locale=this.locale.serialize()),this.currency&&(s.currency=this.currency.serialize()),this.minFractionDigits&&(s["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(s["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),s]};var sc=function(s){this.type=ie,this.input=s};sc.parse=function(s,c){if(s.length!==2)return c.error("Expected 1 argument, but found "+(s.length-1)+" instead.");var d=c.parse(s[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?c.error("Expected argument of type string or array, but found "+mt(d.type)+" instead."):new sc(d):null},sc.prototype.evaluate=function(s){var c=this.input.evaluate(s);if(typeof c=="string"||Array.isArray(c))return c.length;throw new Br("Expected value to be of type string or array, but found "+mt(pr(c))+" instead.")},sc.prototype.eachChild=function(s){s(this.input)},sc.prototype.possibleOutputs=function(){return[void 0]},sc.prototype.serialize=function(){var s=["length"];return this.eachChild(function(c){s.push(c.serialize())}),s};var eu={"==":w_,"!=":S_,">":k_,"<":C_,">=":T_,"<=":E_,array:Dr,at:rc,boolean:Dr,case:ac,coalesce:Cs,collator:xo,format:Pn,image:Er,in:nc,interpolate:ki,"interpolate-hcl":ki,"interpolate-lab":ki,length:sc,let:bl,literal:hn,match:ic,number:Dr,"number-format":oc,object:Dr,step:Ut,string:Dr,"to-boolean":yi,"to-color":yi,"to-number":yi,"to-string":yi,var:Me};function Ay(s,c){var d=c[0],y=c[1],k=c[2],T=c[3];d=d.evaluate(s),y=y.evaluate(s),k=k.evaluate(s);var O=T?T.evaluate(s):1,F=on(d,y,k,O);if(F)throw new Br(F);return new _t(d/255*O,y/255*O,k/255*O,O)}function Py(s,c){return s in c}function Em(s,c){var d=c[s];return d===void 0?null:d}function lc(s){return{type:s}}function Tm(s){return{result:"success",value:s}}function tu(s){return{result:"error",value:s}}function ru(s){return s["property-type"]==="data-driven"||s["property-type"]==="cross-faded-data-driven"}function My(s){return!!s.expression&&s.expression.parameters.indexOf("zoom")>-1}function qn(s){return!!s.expression&&s.expression.interpolated}function Zn(s){return s instanceof Number?"number":s instanceof String?"string":s instanceof Boolean?"boolean":Array.isArray(s)?"array":s===null?"null":typeof s}function cc(s){return typeof s=="object"&&s!==null&&!Array.isArray(s)}function Iy(s){return s}function nu(s,c,d){return s!==void 0?s:c!==void 0?c:d!==void 0?d:void 0}function Oy(s,c,d,y,k){return nu(typeof d===k?y[d]:void 0,s.default,c.default)}function A_(s,c,d){if(Zn(d)!=="number")return nu(s.default,c.default);var y=s.stops.length;if(y===1||d<=s.stops[0][0])return s.stops[0][1];if(d>=s.stops[y-1][0])return s.stops[y-1][1];var k=wt(s.stops.map(function(T){return T[0]}),d);return s.stops[k][1]}function Am(s,c,d){var y=s.base!==void 0?s.base:1;if(Zn(d)!=="number")return nu(s.default,c.default);var k=s.stops.length;if(k===1||d<=s.stops[0][0])return s.stops[0][1];if(d>=s.stops[k-1][0])return s.stops[k-1][1];var T=wt(s.stops.map(function(ne){return ne[0]}),d),O=function(ne,ue,ae,de){var we=de-ae,Ce=ne-ae;return we===0?0:ue===1?Ce/we:(Math.pow(ue,Ce)-1)/(Math.pow(ue,we)-1)}(d,y,s.stops[T][0],s.stops[T+1][0]),F=s.stops[T][1],V=s.stops[T+1][1],X=fi[c.type]||Iy;if(s.colorSpace&&s.colorSpace!=="rgb"){var Z=ky[s.colorSpace];X=function(ne,ue){return Z.reverse(Z.interpolate(Z.forward(ne),Z.forward(ue),O))}}return typeof F.evaluate=="function"?{evaluate:function(){for(var ne=[],ue=arguments.length;ue--;)ne[ue]=arguments[ue];var ae=F.evaluate.apply(void 0,ne),de=V.evaluate.apply(void 0,ne);if(ae!==void 0&&de!==void 0)return X(ae,de,O)}}:X(F,V,O)}function Dy(s,c,d){return c.type==="color"?d=_t.parse(d):c.type==="formatted"?d=ar.fromString(d.toString()):c.type==="resolvedImage"?d=ur.fromString(d.toString()):Zn(d)===c.type||c.type==="enum"&&c.values[d]||(d=void 0),nu(d,s.default,c.default)}Si.register(eu,{error:[{kind:"error"},[ge],function(s,c){var d=c[0];throw new Br(d.evaluate(s))}],typeof:[ge,[Te],function(s,c){return mt(pr(c[0].evaluate(s)))}],"to-rgba":[rt(ie,4),[Le],function(s,c){return c[0].evaluate(s).toArray()}],rgb:[Le,[ie,ie,ie],Ay],rgba:[Le,[ie,ie,ie,ie],Ay],has:{type:be,overloads:[[[ge],function(s,c){return Py(c[0].evaluate(s),s.properties())}],[[ge,Pe],function(s,c){var d=c[0],y=c[1];return Py(d.evaluate(s),y.evaluate(s))}]]},get:{type:Te,overloads:[[[ge],function(s,c){return Em(c[0].evaluate(s),s.properties())}],[[ge,Pe],function(s,c){var d=c[0],y=c[1];return Em(d.evaluate(s),y.evaluate(s))}]]},"feature-state":[Te,[ge],function(s,c){return Em(c[0].evaluate(s),s.featureState||{})}],properties:[Pe,[],function(s){return s.properties()}],"geometry-type":[ge,[],function(s){return s.geometryType()}],id:[Te,[],function(s){return s.id()}],zoom:[ie,[],function(s){return s.globals.zoom}],"heatmap-density":[ie,[],function(s){return s.globals.heatmapDensity||0}],"line-progress":[ie,[],function(s){return s.globals.lineProgress||0}],accumulated:[Te,[],function(s){return s.globals.accumulated===void 0?null:s.globals.accumulated}],"+":[ie,lc(ie),function(s,c){for(var d=0,y=0,k=c;y<k.length;y+=1)d+=k[y].evaluate(s);return d}],"*":[ie,lc(ie),function(s,c){for(var d=1,y=0,k=c;y<k.length;y+=1)d*=k[y].evaluate(s);return d}],"-":{type:ie,overloads:[[[ie,ie],function(s,c){var d=c[0],y=c[1];return d.evaluate(s)-y.evaluate(s)}],[[ie],function(s,c){return-c[0].evaluate(s)}]]},"/":[ie,[ie,ie],function(s,c){var d=c[0],y=c[1];return d.evaluate(s)/y.evaluate(s)}],"%":[ie,[ie,ie],function(s,c){var d=c[0],y=c[1];return d.evaluate(s)%y.evaluate(s)}],ln2:[ie,[],function(){return Math.LN2}],pi:[ie,[],function(){return Math.PI}],e:[ie,[],function(){return Math.E}],"^":[ie,[ie,ie],function(s,c){var d=c[0],y=c[1];return Math.pow(d.evaluate(s),y.evaluate(s))}],sqrt:[ie,[ie],function(s,c){var d=c[0];return Math.sqrt(d.evaluate(s))}],log10:[ie,[ie],function(s,c){var d=c[0];return Math.log(d.evaluate(s))/Math.LN10}],ln:[ie,[ie],function(s,c){var d=c[0];return Math.log(d.evaluate(s))}],log2:[ie,[ie],function(s,c){var d=c[0];return Math.log(d.evaluate(s))/Math.LN2}],sin:[ie,[ie],function(s,c){var d=c[0];return Math.sin(d.evaluate(s))}],cos:[ie,[ie],function(s,c){var d=c[0];return Math.cos(d.evaluate(s))}],tan:[ie,[ie],function(s,c){var d=c[0];return Math.tan(d.evaluate(s))}],asin:[ie,[ie],function(s,c){var d=c[0];return Math.asin(d.evaluate(s))}],acos:[ie,[ie],function(s,c){var d=c[0];return Math.acos(d.evaluate(s))}],atan:[ie,[ie],function(s,c){var d=c[0];return Math.atan(d.evaluate(s))}],min:[ie,lc(ie),function(s,c){return Math.min.apply(Math,c.map(function(d){return d.evaluate(s)}))}],max:[ie,lc(ie),function(s,c){return Math.max.apply(Math,c.map(function(d){return d.evaluate(s)}))}],abs:[ie,[ie],function(s,c){var d=c[0];return Math.abs(d.evaluate(s))}],round:[ie,[ie],function(s,c){var d=c[0].evaluate(s);return d<0?-Math.round(-d):Math.round(d)}],floor:[ie,[ie],function(s,c){var d=c[0];return Math.floor(d.evaluate(s))}],ceil:[ie,[ie],function(s,c){var d=c[0];return Math.ceil(d.evaluate(s))}],"filter-==":[be,[ge,Te],function(s,c){var d=c[0],y=c[1];return s.properties()[d.value]===y.value}],"filter-id-==":[be,[Te],function(s,c){var d=c[0];return s.id()===d.value}],"filter-type-==":[be,[ge],function(s,c){var d=c[0];return s.geometryType()===d.value}],"filter-<":[be,[ge,Te],function(s,c){var d=c[0],y=c[1],k=s.properties()[d.value],T=y.value;return typeof k==typeof T&&k<T}],"filter-id-<":[be,[Te],function(s,c){var d=c[0],y=s.id(),k=d.value;return typeof y==typeof k&&y<k}],"filter->":[be,[ge,Te],function(s,c){var d=c[0],y=c[1],k=s.properties()[d.value],T=y.value;return typeof k==typeof T&&k>T}],"filter-id->":[be,[Te],function(s,c){var d=c[0],y=s.id(),k=d.value;return typeof y==typeof k&&y>k}],"filter-<=":[be,[ge,Te],function(s,c){var d=c[0],y=c[1],k=s.properties()[d.value],T=y.value;return typeof k==typeof T&&k<=T}],"filter-id-<=":[be,[Te],function(s,c){var d=c[0],y=s.id(),k=d.value;return typeof y==typeof k&&y<=k}],"filter->=":[be,[ge,Te],function(s,c){var d=c[0],y=c[1],k=s.properties()[d.value],T=y.value;return typeof k==typeof T&&k>=T}],"filter-id->=":[be,[Te],function(s,c){var d=c[0],y=s.id(),k=d.value;return typeof y==typeof k&&y>=k}],"filter-has":[be,[Te],function(s,c){return c[0].value in s.properties()}],"filter-has-id":[be,[],function(s){return s.id()!==null}],"filter-type-in":[be,[rt(ge)],function(s,c){return c[0].value.indexOf(s.geometryType())>=0}],"filter-id-in":[be,[rt(Te)],function(s,c){return c[0].value.indexOf(s.id())>=0}],"filter-in-small":[be,[ge,rt(Te)],function(s,c){var d=c[0];return c[1].value.indexOf(s.properties()[d.value])>=0}],"filter-in-large":[be,[ge,rt(Te)],function(s,c){var d=c[0],y=c[1];return function(k,T,O,F){for(;O<=F;){var V=O+F>>1;if(T[V]===k)return!0;T[V]>k?F=V-1:O=V+1}return!1}(s.properties()[d.value],y.value,0,y.value.length-1)}],all:{type:be,overloads:[[[be,be],function(s,c){var d=c[0],y=c[1];return d.evaluate(s)&&y.evaluate(s)}],[lc(be),function(s,c){for(var d=0,y=c;d<y.length;d+=1)if(!y[d].evaluate(s))return!1;return!0}]]},any:{type:be,overloads:[[[be,be],function(s,c){var d=c[0],y=c[1];return d.evaluate(s)||y.evaluate(s)}],[lc(be),function(s,c){for(var d=0,y=c;d<y.length;d+=1)if(y[d].evaluate(s))return!0;return!1}]]},"!":[be,[be],function(s,c){return!c[0].evaluate(s)}],"is-supported-script":[be,[ge],function(s,c){var d=c[0],y=s.globals&&s.globals.isSupportedScript;return!y||y(d.evaluate(s))}],upcase:[ge,[ge],function(s,c){return c[0].evaluate(s).toUpperCase()}],downcase:[ge,[ge],function(s,c){return c[0].evaluate(s).toLowerCase()}],concat:[ge,lc(Te),function(s,c){return c.map(function(d){return Lr(d.evaluate(s))}).join("")}],"resolved-locale":[ge,[je],function(s,c){return c[0].evaluate(s).resolvedLocale()}]});var wh=function(s,c){this.expression=s,this._warningHistory={},this._evaluator=new Qa,this._defaultValue=c?function(d){return d.type==="color"&&cc(d.default)?new _t(0,0,0,0):d.type==="color"?_t.parse(d.default)||null:d.default===void 0?null:d.default}(c):null,this._enumValues=c&&c.type==="enum"?c.values:null};function $d(s){return Array.isArray(s)&&s.length>0&&typeof s[0]=="string"&&s[0]in eu}function Hd(s,c){var d=new Je(eu,[],c?function(k){var T={color:Le,string:ge,number:ie,enum:ge,boolean:be,formatted:at,resolvedImage:vt};return k.type==="array"?rt(T[k.value]||Te,k.length):T[k.type]}(c):void 0),y=d.parse(s,void 0,void 0,void 0,c&&c.type==="string"?{typeAnnotation:"coerce"}:void 0);return y?Tm(new wh(y,c)):tu(d.errors)}wh.prototype.evaluateWithoutErrorHandling=function(s,c,d,y,k){return this._evaluator.globals=s,this._evaluator.feature=c,this._evaluator.featureState=d,this._evaluator.availableImages=y||null,this._evaluator.formattedSection=k,this.expression.evaluate(this._evaluator)},wh.prototype.evaluate=function(s,c,d,y,k){this._evaluator.globals=s,this._evaluator.feature=c||null,this._evaluator.featureState=d||null,this._evaluator.availableImages=y||null,this._evaluator.formattedSection=k||null;try{var T=this.expression.evaluate(this._evaluator);if(T==null||typeof T=="number"&&T!=T)return this._defaultValue;if(this._enumValues&&!(T in this._enumValues))throw new Br("Expected value to be one of "+Object.keys(this._enumValues).map(function(O){return JSON.stringify(O)}).join(", ")+", but found "+JSON.stringify(T)+" instead.");return T}catch(O){return this._warningHistory[O.message]||(this._warningHistory[O.message]=!0,typeof console<"u"&&console.warn(O.message)),this._defaultValue}};var iu=function(s,c){this.kind=s,this._styleExpression=c,this.isStateDependent=s!=="constant"&&!le(c.expression)};iu.prototype.evaluateWithoutErrorHandling=function(s,c,d,y,k){return this._styleExpression.evaluateWithoutErrorHandling(s,c,d,y,k)},iu.prototype.evaluate=function(s,c,d,y,k){return this._styleExpression.evaluate(s,c,d,y,k)};var au=function(s,c,d,y){this.kind=s,this.zoomStops=d,this._styleExpression=c,this.isStateDependent=s!=="camera"&&!le(c.expression),this.interpolationType=y};function Ud(s,c){if((s=Hd(s,c)).result==="error")return s;var d=s.value.expression,y=ws(d);if(!y&&!ru(c))return tu([new G("","data expressions not supported")]);var k=fe(d,["zoom"]);if(!k&&!My(c))return tu([new G("","zoom expressions not supported")]);var T=function F(V){var X=null;if(V instanceof bl)X=F(V.result);else if(V instanceof Cs)for(var Z=0,ne=V.args;Z<ne.length;Z+=1){var ue=ne[Z];if(X=F(ue))break}else(V instanceof Ut||V instanceof ki)&&V.input instanceof Si&&V.input.name==="zoom"&&(X=V);return X instanceof G||V.eachChild(function(ae){var de=F(ae);de instanceof G?X=de:!X&&de?X=new G("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):X&&de&&X!==de&&(X=new G("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),X}(d);if(!T&&!k)return tu([new G("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(T instanceof G)return tu([T]);if(T instanceof ki&&!qn(c))return tu([new G("",'"interpolate" expressions cannot be used with this property')]);if(!T)return Tm(new iu(y?"constant":"source",s.value));var O=T instanceof ki?T.interpolation:void 0;return Tm(new au(y?"camera":"composite",s.value,T.labels,O))}au.prototype.evaluateWithoutErrorHandling=function(s,c,d,y,k){return this._styleExpression.evaluateWithoutErrorHandling(s,c,d,y,k)},au.prototype.evaluate=function(s,c,d,y,k){return this._styleExpression.evaluate(s,c,d,y,k)},au.prototype.interpolationFactor=function(s,c,d){return this.interpolationType?ki.interpolationFactor(this.interpolationType,s,c,d):0};var ou=function(s,c){this._parameters=s,this._specification=c,Ha(this,function d(y,k){var T,O,F,V=k.type==="color",X=y.stops&&typeof y.stops[0][0]=="object",Z=X||y.property!==void 0,ne=X||!Z,ue=y.type||(qn(k)?"exponential":"interval");if(V&&((y=Ha({},y)).stops&&(y.stops=y.stops.map(function(nr){return[nr[0],_t.parse(nr[1])]})),y.default?y.default=_t.parse(y.default):y.default=_t.parse(k.default)),y.colorSpace&&y.colorSpace!=="rgb"&&!ky[y.colorSpace])throw new Error("Unknown color space: "+y.colorSpace);if(ue==="exponential")T=Am;else if(ue==="interval")T=A_;else if(ue==="categorical"){T=Oy,O=Object.create(null);for(var ae=0,de=y.stops;ae<de.length;ae+=1){var we=de[ae];O[we[0]]=we[1]}F=typeof y.stops[0][0]}else{if(ue!=="identity")throw new Error('Unknown function type "'+ue+'"');T=Dy}if(X){for(var Ce={},Ie=[],Ve=0;Ve<y.stops.length;Ve++){var Ye=y.stops[Ve],Ge=Ye[0].zoom;Ce[Ge]===void 0&&(Ce[Ge]={zoom:Ge,type:y.type,property:y.property,default:y.default,stops:[]},Ie.push(Ge)),Ce[Ge].stops.push([Ye[0].value,Ye[1]])}for(var ot=[],ft=0,ht=Ie;ft<ht.length;ft+=1){var Rt=ht[ft];ot.push([Ce[Rt].zoom,d(Ce[Rt],k)])}var Jt={name:"linear"};return{kind:"composite",interpolationType:Jt,interpolationFactor:ki.interpolationFactor.bind(void 0,Jt),zoomStops:ot.map(function(nr){return nr[0]}),evaluate:function(nr,Wt){var zt=nr.zoom;return Am({stops:ot,base:y.base},k,zt).evaluate(zt,Wt)}}}if(ne){var Vt=ue==="exponential"?{name:"exponential",base:y.base!==void 0?y.base:1}:null;return{kind:"camera",interpolationType:Vt,interpolationFactor:ki.interpolationFactor.bind(void 0,Vt),zoomStops:y.stops.map(function(nr){return nr[0]}),evaluate:function(nr){var Wt=nr.zoom;return T(y,k,Wt,O,F)}}}return{kind:"source",evaluate:function(nr,Wt){var zt=Wt&&Wt.properties?Wt.properties[y.property]:void 0;return zt===void 0?nu(y.default,k.default):T(y,k,zt,O,F)}}}(this._parameters,this._specification))};function rs(s){var c=s.key,d=s.value,y=s.valueSpec||{},k=s.objectElementValidators||{},T=s.style,O=s.styleSpec,F=[],V=Zn(d);if(V!=="object")return[new At(c,d,"object expected, "+V+" found")];for(var X in d){var Z=X.split(".")[0],ne=y[Z]||y["*"],ue=void 0;if(k[Z])ue=k[Z];else if(y[Z])ue=bo;else if(k["*"])ue=k["*"];else{if(!y["*"]){F.push(new At(c,d[X],'unknown property "'+X+'"'));continue}ue=bo}F=F.concat(ue({key:(c&&c+".")+X,value:d[X],valueSpec:ne,style:T,styleSpec:O,object:d,objectKey:X},d))}for(var ae in y)k[ae]||y[ae].required&&y[ae].default===void 0&&d[ae]===void 0&&F.push(new At(c,d,'missing required property "'+ae+'"'));return F}function Ny(s){var c=s.value,d=s.valueSpec,y=s.style,k=s.styleSpec,T=s.key,O=s.arrayElementValidator||bo;if(Zn(c)!=="array")return[new At(T,c,"array expected, "+Zn(c)+" found")];if(d.length&&c.length!==d.length)return[new At(T,c,"array length "+d.length+" expected, length "+c.length+" found")];if(d["min-length"]&&c.length<d["min-length"])return[new At(T,c,"array length at least "+d["min-length"]+" expected, length "+c.length+" found")];var F={type:d.value,values:d.values};k.$version<7&&(F.function=d.function),Zn(d.value)==="object"&&(F=d.value);for(var V=[],X=0;X<c.length;X++)V=V.concat(O({array:c,arrayIndex:X,value:c[X],valueSpec:F,style:y,styleSpec:k,key:T+"["+X+"]"}));return V}function Vd(s){var c=s.key,d=s.value,y=s.valueSpec,k=Zn(d);return k==="number"&&d!=d&&(k="NaN"),k!=="number"?[new At(c,d,"number expected, "+k+" found")]:"minimum"in y&&d<y.minimum?[new At(c,d,d+" is less than the minimum value "+y.minimum)]:"maximum"in y&&d>y.maximum?[new At(c,d,d+" is greater than the maximum value "+y.maximum)]:[]}function Ly(s){var c,d,y,k=s.valueSpec,T=Gn(s.value.type),O={},F=T!=="categorical"&&s.value.property===void 0,V=!F,X=Zn(s.value.stops)==="array"&&Zn(s.value.stops[0])==="array"&&Zn(s.value.stops[0][0])==="object",Z=rs({key:s.key,value:s.value,valueSpec:s.styleSpec.function,style:s.style,styleSpec:s.styleSpec,objectElementValidators:{stops:function(ae){if(T==="identity")return[new At(ae.key,ae.value,'identity function may not have a "stops" property')];var de=[],we=ae.value;return de=de.concat(Ny({key:ae.key,value:we,valueSpec:ae.valueSpec,style:ae.style,styleSpec:ae.styleSpec,arrayElementValidator:ne})),Zn(we)==="array"&&we.length===0&&de.push(new At(ae.key,we,"array must have at least one stop")),de},default:function(ae){return bo({key:ae.key,value:ae.value,valueSpec:k,style:ae.style,styleSpec:ae.styleSpec})}}});return T==="identity"&&F&&Z.push(new At(s.key,s.value,'missing required property "property"')),T==="identity"||s.value.stops||Z.push(new At(s.key,s.value,'missing required property "stops"')),T==="exponential"&&s.valueSpec.expression&&!qn(s.valueSpec)&&Z.push(new At(s.key,s.value,"exponential functions not supported")),s.styleSpec.$version>=8&&(V&&!ru(s.valueSpec)?Z.push(new At(s.key,s.value,"property functions not supported")):F&&!My(s.valueSpec)&&Z.push(new At(s.key,s.value,"zoom functions not supported"))),T!=="categorical"&&!X||s.value.property!==void 0||Z.push(new At(s.key,s.value,'"property" property is required')),Z;function ne(ae){var de=[],we=ae.value,Ce=ae.key;if(Zn(we)!=="array")return[new At(Ce,we,"array expected, "+Zn(we)+" found")];if(we.length!==2)return[new At(Ce,we,"array length 2 expected, length "+we.length+" found")];if(X){if(Zn(we[0])!=="object")return[new At(Ce,we,"object expected, "+Zn(we[0])+" found")];if(we[0].zoom===void 0)return[new At(Ce,we,"object stop key must have zoom")];if(we[0].value===void 0)return[new At(Ce,we,"object stop key must have value")];if(y&&y>Gn(we[0].zoom))return[new At(Ce,we[0].zoom,"stop zoom values must appear in ascending order")];Gn(we[0].zoom)!==y&&(y=Gn(we[0].zoom),d=void 0,O={}),de=de.concat(rs({key:Ce+"[0]",value:we[0],valueSpec:{zoom:{}},style:ae.style,styleSpec:ae.styleSpec,objectElementValidators:{zoom:Vd,value:ue}}))}else de=de.concat(ue({key:Ce+"[0]",value:we[0],valueSpec:{},style:ae.style,styleSpec:ae.styleSpec},we));return $d(bn(we[1]))?de.concat([new At(Ce+"[1]",we[1],"expressions are not allowed in function stops.")]):de.concat(bo({key:Ce+"[1]",value:we[1],valueSpec:k,style:ae.style,styleSpec:ae.styleSpec}))}function ue(ae,de){var we=Zn(ae.value),Ce=Gn(ae.value),Ie=ae.value!==null?ae.value:de;if(c){if(we!==c)return[new At(ae.key,Ie,we+" stop domain type must match previous stop domain type "+c)]}else c=we;if(we!=="number"&&we!=="string"&&we!=="boolean")return[new At(ae.key,Ie,"stop domain value must be a number, string, or boolean")];if(we!=="number"&&T!=="categorical"){var Ve="number expected, "+we+" found";return ru(k)&&T===void 0&&(Ve+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new At(ae.key,Ie,Ve)]}return T!=="categorical"||we!=="number"||isFinite(Ce)&&Math.floor(Ce)===Ce?T!=="categorical"&&we==="number"&&d!==void 0&&Ce<d?[new At(ae.key,Ie,"stop domain values must appear in ascending order")]:(d=Ce,T==="categorical"&&Ce in O?[new At(ae.key,Ie,"stop domain values must be unique")]:(O[Ce]=!0,[])):[new At(ae.key,Ie,"integer expected, found "+Ce)]}}function su(s){var c=(s.expressionContext==="property"?Ud:Hd)(bn(s.value),s.valueSpec);if(c.result==="error")return c.value.map(function(y){return new At(""+s.key+y.key,s.value,y.message)});var d=c.value.expression||c.value._styleExpression.expression;if(s.expressionContext==="property"&&s.propertyKey==="text-font"&&d.possibleOutputs().indexOf(void 0)!==-1)return[new At(s.key,s.value,'Invalid data expression for "'+s.propertyKey+'". Output values must be contained as literals within the expression.')];if(s.expressionContext==="property"&&s.propertyType==="layout"&&!le(d))return[new At(s.key,s.value,'"feature-state" data expressions are not supported with layout properties.')];if(s.expressionContext==="filter"&&!le(d))return[new At(s.key,s.value,'"feature-state" data expressions are not supported with filters.')];if(s.expressionContext&&s.expressionContext.indexOf("cluster")===0){if(!fe(d,["zoom","feature-state"]))return[new At(s.key,s.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(s.expressionContext==="cluster-initial"&&!ws(d))return[new At(s.key,s.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Wd(s){var c=s.key,d=s.value,y=s.valueSpec,k=[];return Array.isArray(y.values)?y.values.indexOf(Gn(d))===-1&&k.push(new At(c,d,"expected one of ["+y.values.join(", ")+"], "+JSON.stringify(d)+" found")):Object.keys(y.values).indexOf(Gn(d))===-1&&k.push(new At(c,d,"expected one of ["+Object.keys(y.values).join(", ")+"], "+JSON.stringify(d)+" found")),k}function Yd(s){if(s===!0||s===!1)return!0;if(!Array.isArray(s)||s.length===0)return!1;switch(s[0]){case"has":return s.length>=2&&s[1]!=="$id"&&s[1]!=="$type";case"in":return s.length>=3&&Array.isArray(s[2]);case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return s.length!==3||Array.isArray(s[1])||Array.isArray(s[2]);case"any":case"all":for(var c=0,d=s.slice(1);c<d.length;c+=1){var y=d[c];if(!Yd(y)&&typeof y!="boolean")return!1}return!0;default:return!0}}ou.deserialize=function(s){return new ou(s._parameters,s._specification)},ou.serialize=function(s){return{_parameters:s._parameters,_specification:s._specification}};var Ry={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Xd(s){if(s==null)return function(){return!0};Yd(s)||(s=Sh(s));var c=Hd(s,Ry);if(c.result==="error")throw new Error(c.value.map(function(d){return d.key+": "+d.message}).join(", "));return function(d,y){return c.value.evaluate(d,y)}}function P_(s,c){return s<c?-1:s>c?1:0}function Sh(s){if(!s)return!0;var c,d=s[0];return s.length<=1?d!=="any":d==="=="?Gd(s[1],s[2],"=="):d==="!="?qd(Gd(s[1],s[2],"==")):d==="<"||d===">"||d==="<="||d===">="?Gd(s[1],s[2],d):d==="any"?(c=s.slice(1),["any"].concat(c.map(Sh))):d==="all"?["all"].concat(s.slice(1).map(Sh)):d==="none"?["all"].concat(s.slice(1).map(Sh).map(qd)):d==="in"?jy(s[1],s.slice(2)):d==="!in"?qd(jy(s[1],s.slice(2))):d==="has"?zy(s[1]):d!=="!has"||qd(zy(s[1]))}function Gd(s,c,d){switch(s){case"$type":return["filter-type-"+d,c];case"$id":return["filter-id-"+d,c];default:return["filter-"+d,s,c]}}function jy(s,c){if(c.length===0)return!1;switch(s){case"$type":return["filter-type-in",["literal",c]];case"$id":return["filter-id-in",["literal",c]];default:return c.length>200&&!c.some(function(d){return typeof d!=typeof c[0]})?["filter-in-large",s,["literal",c.sort(P_)]]:["filter-in-small",s,["literal",c]]}}function zy(s){switch(s){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",s]}}function qd(s){return["!",s]}function Pm(s){return Yd(bn(s.value))?su(Ha({},s,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function c(d){var y=d.value,k=d.key;if(Zn(y)!=="array")return[new At(k,y,"array expected, "+Zn(y)+" found")];var T,O=d.styleSpec,F=[];if(y.length<1)return[new At(k,y,"filter array must have at least 1 element")];switch(F=F.concat(Wd({key:k+"[0]",value:y[0],valueSpec:O.filter_operator,style:d.style,styleSpec:d.styleSpec})),Gn(y[0])){case"<":case"<=":case">":case">=":y.length>=2&&Gn(y[1])==="$type"&&F.push(new At(k,y,'"$type" cannot be use with operator "'+y[0]+'"'));case"==":case"!=":y.length!==3&&F.push(new At(k,y,'filter array for operator "'+y[0]+'" must have 3 elements'));case"in":case"!in":y.length>=2&&(T=Zn(y[1]))!=="string"&&F.push(new At(k+"[1]",y[1],"string expected, "+T+" found"));for(var V=2;V<y.length;V++)T=Zn(y[V]),Gn(y[1])==="$type"?F=F.concat(Wd({key:k+"["+V+"]",value:y[V],valueSpec:O.geometry_type,style:d.style,styleSpec:d.styleSpec})):T!=="string"&&T!=="number"&&T!=="boolean"&&F.push(new At(k+"["+V+"]",y[V],"string, number, or boolean expected, "+T+" found"));break;case"any":case"all":case"none":for(var X=1;X<y.length;X++)F=F.concat(c({key:k+"["+X+"]",value:y[X],style:d.style,styleSpec:d.styleSpec}));break;case"has":case"!has":T=Zn(y[1]),y.length!==2?F.push(new At(k,y,'filter array for "'+y[0]+'" operator must have 2 elements')):T!=="string"&&F.push(new At(k+"[1]",y[1],"string expected, "+T+" found"))}return F}(s)}function Mm(s,c){var d=s.key,y=s.style,k=s.styleSpec,T=s.value,O=s.objectKey,F=k[c+"_"+s.layerType];if(!F)return[];var V=O.match(/^(.*)-transition$/);if(c==="paint"&&V&&F[V[1]]&&F[V[1]].transition)return bo({key:d,value:T,valueSpec:k.transition,style:y,styleSpec:k});var X,Z=s.valueSpec||F[O];if(!Z)return[new At(d,T,'unknown property "'+O+'"')];if(Zn(T)==="string"&&ru(Z)&&!Z.tokens&&(X=/^{([^}]+)}$/.exec(T)))return[new At(d,T,'"'+O+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(X[1])+" }`.")];var ne=[];return s.layerType==="symbol"&&(O==="text-field"&&y&&!y.glyphs&&ne.push(new At(d,T,'use of "text-field" requires a style "glyphs" property')),O==="text-font"&&cc(bn(T))&&Gn(T.type)==="identity"&&ne.push(new At(d,T,'"text-font" does not support identity functions'))),ne.concat(bo({key:s.key,value:T,valueSpec:Z,style:y,styleSpec:k,expressionContext:"property",propertyType:c,propertyKey:O}))}function Im(s){return Mm(s,"paint")}function Fy(s){return Mm(s,"layout")}function By(s){var c=[],d=s.value,y=s.key,k=s.style,T=s.styleSpec;d.type||d.ref||c.push(new At(y,d,'either "type" or "ref" is required'));var O,F=Gn(d.type),V=Gn(d.ref);if(d.id)for(var X=Gn(d.id),Z=0;Z<s.arrayIndex;Z++){var ne=k.layers[Z];Gn(ne.id)===X&&c.push(new At(y,d.id,'duplicate layer id "'+d.id+'", previously used at line '+ne.id.__line__))}if("ref"in d)["type","source","source-layer","filter","layout"].forEach(function(de){de in d&&c.push(new At(y,d[de],'"'+de+'" is prohibited for ref layers'))}),k.layers.forEach(function(de){Gn(de.id)===V&&(O=de)}),O?O.ref?c.push(new At(y,d.ref,"ref cannot reference another ref layer")):F=Gn(O.type):c.push(new At(y,d.ref,'ref layer "'+V+'" not found'));else if(F!=="background")if(d.source){var ue=k.sources&&k.sources[d.source],ae=ue&&Gn(ue.type);ue?ae==="vector"&&F==="raster"?c.push(new At(y,d.source,'layer "'+d.id+'" requires a raster source')):ae==="raster"&&F!=="raster"?c.push(new At(y,d.source,'layer "'+d.id+'" requires a vector source')):ae!=="vector"||d["source-layer"]?ae==="raster-dem"&&F!=="hillshade"?c.push(new At(y,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):F!=="line"||!d.paint||!d.paint["line-gradient"]||ae==="geojson"&&ue.lineMetrics||c.push(new At(y,d,'layer "'+d.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):c.push(new At(y,d,'layer "'+d.id+'" must specify a "source-layer"')):c.push(new At(y,d.source,'source "'+d.source+'" not found'))}else c.push(new At(y,d,'missing required property "source"'));return c=c.concat(rs({key:y,value:d,valueSpec:T.layer,style:s.style,styleSpec:s.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return bo({key:y+".type",value:d.type,valueSpec:T.layer.type,style:s.style,styleSpec:s.styleSpec,object:d,objectKey:"type"})},filter:Pm,layout:function(de){return rs({layer:d,key:de.key,value:de.value,style:de.style,styleSpec:de.styleSpec,objectElementValidators:{"*":function(we){return Fy(Ha({layerType:F},we))}}})},paint:function(de){return rs({layer:d,key:de.key,value:de.value,style:de.style,styleSpec:de.styleSpec,objectElementValidators:{"*":function(we){return Im(Ha({layerType:F},we))}}})}}}))}function lu(s){var c=s.value,d=s.key,y=Zn(c);return y!=="string"?[new At(d,c,"string expected, "+y+" found")]:[]}var $y={promoteId:function(s){var c=s.key,d=s.value;if(Zn(d)==="string")return lu({key:c,value:d});var y=[];for(var k in d)y.push.apply(y,lu({key:c+"."+k,value:d[k]}));return y}};function Om(s){var c=s.value,d=s.key,y=s.styleSpec,k=s.style;if(!c.type)return[new At(d,c,'"type" is required')];var T,O=Gn(c.type);switch(O){case"vector":case"raster":case"raster-dem":return T=rs({key:d,value:c,valueSpec:y["source_"+O.replace("-","_")],style:s.style,styleSpec:y,objectElementValidators:$y});case"geojson":if(T=rs({key:d,value:c,valueSpec:y.source_geojson,style:k,styleSpec:y,objectElementValidators:$y}),c.cluster)for(var F in c.clusterProperties){var V=c.clusterProperties[F],X=V[0],Z=V[1],ne=typeof X=="string"?[X,["accumulated"],["get",F]]:X;T.push.apply(T,su({key:d+"."+F+".map",value:Z,expressionContext:"cluster-map"})),T.push.apply(T,su({key:d+"."+F+".reduce",value:ne,expressionContext:"cluster-reduce"}))}return T;case"video":return rs({key:d,value:c,valueSpec:y.source_video,style:k,styleSpec:y});case"image":return rs({key:d,value:c,valueSpec:y.source_image,style:k,styleSpec:y});case"canvas":return[new At(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Wd({key:d+".type",value:c.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:k,styleSpec:y})}}function Dm(s){var c=s.value,d=s.styleSpec,y=d.light,k=s.style,T=[],O=Zn(c);if(c===void 0)return T;if(O!=="object")return T=T.concat([new At("light",c,"object expected, "+O+" found")]);for(var F in c){var V=F.match(/^(.*)-transition$/);T=V&&y[V[1]]&&y[V[1]].transition?T.concat(bo({key:F,value:c[F],valueSpec:d.transition,style:k,styleSpec:d})):y[F]?T.concat(bo({key:F,value:c[F],valueSpec:y[F],style:k,styleSpec:d})):T.concat([new At(F,c[F],'unknown property "'+F+'"')])}return T}var Nm={"*":function(){return[]},array:Ny,boolean:function(s){var c=s.value,d=s.key,y=Zn(c);return y!=="boolean"?[new At(d,c,"boolean expected, "+y+" found")]:[]},number:Vd,color:function(s){var c=s.key,d=s.value,y=Zn(d);return y!=="string"?[new At(c,d,"color expected, "+y+" found")]:jt(d)===null?[new At(c,d,'color expected, "'+d+'" found')]:[]},constants:$a,enum:Wd,filter:Pm,function:Ly,layer:By,object:rs,source:Om,light:Dm,string:lu,formatted:function(s){return lu(s).length===0?[]:su(s)},resolvedImage:function(s){return lu(s).length===0?[]:su(s)}};function bo(s){var c=s.value,d=s.valueSpec,y=s.styleSpec;return d.expression&&cc(Gn(c))?Ly(s):d.expression&&$d(bn(c))?su(s):d.type&&Nm[d.type]?Nm[d.type](s):rs(Ha({},s,{valueSpec:d.type?y[d.type]:d}))}function M_(s){var c=s.value,d=s.key,y=lu(s);return y.length||(c.indexOf("{fontstack}")===-1&&y.push(new At(d,c,'"glyphs" url must include a "{fontstack}" token')),c.indexOf("{range}")===-1&&y.push(new At(d,c,'"glyphs" url must include a "{range}" token'))),y}function uc(s,c){c===void 0&&(c=et);var d=[];return d=d.concat(bo({key:"",value:s,valueSpec:c.$root,styleSpec:c,style:s,objectElementValidators:{glyphs:M_,"*":function(){return[]}}})),s.constants&&(d=d.concat($a({key:"constants",value:s.constants,style:s,styleSpec:c}))),Hy(d)}function Hy(s){return[].concat(s).sort(function(c,d){return c.line-d.line})}function cu(s){return function(){for(var c=[],d=arguments.length;d--;)c[d]=arguments[d];return Hy(s.apply(this,c))}}uc.source=cu(Om),uc.light=cu(Dm),uc.layer=cu(By),uc.filter=cu(Pm),uc.paintProperty=cu(Im),uc.layoutProperty=cu(Fy);var Ch=uc,Uy=Ch.light,mi=Ch.paintProperty,Lm=Ch.layoutProperty;function Rm(s,c){var d=!1;if(c&&c.length)for(var y=0,k=c;y<k.length;y+=1){var T=k[y];s.fire(new un(new Error(T.message))),d=!0}return d}var hc=nn;function nn(s,c,d){var y=this.cells=[];if(s instanceof ArrayBuffer){this.arrayBuffer=s;var k=new Int32Array(this.arrayBuffer);s=k[0],c=k[1],d=k[2],this.d=c+2*d;for(var T=0;T<this.d*this.d;T++){var O=k[3+T],F=k[3+T+1];y.push(O===F?null:k.subarray(O,F))}var V=k[3+y.length],X=k[3+y.length+1];this.keys=k.subarray(V,X),this.bboxes=k.subarray(X),this.insert=this._insertReadonly}else{this.d=c+2*d;for(var Z=0;Z<this.d*this.d;Z++)y.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=s,this.padding=d,this.scale=c/s,this.uid=0;var ne=d/c*s;this.min=-ne,this.max=s+ne}nn.prototype.insert=function(s,c,d,y,k){this._forEachCell(c,d,y,k,this._insertCell,this.uid++),this.keys.push(s),this.bboxes.push(c),this.bboxes.push(d),this.bboxes.push(y),this.bboxes.push(k)},nn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},nn.prototype._insertCell=function(s,c,d,y,k,T){this.cells[k].push(T)},nn.prototype.query=function(s,c,d,y,k){var T=this.min,O=this.max;if(s<=T&&c<=T&&O<=d&&O<=y&&!k)return Array.prototype.slice.call(this.keys);var F=[];return this._forEachCell(s,c,d,y,this._queryCell,F,{},k),F},nn.prototype._queryCell=function(s,c,d,y,k,T,O,F){var V=this.cells[k];if(V!==null)for(var X=this.keys,Z=this.bboxes,ne=0;ne<V.length;ne++){var ue=V[ne];if(O[ue]===void 0){var ae=4*ue;(F?F(Z[ae+0],Z[ae+1],Z[ae+2],Z[ae+3]):s<=Z[ae+2]&&c<=Z[ae+3]&&d>=Z[ae+0]&&y>=Z[ae+1])?(O[ue]=!0,T.push(X[ue])):O[ue]=!1}}},nn.prototype._forEachCell=function(s,c,d,y,k,T,O,F){for(var V=this._convertToCellCoord(s),X=this._convertToCellCoord(c),Z=this._convertToCellCoord(d),ne=this._convertToCellCoord(y),ue=V;ue<=Z;ue++)for(var ae=X;ae<=ne;ae++){var de=this.d*ae+ue;if((!F||F(this._convertFromCellCoord(ue),this._convertFromCellCoord(ae),this._convertFromCellCoord(ue+1),this._convertFromCellCoord(ae+1)))&&k.call(this,s,c,d,y,de,T,O,F))return}},nn.prototype._convertFromCellCoord=function(s){return(s-this.padding)/this.scale},nn.prototype._convertToCellCoord=function(s){return Math.max(0,Math.min(this.d-1,Math.floor(s*this.scale)+this.padding))},nn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var s=this.cells,c=3+this.cells.length+1+1,d=0,y=0;y<this.cells.length;y++)d+=this.cells[y].length;var k=new Int32Array(c+d+this.keys.length+this.bboxes.length);k[0]=this.extent,k[1]=this.n,k[2]=this.padding;for(var T=c,O=0;O<s.length;O++){var F=s[O];k[3+O]=T,k.set(F,T),T+=F.length}return k[3+s.length]=T,k.set(this.keys,T),T+=this.keys.length,k[3+s.length+1]=T,k.set(this.bboxes,T),T+=this.bboxes.length,k.buffer};var ei=self.ImageData,_l=self.ImageBitmap,Na={};function Kt(s,c,d){d===void 0&&(d={}),Object.defineProperty(c,"_classRegistryKey",{value:s,writeable:!1}),Na[s]={klass:c,omit:d.omit||[],shallow:d.shallow||[]}}for(var jm in Kt("Object",Object),hc.serialize=function(s,c){var d=s.toArrayBuffer();return c&&c.push(d),{buffer:d}},hc.deserialize=function(s){return new hc(s.buffer)},Kt("Grid",hc),Kt("Color",_t),Kt("Error",Error),Kt("ResolvedImage",ur),Kt("StylePropertyFunction",ou),Kt("StyleExpression",wh,{omit:["_evaluator"]}),Kt("ZoomDependentExpression",au),Kt("ZoomConstantExpression",iu),Kt("CompoundExpression",Si,{omit:["_evaluate"]}),eu)eu[jm]._classRegistryKey||Kt("Expression_"+jm,eu[jm]);function to(s){return s&&typeof ArrayBuffer<"u"&&(s instanceof ArrayBuffer||s.constructor&&s.constructor.name==="ArrayBuffer")}function zo(s){return _l&&s instanceof _l}function uu(s,c){if(s==null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||s instanceof Boolean||s instanceof Number||s instanceof String||s instanceof Date||s instanceof RegExp)return s;if(to(s)||zo(s))return c&&c.push(s),s;if(ArrayBuffer.isView(s)){var d=s;return c&&c.push(d.buffer),d}if(s instanceof ei)return c&&c.push(s.data.buffer),s;if(Array.isArray(s)){for(var y=[],k=0,T=s;k<T.length;k+=1){var O=T[k];y.push(uu(O,c))}return y}if(typeof s=="object"){var F=s.constructor,V=F._classRegistryKey;if(!V)throw new Error("can't serialize object of unregistered class");var X=F.serialize?F.serialize(s,c):{};if(!F.serialize){for(var Z in s)if(s.hasOwnProperty(Z)&&!(Na[V].omit.indexOf(Z)>=0)){var ne=s[Z];X[Z]=Na[V].shallow.indexOf(Z)>=0?ne:uu(ne,c)}s instanceof Error&&(X.message=s.message)}if(X.$name)throw new Error("$name property is reserved for worker serialization logic.");return V!=="Object"&&(X.$name=V),X}throw new Error("can't serialize object of type "+typeof s)}function ji(s){if(s==null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||s instanceof Boolean||s instanceof Number||s instanceof String||s instanceof Date||s instanceof RegExp||to(s)||zo(s)||ArrayBuffer.isView(s)||s instanceof ei)return s;if(Array.isArray(s))return s.map(ji);if(typeof s=="object"){var c=s.$name||"Object",d=Na[c].klass;if(!d)throw new Error("can't deserialize unregistered class "+c);if(d.deserialize)return d.deserialize(s);for(var y=Object.create(d.prototype),k=0,T=Object.keys(s);k<T.length;k+=1){var O=T[k];if(O!=="$name"){var F=s[O];y[O]=Na[c].shallow.indexOf(O)>=0?F:ji(F)}}return y}throw new Error("can't deserialize object of type "+typeof s)}var Zd=function(){this.first=!0};Zd.prototype.update=function(s,c){var d=Math.floor(s);return this.first?(this.first=!1,this.lastIntegerZoom=d,this.lastIntegerZoomTime=0,this.lastZoom=s,this.lastFloorZoom=d,!0):(this.lastFloorZoom>d?(this.lastIntegerZoom=d+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<d&&(this.lastIntegerZoom=d,this.lastIntegerZoomTime=c),s!==this.lastZoom&&(this.lastZoom=s,this.lastFloorZoom=d,!0))};var Tt={"Latin-1 Supplement":function(s){return s>=128&&s<=255},Arabic:function(s){return s>=1536&&s<=1791},"Arabic Supplement":function(s){return s>=1872&&s<=1919},"Arabic Extended-A":function(s){return s>=2208&&s<=2303},"Hangul Jamo":function(s){return s>=4352&&s<=4607},"Unified Canadian Aboriginal Syllabics":function(s){return s>=5120&&s<=5759},Khmer:function(s){return s>=6016&&s<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(s){return s>=6320&&s<=6399},"General Punctuation":function(s){return s>=8192&&s<=8303},"Letterlike Symbols":function(s){return s>=8448&&s<=8527},"Number Forms":function(s){return s>=8528&&s<=8591},"Miscellaneous Technical":function(s){return s>=8960&&s<=9215},"Control Pictures":function(s){return s>=9216&&s<=9279},"Optical Character Recognition":function(s){return s>=9280&&s<=9311},"Enclosed Alphanumerics":function(s){return s>=9312&&s<=9471},"Geometric Shapes":function(s){return s>=9632&&s<=9727},"Miscellaneous Symbols":function(s){return s>=9728&&s<=9983},"Miscellaneous Symbols and Arrows":function(s){return s>=11008&&s<=11263},"CJK Radicals Supplement":function(s){return s>=11904&&s<=12031},"Kangxi Radicals":function(s){return s>=12032&&s<=12255},"Ideographic Description Characters":function(s){return s>=12272&&s<=12287},"CJK Symbols and Punctuation":function(s){return s>=12288&&s<=12351},Hiragana:function(s){return s>=12352&&s<=12447},Katakana:function(s){return s>=12448&&s<=12543},Bopomofo:function(s){return s>=12544&&s<=12591},"Hangul Compatibility Jamo":function(s){return s>=12592&&s<=12687},Kanbun:function(s){return s>=12688&&s<=12703},"Bopomofo Extended":function(s){return s>=12704&&s<=12735},"CJK Strokes":function(s){return s>=12736&&s<=12783},"Katakana Phonetic Extensions":function(s){return s>=12784&&s<=12799},"Enclosed CJK Letters and Months":function(s){return s>=12800&&s<=13055},"CJK Compatibility":function(s){return s>=13056&&s<=13311},"CJK Unified Ideographs Extension A":function(s){return s>=13312&&s<=19903},"Yijing Hexagram Symbols":function(s){return s>=19904&&s<=19967},"CJK Unified Ideographs":function(s){return s>=19968&&s<=40959},"Yi Syllables":function(s){return s>=40960&&s<=42127},"Yi Radicals":function(s){return s>=42128&&s<=42191},"Hangul Jamo Extended-A":function(s){return s>=43360&&s<=43391},"Hangul Syllables":function(s){return s>=44032&&s<=55215},"Hangul Jamo Extended-B":function(s){return s>=55216&&s<=55295},"Private Use Area":function(s){return s>=57344&&s<=63743},"CJK Compatibility Ideographs":function(s){return s>=63744&&s<=64255},"Arabic Presentation Forms-A":function(s){return s>=64336&&s<=65023},"Vertical Forms":function(s){return s>=65040&&s<=65055},"CJK Compatibility Forms":function(s){return s>=65072&&s<=65103},"Small Form Variants":function(s){return s>=65104&&s<=65135},"Arabic Presentation Forms-B":function(s){return s>=65136&&s<=65279},"Halfwidth and Fullwidth Forms":function(s){return s>=65280&&s<=65519}};function dc(s){for(var c=0,d=s;c<d.length;c+=1)if(Fo(d[c].charCodeAt(0)))return!0;return!1}function I_(s){return!Tt.Arabic(s)&&!Tt["Arabic Supplement"](s)&&!Tt["Arabic Extended-A"](s)&&!Tt["Arabic Presentation Forms-A"](s)&&!Tt["Arabic Presentation Forms-B"](s)}function Fo(s){return s===746||s===747||!(s<4352)&&(!!Tt["Bopomofo Extended"](s)||!!Tt.Bopomofo(s)||!(!Tt["CJK Compatibility Forms"](s)||s>=65097&&s<=65103)||!!Tt["CJK Compatibility Ideographs"](s)||!!Tt["CJK Compatibility"](s)||!!Tt["CJK Radicals Supplement"](s)||!!Tt["CJK Strokes"](s)||!(!Tt["CJK Symbols and Punctuation"](s)||s>=12296&&s<=12305||s>=12308&&s<=12319||s===12336)||!!Tt["CJK Unified Ideographs Extension A"](s)||!!Tt["CJK Unified Ideographs"](s)||!!Tt["Enclosed CJK Letters and Months"](s)||!!Tt["Hangul Compatibility Jamo"](s)||!!Tt["Hangul Jamo Extended-A"](s)||!!Tt["Hangul Jamo Extended-B"](s)||!!Tt["Hangul Jamo"](s)||!!Tt["Hangul Syllables"](s)||!!Tt.Hiragana(s)||!!Tt["Ideographic Description Characters"](s)||!!Tt.Kanbun(s)||!!Tt["Kangxi Radicals"](s)||!!Tt["Katakana Phonetic Extensions"](s)||!(!Tt.Katakana(s)||s===12540)||!(!Tt["Halfwidth and Fullwidth Forms"](s)||s===65288||s===65289||s===65293||s>=65306&&s<=65310||s===65339||s===65341||s===65343||s>=65371&&s<=65503||s===65507||s>=65512&&s<=65519)||!(!Tt["Small Form Variants"](s)||s>=65112&&s<=65118||s>=65123&&s<=65126)||!!Tt["Unified Canadian Aboriginal Syllabics"](s)||!!Tt["Unified Canadian Aboriginal Syllabics Extended"](s)||!!Tt["Vertical Forms"](s)||!!Tt["Yijing Hexagram Symbols"](s)||!!Tt["Yi Syllables"](s)||!!Tt["Yi Radicals"](s))}function Vy(s){return!(Fo(s)||function(c){return!(!Tt["Latin-1 Supplement"](c)||c!==167&&c!==169&&c!==174&&c!==177&&c!==188&&c!==189&&c!==190&&c!==215&&c!==247)||!(!Tt["General Punctuation"](c)||c!==8214&&c!==8224&&c!==8225&&c!==8240&&c!==8241&&c!==8251&&c!==8252&&c!==8258&&c!==8263&&c!==8264&&c!==8265&&c!==8273)||!!Tt["Letterlike Symbols"](c)||!!Tt["Number Forms"](c)||!(!Tt["Miscellaneous Technical"](c)||!(c>=8960&&c<=8967||c>=8972&&c<=8991||c>=8996&&c<=9e3||c===9003||c>=9085&&c<=9114||c>=9150&&c<=9165||c===9167||c>=9169&&c<=9179||c>=9186&&c<=9215))||!(!Tt["Control Pictures"](c)||c===9251)||!!Tt["Optical Character Recognition"](c)||!!Tt["Enclosed Alphanumerics"](c)||!!Tt["Geometric Shapes"](c)||!(!Tt["Miscellaneous Symbols"](c)||c>=9754&&c<=9759)||!(!Tt["Miscellaneous Symbols and Arrows"](c)||!(c>=11026&&c<=11055||c>=11088&&c<=11097||c>=11192&&c<=11243))||!!Tt["CJK Symbols and Punctuation"](c)||!!Tt.Katakana(c)||!!Tt["Private Use Area"](c)||!!Tt["CJK Compatibility Forms"](c)||!!Tt["Small Form Variants"](c)||!!Tt["Halfwidth and Fullwidth Forms"](c)||c===8734||c===8756||c===8757||c>=9984&&c<=10087||c>=10102&&c<=10131||c===65532||c===65533}(s))}function ro(s){return s>=1424&&s<=2303||Tt["Arabic Presentation Forms-A"](s)||Tt["Arabic Presentation Forms-B"](s)}function Wy(s,c){return!(!c&&ro(s))&&!(s>=2304&&s<=3583||s>=3840&&s<=4255||Tt.Khmer(s))}function O_(s){for(var c=0,d=s;c<d.length;c+=1)if(ro(d[c].charCodeAt(0)))return!0;return!1}var ns="deferred",Us="loading",fc="loaded",zm=null,Ua="unavailable",wl=null,pc=function(s){zm&&zm(s)};function Fm(){Bm.fire(new Vr("pluginStateChange",{pluginStatus:Ua,pluginURL:wl}))}var Bm=new Jr,kh=function(){return Ua},Yy=function(){if(Ua!==ns||!wl)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Ua=Us,Fm(),wl&&Ja({url:wl},function(s){s?pc(s):(Ua=fc,Fm())})},ra={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Ua===fc||ra.applyArabicShaping!=null},isLoading:function(){return Ua===Us},setState:function(s){Ua=s.pluginStatus,wl=s.pluginURL},isParsed:function(){return ra.applyArabicShaping!=null&&ra.processBidirectionalText!=null&&ra.processStyledBidirectionalText!=null},getPluginURL:function(){return wl}},Fn=function(s,c){this.zoom=s,c?(this.now=c.now,this.fadeDuration=c.fadeDuration,this.zoomHistory=c.zoomHistory,this.transition=c.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Zd,this.transition={})};Fn.prototype.isSupportedScript=function(s){return function(c,d){for(var y=0,k=c;y<k.length;y+=1)if(!Wy(k[y].charCodeAt(0),d))return!1;return!0}(s,ra.isLoaded())},Fn.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Fn.prototype.getCrossfadeParameters=function(){var s=this.zoom,c=s-Math.floor(s),d=this.crossFadingFactor();return s>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*d}:{fromScale:.5,toScale:1,t:1-(1-d)*c}};var Sl=function(s,c){this.property=s,this.value=c,this.expression=function(d,y){if(cc(d))return new ou(d,y);if($d(d)){var k=Ud(d,y);if(k.result==="error")throw new Error(k.value.map(function(O){return O.key+": "+O.message}).join(", "));return k.value}var T=d;return typeof d=="string"&&y.type==="color"&&(T=_t.parse(d)),{kind:"constant",evaluate:function(){return T}}}(c===void 0?s.specification.default:c,s.specification)};Sl.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Sl.prototype.possiblyEvaluate=function(s,c){return this.property.possiblyEvaluate(this,s,c)};var hu=function(s){this.property=s,this.value=new Sl(s,void 0)};hu.prototype.transitioned=function(s,c){return new Kd(this.property,this.value,c,A({},s.transition,this.transition),s.now)},hu.prototype.untransitioned=function(){return new Kd(this.property,this.value,null,{},0)};var no=function(s){this._properties=s,this._values=Object.create(s.defaultTransitionablePropertyValues)};no.prototype.getValue=function(s){return W(this._values[s].value.value)},no.prototype.setValue=function(s,c){this._values.hasOwnProperty(s)||(this._values[s]=new hu(this._values[s].property)),this._values[s].value=new Sl(this._values[s].property,c===null?void 0:W(c))},no.prototype.getTransition=function(s){return W(this._values[s].transition)},no.prototype.setTransition=function(s,c){this._values.hasOwnProperty(s)||(this._values[s]=new hu(this._values[s].property)),this._values[s].transition=W(c)||void 0},no.prototype.serialize=function(){for(var s={},c=0,d=Object.keys(this._values);c<d.length;c+=1){var y=d[c],k=this.getValue(y);k!==void 0&&(s[y]=k);var T=this.getTransition(y);T!==void 0&&(s[y+"-transition"]=T)}return s},no.prototype.transitioned=function(s,c){for(var d=new Jd(this._properties),y=0,k=Object.keys(this._values);y<k.length;y+=1){var T=k[y];d._values[T]=this._values[T].transitioned(s,c._values[T])}return d},no.prototype.untransitioned=function(){for(var s=new Jd(this._properties),c=0,d=Object.keys(this._values);c<d.length;c+=1){var y=d[c];s._values[y]=this._values[y].untransitioned()}return s};var Kd=function(s,c,d,y,k){this.property=s,this.value=c,this.begin=k+y.delay||0,this.end=this.begin+y.duration||0,s.specification.transition&&(y.delay||y.duration)&&(this.prior=d)};Kd.prototype.possiblyEvaluate=function(s,c){var d=s.now||0,y=this.value.possiblyEvaluate(s,c),k=this.prior;if(k){if(d>this.end)return this.prior=null,y;if(this.value.isDataDriven())return this.prior=null,y;if(d<this.begin)return k.possiblyEvaluate(s,c);var T=(d-this.begin)/(this.end-this.begin);return this.property.interpolate(k.possiblyEvaluate(s,c),y,function(O){if(O<=0)return 0;if(O>=1)return 1;var F=O*O,V=F*O;return 4*(O<.5?V:3*(O-F)+V-.75)}(T))}return y};var Jd=function(s){this._properties=s,this._values=Object.create(s.defaultTransitioningPropertyValues)};Jd.prototype.possiblyEvaluate=function(s,c){for(var d=new Cl(this._properties),y=0,k=Object.keys(this._values);y<k.length;y+=1){var T=k[y];d._values[T]=this._values[T].possiblyEvaluate(s,c)}return d},Jd.prototype.hasTransition=function(){for(var s=0,c=Object.keys(this._values);s<c.length;s+=1){var d=c[s];if(this._values[d].prior)return!0}return!1};var Eh=function(s){this._properties=s,this._values=Object.create(s.defaultPropertyValues)};Eh.prototype.getValue=function(s){return W(this._values[s].value)},Eh.prototype.setValue=function(s,c){this._values[s]=new Sl(this._values[s].property,c===null?void 0:W(c))},Eh.prototype.serialize=function(){for(var s={},c=0,d=Object.keys(this._values);c<d.length;c+=1){var y=d[c],k=this.getValue(y);k!==void 0&&(s[y]=k)}return s},Eh.prototype.possiblyEvaluate=function(s,c){for(var d=new Cl(this._properties),y=0,k=Object.keys(this._values);y<k.length;y+=1){var T=k[y];d._values[T]=this._values[T].possiblyEvaluate(s,c)}return d};var io=function(s,c,d){this.property=s,this.value=c,this.parameters=d};io.prototype.isConstant=function(){return this.value.kind==="constant"},io.prototype.constantOr=function(s){return this.value.kind==="constant"?this.value.value:s},io.prototype.evaluate=function(s,c,d){return this.property.evaluate(this.value,this.parameters,s,c,d)};var Cl=function(s){this._properties=s,this._values=Object.create(s.defaultPossiblyEvaluatedValues)};Cl.prototype.get=function(s){return this._values[s]};var ir=function(s){this.specification=s};ir.prototype.possiblyEvaluate=function(s,c){return s.expression.evaluate(c)},ir.prototype.interpolate=function(s,c,d){var y=fi[this.specification.type];return y?y(s,c,d):s};var lr=function(s,c){this.specification=s,this.overrides=c};lr.prototype.possiblyEvaluate=function(s,c,d){return s.expression.kind==="constant"||s.expression.kind==="camera"?new io(this,{kind:"constant",value:s.expression.evaluate(c,null,{},d)},c):new io(this,s.expression,c)},lr.prototype.interpolate=function(s,c,d){if(s.value.kind!=="constant"||c.value.kind!=="constant")return s;if(s.value.value===void 0||c.value.value===void 0)return new io(this,{kind:"constant",value:void 0},s.parameters);var y=fi[this.specification.type];return y?new io(this,{kind:"constant",value:y(s.value.value,c.value.value,d)},s.parameters):s},lr.prototype.evaluate=function(s,c,d,y,k){return s.kind==="constant"?s.value:s.evaluate(c,d,y,k)};var _o=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.possiblyEvaluate=function(d,y,k){if(d.value===void 0)return new io(this,{kind:"constant",value:void 0},y);if(d.expression.kind==="constant"){var T=d.expression.evaluate(y,null,{},k),O=d.property.specification.type==="resolvedImage"&&typeof T!="string"?T.name:T,F=this._calculate(O,O,O,y);return new io(this,{kind:"constant",value:F},y)}if(d.expression.kind==="camera"){var V=this._calculate(d.expression.evaluate({zoom:y.zoom-1}),d.expression.evaluate({zoom:y.zoom}),d.expression.evaluate({zoom:y.zoom+1}),y);return new io(this,{kind:"constant",value:V},y)}return new io(this,d.expression,y)},c.prototype.evaluate=function(d,y,k,T,O){if(d.kind==="source"){var F=d.evaluate(y,k,T,O);return this._calculate(F,F,F,y)}return d.kind==="composite"?this._calculate(d.evaluate({zoom:Math.floor(y.zoom)-1},k,T),d.evaluate({zoom:Math.floor(y.zoom)},k,T),d.evaluate({zoom:Math.floor(y.zoom)+1},k,T),y):d.value},c.prototype._calculate=function(d,y,k,T){return T.zoom>T.zoomHistory.lastIntegerZoom?{from:d,to:y}:{from:k,to:y}},c.prototype.interpolate=function(d){return d},c}(lr),du=function(s){this.specification=s};du.prototype.possiblyEvaluate=function(s,c,d){if(s.value!==void 0){if(s.expression.kind==="constant"){var y=s.expression.evaluate(c,null,{},d);return this._calculate(y,y,y,c)}return this._calculate(s.expression.evaluate(new Fn(Math.floor(c.zoom-1),c)),s.expression.evaluate(new Fn(Math.floor(c.zoom),c)),s.expression.evaluate(new Fn(Math.floor(c.zoom+1),c)),c)}},du.prototype._calculate=function(s,c,d,y){return y.zoom>y.zoomHistory.lastIntegerZoom?{from:s,to:c}:{from:d,to:c}},du.prototype.interpolate=function(s){return s};var Th=function(s){this.specification=s};Th.prototype.possiblyEvaluate=function(s,c,d){return!!s.expression.evaluate(c,null,{},d)},Th.prototype.interpolate=function(){return!1};var ao=function(s){for(var c in this.properties=s,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],s){var d=s[c];d.specification.overridable&&this.overridableProperties.push(c);var y=this.defaultPropertyValues[c]=new Sl(d,void 0),k=this.defaultTransitionablePropertyValues[c]=new hu(d);this.defaultTransitioningPropertyValues[c]=k.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=y.possiblyEvaluate({})}};Kt("DataDrivenProperty",lr),Kt("DataConstantProperty",ir),Kt("CrossFadedDataDrivenProperty",_o),Kt("CrossFadedProperty",du),Kt("ColorRampProperty",Th);var is=function(s){function c(d,y){if(s.call(this),this.id=d.id,this.type=d.type,this._featureFilter=function(){return!0},d.type!=="custom"&&(d=d,this.metadata=d.metadata,this.minzoom=d.minzoom,this.maxzoom=d.maxzoom,d.type!=="background"&&(this.source=d.source,this.sourceLayer=d["source-layer"],this.filter=d.filter),y.layout&&(this._unevaluatedLayout=new Eh(y.layout)),y.paint)){for(var k in this._transitionablePaint=new no(y.paint),d.paint)this.setPaintProperty(k,d.paint[k],{validate:!1});for(var T in d.layout)this.setLayoutProperty(T,d.layout[T],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},c.prototype.getLayoutProperty=function(d){return d==="visibility"?this.visibility:this._unevaluatedLayout.getValue(d)},c.prototype.setLayoutProperty=function(d,y,k){if(k===void 0&&(k={}),y!=null){var T="layers."+this.id+".layout."+d;if(this._validate(Lm,T,d,y,k))return}d!=="visibility"?this._unevaluatedLayout.setValue(d,y):this.visibility=y},c.prototype.getPaintProperty=function(d){return L(d,"-transition")?this._transitionablePaint.getTransition(d.slice(0,-11)):this._transitionablePaint.getValue(d)},c.prototype.setPaintProperty=function(d,y,k){if(k===void 0&&(k={}),y!=null){var T="layers."+this.id+".paint."+d;if(this._validate(mi,T,d,y,k))return!1}if(L(d,"-transition"))return this._transitionablePaint.setTransition(d.slice(0,-11),y||void 0),!1;var O=this._transitionablePaint._values[d],F=O.property.specification["property-type"]==="cross-faded-data-driven",V=O.value.isDataDriven(),X=O.value;this._transitionablePaint.setValue(d,y),this._handleSpecialPaintPropertyUpdate(d);var Z=this._transitionablePaint._values[d].value;return Z.isDataDriven()||V||F||this._handleOverridablePaintPropertyUpdate(d,X,Z)},c.prototype._handleSpecialPaintPropertyUpdate=function(d){},c.prototype._handleOverridablePaintPropertyUpdate=function(d,y,k){return!1},c.prototype.isHidden=function(d){return!!(this.minzoom&&d<this.minzoom)||!!(this.maxzoom&&d>=this.maxzoom)||this.visibility==="none"},c.prototype.updateTransitions=function(d){this._transitioningPaint=this._transitionablePaint.transitioned(d,this._transitioningPaint)},c.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},c.prototype.recalculate=function(d,y){d.getCrossfadeParameters&&(this._crossfadeParameters=d.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(d,y)),this.paint=this._transitioningPaint.possiblyEvaluate(d,y)},c.prototype.serialize=function(){var d={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(d.layout=d.layout||{},d.layout.visibility=this.visibility),$(d,function(y,k){return!(y===void 0||k==="layout"&&!Object.keys(y).length||k==="paint"&&!Object.keys(y).length)})},c.prototype._validate=function(d,y,k,T,O){return O===void 0&&(O={}),(!O||O.validate!==!1)&&Rm(this,d.call(Ch,{key:y,layerType:this.type,objectKey:k,value:T,styleSpec:et,style:{glyphs:!0,sprite:!0}}))},c.prototype.is3D=function(){return!1},c.prototype.isTileClipped=function(){return!1},c.prototype.hasOffscreenPass=function(){return!1},c.prototype.resize=function(){},c.prototype.isStateDependent=function(){for(var d in this.paint._values){var y=this.paint.get(d);if(y instanceof io&&ru(y.property.specification)&&(y.value.kind==="source"||y.value.kind==="composite")&&y.value.isStateDependent)return!0}return!1},c}(Jr),p={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},v=function(s,c){this._structArray=s,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},g=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function b(s,c){c===void 0&&(c=1);var d=0,y=0;return{members:s.map(function(k){var T,O=(T=k.type,p[T].BYTES_PER_ELEMENT),F=d=M(d,Math.max(c,O)),V=k.components||1;return y=Math.max(y,O),d+=O*V,{name:k.name,type:k.type,components:V,offset:F}}),size:M(d,Math.max(y,c)),alignment:c}}function M(s,c){return Math.ceil(s/c)*c}g.serialize=function(s,c){return s._trim(),c&&(s.isTransferred=!0,c.push(s.arrayBuffer)),{length:s.length,arrayBuffer:s.arrayBuffer}},g.deserialize=function(s){var c=Object.create(this.prototype);return c.arrayBuffer=s.arrayBuffer,c.length=s.length,c.capacity=s.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c},g.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},g.prototype.clear=function(){this.length=0},g.prototype.resize=function(s){this.reserve(s),this.length=s},g.prototype.reserve=function(s){if(s>this.capacity){this.capacity=Math.max(s,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}},g.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var z=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,y){var k=this.length;return this.resize(k+1),this.emplace(k,d,y)},c.prototype.emplace=function(d,y,k){var T=2*d;return this.int16[T+0]=y,this.int16[T+1]=k,d},c}(g);z.prototype.bytesPerElement=4,Kt("StructArrayLayout2i4",z);var B=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,y,k,T){var O=this.length;return this.resize(O+1),this.emplace(O,d,y,k,T)},c.prototype.emplace=function(d,y,k,T,O){var F=4*d;return this.int16[F+0]=y,this.int16[F+1]=k,this.int16[F+2]=T,this.int16[F+3]=O,d},c}(g);B.prototype.bytesPerElement=8,Kt("StructArrayLayout4i8",B);var U=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,y,k,T,O,F){var V=this.length;return this.resize(V+1),this.emplace(V,d,y,k,T,O,F)},c.prototype.emplace=function(d,y,k,T,O,F,V){var X=6*d;return this.int16[X+0]=y,this.int16[X+1]=k,this.int16[X+2]=T,this.int16[X+3]=O,this.int16[X+4]=F,this.int16[X+5]=V,d},c}(g);U.prototype.bytesPerElement=12,Kt("StructArrayLayout2i4i12",U);var Y=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,y,k,T,O,F){var V=this.length;return this.resize(V+1),this.emplace(V,d,y,k,T,O,F)},c.prototype.emplace=function(d,y,k,T,O,F,V){var X=4*d,Z=8*d;return this.int16[X+0]=y,this.int16[X+1]=k,this.uint8[Z+4]=T,this.uint8[Z+5]=O,this.uint8[Z+6]=F,this.uint8[Z+7]=V,d},c}(g);Y.prototype.bytesPerElement=8,Kt("StructArrayLayout2i4ub8",Y);var K=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,y,k,T,O,F,V,X){var Z=this.length;return this.resize(Z+1),this.emplace(Z,d,y,k,T,O,F,V,X)},c.prototype.emplace=function(d,y,k,T,O,F,V,X,Z){var ne=8*d;return this.uint16[ne+0]=y,this.uint16[ne+1]=k,this.uint16[ne+2]=T,this.uint16[ne+3]=O,this.uint16[ne+4]=F,this.uint16[ne+5]=V,this.uint16[ne+6]=X,this.uint16[ne+7]=Z,d},c}(g);K.prototype.bytesPerElement=16,Kt("StructArrayLayout8ui16",K);var te=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,y,k,T,O,F,V,X,Z,ne,ue,ae){var de=this.length;return this.resize(de+1),this.emplace(de,d,y,k,T,O,F,V,X,Z,ne,ue,ae)},c.prototype.emplace=function(d,y,k,T,O,F,V,X,Z,ne,ue,ae,de){var we=12*d;return this.int16[we+0]=y,this.int16[we+1]=k,this.int16[we+2]=T,this.int16[we+3]=O,this.uint16[we+4]=F,this.uint16[we+5]=V,this.uint16[we+6]=X,this.uint16[we+7]=Z,this.int16[we+8]=ne,this.int16[we+9]=ue,this.int16[we+10]=ae,this.int16[we+11]=de,d},c}(g);te.prototype.bytesPerElement=24,Kt("StructArrayLayout4i4ui4i24",te);var ce=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,y,k){var T=this.length;return this.resize(T+1),this.emplace(T,d,y,k)},c.prototype.emplace=function(d,y,k,T){var O=3*d;return this.float32[O+0]=y,this.float32[O+1]=k,this.float32[O+2]=T,d},c}(g);ce.prototype.bytesPerElement=12,Kt("StructArrayLayout3f12",ce);var me=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d){var y=this.length;return this.resize(y+1),this.emplace(y,d)},c.prototype.emplace=function(d,y){var k=1*d;return this.uint32[k+0]=y,d},c}(g);me.prototype.bytesPerElement=4,Kt("StructArrayLayout1ul4",me);var pe=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,y,k,T,O,F,V,X,Z,ne,ue){var ae=this.length;return this.resize(ae+1),this.emplace(ae,d,y,k,T,O,F,V,X,Z,ne,ue)},c.prototype.emplace=function(d,y,k,T,O,F,V,X,Z,ne,ue,ae){var de=12*d,we=6*d;return this.int16[de+0]=y,this.int16[de+1]=k,this.int16[de+2]=T,this.int16[de+3]=O,this.int16[de+4]=F,this.int16[de+5]=V,this.uint32[we+3]=X,this.uint16[de+8]=Z,this.uint16[de+9]=ne,this.int16[de+10]=ue,this.int16[de+11]=ae,d},c}(g);pe.prototype.bytesPerElement=24,Kt("StructArrayLayout6i1ul2ui2i24",pe);var ye=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,y,k,T,O,F){var V=this.length;return this.resize(V+1),this.emplace(V,d,y,k,T,O,F)},c.prototype.emplace=function(d,y,k,T,O,F,V){var X=6*d;return this.int16[X+0]=y,this.int16[X+1]=k,this.int16[X+2]=T,this.int16[X+3]=O,this.int16[X+4]=F,this.int16[X+5]=V,d},c}(g);ye.prototype.bytesPerElement=12,Kt("StructArrayLayout2i2i2i12",ye);var ve=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,y,k,T){var O=this.length;return this.resize(O+1),this.emplace(O,d,y,k,T)},c.prototype.emplace=function(d,y,k,T,O){var F=12*d,V=3*d;return this.uint8[F+0]=y,this.uint8[F+1]=k,this.float32[V+1]=T,this.float32[V+2]=O,d},c}(g);ve.prototype.bytesPerElement=12,Kt("StructArrayLayout2ub2f12",ve);var De=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,y,k,T,O,F,V,X,Z,ne,ue,ae,de,we,Ce,Ie,Ve){var Ye=this.length;return this.resize(Ye+1),this.emplace(Ye,d,y,k,T,O,F,V,X,Z,ne,ue,ae,de,we,Ce,Ie,Ve)},c.prototype.emplace=function(d,y,k,T,O,F,V,X,Z,ne,ue,ae,de,we,Ce,Ie,Ve,Ye){var Ge=24*d,ot=12*d,ft=48*d;return this.int16[Ge+0]=y,this.int16[Ge+1]=k,this.uint16[Ge+2]=T,this.uint16[Ge+3]=O,this.uint32[ot+2]=F,this.uint32[ot+3]=V,this.uint32[ot+4]=X,this.uint16[Ge+10]=Z,this.uint16[Ge+11]=ne,this.uint16[Ge+12]=ue,this.float32[ot+7]=ae,this.float32[ot+8]=de,this.uint8[ft+36]=we,this.uint8[ft+37]=Ce,this.uint8[ft+38]=Ie,this.uint32[ot+10]=Ve,this.int16[Ge+22]=Ye,d},c}(g);De.prototype.bytesPerElement=48,Kt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",De);var Oe=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,y,k,T,O,F,V,X,Z,ne,ue,ae,de,we,Ce,Ie,Ve,Ye,Ge,ot,ft,ht,Rt,Jt,Vt,nr){var Wt=this.length;return this.resize(Wt+1),this.emplace(Wt,d,y,k,T,O,F,V,X,Z,ne,ue,ae,de,we,Ce,Ie,Ve,Ye,Ge,ot,ft,ht,Rt,Jt,Vt,nr)},c.prototype.emplace=function(d,y,k,T,O,F,V,X,Z,ne,ue,ae,de,we,Ce,Ie,Ve,Ye,Ge,ot,ft,ht,Rt,Jt,Vt,nr,Wt){var zt=30*d,Ct=15*d;return this.int16[zt+0]=y,this.int16[zt+1]=k,this.int16[zt+2]=T,this.int16[zt+3]=O,this.int16[zt+4]=F,this.int16[zt+5]=V,this.int16[zt+6]=X,this.int16[zt+7]=Z,this.uint16[zt+8]=ne,this.uint16[zt+9]=ue,this.uint16[zt+10]=ae,this.uint16[zt+11]=de,this.uint16[zt+12]=we,this.uint16[zt+13]=Ce,this.uint16[zt+14]=Ie,this.uint16[zt+15]=Ve,this.uint16[zt+16]=Ye,this.uint16[zt+17]=Ge,this.uint16[zt+18]=ot,this.uint16[zt+19]=ft,this.uint16[zt+20]=ht,this.uint16[zt+21]=Rt,this.uint32[Ct+11]=Jt,this.float32[Ct+12]=Vt,this.float32[Ct+13]=nr,this.float32[Ct+14]=Wt,d},c}(g);Oe.prototype.bytesPerElement=60,Kt("StructArrayLayout8i14ui1ul3f60",Oe);var Be=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d){var y=this.length;return this.resize(y+1),this.emplace(y,d)},c.prototype.emplace=function(d,y){var k=1*d;return this.float32[k+0]=y,d},c}(g);Be.prototype.bytesPerElement=4,Kt("StructArrayLayout1f4",Be);var Fe=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,y,k){var T=this.length;return this.resize(T+1),this.emplace(T,d,y,k)},c.prototype.emplace=function(d,y,k,T){var O=3*d;return this.int16[O+0]=y,this.int16[O+1]=k,this.int16[O+2]=T,d},c}(g);Fe.prototype.bytesPerElement=6,Kt("StructArrayLayout3i6",Fe);var $e=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,y,k){var T=this.length;return this.resize(T+1),this.emplace(T,d,y,k)},c.prototype.emplace=function(d,y,k,T){var O=2*d,F=4*d;return this.uint32[O+0]=y,this.uint16[F+2]=k,this.uint16[F+3]=T,d},c}(g);$e.prototype.bytesPerElement=8,Kt("StructArrayLayout1ul2ui8",$e);var Qe=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,y,k){var T=this.length;return this.resize(T+1),this.emplace(T,d,y,k)},c.prototype.emplace=function(d,y,k,T){var O=3*d;return this.uint16[O+0]=y,this.uint16[O+1]=k,this.uint16[O+2]=T,d},c}(g);Qe.prototype.bytesPerElement=6,Kt("StructArrayLayout3ui6",Qe);var st=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,y){var k=this.length;return this.resize(k+1),this.emplace(k,d,y)},c.prototype.emplace=function(d,y,k){var T=2*d;return this.uint16[T+0]=y,this.uint16[T+1]=k,d},c}(g);st.prototype.bytesPerElement=4,Kt("StructArrayLayout2ui4",st);var gt=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d){var y=this.length;return this.resize(y+1),this.emplace(y,d)},c.prototype.emplace=function(d,y){var k=1*d;return this.uint16[k+0]=y,d},c}(g);gt.prototype.bytesPerElement=2,Kt("StructArrayLayout1ui2",gt);var Bt=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,y){var k=this.length;return this.resize(k+1),this.emplace(k,d,y)},c.prototype.emplace=function(d,y,k){var T=2*d;return this.float32[T+0]=y,this.float32[T+1]=k,d},c}(g);Bt.prototype.bytesPerElement=8,Kt("StructArrayLayout2f8",Bt);var Nt=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,y,k,T){var O=this.length;return this.resize(O+1),this.emplace(O,d,y,k,T)},c.prototype.emplace=function(d,y,k,T,O){var F=4*d;return this.float32[F+0]=y,this.float32[F+1]=k,this.float32[F+2]=T,this.float32[F+3]=O,d},c}(g);Nt.prototype.bytesPerElement=16,Kt("StructArrayLayout4f16",Nt);var Yt=function(s){function c(){s.apply(this,arguments)}s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c;var d={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return d.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},d.anchorPointX.set=function(y){this._structArray.int16[this._pos2+0]=y},d.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},d.anchorPointY.set=function(y){this._structArray.int16[this._pos2+1]=y},d.x1.get=function(){return this._structArray.int16[this._pos2+2]},d.x1.set=function(y){this._structArray.int16[this._pos2+2]=y},d.y1.get=function(){return this._structArray.int16[this._pos2+3]},d.y1.set=function(y){this._structArray.int16[this._pos2+3]=y},d.x2.get=function(){return this._structArray.int16[this._pos2+4]},d.x2.set=function(y){this._structArray.int16[this._pos2+4]=y},d.y2.get=function(){return this._structArray.int16[this._pos2+5]},d.y2.set=function(y){this._structArray.int16[this._pos2+5]=y},d.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},d.featureIndex.set=function(y){this._structArray.uint32[this._pos4+3]=y},d.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},d.sourceLayerIndex.set=function(y){this._structArray.uint16[this._pos2+8]=y},d.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},d.bucketIndex.set=function(y){this._structArray.uint16[this._pos2+9]=y},d.radius.get=function(){return this._structArray.int16[this._pos2+10]},d.radius.set=function(y){this._structArray.int16[this._pos2+10]=y},d.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},d.signedDistanceFromAnchor.set=function(y){this._structArray.int16[this._pos2+11]=y},d.anchorPoint.get=function(){return new f(this.anchorPointX,this.anchorPointY)},Object.defineProperties(c.prototype,d),c}(v);Yt.prototype.size=24;var Ot=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.get=function(d){return new Yt(this,d)},c}(pe);Kt("CollisionBoxArray",Ot);var hr=function(s){function c(){s.apply(this,arguments)}s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c;var d={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return d.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},d.anchorX.set=function(y){this._structArray.int16[this._pos2+0]=y},d.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},d.anchorY.set=function(y){this._structArray.int16[this._pos2+1]=y},d.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},d.glyphStartIndex.set=function(y){this._structArray.uint16[this._pos2+2]=y},d.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},d.numGlyphs.set=function(y){this._structArray.uint16[this._pos2+3]=y},d.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},d.vertexStartIndex.set=function(y){this._structArray.uint32[this._pos4+2]=y},d.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},d.lineStartIndex.set=function(y){this._structArray.uint32[this._pos4+3]=y},d.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},d.lineLength.set=function(y){this._structArray.uint32[this._pos4+4]=y},d.segment.get=function(){return this._structArray.uint16[this._pos2+10]},d.segment.set=function(y){this._structArray.uint16[this._pos2+10]=y},d.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},d.lowerSize.set=function(y){this._structArray.uint16[this._pos2+11]=y},d.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},d.upperSize.set=function(y){this._structArray.uint16[this._pos2+12]=y},d.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},d.lineOffsetX.set=function(y){this._structArray.float32[this._pos4+7]=y},d.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},d.lineOffsetY.set=function(y){this._structArray.float32[this._pos4+8]=y},d.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},d.writingMode.set=function(y){this._structArray.uint8[this._pos1+36]=y},d.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},d.placedOrientation.set=function(y){this._structArray.uint8[this._pos1+37]=y},d.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},d.hidden.set=function(y){this._structArray.uint8[this._pos1+38]=y},d.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},d.crossTileID.set=function(y){this._structArray.uint32[this._pos4+10]=y},d.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},d.associatedIconIndex.set=function(y){this._structArray.int16[this._pos2+22]=y},Object.defineProperties(c.prototype,d),c}(v);hr.prototype.size=48;var $t=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.get=function(d){return new hr(this,d)},c}(De);Kt("PlacedSymbolArray",$t);var br=function(s){function c(){s.apply(this,arguments)}s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c;var d={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0}};return d.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},d.anchorX.set=function(y){this._structArray.int16[this._pos2+0]=y},d.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},d.anchorY.set=function(y){this._structArray.int16[this._pos2+1]=y},d.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},d.rightJustifiedTextSymbolIndex.set=function(y){this._structArray.int16[this._pos2+2]=y},d.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},d.centerJustifiedTextSymbolIndex.set=function(y){this._structArray.int16[this._pos2+3]=y},d.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},d.leftJustifiedTextSymbolIndex.set=function(y){this._structArray.int16[this._pos2+4]=y},d.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},d.verticalPlacedTextSymbolIndex.set=function(y){this._structArray.int16[this._pos2+5]=y},d.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},d.placedIconSymbolIndex.set=function(y){this._structArray.int16[this._pos2+6]=y},d.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},d.verticalPlacedIconSymbolIndex.set=function(y){this._structArray.int16[this._pos2+7]=y},d.key.get=function(){return this._structArray.uint16[this._pos2+8]},d.key.set=function(y){this._structArray.uint16[this._pos2+8]=y},d.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},d.textBoxStartIndex.set=function(y){this._structArray.uint16[this._pos2+9]=y},d.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},d.textBoxEndIndex.set=function(y){this._structArray.uint16[this._pos2+10]=y},d.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},d.verticalTextBoxStartIndex.set=function(y){this._structArray.uint16[this._pos2+11]=y},d.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},d.verticalTextBoxEndIndex.set=function(y){this._structArray.uint16[this._pos2+12]=y},d.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},d.iconBoxStartIndex.set=function(y){this._structArray.uint16[this._pos2+13]=y},d.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},d.iconBoxEndIndex.set=function(y){this._structArray.uint16[this._pos2+14]=y},d.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},d.verticalIconBoxStartIndex.set=function(y){this._structArray.uint16[this._pos2+15]=y},d.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},d.verticalIconBoxEndIndex.set=function(y){this._structArray.uint16[this._pos2+16]=y},d.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},d.featureIndex.set=function(y){this._structArray.uint16[this._pos2+17]=y},d.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},d.numHorizontalGlyphVertices.set=function(y){this._structArray.uint16[this._pos2+18]=y},d.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},d.numVerticalGlyphVertices.set=function(y){this._structArray.uint16[this._pos2+19]=y},d.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},d.numIconVertices.set=function(y){this._structArray.uint16[this._pos2+20]=y},d.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},d.numVerticalIconVertices.set=function(y){this._structArray.uint16[this._pos2+21]=y},d.crossTileID.get=function(){return this._structArray.uint32[this._pos4+11]},d.crossTileID.set=function(y){this._structArray.uint32[this._pos4+11]=y},d.textBoxScale.get=function(){return this._structArray.float32[this._pos4+12]},d.textBoxScale.set=function(y){this._structArray.float32[this._pos4+12]=y},d.textOffset0.get=function(){return this._structArray.float32[this._pos4+13]},d.textOffset0.set=function(y){this._structArray.float32[this._pos4+13]=y},d.textOffset1.get=function(){return this._structArray.float32[this._pos4+14]},d.textOffset1.set=function(y){this._structArray.float32[this._pos4+14]=y},Object.defineProperties(c.prototype,d),c}(v);br.prototype.size=60;var Tr=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.get=function(d){return new br(this,d)},c}(Oe);Kt("SymbolInstanceArray",Tr);var vr=function(s){function c(){s.apply(this,arguments)}s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c;var d={offsetX:{configurable:!0}};return d.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},d.offsetX.set=function(y){this._structArray.float32[this._pos4+0]=y},Object.defineProperties(c.prototype,d),c}(v);vr.prototype.size=4;var _r=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getoffsetX=function(d){return this.float32[1*d+0]},c.prototype.get=function(d){return new vr(this,d)},c}(Be);Kt("GlyphOffsetArray",_r);var _n=function(s){function c(){s.apply(this,arguments)}s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c;var d={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return d.x.get=function(){return this._structArray.int16[this._pos2+0]},d.x.set=function(y){this._structArray.int16[this._pos2+0]=y},d.y.get=function(){return this._structArray.int16[this._pos2+1]},d.y.set=function(y){this._structArray.int16[this._pos2+1]=y},d.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},d.tileUnitDistanceFromAnchor.set=function(y){this._structArray.int16[this._pos2+2]=y},Object.defineProperties(c.prototype,d),c}(v);_n.prototype.size=6;var jr=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getx=function(d){return this.int16[3*d+0]},c.prototype.gety=function(d){return this.int16[3*d+1]},c.prototype.gettileUnitDistanceFromAnchor=function(d){return this.int16[3*d+2]},c.prototype.get=function(d){return new _n(this,d)},c}(Fe);Kt("SymbolLineVertexArray",jr);var Nr=function(s){function c(){s.apply(this,arguments)}s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c;var d={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return d.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},d.featureIndex.set=function(y){this._structArray.uint32[this._pos4+0]=y},d.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},d.sourceLayerIndex.set=function(y){this._structArray.uint16[this._pos2+2]=y},d.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},d.bucketIndex.set=function(y){this._structArray.uint16[this._pos2+3]=y},Object.defineProperties(c.prototype,d),c}(v);Nr.prototype.size=8;var xi=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.get=function(d){return new Nr(this,d)},c}($e);Kt("FeatureIndexArray",xi);var sn=b([{name:"a_pos",components:2,type:"Int16"}],4).members,Mr=function(s){s===void 0&&(s=[]),this.segments=s};function Gi(s,c){return 256*(s=S(Math.floor(s),0,255))+(c=S(Math.floor(c),0,255))}Mr.prototype.prepareSegment=function(s,c,d,y){var k=this.segments[this.segments.length-1];return s>Mr.MAX_VERTEX_ARRAY_LENGTH&&q("Max vertices per segment is "+Mr.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+s),(!k||k.vertexLength+s>Mr.MAX_VERTEX_ARRAY_LENGTH||k.sortKey!==y)&&(k={vertexOffset:c.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},y!==void 0&&(k.sortKey=y),this.segments.push(k)),k},Mr.prototype.get=function(){return this.segments},Mr.prototype.destroy=function(){for(var s=0,c=this.segments;s<c.length;s+=1){var d=c[s];for(var y in d.vaos)d.vaos[y].destroy()}},Mr.simpleSegment=function(s,c,d,y){return new Mr([{vertexOffset:s,primitiveOffset:c,vertexLength:d,primitiveLength:y,vaos:{},sortKey:0}])},Mr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Kt("SegmentVector",Mr);var Ei=l(function(s){s.exports=function(c,d){var y,k,T,O,F,V,X,Z;for(y=3&c.length,k=c.length-y,T=d,F=3432918353,V=461845907,Z=0;Z<k;)X=255&c.charCodeAt(Z)|(255&c.charCodeAt(++Z))<<8|(255&c.charCodeAt(++Z))<<16|(255&c.charCodeAt(++Z))<<24,++Z,T=27492+(65535&(O=5*(65535&(T=(T^=X=(65535&(X=(X=(65535&X)*F+(((X>>>16)*F&65535)<<16)&4294967295)<<15|X>>>17))*V+(((X>>>16)*V&65535)<<16)&4294967295)<<13|T>>>19))+((5*(T>>>16)&65535)<<16)&4294967295))+((58964+(O>>>16)&65535)<<16);switch(X=0,y){case 3:X^=(255&c.charCodeAt(Z+2))<<16;case 2:X^=(255&c.charCodeAt(Z+1))<<8;case 1:T^=X=(65535&(X=(X=(65535&(X^=255&c.charCodeAt(Z)))*F+(((X>>>16)*F&65535)<<16)&4294967295)<<15|X>>>17))*V+(((X>>>16)*V&65535)<<16)&4294967295}return T^=c.length,T=2246822507*(65535&(T^=T>>>16))+((2246822507*(T>>>16)&65535)<<16)&4294967295,T=3266489909*(65535&(T^=T>>>13))+((3266489909*(T>>>16)&65535)<<16)&4294967295,(T^=T>>>16)>>>0}}),ks=l(function(s){s.exports=function(c,d){for(var y,k=c.length,T=d^k,O=0;k>=4;)y=1540483477*(65535&(y=255&c.charCodeAt(O)|(255&c.charCodeAt(++O))<<8|(255&c.charCodeAt(++O))<<16|(255&c.charCodeAt(++O))<<24))+((1540483477*(y>>>16)&65535)<<16),T=1540483477*(65535&T)+((1540483477*(T>>>16)&65535)<<16)^(y=1540483477*(65535&(y^=y>>>24))+((1540483477*(y>>>16)&65535)<<16)),k-=4,++O;switch(k){case 3:T^=(255&c.charCodeAt(O+2))<<16;case 2:T^=(255&c.charCodeAt(O+1))<<8;case 1:T=1540483477*(65535&(T^=255&c.charCodeAt(O)))+((1540483477*(T>>>16)&65535)<<16)}return T=1540483477*(65535&(T^=T>>>13))+((1540483477*(T>>>16)&65535)<<16),(T^=T>>>15)>>>0}}),oo=Ei,Vs=Ei,mc=ks;oo.murmur3=Vs,oo.murmur2=mc;var na=function(){this.ids=[],this.positions=[],this.indexed=!1};na.prototype.add=function(s,c,d,y){this.ids.push(gc(s)),this.positions.push(c,d,y)},na.prototype.getPositions=function(s){for(var c=gc(s),d=0,y=this.ids.length-1;d<y;){var k=d+y>>1;this.ids[k]>=c?y=k:d=k+1}for(var T=[];this.ids[d]===c;){var O=this.positions[3*d],F=this.positions[3*d+1],V=this.positions[3*d+2];T.push({index:O,start:F,end:V}),d++}return T},na.serialize=function(s,c){var d=new Float64Array(s.ids),y=new Uint32Array(s.positions);return function k(T,O,F,V){if(!(F>=V)){for(var X=T[F+V>>1],Z=F-1,ne=V+1;;){do Z++;while(T[Z]<X);do ne--;while(T[ne]>X);if(Z>=ne)break;kl(T,Z,ne),kl(O,3*Z,3*ne),kl(O,3*Z+1,3*ne+1),kl(O,3*Z+2,3*ne+2)}k(T,O,F,ne),k(T,O,ne+1,V)}}(d,y,0,d.length-1),c&&c.push(d.buffer,y.buffer),{ids:d,positions:y}},na.deserialize=function(s){var c=new na;return c.ids=s.ids,c.positions=s.positions,c.indexed=!0,c};var Ah=Math.pow(2,53)-1;function gc(s){var c=+s;return!isNaN(c)&&c<=Ah?c:oo(String(s))}function kl(s,c,d){var y=s[c];s[c]=s[d],s[d]=y}Kt("FeaturePositionMap",na);var wo=function(s,c){this.gl=s.gl,this.location=c},Qd=function(s){function c(d,y){s.call(this,d,y),this.current=0}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.set=function(d){this.current!==d&&(this.current=d,this.gl.uniform1i(this.location,d))},c}(wo),Ws=function(s){function c(d,y){s.call(this,d,y),this.current=0}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.set=function(d){this.current!==d&&(this.current=d,this.gl.uniform1f(this.location,d))},c}(wo),fu=function(s){function c(d,y){s.call(this,d,y),this.current=[0,0]}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.set=function(d){d[0]===this.current[0]&&d[1]===this.current[1]||(this.current=d,this.gl.uniform2f(this.location,d[0],d[1]))},c}(wo),ef=function(s){function c(d,y){s.call(this,d,y),this.current=[0,0,0]}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.set=function(d){d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]||(this.current=d,this.gl.uniform3f(this.location,d[0],d[1],d[2]))},c}(wo),pu=function(s){function c(d,y){s.call(this,d,y),this.current=[0,0,0,0]}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.set=function(d){d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]&&d[3]===this.current[3]||(this.current=d,this.gl.uniform4f(this.location,d[0],d[1],d[2],d[3]))},c}(wo),vc=function(s){function c(d,y){s.call(this,d,y),this.current=_t.transparent}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.set=function(d){d.r===this.current.r&&d.g===this.current.g&&d.b===this.current.b&&d.a===this.current.a||(this.current=d,this.gl.uniform4f(this.location,d.r,d.g,d.b,d.a))},c}(wo),Ph=new Float32Array(16),ti=function(s){function c(d,y){s.call(this,d,y),this.current=Ph}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.set=function(d){if(d[12]!==this.current[12]||d[0]!==this.current[0])return this.current=d,void this.gl.uniformMatrix4fv(this.location,!1,d);for(var y=1;y<16;y++)if(d[y]!==this.current[y]){this.current=d,this.gl.uniformMatrix4fv(this.location,!1,d);break}},c}(wo);function vn(s){return[Gi(255*s.r,255*s.g),Gi(255*s.b,255*s.a)]}var Mn=function(s,c,d){this.value=s,this.names=c,this.uniformNames=this.names.map(function(y){return"u_"+y}),this.type=d,this.maxValue=-1/0};Mn.prototype.defines=function(){return this.names.map(function(s){return"#define HAS_UNIFORM_u_"+s})},Mn.prototype.setConstantPatternPositions=function(){},Mn.prototype.populatePaintArray=function(){},Mn.prototype.updatePaintArray=function(){},Mn.prototype.upload=function(){},Mn.prototype.destroy=function(){},Mn.prototype.setUniforms=function(s,c,d,y){c.set(y.constantOr(this.value))},Mn.prototype.getBinding=function(s,c){return this.type==="color"?new vc(s,c):new Ws(s,c)},Mn.serialize=function(s){var c=s.value,d=s.names,y=s.type;return{value:uu(c),names:d,type:y}},Mn.deserialize=function(s){var c=s.value,d=s.names,y=s.type;return new Mn(ji(c),d,y)};var La=function(s,c,d){this.value=s,this.names=c,this.uniformNames=this.names.map(function(y){return"u_"+y}),this.type=d,this.maxValue=-1/0,this.patternPositions={patternTo:null,patternFrom:null}};La.prototype.defines=function(){return this.names.map(function(s){return"#define HAS_UNIFORM_u_"+s})},La.prototype.populatePaintArray=function(){},La.prototype.updatePaintArray=function(){},La.prototype.upload=function(){},La.prototype.destroy=function(){},La.prototype.setConstantPatternPositions=function(s,c){this.patternPositions.patternTo=s.tlbr,this.patternPositions.patternFrom=c.tlbr},La.prototype.setUniforms=function(s,c,d,y,k){var T=this.patternPositions;k==="u_pattern_to"&&T.patternTo&&c.set(T.patternTo),k==="u_pattern_from"&&T.patternFrom&&c.set(T.patternFrom)},La.prototype.getBinding=function(s,c){return new pu(s,c)};var so=function(s,c,d,y){this.expression=s,this.names=c,this.type=d,this.uniformNames=this.names.map(function(k){return"a_"+k}),this.maxValue=-1/0,this.paintVertexAttributes=c.map(function(k){return{name:"a_"+k,type:"Float32",components:d==="color"?2:1,offset:0}}),this.paintVertexArray=new y};so.prototype.defines=function(){return[]},so.prototype.setConstantPatternPositions=function(){},so.prototype.populatePaintArray=function(s,c,d,y){var k=this.paintVertexArray,T=k.length;k.reserve(s);var O=this.expression.evaluate(new Fn(0),c,{},[],y);if(this.type==="color")for(var F=vn(O),V=T;V<s;V++)k.emplaceBack(F[0],F[1]);else{for(var X=T;X<s;X++)k.emplaceBack(O);this.maxValue=Math.max(this.maxValue,O)}},so.prototype.updatePaintArray=function(s,c,d,y){var k=this.paintVertexArray,T=this.expression.evaluate({zoom:0},d,y);if(this.type==="color")for(var O=vn(T),F=s;F<c;F++)k.emplace(F,O[0],O[1]);else{for(var V=s;V<c;V++)k.emplace(V,T);this.maxValue=Math.max(this.maxValue,T)}},so.prototype.upload=function(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},so.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},so.prototype.setUniforms=function(s,c){c.set(0)},so.prototype.getBinding=function(s,c){return new Ws(s,c)};var So=function(s,c,d,y,k,T){this.expression=s,this.names=c,this.uniformNames=this.names.map(function(F){return"u_"+F+"_t"}),this.type=d,this.useIntegerZoom=y,this.zoom=k,this.maxValue=-1/0;var O=T;this.paintVertexAttributes=c.map(function(F){return{name:"a_"+F,type:"Float32",components:d==="color"?4:2,offset:0}}),this.paintVertexArray=new O};So.prototype.defines=function(){return[]},So.prototype.setConstantPatternPositions=function(){},So.prototype.populatePaintArray=function(s,c,d,y){var k=this.paintVertexArray,T=k.length;k.reserve(s);var O=this.expression.evaluate(new Fn(this.zoom),c,{},[],y),F=this.expression.evaluate(new Fn(this.zoom+1),c,{},[],y);if(this.type==="color")for(var V=vn(O),X=vn(F),Z=T;Z<s;Z++)k.emplaceBack(V[0],V[1],X[0],X[1]);else{for(var ne=T;ne<s;ne++)k.emplaceBack(O,F);this.maxValue=Math.max(this.maxValue,O,F)}},So.prototype.updatePaintArray=function(s,c,d,y){var k=this.paintVertexArray,T=this.expression.evaluate({zoom:this.zoom},d,y),O=this.expression.evaluate({zoom:this.zoom+1},d,y);if(this.type==="color")for(var F=vn(T),V=vn(O),X=s;X<c;X++)k.emplace(X,F[0],F[1],V[0],V[1]);else{for(var Z=s;Z<c;Z++)k.emplace(Z,T,O);this.maxValue=Math.max(this.maxValue,T,O)}},So.prototype.upload=function(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},So.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},So.prototype.interpolationFactor=function(s){return this.useIntegerZoom&&(s=Math.floor(s)),S(this.expression.interpolationFactor(s,this.zoom,this.zoom+1),0,1)},So.prototype.setUniforms=function(s,c,d){c.set(this.interpolationFactor(d.zoom))},So.prototype.getBinding=function(s,c){return new Ws(s,c)};var as=function(s,c,d,y,k,T,O){this.expression=s,this.names=c,this.type=d,this.uniformNames=this.names.map(function(F){return"u_"+F+"_t"}),this.useIntegerZoom=y,this.zoom=k,this.maxValue=-1/0,this.layerId=O,this.paintVertexAttributes=c.map(function(F){return{name:"a_"+F,type:"Uint16",components:4,offset:0}}),this.zoomInPaintVertexArray=new T,this.zoomOutPaintVertexArray=new T};as.prototype.defines=function(){return[]},as.prototype.setConstantPatternPositions=function(){},as.prototype.populatePaintArray=function(s,c,d){var y=this.zoomInPaintVertexArray,k=this.zoomOutPaintVertexArray,T=this.layerId,O=y.length;if(y.reserve(s),k.reserve(s),d&&c.patterns&&c.patterns[T]){var F=c.patterns[T],V=F.min,X=F.mid,Z=F.max,ne=d[V],ue=d[X],ae=d[Z];if(!ne||!ue||!ae)return;for(var de=O;de<s;de++)y.emplaceBack(ue.tl[0],ue.tl[1],ue.br[0],ue.br[1],ne.tl[0],ne.tl[1],ne.br[0],ne.br[1]),k.emplaceBack(ue.tl[0],ue.tl[1],ue.br[0],ue.br[1],ae.tl[0],ae.tl[1],ae.br[0],ae.br[1])}},as.prototype.updatePaintArray=function(s,c,d,y,k){var T=this.zoomInPaintVertexArray,O=this.zoomOutPaintVertexArray,F=this.layerId;if(k&&d.patterns&&d.patterns[F]){var V=d.patterns[F],X=V.min,Z=V.mid,ne=V.max,ue=k[X],ae=k[Z],de=k[ne];if(!ue||!ae||!de)return;for(var we=s;we<c;we++)T.emplace(we,ae.tl[0],ae.tl[1],ae.br[0],ae.br[1],ue.tl[0],ue.tl[1],ue.br[0],ue.br[1]),O.emplace(we,ae.tl[0],ae.tl[1],ae.br[0],ae.br[1],de.tl[0],de.tl[1],de.br[0],de.br[1])}},as.prototype.upload=function(s){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=s.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=s.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},as.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()},as.prototype.setUniforms=function(s,c){c.set(0)},as.prototype.getBinding=function(s,c){return new Ws(s,c)};var pa=function(){this.binders={},this.cacheKey="",this._buffers=[]};pa.createDynamic=function(s,c,d){var y=new pa,k=[];for(var T in s.paint._values)if(d(T)){var O=s.paint.get(T);if(O instanceof io&&ru(O.property.specification)){var F=tf(T,s.type),V=O.property.specification.type,X=O.property.useIntegerZoom;if(O.property.specification["property-type"]==="cross-faded"||O.property.specification["property-type"]==="cross-faded-data-driven")if(O.value.kind==="constant")y.binders[T]=new La(O.value.value,F,V),k.push("/u_"+T);else{var Z=$m(T,V,"source");y.binders[T]=new as(O.value,F,V,X,c,Z,s.id),k.push("/a_"+T)}else if(O.value.kind==="constant")y.binders[T]=new Mn(O.value.value,F,V),k.push("/u_"+T);else if(O.value.kind==="source"){var ne=$m(T,V,"source");y.binders[T]=new so(O.value,F,V,ne),k.push("/a_"+T)}else{var ue=$m(T,V,"composite");y.binders[T]=new So(O.value,F,V,X,c,ue),k.push("/z_"+T)}}}return y.cacheKey=k.sort().join(""),y},pa.prototype.populatePaintArrays=function(s,c,d,y,k){for(var T in this.binders)this.binders[T].populatePaintArray(s,c,y,k)},pa.prototype.setConstantPatternPositions=function(s,c){for(var d in this.binders)this.binders[d].setConstantPatternPositions(s,c)},pa.prototype.updatePaintArrays=function(s,c,d,y,k){var T=!1;for(var O in s)for(var F=0,V=c.getPositions(O);F<V.length;F+=1){var X=V[F],Z=d.feature(X.index);for(var ne in this.binders){var ue=this.binders[ne];if(!(ue instanceof Mn||ue instanceof La)&&ue.expression.isStateDependent===!0){var ae=y.paint.get(ne);ue.expression=ae.value,ue.updatePaintArray(X.start,X.end,Z,s[O],k),T=!0}}}return T},pa.prototype.defines=function(){var s=[];for(var c in this.binders)s.push.apply(s,this.binders[c].defines());return s},pa.prototype.getPaintVertexBuffers=function(){return this._buffers},pa.prototype.getUniforms=function(s,c){var d=[];for(var y in this.binders)for(var k=this.binders[y],T=0,O=k.uniformNames;T<O.length;T+=1){var F=O[T];if(c[F]){var V=k.getBinding(s,c[F]);d.push({name:F,property:y,binding:V})}}return d},pa.prototype.setUniforms=function(s,c,d,y){for(var k=0,T=c;k<T.length;k+=1){var O=T[k],F=O.name,V=O.property,X=O.binding;this.binders[V].setUniforms(s,X,y,d.get(V),F)}},pa.prototype.updatePatternPaintBuffers=function(s){var c=[];for(var d in this.binders){var y=this.binders[d];if(y instanceof as){var k=s.fromScale===2?y.zoomInPaintVertexBuffer:y.zoomOutPaintVertexBuffer;k&&c.push(k)}else(y instanceof so||y instanceof So)&&y.paintVertexBuffer&&c.push(y.paintVertexBuffer)}this._buffers=c},pa.prototype.upload=function(s){for(var c in this.binders)this.binders[c].upload(s);var d=[];for(var y in this.binders){var k=this.binders[y];(k instanceof so||k instanceof So)&&k.paintVertexBuffer&&d.push(k.paintVertexBuffer)}this._buffers=d},pa.prototype.destroy=function(){for(var s in this.binders)this.binders[s].destroy()};var Bo=function(s,c,d,y){y===void 0&&(y=function(){return!0}),this.programConfigurations={};for(var k=0,T=c;k<T.length;k+=1){var O=T[k];this.programConfigurations[O.id]=pa.createDynamic(O,d,y),this.programConfigurations[O.id].layoutAttributes=s}this.needsUpload=!1,this._featureMap=new na,this._bufferOffset=0};function tf(s,c){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[s]||[s.replace(c+"-","").replace(/-/g,"_")]}function $m(s,c,d){var y={color:{source:Bt,composite:Nt},number:{source:Be,composite:Bt}},k=function(T){return{"line-pattern":{source:K,composite:K},"fill-pattern":{source:K,composite:K},"fill-extrusion-pattern":{source:K,composite:K}}[T]}(s);return k&&k[d]||y[c][d]}Bo.prototype.populatePaintArrays=function(s,c,d,y,k){for(var T in this.programConfigurations)this.programConfigurations[T].populatePaintArrays(s,c,d,y,k);c.id!==void 0&&this._featureMap.add(c.id,d,this._bufferOffset,s),this._bufferOffset=s,this.needsUpload=!0},Bo.prototype.updatePaintArrays=function(s,c,d,y){for(var k=0,T=d;k<T.length;k+=1){var O=T[k];this.needsUpload=this.programConfigurations[O.id].updatePaintArrays(s,this._featureMap,c,O,y)||this.needsUpload}},Bo.prototype.get=function(s){return this.programConfigurations[s]},Bo.prototype.upload=function(s){if(this.needsUpload){for(var c in this.programConfigurations)this.programConfigurations[c].upload(s);this.needsUpload=!1}},Bo.prototype.destroy=function(){for(var s in this.programConfigurations)this.programConfigurations[s].destroy()},Kt("ConstantBinder",Mn),Kt("CrossFadedConstantBinder",La),Kt("SourceExpressionBinder",so),Kt("CrossFadedCompositeBinder",as),Kt("CompositeExpressionBinder",So),Kt("ProgramConfiguration",pa,{omit:["_buffers"]}),Kt("ProgramConfigurationSet",Bo);var Hm,Es=(Hm=15,{min:-1*Math.pow(2,Hm-1),max:Math.pow(2,Hm-1)-1});function rf(s){for(var c=8192/s.extent,d=s.loadGeometry(),y=0;y<d.length;y++)for(var k=d[y],T=0;T<k.length;T++){var O=k[T];O.x=Math.round(O.x*c),O.y=Math.round(O.y*c),(O.x<Es.min||O.x>Es.max||O.y<Es.min||O.y>Es.max)&&(q("Geometry exceeds allowed extent, reduce your vector tile buffer size"),O.x=S(O.x,Es.min,Es.max),O.y=S(O.y,Es.min,Es.max))}return d}function Xy(s,c,d,y,k){s.emplaceBack(2*c+(y+1)/2,2*d+(k+1)/2)}var El=function(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(function(c){return c.id}),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new z,this.indexArray=new Qe,this.segments=new Mr,this.programConfigurations=new Bo(sn,s.layers,s.zoom),this.stateDependentLayerIds=this.layers.filter(function(c){return c.isStateDependent()}).map(function(c){return c.id})};function uA(s,c){for(var d=0;d<s.length;d++)if(nf(c,s[d]))return!0;for(var y=0;y<c.length;y++)if(nf(s,c[y]))return!0;return!!D_(s,c)}function D8(s,c,d){return!!nf(s,c)||!!N_(c,s,d)}function hA(s,c){if(s.length===1)return fA(c,s[0]);for(var d=0;d<c.length;d++)for(var y=c[d],k=0;k<y.length;k++)if(nf(s,y[k]))return!0;for(var T=0;T<s.length;T++)if(fA(c,s[T]))return!0;for(var O=0;O<c.length;O++)if(D_(s,c[O]))return!0;return!1}function N8(s,c,d){if(s.length>1){if(D_(s,c))return!0;for(var y=0;y<c.length;y++)if(N_(c[y],s,d))return!0}for(var k=0;k<s.length;k++)if(N_(s[k],c,d))return!0;return!1}function D_(s,c){if(s.length===0||c.length===0)return!1;for(var d=0;d<s.length-1;d++)for(var y=s[d],k=s[d+1],T=0;T<c.length-1;T++)if(L8(y,k,c[T],c[T+1]))return!0;return!1}function L8(s,c,d,y){return ee(s,d,y)!==ee(c,d,y)&&ee(s,c,d)!==ee(s,c,y)}function N_(s,c,d){var y=d*d;if(c.length===1)return s.distSqr(c[0])<y;for(var k=1;k<c.length;k++)if(dA(s,c[k-1],c[k])<y)return!0;return!1}function dA(s,c,d){var y=c.distSqr(d);if(y===0)return s.distSqr(c);var k=((s.x-c.x)*(d.x-c.x)+(s.y-c.y)*(d.y-c.y))/y;return k<0?s.distSqr(c):k>1?s.distSqr(d):s.distSqr(d.sub(c)._mult(k)._add(c))}function fA(s,c){for(var d,y,k,T=!1,O=0;O<s.length;O++)for(var F=0,V=(d=s[O]).length-1;F<d.length;V=F++)y=d[F],k=d[V],y.y>c.y!=k.y>c.y&&c.x<(k.x-y.x)*(c.y-y.y)/(k.y-y.y)+y.x&&(T=!T);return T}function nf(s,c){for(var d=!1,y=0,k=s.length-1;y<s.length;k=y++){var T=s[y],O=s[k];T.y>c.y!=O.y>c.y&&c.x<(O.x-T.x)*(c.y-T.y)/(O.y-T.y)+T.x&&(d=!d)}return d}function R8(s,c,d){var y=d[0],k=d[2];if(s.x<y.x&&c.x<y.x||s.x>k.x&&c.x>k.x||s.y<y.y&&c.y<y.y||s.y>k.y&&c.y>k.y)return!1;var T=ee(s,c,d[0]);return T!==ee(s,c,d[1])||T!==ee(s,c,d[2])||T!==ee(s,c,d[3])}function Um(s,c,d){var y=c.paint.get(s).value;return y.kind==="constant"?y.value:d.programConfigurations.get(c.id).binders[s].maxValue}function Gy(s){return Math.sqrt(s[0]*s[0]+s[1]*s[1])}function qy(s,c,d,y,k){if(!c[0]&&!c[1])return s;var T=f.convert(c)._mult(k);d==="viewport"&&T._rotate(-y);for(var O=[],F=0;F<s.length;F++){var V=s[F];O.push(V.sub(T))}return O}El.prototype.populate=function(s,c){var d=this.layers[0],y=[],k=null;d.type==="circle"&&(k=d.layout.get("circle-sort-key"));for(var T=0,O=s;T<O.length;T+=1){var F=O[T],V=F.feature,X=F.id,Z=F.index,ne=F.sourceLayerIndex;if(this.layers[0]._featureFilter(new Fn(this.zoom),V)){var ue=rf(V),ae=k?k.evaluate(V,{}):void 0,de={id:X,properties:V.properties,type:V.type,sourceLayerIndex:ne,index:Z,geometry:ue,patterns:{},sortKey:ae};y.push(de)}}k&&y.sort(function(ht,Rt){return ht.sortKey-Rt.sortKey});for(var we=0,Ce=y;we<Ce.length;we+=1){var Ie=Ce[we],Ve=Ie,Ye=Ve.geometry,Ge=Ve.index,ot=Ve.sourceLayerIndex,ft=s[Ge].feature;this.addFeature(Ie,Ye,Ge),c.featureIndex.insert(ft,Ye,Ge,ot,this.index)}},El.prototype.update=function(s,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,d)},El.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},El.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},El.prototype.upload=function(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,sn),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0},El.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},El.prototype.addFeature=function(s,c,d){for(var y=0,k=c;y<k.length;y+=1)for(var T=0,O=k[y];T<O.length;T+=1){var F=O[T],V=F.x,X=F.y;if(!(V<0||V>=8192||X<0||X>=8192)){var Z=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,s.sortKey),ne=Z.vertexLength;Xy(this.layoutVertexArray,V,X,-1,-1),Xy(this.layoutVertexArray,V,X,1,-1),Xy(this.layoutVertexArray,V,X,1,1),Xy(this.layoutVertexArray,V,X,-1,1),this.indexArray.emplaceBack(ne,ne+1,ne+2),this.indexArray.emplaceBack(ne,ne+3,ne+2),Z.vertexLength+=4,Z.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,d,{})},Kt("CircleBucket",El,{omit:["layers"]});var j8=new ao({"circle-sort-key":new lr(et.layout_circle["circle-sort-key"])}),z8={paint:new ao({"circle-radius":new lr(et.paint_circle["circle-radius"]),"circle-color":new lr(et.paint_circle["circle-color"]),"circle-blur":new lr(et.paint_circle["circle-blur"]),"circle-opacity":new lr(et.paint_circle["circle-opacity"]),"circle-translate":new ir(et.paint_circle["circle-translate"]),"circle-translate-anchor":new ir(et.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ir(et.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ir(et.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new lr(et.paint_circle["circle-stroke-width"]),"circle-stroke-color":new lr(et.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new lr(et.paint_circle["circle-stroke-opacity"])}),layout:j8},Ys=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var s=arguments,c=0,d=arguments.length;d--;)c+=s[d]*s[d];return Math.sqrt(c)});var Zy;Zy=new Ys(3),Ys!=Float32Array&&(Zy[0]=0,Zy[1]=0,Zy[2]=0);function Ky(s,c,d){var y=c[0],k=c[1],T=c[2],O=c[3];return s[0]=d[0]*y+d[4]*k+d[8]*T+d[12]*O,s[1]=d[1]*y+d[5]*k+d[9]*T+d[13]*O,s[2]=d[2]*y+d[6]*k+d[10]*T+d[14]*O,s[3]=d[3]*y+d[7]*k+d[11]*T+d[15]*O,s}(function(){(function(){var s=new Ys(4);return Ys!=Float32Array&&(s[0]=0,s[1]=0,s[2]=0,s[3]=0),s})()})();var F8=function(s){function c(d){s.call(this,d,z8)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.createBucket=function(d){return new El(d)},c.prototype.queryRadius=function(d){var y=d;return Um("circle-radius",this,y)+Um("circle-stroke-width",this,y)+Gy(this.paint.get("circle-translate"))},c.prototype.queryIntersectsFeature=function(d,y,k,T,O,F,V,X){for(var Z=qy(d,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),F.angle,V),ne=this.paint.get("circle-radius").evaluate(y,k)+this.paint.get("circle-stroke-width").evaluate(y,k),ue=this.paint.get("circle-pitch-alignment")==="map",ae=ue?Z:function(ht,Rt){return ht.map(function(Jt){return pA(Jt,Rt)})}(Z,X),de=ue?ne*V:ne,we=0,Ce=T;we<Ce.length;we+=1)for(var Ie=0,Ve=Ce[we];Ie<Ve.length;Ie+=1){var Ye=Ve[Ie],Ge=ue?Ye:pA(Ye,X),ot=de,ft=Ky([],[Ye.x,Ye.y,0,1],X);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?ot*=ft[3]/F.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(ot*=F.cameraToCenterDistance/ft[3]),D8(ae,Ge,ot))return!0}return!1},c}(is);function pA(s,c){var d=Ky([],[s.x,s.y,0,1],c);return new f(d[0]/d[3],d[1]/d[3])}var mA=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c}(El);function L_(s,c,d,y){var k=c.width,T=c.height;if(y){if(y instanceof Uint8ClampedArray)y=new Uint8Array(y.buffer);else if(y.length!==k*T*d)throw new RangeError("mismatched image size")}else y=new Uint8Array(k*T*d);return s.width=k,s.height=T,s.data=y,s}function gA(s,c,d){var y=c.width,k=c.height;if(y!==s.width||k!==s.height){var T=L_({},{width:y,height:k},d);R_(s,T,{x:0,y:0},{x:0,y:0},{width:Math.min(s.width,y),height:Math.min(s.height,k)},d),s.width=y,s.height=k,s.data=T.data}}function R_(s,c,d,y,k,T){if(k.width===0||k.height===0)return c;if(k.width>s.width||k.height>s.height||d.x>s.width-k.width||d.y>s.height-k.height)throw new RangeError("out of range source coordinates for image copy");if(k.width>c.width||k.height>c.height||y.x>c.width-k.width||y.y>c.height-k.height)throw new RangeError("out of range destination coordinates for image copy");for(var O=s.data,F=c.data,V=0;V<k.height;V++)for(var X=((d.y+V)*s.width+d.x)*T,Z=((y.y+V)*c.width+y.x)*T,ne=0;ne<k.width*T;ne++)F[Z+ne]=O[X+ne];return c}Kt("HeatmapBucket",mA,{omit:["layers"]});var Mh=function(s,c){L_(this,s,1,c)};Mh.prototype.resize=function(s){gA(this,s,1)},Mh.prototype.clone=function(){return new Mh({width:this.width,height:this.height},new Uint8Array(this.data))},Mh.copy=function(s,c,d,y,k){R_(s,c,d,y,k,1)};var lo=function(s,c){L_(this,s,4,c)};lo.prototype.resize=function(s){gA(this,s,4)},lo.prototype.replace=function(s,c){c?this.data.set(s):s instanceof Uint8ClampedArray?this.data=new Uint8Array(s.buffer):this.data=s},lo.prototype.clone=function(){return new lo({width:this.width,height:this.height},new Uint8Array(this.data))},lo.copy=function(s,c,d,y,k){R_(s,c,d,y,k,4)},Kt("AlphaImage",Mh),Kt("RGBAImage",lo);var B8={paint:new ao({"heatmap-radius":new lr(et.paint_heatmap["heatmap-radius"]),"heatmap-weight":new lr(et.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ir(et.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Th(et.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ir(et.paint_heatmap["heatmap-opacity"])})};function vA(s,c){for(var d=new Uint8Array(1024),y={},k=0,T=0;k<256;k++,T+=4){y[c]=k/255;var O=s.evaluate(y);d[T+0]=Math.floor(255*O.r/O.a),d[T+1]=Math.floor(255*O.g/O.a),d[T+2]=Math.floor(255*O.b/O.a),d[T+3]=Math.floor(255*O.a)}return new lo({width:256,height:1},d)}var $8=function(s){function c(d){s.call(this,d,B8),this._updateColorRamp()}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.createBucket=function(d){return new mA(d)},c.prototype._handleSpecialPaintPropertyUpdate=function(d){d==="heatmap-color"&&this._updateColorRamp()},c.prototype._updateColorRamp=function(){var d=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=vA(d,"heatmapDensity"),this.colorRampTexture=null},c.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},c.prototype.queryRadius=function(){return 0},c.prototype.queryIntersectsFeature=function(){return!1},c.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},c}(is),H8={paint:new ao({"hillshade-illumination-direction":new ir(et.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ir(et.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ir(et.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ir(et.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ir(et.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ir(et.paint_hillshade["hillshade-accent-color"])})},U8=function(s){function c(d){s.call(this,d,H8)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},c}(is),yA=b([{name:"a_pos",components:2,type:"Int16"}],4).members,j_=Jy,V8=Jy;function Jy(s,c,d){d=d||2;var y,k,T,O,F,V,X,Z=c&&c.length,ne=Z?c[0]*d:s.length,ue=xA(s,0,ne,d,!0),ae=[];if(!ue||ue.next===ue.prev)return ae;if(Z&&(ue=function(we,Ce,Ie,Ve){var Ye,Ge,ot,ft,ht,Rt=[];for(Ye=0,Ge=Ce.length;Ye<Ge;Ye++)ot=Ce[Ye]*Ve,ft=Ye<Ge-1?Ce[Ye+1]*Ve:we.length,(ht=xA(we,ot,ft,Ve,!1))===ht.next&&(ht.steiner=!0),Rt.push(J8(ht));for(Rt.sort(q8),Ye=0;Ye<Rt.length;Ye++)Ie=mu(Ie=Z8(Rt[Ye],Ie),Ie.next);return Ie}(s,c,ue,d)),s.length>80*d){y=T=s[0],k=O=s[1];for(var de=d;de<ne;de+=d)(F=s[de])<y&&(y=F),(V=s[de+1])<k&&(k=V),F>T&&(T=F),V>O&&(O=V);X=(X=Math.max(T-y,O-k))!==0?1/X:0}return Vm(ue,ae,d,y,k,X),ae}function xA(s,c,d,y,k){var T,O;if(k===B_(s,c,d,y)>0)for(T=c;T<d;T+=y)O=wA(T,s[T],s[T+1],O);else for(T=d-y;T>=c;T-=y)O=wA(T,s[T],s[T+1],O);return O&&Qy(O,O.next)&&(Ym(O),O=O.next),O}function mu(s,c){if(!s)return s;c||(c=s);var d,y=s;do if(d=!1,y.steiner||!Qy(y,y.next)&&zi(y.prev,y,y.next)!==0)y=y.next;else{if(Ym(y),(y=c=y.prev)===y.next)break;d=!0}while(d||y!==c);return c}function Vm(s,c,d,y,k,T,O){if(s){!O&&T&&function(Z,ne,ue,ae){var de=Z;do de.z===null&&(de.z=z_(de.x,de.y,ne,ue,ae)),de.prevZ=de.prev,de.nextZ=de.next,de=de.next;while(de!==Z);de.prevZ.nextZ=null,de.prevZ=null,function(we){var Ce,Ie,Ve,Ye,Ge,ot,ft,ht,Rt=1;do{for(Ie=we,we=null,Ge=null,ot=0;Ie;){for(ot++,Ve=Ie,ft=0,Ce=0;Ce<Rt&&(ft++,Ve=Ve.nextZ);Ce++);for(ht=Rt;ft>0||ht>0&&Ve;)ft!==0&&(ht===0||!Ve||Ie.z<=Ve.z)?(Ye=Ie,Ie=Ie.nextZ,ft--):(Ye=Ve,Ve=Ve.nextZ,ht--),Ge?Ge.nextZ=Ye:we=Ye,Ye.prevZ=Ge,Ge=Ye;Ie=Ve}Ge.nextZ=null,Rt*=2}while(ot>1)}(de)}(s,y,k,T);for(var F,V,X=s;s.prev!==s.next;)if(F=s.prev,V=s.next,T?Y8(s,y,k,T):W8(s))c.push(F.i/d),c.push(s.i/d),c.push(V.i/d),Ym(s),s=V.next,X=V.next;else if((s=V)===X){O?O===1?Vm(s=X8(mu(s),c,d),c,d,y,k,T,2):O===2&&G8(s,c,d,y,k,T):Vm(mu(s),c,d,y,k,T,1);break}}}function W8(s){var c=s.prev,d=s,y=s.next;if(zi(c,d,y)>=0)return!1;for(var k=s.next.next;k!==s.prev;){if(af(c.x,c.y,d.x,d.y,y.x,y.y,k.x,k.y)&&zi(k.prev,k,k.next)>=0)return!1;k=k.next}return!0}function Y8(s,c,d,y){var k=s.prev,T=s,O=s.next;if(zi(k,T,O)>=0)return!1;for(var F=k.x<T.x?k.x<O.x?k.x:O.x:T.x<O.x?T.x:O.x,V=k.y<T.y?k.y<O.y?k.y:O.y:T.y<O.y?T.y:O.y,X=k.x>T.x?k.x>O.x?k.x:O.x:T.x>O.x?T.x:O.x,Z=k.y>T.y?k.y>O.y?k.y:O.y:T.y>O.y?T.y:O.y,ne=z_(F,V,c,d,y),ue=z_(X,Z,c,d,y),ae=s.prevZ,de=s.nextZ;ae&&ae.z>=ne&&de&&de.z<=ue;){if(ae!==s.prev&&ae!==s.next&&af(k.x,k.y,T.x,T.y,O.x,O.y,ae.x,ae.y)&&zi(ae.prev,ae,ae.next)>=0||(ae=ae.prevZ,de!==s.prev&&de!==s.next&&af(k.x,k.y,T.x,T.y,O.x,O.y,de.x,de.y)&&zi(de.prev,de,de.next)>=0))return!1;de=de.nextZ}for(;ae&&ae.z>=ne;){if(ae!==s.prev&&ae!==s.next&&af(k.x,k.y,T.x,T.y,O.x,O.y,ae.x,ae.y)&&zi(ae.prev,ae,ae.next)>=0)return!1;ae=ae.prevZ}for(;de&&de.z<=ue;){if(de!==s.prev&&de!==s.next&&af(k.x,k.y,T.x,T.y,O.x,O.y,de.x,de.y)&&zi(de.prev,de,de.next)>=0)return!1;de=de.nextZ}return!0}function X8(s,c,d){var y=s;do{var k=y.prev,T=y.next.next;!Qy(k,T)&&bA(k,y,y.next,T)&&Wm(k,T)&&Wm(T,k)&&(c.push(k.i/d),c.push(y.i/d),c.push(T.i/d),Ym(y),Ym(y.next),y=s=T),y=y.next}while(y!==s);return mu(y)}function G8(s,c,d,y,k,T){var O=s;do{for(var F=O.next.next;F!==O.prev;){if(O.i!==F.i&&Q8(O,F)){var V=_A(O,F);return O=mu(O,O.next),V=mu(V,V.next),Vm(O,c,d,y,k,T),void Vm(V,c,d,y,k,T)}F=F.next}O=O.next}while(O!==s)}function q8(s,c){return s.x-c.x}function Z8(s,c){var d=function(T,O){var F,V=O,X=T.x,Z=T.y,ne=-1/0;do{if(Z<=V.y&&Z>=V.next.y&&V.next.y!==V.y){var ue=V.x+(Z-V.y)*(V.next.x-V.x)/(V.next.y-V.y);if(ue<=X&&ue>ne){if(ne=ue,ue===X){if(Z===V.y)return V;if(Z===V.next.y)return V.next}F=V.x<V.next.x?V:V.next}}V=V.next}while(V!==O);if(!F)return null;if(X===ne)return F;var ae,de=F,we=F.x,Ce=F.y,Ie=1/0;V=F;do X>=V.x&&V.x>=we&&X!==V.x&&af(Z<Ce?X:ne,Z,we,Ce,Z<Ce?ne:X,Z,V.x,V.y)&&(ae=Math.abs(Z-V.y)/(X-V.x),Wm(V,T)&&(ae<Ie||ae===Ie&&(V.x>F.x||V.x===F.x&&K8(F,V)))&&(F=V,Ie=ae)),V=V.next;while(V!==de);return F}(s,c);if(!d)return c;var y=_A(d,s),k=mu(d,d.next);return mu(y,y.next),c===d?k:c}function K8(s,c){return zi(s.prev,s,c.prev)<0&&zi(c.next,s,s.next)<0}function z_(s,c,d,y,k){return(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=32767*(s-d)*k)|s<<8))|s<<4))|s<<2))|s<<1))|(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=32767*(c-y)*k)|c<<8))|c<<4))|c<<2))|c<<1))<<1}function J8(s){var c=s,d=s;do(c.x<d.x||c.x===d.x&&c.y<d.y)&&(d=c),c=c.next;while(c!==s);return d}function af(s,c,d,y,k,T,O,F){return(k-O)*(c-F)-(s-O)*(T-F)>=0&&(s-O)*(y-F)-(d-O)*(c-F)>=0&&(d-O)*(T-F)-(k-O)*(y-F)>=0}function Q8(s,c){return s.next.i!==c.i&&s.prev.i!==c.i&&!function(d,y){var k=d;do{if(k.i!==d.i&&k.next.i!==d.i&&k.i!==y.i&&k.next.i!==y.i&&bA(k,k.next,d,y))return!0;k=k.next}while(k!==d);return!1}(s,c)&&(Wm(s,c)&&Wm(c,s)&&function(d,y){var k=d,T=!1,O=(d.x+y.x)/2,F=(d.y+y.y)/2;do k.y>F!=k.next.y>F&&k.next.y!==k.y&&O<(k.next.x-k.x)*(F-k.y)/(k.next.y-k.y)+k.x&&(T=!T),k=k.next;while(k!==d);return T}(s,c)&&(zi(s.prev,s,c.prev)||zi(s,c.prev,c))||Qy(s,c)&&zi(s.prev,s,s.next)>0&&zi(c.prev,c,c.next)>0)}function zi(s,c,d){return(c.y-s.y)*(d.x-c.x)-(c.x-s.x)*(d.y-c.y)}function Qy(s,c){return s.x===c.x&&s.y===c.y}function bA(s,c,d,y){var k=t0(zi(s,c,d)),T=t0(zi(s,c,y)),O=t0(zi(d,y,s)),F=t0(zi(d,y,c));return k!==T&&O!==F||!(k!==0||!e0(s,d,c))||!(T!==0||!e0(s,y,c))||!(O!==0||!e0(d,s,y))||!(F!==0||!e0(d,c,y))}function e0(s,c,d){return c.x<=Math.max(s.x,d.x)&&c.x>=Math.min(s.x,d.x)&&c.y<=Math.max(s.y,d.y)&&c.y>=Math.min(s.y,d.y)}function t0(s){return s>0?1:s<0?-1:0}function Wm(s,c){return zi(s.prev,s,s.next)<0?zi(s,c,s.next)>=0&&zi(s,s.prev,c)>=0:zi(s,c,s.prev)<0||zi(s,s.next,c)<0}function _A(s,c){var d=new F_(s.i,s.x,s.y),y=new F_(c.i,c.x,c.y),k=s.next,T=c.prev;return s.next=c,c.prev=s,d.next=k,k.prev=d,y.next=d,d.prev=y,T.next=y,y.prev=T,y}function wA(s,c,d,y){var k=new F_(s,c,d);return y?(k.next=y.next,k.prev=y,y.next.prev=k,y.next=k):(k.prev=k,k.next=k),k}function Ym(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function F_(s,c,d){this.i=s,this.x=c,this.y=d,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function B_(s,c,d,y){for(var k=0,T=c,O=d-y;T<d;T+=y)k+=(s[O]-s[T])*(s[T+1]+s[O+1]),O=T;return k}function eB(s,c,d,y,k){(function T(O,F,V,X,Z){for(;X>V;){if(X-V>600){var ne=X-V+1,ue=F-V+1,ae=Math.log(ne),de=.5*Math.exp(2*ae/3),we=.5*Math.sqrt(ae*de*(ne-de)/ne)*(ue-ne/2<0?-1:1),Ce=Math.max(V,Math.floor(F-ue*de/ne+we)),Ie=Math.min(X,Math.floor(F+(ne-ue)*de/ne+we));T(O,F,Ce,Ie,Z)}var Ve=O[F],Ye=V,Ge=X;for(Xm(O,V,F),Z(O[X],Ve)>0&&Xm(O,V,X);Ye<Ge;){for(Xm(O,Ye,Ge),Ye++,Ge--;Z(O[Ye],Ve)<0;)Ye++;for(;Z(O[Ge],Ve)>0;)Ge--}Z(O[V],Ve)===0?Xm(O,V,Ge):(Ge++,Xm(O,Ge,X)),Ge<=F&&(V=Ge+1),F<=Ge&&(X=Ge-1)}})(s,c,d,y||s.length-1,k||tB)}function Xm(s,c,d){var y=s[c];s[c]=s[d],s[d]=y}function tB(s,c){return s<c?-1:s>c?1:0}function $_(s,c){var d=s.length;if(d<=1)return[s];for(var y,k,T=[],O=0;O<d;O++){var F=se(s[O]);F!==0&&(s[O].area=Math.abs(F),k===void 0&&(k=F<0),k===F<0?(y&&T.push(y),y=[s[O]]):y.push(s[O]))}if(y&&T.push(y),c>1)for(var V=0;V<T.length;V++)T[V].length<=c||(eB(T[V],c,1,T[V].length-1,rB),T[V]=T[V].slice(0,c));return T}function rB(s,c){return c.area-s.area}function H_(s,c,d){for(var y=d.patternDependencies,k=!1,T=0,O=c;T<O.length;T+=1){var F=O[T].paint.get(s+"-pattern");F.isConstant()||(k=!0);var V=F.constantOr(null);V&&(k=!0,y[V.to]=!0,y[V.from]=!0)}return k}function U_(s,c,d,y,k){for(var T=k.patternDependencies,O=0,F=c;O<F.length;O+=1){var V=F[O],X=V.paint.get(s+"-pattern").value;if(X.kind!=="constant"){var Z=X.evaluate({zoom:y-1},d,{},k.availableImages),ne=X.evaluate({zoom:y},d,{},k.availableImages),ue=X.evaluate({zoom:y+1},d,{},k.availableImages);Z=Z&&Z.name?Z.name:Z,ne=ne&&ne.name?ne.name:ne,ue=ue&&ue.name?ue.name:ue,T[Z]=!0,T[ne]=!0,T[ue]=!0,d.patterns[V.id]={min:Z,mid:ne,max:ue}}}return d}Jy.deviation=function(s,c,d,y){var k=c&&c.length,T=k?c[0]*d:s.length,O=Math.abs(B_(s,0,T,d));if(k)for(var F=0,V=c.length;F<V;F++){var X=c[F]*d,Z=F<V-1?c[F+1]*d:s.length;O-=Math.abs(B_(s,X,Z,d))}var ne=0;for(F=0;F<y.length;F+=3){var ue=y[F]*d,ae=y[F+1]*d,de=y[F+2]*d;ne+=Math.abs((s[ue]-s[de])*(s[ae+1]-s[ue+1])-(s[ue]-s[ae])*(s[de+1]-s[ue+1]))}return O===0&&ne===0?0:Math.abs((ne-O)/O)},Jy.flatten=function(s){for(var c=s[0][0].length,d={vertices:[],holes:[],dimensions:c},y=0,k=0;k<s.length;k++){for(var T=0;T<s[k].length;T++)for(var O=0;O<c;O++)d.vertices.push(s[k][T][O]);k>0&&(y+=s[k-1].length,d.holes.push(y))}return d},j_.default=V8;var Xs=function(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(function(c){return c.id}),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new z,this.indexArray=new Qe,this.indexArray2=new st,this.programConfigurations=new Bo(yA,s.layers,s.zoom),this.segments=new Mr,this.segments2=new Mr,this.stateDependentLayerIds=this.layers.filter(function(c){return c.isStateDependent()}).map(function(c){return c.id})};Xs.prototype.populate=function(s,c){this.hasPattern=H_("fill",this.layers,c);for(var d=this.layers[0].layout.get("fill-sort-key"),y=[],k=0,T=s;k<T.length;k+=1){var O=T[k],F=O.feature,V=O.id,X=O.index,Z=O.sourceLayerIndex;if(this.layers[0]._featureFilter(new Fn(this.zoom),F)){var ne=rf(F),ue=d?d.evaluate(F,{},c.availableImages):void 0,ae={id:V,properties:F.properties,type:F.type,sourceLayerIndex:Z,index:X,geometry:ne,patterns:{},sortKey:ue};y.push(ae)}}d&&y.sort(function(ht,Rt){return ht.sortKey-Rt.sortKey});for(var de=0,we=y;de<we.length;de+=1){var Ce=we[de],Ie=Ce,Ve=Ie.geometry,Ye=Ie.index,Ge=Ie.sourceLayerIndex;if(this.hasPattern){var ot=U_("fill",this.layers,Ce,this.zoom,c);this.patternFeatures.push(ot)}else this.addFeature(Ce,Ve,Ye,{});var ft=s[Ye].feature;c.featureIndex.insert(ft,Ve,Ye,Ge,this.index)}},Xs.prototype.update=function(s,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,d)},Xs.prototype.addFeatures=function(s,c){for(var d=0,y=this.patternFeatures;d<y.length;d+=1){var k=y[d];this.addFeature(k,k.geometry,k.index,c)}},Xs.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Xs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Xs.prototype.upload=function(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,yA),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.indexBuffer2=s.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(s),this.uploaded=!0},Xs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Xs.prototype.addFeature=function(s,c,d,y){for(var k=0,T=$_(c,500);k<T.length;k+=1){for(var O=T[k],F=0,V=0,X=O;V<X.length;V+=1)F+=X[V].length;for(var Z=this.segments.prepareSegment(F,this.layoutVertexArray,this.indexArray),ne=Z.vertexLength,ue=[],ae=[],de=0,we=O;de<we.length;de+=1){var Ce=we[de];if(Ce.length!==0){Ce!==O[0]&&ae.push(ue.length/2);var Ie=this.segments2.prepareSegment(Ce.length,this.layoutVertexArray,this.indexArray2),Ve=Ie.vertexLength;this.layoutVertexArray.emplaceBack(Ce[0].x,Ce[0].y),this.indexArray2.emplaceBack(Ve+Ce.length-1,Ve),ue.push(Ce[0].x),ue.push(Ce[0].y);for(var Ye=1;Ye<Ce.length;Ye++)this.layoutVertexArray.emplaceBack(Ce[Ye].x,Ce[Ye].y),this.indexArray2.emplaceBack(Ve+Ye-1,Ve+Ye),ue.push(Ce[Ye].x),ue.push(Ce[Ye].y);Ie.vertexLength+=Ce.length,Ie.primitiveLength+=Ce.length}}for(var Ge=j_(ue,ae),ot=0;ot<Ge.length;ot+=3)this.indexArray.emplaceBack(ne+Ge[ot],ne+Ge[ot+1],ne+Ge[ot+2]);Z.vertexLength+=F,Z.primitiveLength+=Ge.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,d,y)},Kt("FillBucket",Xs,{omit:["layers","patternFeatures"]});var nB=new ao({"fill-sort-key":new lr(et.layout_fill["fill-sort-key"])}),iB={paint:new ao({"fill-antialias":new ir(et.paint_fill["fill-antialias"]),"fill-opacity":new lr(et.paint_fill["fill-opacity"]),"fill-color":new lr(et.paint_fill["fill-color"]),"fill-outline-color":new lr(et.paint_fill["fill-outline-color"]),"fill-translate":new ir(et.paint_fill["fill-translate"]),"fill-translate-anchor":new ir(et.paint_fill["fill-translate-anchor"]),"fill-pattern":new _o(et.paint_fill["fill-pattern"])}),layout:nB},aB=function(s){function c(d){s.call(this,d,iB)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.recalculate=function(d,y){s.prototype.recalculate.call(this,d,y);var k=this.paint._values["fill-outline-color"];k.value.kind==="constant"&&k.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},c.prototype.createBucket=function(d){return new Xs(d)},c.prototype.queryRadius=function(){return Gy(this.paint.get("fill-translate"))},c.prototype.queryIntersectsFeature=function(d,y,k,T,O,F,V){return hA(qy(d,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),F.angle,V),T)},c.prototype.isTileClipped=function(){return!0},c}(is),SA=b([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,CA=of;function of(s,c,d,y,k){this.properties={},this.extent=d,this.type=0,this._pbf=s,this._geometry=-1,this._keys=y,this._values=k,s.readFields(oB,this,c)}function oB(s,c,d){s==1?c.id=d.readVarint():s==2?function(y,k){for(var T=y.readVarint()+y.pos;y.pos<T;){var O=k._keys[y.readVarint()],F=k._values[y.readVarint()];k.properties[O]=F}}(d,c):s==3?c.type=d.readVarint():s==4&&(c._geometry=d.pos)}function sB(s){for(var c,d,y=0,k=0,T=s.length,O=T-1;k<T;O=k++)c=s[k],y+=((d=s[O]).x-c.x)*(c.y+d.y);return y}of.types=["Unknown","Point","LineString","Polygon"],of.prototype.loadGeometry=function(){var s=this._pbf;s.pos=this._geometry;for(var c,d=s.readVarint()+s.pos,y=1,k=0,T=0,O=0,F=[];s.pos<d;){if(k<=0){var V=s.readVarint();y=7&V,k=V>>3}if(k--,y===1||y===2)T+=s.readSVarint(),O+=s.readSVarint(),y===1&&(c&&F.push(c),c=[]),c.push(new f(T,O));else{if(y!==7)throw new Error("unknown command "+y);c&&c.push(c[0].clone())}}return c&&F.push(c),F},of.prototype.bbox=function(){var s=this._pbf;s.pos=this._geometry;for(var c=s.readVarint()+s.pos,d=1,y=0,k=0,T=0,O=1/0,F=-1/0,V=1/0,X=-1/0;s.pos<c;){if(y<=0){var Z=s.readVarint();d=7&Z,y=Z>>3}if(y--,d===1||d===2)(k+=s.readSVarint())<O&&(O=k),k>F&&(F=k),(T+=s.readSVarint())<V&&(V=T),T>X&&(X=T);else if(d!==7)throw new Error("unknown command "+d)}return[O,V,F,X]},of.prototype.toGeoJSON=function(s,c,d){var y,k,T=this.extent*Math.pow(2,d),O=this.extent*s,F=this.extent*c,V=this.loadGeometry(),X=of.types[this.type];function Z(ae){for(var de=0;de<ae.length;de++){var we=ae[de],Ce=180-360*(we.y+F)/T;ae[de]=[360*(we.x+O)/T-180,360/Math.PI*Math.atan(Math.exp(Ce*Math.PI/180))-90]}}switch(this.type){case 1:var ne=[];for(y=0;y<V.length;y++)ne[y]=V[y][0];Z(V=ne);break;case 2:for(y=0;y<V.length;y++)Z(V[y]);break;case 3:for(V=function(ae){var de=ae.length;if(de<=1)return[ae];for(var we,Ce,Ie=[],Ve=0;Ve<de;Ve++){var Ye=sB(ae[Ve]);Ye!==0&&(Ce===void 0&&(Ce=Ye<0),Ce===Ye<0?(we&&Ie.push(we),we=[ae[Ve]]):we.push(ae[Ve]))}return we&&Ie.push(we),Ie}(V),y=0;y<V.length;y++)for(k=0;k<V[y].length;k++)Z(V[y][k])}V.length===1?V=V[0]:X="Multi"+X;var ue={type:"Feature",geometry:{type:X,coordinates:V},properties:this.properties};return"id"in this&&(ue.id=this.id),ue};var kA=EA;function EA(s,c){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=s,this._keys=[],this._values=[],this._features=[],s.readFields(lB,this,c),this.length=this._features.length}function lB(s,c,d){s===15?c.version=d.readVarint():s===1?c.name=d.readString():s===5?c.extent=d.readVarint():s===2?c._features.push(d.pos):s===3?c._keys.push(d.readString()):s===4&&c._values.push(function(y){for(var k=null,T=y.readVarint()+y.pos;y.pos<T;){var O=y.readVarint()>>3;k=O===1?y.readString():O===2?y.readFloat():O===3?y.readDouble():O===4?y.readVarint64():O===5?y.readVarint():O===6?y.readSVarint():O===7?y.readBoolean():null}return k}(d))}function cB(s,c,d){if(s===3){var y=new kA(d,d.readVarint()+d.pos);y.length&&(c[y.name]=y)}}EA.prototype.feature=function(s){if(s<0||s>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[s];var c=this._pbf.readVarint()+this._pbf.pos;return new CA(this._pbf,c,this.extent,this._keys,this._values)};var sf={VectorTile:function(s,c){this.layers=s.readFields(cB,{},c)},VectorTileFeature:CA,VectorTileLayer:kA},uB=sf.VectorTileFeature.types,V_=Math.pow(2,13);function Gm(s,c,d,y,k,T,O,F){s.emplaceBack(c,d,2*Math.floor(y*V_)+O,k*V_*2,T*V_*2,Math.round(F))}var Gs=function(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(function(c){return c.id}),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new U,this.indexArray=new Qe,this.programConfigurations=new Bo(SA,s.layers,s.zoom),this.segments=new Mr,this.stateDependentLayerIds=this.layers.filter(function(c){return c.isStateDependent()}).map(function(c){return c.id})};function hB(s,c){return s.x===c.x&&(s.x<0||s.x>8192)||s.y===c.y&&(s.y<0||s.y>8192)}function dB(s){return s.every(function(c){return c.x<0})||s.every(function(c){return c.x>8192})||s.every(function(c){return c.y<0})||s.every(function(c){return c.y>8192})}Gs.prototype.populate=function(s,c){this.features=[],this.hasPattern=H_("fill-extrusion",this.layers,c);for(var d=0,y=s;d<y.length;d+=1){var k=y[d],T=k.feature,O=k.id,F=k.index,V=k.sourceLayerIndex;if(this.layers[0]._featureFilter(new Fn(this.zoom),T)){var X=rf(T),Z={id:O,sourceLayerIndex:V,index:F,geometry:X,properties:T.properties,type:T.type,patterns:{}};T.id!==void 0&&(Z.id=T.id),this.hasPattern?this.features.push(U_("fill-extrusion",this.layers,Z,this.zoom,c)):this.addFeature(Z,X,F,{}),c.featureIndex.insert(T,X,F,V,this.index,!0)}}},Gs.prototype.addFeatures=function(s,c){for(var d=0,y=this.features;d<y.length;d+=1){var k=y[d],T=k.geometry;this.addFeature(k,T,k.index,c)}},Gs.prototype.update=function(s,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,d)},Gs.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Gs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Gs.prototype.upload=function(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,SA),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0},Gs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Gs.prototype.addFeature=function(s,c,d,y){for(var k=0,T=$_(c,500);k<T.length;k+=1){for(var O=T[k],F=0,V=0,X=O;V<X.length;V+=1)F+=X[V].length;for(var Z=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),ne=0,ue=O;ne<ue.length;ne+=1){var ae=ue[ne];if(ae.length!==0&&!dB(ae))for(var de=0,we=0;we<ae.length;we++){var Ce=ae[we];if(we>=1){var Ie=ae[we-1];if(!hB(Ce,Ie)){Z.vertexLength+4>Mr.MAX_VERTEX_ARRAY_LENGTH&&(Z=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Ve=Ce.sub(Ie)._perp()._unit(),Ye=Ie.dist(Ce);de+Ye>32768&&(de=0),Gm(this.layoutVertexArray,Ce.x,Ce.y,Ve.x,Ve.y,0,0,de),Gm(this.layoutVertexArray,Ce.x,Ce.y,Ve.x,Ve.y,0,1,de),de+=Ye,Gm(this.layoutVertexArray,Ie.x,Ie.y,Ve.x,Ve.y,0,0,de),Gm(this.layoutVertexArray,Ie.x,Ie.y,Ve.x,Ve.y,0,1,de);var Ge=Z.vertexLength;this.indexArray.emplaceBack(Ge,Ge+2,Ge+1),this.indexArray.emplaceBack(Ge+1,Ge+2,Ge+3),Z.vertexLength+=4,Z.primitiveLength+=2}}}}if(Z.vertexLength+F>Mr.MAX_VERTEX_ARRAY_LENGTH&&(Z=this.segments.prepareSegment(F,this.layoutVertexArray,this.indexArray)),uB[s.type]==="Polygon"){for(var ot=[],ft=[],ht=Z.vertexLength,Rt=0,Jt=O;Rt<Jt.length;Rt+=1){var Vt=Jt[Rt];if(Vt.length!==0){Vt!==O[0]&&ft.push(ot.length/2);for(var nr=0;nr<Vt.length;nr++){var Wt=Vt[nr];Gm(this.layoutVertexArray,Wt.x,Wt.y,0,0,1,1,0),ot.push(Wt.x),ot.push(Wt.y)}}}for(var zt=j_(ot,ft),Ct=0;Ct<zt.length;Ct+=3)this.indexArray.emplaceBack(ht+zt[Ct],ht+zt[Ct+2],ht+zt[Ct+1]);Z.primitiveLength+=zt.length/3,Z.vertexLength+=F}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,d,y)},Kt("FillExtrusionBucket",Gs,{omit:["layers","features"]});var fB={paint:new ao({"fill-extrusion-opacity":new ir(et["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new lr(et["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ir(et["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ir(et["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new _o(et["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new lr(et["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new lr(et["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ir(et["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},pB=function(s){function c(d){s.call(this,d,fB)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.createBucket=function(d){return new Gs(d)},c.prototype.queryRadius=function(){return Gy(this.paint.get("fill-extrusion-translate"))},c.prototype.is3D=function(){return!0},c.prototype.queryIntersectsFeature=function(d,y,k,T,O,F,V,X){var Z=qy(d,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),F.angle,V),ne=this.paint.get("fill-extrusion-height").evaluate(y,k),ue=this.paint.get("fill-extrusion-base").evaluate(y,k),ae=function(we,Ce,Ie,Ve){for(var Ye=[],Ge=0,ot=we;Ge<ot.length;Ge+=1){var ft=ot[Ge],ht=[ft.x,ft.y,Ve,1];Ky(ht,ht,Ce),Ye.push(new f(ht[0]/ht[3],ht[1]/ht[3]))}return Ye}(Z,X,0,0),de=function(we,Ce,Ie,Ve){for(var Ye=[],Ge=[],ot=Ve[8]*Ce,ft=Ve[9]*Ce,ht=Ve[10]*Ce,Rt=Ve[11]*Ce,Jt=Ve[8]*Ie,Vt=Ve[9]*Ie,nr=Ve[10]*Ie,Wt=Ve[11]*Ie,zt=0,Ct=we;zt<Ct.length;zt+=1){for(var $r=Ct[zt],En=[],ln=[],wr=0,Hr=$r;wr<Hr.length;wr+=1){var Wr=Hr[wr],Ar=Wr.x,Ur=Wr.y,dn=Ve[0]*Ar+Ve[4]*Ur+Ve[12],ri=Ve[1]*Ar+Ve[5]*Ur+Ve[13],ci=Ve[2]*Ar+Ve[6]*Ur+Ve[14],Ea=Ve[3]*Ar+Ve[7]*Ur+Ve[15],Ta=ci+ht,Li=Ea+Rt,aa=dn+Jt,ma=ri+Vt,Aa=ci+nr,qi=Ea+Wt,ni=new f((dn+ot)/Li,(ri+ft)/Li);ni.z=Ta/Li,En.push(ni);var Ti=new f(aa/qi,ma/qi);Ti.z=Aa/qi,ln.push(Ti)}Ye.push(En),Ge.push(ln)}return[Ye,Ge]}(T,ue,ne,X);return function(we,Ce,Ie){var Ve=1/0;hA(Ie,Ce)&&(Ve=TA(Ie,Ce[0]));for(var Ye=0;Ye<Ce.length;Ye++)for(var Ge=Ce[Ye],ot=we[Ye],ft=0;ft<Ge.length-1;ft++){var ht=Ge[ft],Rt=Ge[ft+1],Jt=ot[ft],Vt=ot[ft+1],nr=[ht,Rt,Vt,Jt,ht];uA(Ie,nr)&&(Ve=Math.min(Ve,TA(Ie,nr)))}return Ve!==1/0&&Ve}(de[0],de[1],ae)},c}(is);function qm(s,c){return s.x*c.x+s.y*c.y}function TA(s,c){if(s.length===1){var d=c[0],y=c[1],k=c[3],T=s[0],O=y.sub(d),F=k.sub(d),V=T.sub(d),X=qm(O,O),Z=qm(O,F),ne=qm(F,F),ue=qm(V,O),ae=qm(V,F),de=X*ne-Z*Z,we=(ne*ue-Z*ae)/de,Ce=(X*ae-Z*ue)/de,Ie=1-we-Ce;return d.z*Ie+y.z*we+k.z*Ce}for(var Ve=1/0,Ye=0,Ge=c;Ye<Ge.length;Ye+=1){var ot=Ge[Ye];Ve=Math.min(Ve,ot.z)}return Ve}var AA=b([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,mB=sf.VectorTileFeature.types,gB=Math.cos(Math.PI/180*37.5),PA=Math.pow(2,14)/.5,Co=function(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(function(c){return c.id}),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Y,this.indexArray=new Qe,this.programConfigurations=new Bo(AA,s.layers,s.zoom),this.segments=new Mr,this.stateDependentLayerIds=this.layers.filter(function(c){return c.isStateDependent()}).map(function(c){return c.id})};Co.prototype.populate=function(s,c){this.hasPattern=H_("line",this.layers,c);for(var d=this.layers[0].layout.get("line-sort-key"),y=[],k=0,T=s;k<T.length;k+=1){var O=T[k],F=O.feature,V=O.index,X=O.sourceLayerIndex;if(this.layers[0]._featureFilter(new Fn(this.zoom),F)){var Z=rf(F),ne=d?d.evaluate(F,{}):void 0,ue={id:F.id,properties:F.properties,type:F.type,sourceLayerIndex:X,index:V,geometry:Z,patterns:{},sortKey:ne};y.push(ue)}}d&&y.sort(function(ft,ht){return ft.sortKey-ht.sortKey});for(var ae=0,de=y;ae<de.length;ae+=1){var we=de[ae],Ce=we,Ie=Ce.geometry,Ve=Ce.index,Ye=Ce.sourceLayerIndex;if(this.hasPattern){var Ge=U_("line",this.layers,we,this.zoom,c);this.patternFeatures.push(Ge)}else this.addFeature(we,Ie,Ve,{});var ot=s[Ve].feature;c.featureIndex.insert(ot,Ie,Ve,Ye,this.index)}},Co.prototype.update=function(s,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,d)},Co.prototype.addFeatures=function(s,c){for(var d=0,y=this.patternFeatures;d<y.length;d+=1){var k=y[d];this.addFeature(k,k.geometry,k.index,c)}},Co.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Co.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Co.prototype.upload=function(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,AA),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0},Co.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Co.prototype.addFeature=function(s,c,d,y){for(var k=this.layers[0].layout,T=k.get("line-join").evaluate(s,{}),O=k.get("line-cap"),F=k.get("line-miter-limit"),V=k.get("line-round-limit"),X=0,Z=c;X<Z.length;X+=1){var ne=Z[X];this.addLine(ne,s,T,O,F,V,d,y)}},Co.prototype.addLine=function(s,c,d,y,k,T,O,F){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,c.properties&&c.properties.hasOwnProperty("mapbox_clip_start")&&c.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+c.properties.mapbox_clip_start,this.clipEnd=+c.properties.mapbox_clip_end;for(var V=0;V<s.length-1;V++)this.totalDistance+=s[V].dist(s[V+1])}for(var X=mB[c.type]==="Polygon",Z=s.length;Z>=2&&s[Z-1].equals(s[Z-2]);)Z--;for(var ne=0;ne<Z-1&&s[ne].equals(s[ne+1]);)ne++;if(!(Z<(X?3:2))){d==="bevel"&&(k=1.05);var ue,ae=this.overscaling<=16?122880/(512*this.overscaling):0,de=this.segments.prepareSegment(10*Z,this.layoutVertexArray,this.indexArray),we=void 0,Ce=void 0,Ie=void 0,Ve=void 0;this.e1=this.e2=-1,X&&(ue=s[Z-2],Ve=s[ne].sub(ue)._unit()._perp());for(var Ye=ne;Ye<Z;Ye++)if(!(Ce=X&&Ye===Z-1?s[ne+1]:s[Ye+1])||!s[Ye].equals(Ce)){Ve&&(Ie=Ve),ue&&(we=ue),ue=s[Ye],Ve=Ce?Ce.sub(ue)._unit()._perp():Ie;var Ge=(Ie=Ie||Ve).add(Ve);Ge.x===0&&Ge.y===0||Ge._unit();var ot=Ie.x*Ve.x+Ie.y*Ve.y,ft=Ge.x*Ve.x+Ge.y*Ve.y,ht=ft!==0?1/ft:1/0,Rt=2*Math.sqrt(2-2*ft),Jt=ft<gB&&we&&Ce,Vt=Ie.x*Ve.y-Ie.y*Ve.x>0;if(Jt&&Ye>ne){var nr=ue.dist(we);if(nr>2*ae){var Wt=ue.sub(ue.sub(we)._mult(ae/nr)._round());this.updateDistance(we,Wt),this.addCurrentVertex(Wt,Ie,0,0,de),we=Wt}}var zt=we&&Ce,Ct=zt?d:X?"butt":y;if(zt&&Ct==="round"&&(ht<T?Ct="miter":ht<=2&&(Ct="fakeround")),Ct==="miter"&&ht>k&&(Ct="bevel"),Ct==="bevel"&&(ht>2&&(Ct="flipbevel"),ht<k&&(Ct="miter")),we&&this.updateDistance(we,ue),Ct==="miter")Ge._mult(ht),this.addCurrentVertex(ue,Ge,0,0,de);else if(Ct==="flipbevel"){if(ht>100)Ge=Ve.mult(-1);else{var $r=ht*Ie.add(Ve).mag()/Ie.sub(Ve).mag();Ge._perp()._mult($r*(Vt?-1:1))}this.addCurrentVertex(ue,Ge,0,0,de),this.addCurrentVertex(ue,Ge.mult(-1),0,0,de)}else if(Ct==="bevel"||Ct==="fakeround"){var En=-Math.sqrt(ht*ht-1),ln=Vt?En:0,wr=Vt?0:En;if(we&&this.addCurrentVertex(ue,Ie,ln,wr,de),Ct==="fakeround")for(var Hr=Math.round(180*Rt/Math.PI/20),Wr=1;Wr<Hr;Wr++){var Ar=Wr/Hr;if(Ar!==.5){var Ur=Ar-.5;Ar+=Ar*Ur*(Ar-1)*((1.0904+ot*(ot*(3.55645-1.43519*ot)-3.2452))*Ur*Ur+(.848013+ot*(.215638*ot-1.06021)))}var dn=Ve.sub(Ie)._mult(Ar)._add(Ie)._unit()._mult(Vt?-1:1);this.addHalfVertex(ue,dn.x,dn.y,!1,Vt,0,de)}Ce&&this.addCurrentVertex(ue,Ve,-ln,-wr,de)}else if(Ct==="butt")this.addCurrentVertex(ue,Ge,0,0,de);else if(Ct==="square"){var ri=we?1:-1;this.addCurrentVertex(ue,Ge,ri,ri,de)}else Ct==="round"&&(we&&(this.addCurrentVertex(ue,Ie,0,0,de),this.addCurrentVertex(ue,Ie,1,1,de,!0)),Ce&&(this.addCurrentVertex(ue,Ve,-1,-1,de,!0),this.addCurrentVertex(ue,Ve,0,0,de)));if(Jt&&Ye<Z-1){var ci=ue.dist(Ce);if(ci>2*ae){var Ea=ue.add(Ce.sub(ue)._mult(ae/ci)._round());this.updateDistance(ue,Ea),this.addCurrentVertex(Ea,Ve,0,0,de),ue=Ea}}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,c,O,F)}},Co.prototype.addCurrentVertex=function(s,c,d,y,k,T){T===void 0&&(T=!1);var O=c.x+c.y*d,F=c.y-c.x*d,V=-c.x+c.y*y,X=-c.y-c.x*y;this.addHalfVertex(s,O,F,T,!1,d,k),this.addHalfVertex(s,V,X,T,!0,-y,k),this.distance>PA/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(s,c,d,y,k,T))},Co.prototype.addHalfVertex=function(s,c,d,y,k,T,O){var F=s.x,V=s.y,X=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((F<<1)+(y?1:0),(V<<1)+(k?1:0),Math.round(63*c)+128,Math.round(63*d)+128,1+(T===0?0:T<0?-1:1)|(63&X)<<2,X>>6);var Z=O.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Z),O.primitiveLength++),k?this.e2=Z:this.e1=Z},Co.prototype.updateDistance=function(s,c){this.distance+=s.dist(c),this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(PA-1):this.distance},Kt("LineBucket",Co,{omit:["layers","patternFeatures"]});var vB=new ao({"line-cap":new ir(et.layout_line["line-cap"]),"line-join":new lr(et.layout_line["line-join"]),"line-miter-limit":new ir(et.layout_line["line-miter-limit"]),"line-round-limit":new ir(et.layout_line["line-round-limit"]),"line-sort-key":new lr(et.layout_line["line-sort-key"])}),MA={paint:new ao({"line-opacity":new lr(et.paint_line["line-opacity"]),"line-color":new lr(et.paint_line["line-color"]),"line-translate":new ir(et.paint_line["line-translate"]),"line-translate-anchor":new ir(et.paint_line["line-translate-anchor"]),"line-width":new lr(et.paint_line["line-width"]),"line-gap-width":new lr(et.paint_line["line-gap-width"]),"line-offset":new lr(et.paint_line["line-offset"]),"line-blur":new lr(et.paint_line["line-blur"]),"line-dasharray":new du(et.paint_line["line-dasharray"]),"line-pattern":new _o(et.paint_line["line-pattern"]),"line-gradient":new Th(et.paint_line["line-gradient"])}),layout:vB},IA=new(function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.possiblyEvaluate=function(d,y){return y=new Fn(Math.floor(y.zoom),{now:y.now,fadeDuration:y.fadeDuration,zoomHistory:y.zoomHistory,transition:y.transition}),s.prototype.possiblyEvaluate.call(this,d,y)},c.prototype.evaluate=function(d,y,k,T){return y=A({},y,{zoom:Math.floor(y.zoom)}),s.prototype.evaluate.call(this,d,y,k,T)},c}(lr))(MA.paint.properties["line-width"].specification);IA.useIntegerZoom=!0;var yB=function(s){function c(d){s.call(this,d,MA)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype._handleSpecialPaintPropertyUpdate=function(d){d==="line-gradient"&&this._updateGradient()},c.prototype._updateGradient=function(){var d=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=vA(d,"lineProgress"),this.gradientTexture=null},c.prototype.recalculate=function(d,y){s.prototype.recalculate.call(this,d,y),this.paint._values["line-floorwidth"]=IA.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,d)},c.prototype.createBucket=function(d){return new Co(d)},c.prototype.queryRadius=function(d){var y=d,k=OA(Um("line-width",this,y),Um("line-gap-width",this,y)),T=Um("line-offset",this,y);return k/2+Math.abs(T)+Gy(this.paint.get("line-translate"))},c.prototype.queryIntersectsFeature=function(d,y,k,T,O,F,V){var X=qy(d,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),F.angle,V),Z=V/2*OA(this.paint.get("line-width").evaluate(y,k),this.paint.get("line-gap-width").evaluate(y,k)),ne=this.paint.get("line-offset").evaluate(y,k);return ne&&(T=function(ue,ae){for(var de=[],we=new f(0,0),Ce=0;Ce<ue.length;Ce++){for(var Ie=ue[Ce],Ve=[],Ye=0;Ye<Ie.length;Ye++){var Ge=Ie[Ye-1],ot=Ie[Ye],ft=Ie[Ye+1],ht=Ye===0?we:ot.sub(Ge)._unit()._perp(),Rt=Ye===Ie.length-1?we:ft.sub(ot)._unit()._perp(),Jt=ht._add(Rt)._unit(),Vt=Jt.x*Rt.x+Jt.y*Rt.y;Jt._mult(1/Vt),Ve.push(Jt._mult(ae)._add(ot))}de.push(Ve)}return de}(T,ne*V)),function(ue,ae,de){for(var we=0;we<ae.length;we++){var Ce=ae[we];if(ue.length>=3){for(var Ie=0;Ie<Ce.length;Ie++)if(nf(ue,Ce[Ie]))return!0}if(N8(ue,Ce,de))return!0}return!1}(X,T,Z)},c.prototype.isTileClipped=function(){return!0},c}(is);function OA(s,c){return c>0?c+2*s:s}var W_=b([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),xB=b([{name:"a_projected_pos",components:3,type:"Float32"}],4),bB=(b([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),b([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),DA=(b([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),b([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),NA=b([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);b([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),b([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"}]),b([{type:"Float32",name:"offsetX"}]),b([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function _B(s,c,d){return s.sections.forEach(function(y){y.text=function(k,T,O){var F=T.layout.get("text-transform").evaluate(O,{});return F==="uppercase"?k=k.toLocaleUpperCase():F==="lowercase"&&(k=k.toLocaleLowerCase()),ra.applyArabicShaping&&(k=ra.applyArabicShaping(k)),k}(y.text,c,d)}),s}var Zm={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},LA=function(s,c,d,y,k){var T,O,F=8*k-y-1,V=(1<<F)-1,X=V>>1,Z=-7,ne=k-1,ue=-1,ae=s[c+ne];for(ne+=ue,T=ae&(1<<-Z)-1,ae>>=-Z,Z+=F;Z>0;T=256*T+s[c+ne],ne+=ue,Z-=8);for(O=T&(1<<-Z)-1,T>>=-Z,Z+=y;Z>0;O=256*O+s[c+ne],ne+=ue,Z-=8);if(T===0)T=1-X;else{if(T===V)return O?NaN:1/0*(ae?-1:1);O+=Math.pow(2,y),T-=X}return(ae?-1:1)*O*Math.pow(2,T-y)},RA=function(s,c,d,y,k,T){var O,F,V,X=8*T-k-1,Z=(1<<X)-1,ne=Z>>1,ue=k===23?Math.pow(2,-24)-Math.pow(2,-77):0,ae=0,de=1,we=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(F=isNaN(c)?1:0,O=Z):(O=Math.floor(Math.log(c)/Math.LN2),c*(V=Math.pow(2,-O))<1&&(O--,V*=2),(c+=O+ne>=1?ue/V:ue*Math.pow(2,1-ne))*V>=2&&(O++,V/=2),O+ne>=Z?(F=0,O=Z):O+ne>=1?(F=(c*V-1)*Math.pow(2,k),O+=ne):(F=c*Math.pow(2,ne-1)*Math.pow(2,k),O=0));k>=8;s[d+ae]=255&F,ae+=de,F/=256,k-=8);for(O=O<<k|F,X+=k;X>0;s[d+ae]=255&O,ae+=de,O/=256,X-=8);s[d+ae-de]|=128*we},r0=Bn;function Bn(s){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(s)?s:new Uint8Array(s||0),this.pos=0,this.type=0,this.length=this.buf.length}Bn.Varint=0,Bn.Fixed64=1,Bn.Bytes=2,Bn.Fixed32=5;var jA=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function yc(s){return s.type===Bn.Bytes?s.readVarint()+s.pos:s.pos+1}function lf(s,c,d){return d?4294967296*c+(s>>>0):4294967296*(c>>>0)+(s>>>0)}function zA(s,c,d){var y=c<=16383?1:c<=2097151?2:c<=268435455?3:Math.floor(Math.log(c)/(7*Math.LN2));d.realloc(y);for(var k=d.pos-1;k>=s;k--)d.buf[k+y]=d.buf[k]}function wB(s,c){for(var d=0;d<s.length;d++)c.writeVarint(s[d])}function SB(s,c){for(var d=0;d<s.length;d++)c.writeSVarint(s[d])}function CB(s,c){for(var d=0;d<s.length;d++)c.writeFloat(s[d])}function kB(s,c){for(var d=0;d<s.length;d++)c.writeDouble(s[d])}function EB(s,c){for(var d=0;d<s.length;d++)c.writeBoolean(s[d])}function TB(s,c){for(var d=0;d<s.length;d++)c.writeFixed32(s[d])}function AB(s,c){for(var d=0;d<s.length;d++)c.writeSFixed32(s[d])}function PB(s,c){for(var d=0;d<s.length;d++)c.writeFixed64(s[d])}function MB(s,c){for(var d=0;d<s.length;d++)c.writeSFixed64(s[d])}function n0(s,c){return(s[c]|s[c+1]<<8|s[c+2]<<16)+16777216*s[c+3]}function cf(s,c,d){s[d]=c,s[d+1]=c>>>8,s[d+2]=c>>>16,s[d+3]=c>>>24}function FA(s,c){return(s[c]|s[c+1]<<8|s[c+2]<<16)+(s[c+3]<<24)}Bn.prototype={destroy:function(){this.buf=null},readFields:function(s,c,d){for(d=d||this.length;this.pos<d;){var y=this.readVarint(),k=y>>3,T=this.pos;this.type=7&y,s(k,c,this),this.pos===T&&this.skip(y)}return c},readMessage:function(s,c){return this.readFields(s,c,this.readVarint()+this.pos)},readFixed32:function(){var s=n0(this.buf,this.pos);return this.pos+=4,s},readSFixed32:function(){var s=FA(this.buf,this.pos);return this.pos+=4,s},readFixed64:function(){var s=n0(this.buf,this.pos)+4294967296*n0(this.buf,this.pos+4);return this.pos+=8,s},readSFixed64:function(){var s=n0(this.buf,this.pos)+4294967296*FA(this.buf,this.pos+4);return this.pos+=8,s},readFloat:function(){var s=LA(this.buf,this.pos,!0,23,4);return this.pos+=4,s},readDouble:function(){var s=LA(this.buf,this.pos,!0,52,8);return this.pos+=8,s},readVarint:function(s){var c,d,y=this.buf;return c=127&(d=y[this.pos++]),d<128?c:(c|=(127&(d=y[this.pos++]))<<7,d<128?c:(c|=(127&(d=y[this.pos++]))<<14,d<128?c:(c|=(127&(d=y[this.pos++]))<<21,d<128?c:function(k,T,O){var F,V,X=O.buf;if(V=X[O.pos++],F=(112&V)>>4,V<128||(V=X[O.pos++],F|=(127&V)<<3,V<128)||(V=X[O.pos++],F|=(127&V)<<10,V<128)||(V=X[O.pos++],F|=(127&V)<<17,V<128)||(V=X[O.pos++],F|=(127&V)<<24,V<128)||(V=X[O.pos++],F|=(1&V)<<31,V<128))return lf(k,F,T);throw new Error("Expected varint not more than 10 bytes")}(c|=(15&(d=y[this.pos]))<<28,s,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var s=this.readVarint();return s%2==1?(s+1)/-2:s/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var s=this.readVarint()+this.pos,c=this.pos;return this.pos=s,s-c>=12&&jA?function(d,y,k){return jA.decode(d.subarray(y,k))}(this.buf,c,s):function(d,y,k){for(var T="",O=y;O<k;){var F,V,X,Z=d[O],ne=null,ue=Z>239?4:Z>223?3:Z>191?2:1;if(O+ue>k)break;ue===1?Z<128&&(ne=Z):ue===2?(192&(F=d[O+1]))==128&&(ne=(31&Z)<<6|63&F)<=127&&(ne=null):ue===3?(F=d[O+1],V=d[O+2],(192&F)==128&&(192&V)==128&&((ne=(15&Z)<<12|(63&F)<<6|63&V)<=2047||ne>=55296&&ne<=57343)&&(ne=null)):ue===4&&(F=d[O+1],V=d[O+2],X=d[O+3],(192&F)==128&&(192&V)==128&&(192&X)==128&&((ne=(15&Z)<<18|(63&F)<<12|(63&V)<<6|63&X)<=65535||ne>=1114112)&&(ne=null)),ne===null?(ne=65533,ue=1):ne>65535&&(ne-=65536,T+=String.fromCharCode(ne>>>10&1023|55296),ne=56320|1023&ne),T+=String.fromCharCode(ne),O+=ue}return T}(this.buf,c,s)},readBytes:function(){var s=this.readVarint()+this.pos,c=this.buf.subarray(this.pos,s);return this.pos=s,c},readPackedVarint:function(s,c){if(this.type!==Bn.Bytes)return s.push(this.readVarint(c));var d=yc(this);for(s=s||[];this.pos<d;)s.push(this.readVarint(c));return s},readPackedSVarint:function(s){if(this.type!==Bn.Bytes)return s.push(this.readSVarint());var c=yc(this);for(s=s||[];this.pos<c;)s.push(this.readSVarint());return s},readPackedBoolean:function(s){if(this.type!==Bn.Bytes)return s.push(this.readBoolean());var c=yc(this);for(s=s||[];this.pos<c;)s.push(this.readBoolean());return s},readPackedFloat:function(s){if(this.type!==Bn.Bytes)return s.push(this.readFloat());var c=yc(this);for(s=s||[];this.pos<c;)s.push(this.readFloat());return s},readPackedDouble:function(s){if(this.type!==Bn.Bytes)return s.push(this.readDouble());var c=yc(this);for(s=s||[];this.pos<c;)s.push(this.readDouble());return s},readPackedFixed32:function(s){if(this.type!==Bn.Bytes)return s.push(this.readFixed32());var c=yc(this);for(s=s||[];this.pos<c;)s.push(this.readFixed32());return s},readPackedSFixed32:function(s){if(this.type!==Bn.Bytes)return s.push(this.readSFixed32());var c=yc(this);for(s=s||[];this.pos<c;)s.push(this.readSFixed32());return s},readPackedFixed64:function(s){if(this.type!==Bn.Bytes)return s.push(this.readFixed64());var c=yc(this);for(s=s||[];this.pos<c;)s.push(this.readFixed64());return s},readPackedSFixed64:function(s){if(this.type!==Bn.Bytes)return s.push(this.readSFixed64());var c=yc(this);for(s=s||[];this.pos<c;)s.push(this.readSFixed64());return s},skip:function(s){var c=7&s;if(c===Bn.Varint)for(;this.buf[this.pos++]>127;);else if(c===Bn.Bytes)this.pos=this.readVarint()+this.pos;else if(c===Bn.Fixed32)this.pos+=4;else{if(c!==Bn.Fixed64)throw new Error("Unimplemented type: "+c);this.pos+=8}},writeTag:function(s,c){this.writeVarint(s<<3|c)},realloc:function(s){for(var c=this.length||16;c<this.pos+s;)c*=2;if(c!==this.length){var d=new Uint8Array(c);d.set(this.buf),this.buf=d,this.length=c}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(s){this.realloc(4),cf(this.buf,s,this.pos),this.pos+=4},writeSFixed32:function(s){this.realloc(4),cf(this.buf,s,this.pos),this.pos+=4},writeFixed64:function(s){this.realloc(8),cf(this.buf,-1&s,this.pos),cf(this.buf,Math.floor(s*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(s){this.realloc(8),cf(this.buf,-1&s,this.pos),cf(this.buf,Math.floor(s*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(s){(s=+s||0)>268435455||s<0?function(c,d){var y,k;if(c>=0?(y=c%4294967296|0,k=c/4294967296|0):(k=~(-c/4294967296),4294967295^(y=~(-c%4294967296))?y=y+1|0:(y=0,k=k+1|0)),c>=18446744073709552e3||c<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),function(T,O,F){F.buf[F.pos++]=127&T|128,T>>>=7,F.buf[F.pos++]=127&T|128,T>>>=7,F.buf[F.pos++]=127&T|128,T>>>=7,F.buf[F.pos++]=127&T|128,T>>>=7,F.buf[F.pos]=127&T}(y,0,d),function(T,O){var F=(7&T)<<4;O.buf[O.pos++]|=F|((T>>>=3)?128:0),T&&(O.buf[O.pos++]=127&T|((T>>>=7)?128:0),T&&(O.buf[O.pos++]=127&T|((T>>>=7)?128:0),T&&(O.buf[O.pos++]=127&T|((T>>>=7)?128:0),T&&(O.buf[O.pos++]=127&T|((T>>>=7)?128:0),T&&(O.buf[O.pos++]=127&T)))))}(k,d)}(s,this):(this.realloc(4),this.buf[this.pos++]=127&s|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=s>>>7&127))))},writeSVarint:function(s){this.writeVarint(s<0?2*-s-1:2*s)},writeBoolean:function(s){this.writeVarint(!!s)},writeString:function(s){s=String(s),this.realloc(4*s.length),this.pos++;var c=this.pos;this.pos=function(y,k,T){for(var O,F,V=0;V<k.length;V++){if((O=k.charCodeAt(V))>55295&&O<57344){if(!F){O>56319||V+1===k.length?(y[T++]=239,y[T++]=191,y[T++]=189):F=O;continue}if(O<56320){y[T++]=239,y[T++]=191,y[T++]=189,F=O;continue}O=F-55296<<10|O-56320|65536,F=null}else F&&(y[T++]=239,y[T++]=191,y[T++]=189,F=null);O<128?y[T++]=O:(O<2048?y[T++]=O>>6|192:(O<65536?y[T++]=O>>12|224:(y[T++]=O>>18|240,y[T++]=O>>12&63|128),y[T++]=O>>6&63|128),y[T++]=63&O|128)}return T}(this.buf,s,this.pos);var d=this.pos-c;d>=128&&zA(c,d,this),this.pos=c-1,this.writeVarint(d),this.pos+=d},writeFloat:function(s){this.realloc(4),RA(this.buf,s,this.pos,!0,23,4),this.pos+=4},writeDouble:function(s){this.realloc(8),RA(this.buf,s,this.pos,!0,52,8),this.pos+=8},writeBytes:function(s){var c=s.length;this.writeVarint(c),this.realloc(c);for(var d=0;d<c;d++)this.buf[this.pos++]=s[d]},writeRawMessage:function(s,c){this.pos++;var d=this.pos;s(c,this);var y=this.pos-d;y>=128&&zA(d,y,this),this.pos=d-1,this.writeVarint(y),this.pos+=y},writeMessage:function(s,c,d){this.writeTag(s,Bn.Bytes),this.writeRawMessage(c,d)},writePackedVarint:function(s,c){c.length&&this.writeMessage(s,wB,c)},writePackedSVarint:function(s,c){c.length&&this.writeMessage(s,SB,c)},writePackedBoolean:function(s,c){c.length&&this.writeMessage(s,EB,c)},writePackedFloat:function(s,c){c.length&&this.writeMessage(s,CB,c)},writePackedDouble:function(s,c){c.length&&this.writeMessage(s,kB,c)},writePackedFixed32:function(s,c){c.length&&this.writeMessage(s,TB,c)},writePackedSFixed32:function(s,c){c.length&&this.writeMessage(s,AB,c)},writePackedFixed64:function(s,c){c.length&&this.writeMessage(s,PB,c)},writePackedSFixed64:function(s,c){c.length&&this.writeMessage(s,MB,c)},writeBytesField:function(s,c){this.writeTag(s,Bn.Bytes),this.writeBytes(c)},writeFixed32Field:function(s,c){this.writeTag(s,Bn.Fixed32),this.writeFixed32(c)},writeSFixed32Field:function(s,c){this.writeTag(s,Bn.Fixed32),this.writeSFixed32(c)},writeFixed64Field:function(s,c){this.writeTag(s,Bn.Fixed64),this.writeFixed64(c)},writeSFixed64Field:function(s,c){this.writeTag(s,Bn.Fixed64),this.writeSFixed64(c)},writeVarintField:function(s,c){this.writeTag(s,Bn.Varint),this.writeVarint(c)},writeSVarintField:function(s,c){this.writeTag(s,Bn.Varint),this.writeSVarint(c)},writeStringField:function(s,c){this.writeTag(s,Bn.Bytes),this.writeString(c)},writeFloatField:function(s,c){this.writeTag(s,Bn.Fixed32),this.writeFloat(c)},writeDoubleField:function(s,c){this.writeTag(s,Bn.Fixed64),this.writeDouble(c)},writeBooleanField:function(s,c){this.writeVarintField(s,!!c)}};function IB(s,c,d){s===1&&d.readMessage(OB,c)}function OB(s,c,d){if(s===3){var y=d.readMessage(DB,{}),k=y.id,T=y.bitmap,O=y.width,F=y.height,V=y.left,X=y.top,Z=y.advance;c.push({id:k,bitmap:new Mh({width:O+6,height:F+6},T),metrics:{width:O,height:F,left:V,top:X,advance:Z}})}}function DB(s,c,d){s===1?c.id=d.readVarint():s===2?c.bitmap=d.readBytes():s===3?c.width=d.readVarint():s===4?c.height=d.readVarint():s===5?c.left=d.readSVarint():s===6?c.top=d.readSVarint():s===7&&(c.advance=d.readVarint())}function BA(s){for(var c=0,d=0,y=0,k=s;y<k.length;y+=1){var T=k[y];c+=T.w*T.h,d=Math.max(d,T.w)}s.sort(function(we,Ce){return Ce.h-we.h});for(var O=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(c/.95)),d),h:1/0}],F=0,V=0,X=0,Z=s;X<Z.length;X+=1)for(var ne=Z[X],ue=O.length-1;ue>=0;ue--){var ae=O[ue];if(!(ne.w>ae.w||ne.h>ae.h)){if(ne.x=ae.x,ne.y=ae.y,V=Math.max(V,ne.y+ne.h),F=Math.max(F,ne.x+ne.w),ne.w===ae.w&&ne.h===ae.h){var de=O.pop();ue<O.length&&(O[ue]=de)}else ne.h===ae.h?(ae.x+=ne.w,ae.w-=ne.w):ne.w===ae.w?(ae.y+=ne.h,ae.h-=ne.h):(O.push({x:ae.x+ne.w,y:ae.y,w:ae.w-ne.w,h:ne.h}),ae.y+=ne.h,ae.h-=ne.h);break}}return{w:F,h:V,fill:c/(F*V)||0}}var i0=function(s,c){var d=c.pixelRatio,y=c.version,k=c.stretchX,T=c.stretchY,O=c.content;this.paddedRect=s,this.pixelRatio=d,this.stretchX=k,this.stretchY=T,this.content=O,this.version=y},Km={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Km.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Km.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Km.tlbr.get=function(){return this.tl.concat(this.br)},Km.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(i0.prototype,Km);var Jm=function(s,c){var d={},y={};this.haveRenderCallbacks=[];var k=[];this.addImages(s,d,k),this.addImages(c,y,k);var T=BA(k),O=T.w,F=T.h,V=new lo({width:O||1,height:F||1});for(var X in s){var Z=s[X],ne=d[X].paddedRect;lo.copy(Z.data,V,{x:0,y:0},{x:ne.x+1,y:ne.y+1},Z.data)}for(var ue in c){var ae=c[ue],de=y[ue].paddedRect,we=de.x+1,Ce=de.y+1,Ie=ae.data.width,Ve=ae.data.height;lo.copy(ae.data,V,{x:0,y:0},{x:we,y:Ce},ae.data),lo.copy(ae.data,V,{x:0,y:Ve-1},{x:we,y:Ce-1},{width:Ie,height:1}),lo.copy(ae.data,V,{x:0,y:0},{x:we,y:Ce+Ve},{width:Ie,height:1}),lo.copy(ae.data,V,{x:Ie-1,y:0},{x:we-1,y:Ce},{width:1,height:Ve}),lo.copy(ae.data,V,{x:0,y:0},{x:we+Ie,y:Ce},{width:1,height:Ve})}this.image=V,this.iconPositions=d,this.patternPositions=y};Jm.prototype.addImages=function(s,c,d){for(var y in s){var k=s[y],T={x:0,y:0,w:k.data.width+2,h:k.data.height+2};d.push(T),c[y]=new i0(T,k),k.hasRenderCallback&&this.haveRenderCallbacks.push(y)}},Jm.prototype.patchUpdatedImages=function(s,c){for(var d in s.dispatchRenderCallbacks(this.haveRenderCallbacks),s.updatedImages)this.patchUpdatedImage(this.iconPositions[d],s.getImage(d),c),this.patchUpdatedImage(this.patternPositions[d],s.getImage(d),c)},Jm.prototype.patchUpdatedImage=function(s,c,d){if(s&&c&&s.version!==c.version){s.version=c.version;var y=s.tl,k=y[0],T=y[1];d.update(c.data,void 0,{x:k,y:T})}},Kt("ImagePosition",i0),Kt("ImageAtlas",Jm);var $o={horizontal:1,vertical:2,horizontalOnly:3},uf=function(){this.scale=1,this.fontStack="",this.imageName=null};uf.forText=function(s,c){var d=new uf;return d.scale=s||1,d.fontStack=c,d},uf.forImage=function(s){var c=new uf;return c.imageName=s,c};var Ra=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function a0(s,c,d,y,k,T,O,F,V,X,Z,ne,ue,ae,de,we){var Ce,Ie=Ra.fromFeature(s,k);ne===$o.vertical&&Ie.verticalizePunctuation();var Ve=ra.processBidirectionalText,Ye=ra.processStyledBidirectionalText;if(Ve&&Ie.sections.length===1){Ce=[];for(var Ge=0,ot=Ve(Ie.toString(),Y_(Ie,X,T,c,y,ae,de));Ge<ot.length;Ge+=1){var ft=ot[Ge],ht=new Ra;ht.text=ft,ht.sections=Ie.sections;for(var Rt=0;Rt<ft.length;Rt++)ht.sectionIndex.push(0);Ce.push(ht)}}else if(Ye){Ce=[];for(var Jt=0,Vt=Ye(Ie.text,Ie.sectionIndex,Y_(Ie,X,T,c,y,ae,de));Jt<Vt.length;Jt+=1){var nr=Vt[Jt],Wt=new Ra;Wt.text=nr[0],Wt.sectionIndex=nr[1],Wt.sections=Ie.sections,Ce.push(Wt)}}else Ce=function($r,En){for(var ln=[],wr=$r.text,Hr=0,Wr=0,Ar=En;Wr<Ar.length;Wr+=1){var Ur=Ar[Wr];ln.push($r.substring(Hr,Ur)),Hr=Ur}return Hr<wr.length&&ln.push($r.substring(Hr,wr.length)),ln}(Ie,Y_(Ie,X,T,c,y,ae,de));var zt=[],Ct={positionedLines:zt,text:Ie.toString(),top:Z[1],bottom:Z[1],left:Z[0],right:Z[0],writingMode:ne,iconsInText:!1,verticalizable:!1};return function($r,En,ln,wr,Hr,Wr,Ar,Ur,dn,ri,ci,Ea){for(var Ta=0,Li=-17,aa=0,ma=0,Aa=Ur==="right"?1:Ur==="left"?0:.5,qi=0,ni=0,Ti=Hr;ni<Ti.length;ni+=1){var qr=Ti[ni];qr.trim();var wn=qr.getMaxScale(),$n=24*(wn-1),Hn={positionedGlyphs:[],lineOffset:0};$r.positionedLines[qi]=Hn;var Zi=Hn.positionedGlyphs,On=0;if(qr.length()){for(var ga=0;ga<qr.length();ga++){var gi=qr.getSection(ga),qs=qr.getSectionIndex(ga),Pa=qr.getCharCode(ga),ja=0,os=null,oa=null,Ts=null,Tl=24,Zs=!(dn===$o.horizontal||!ci&&!Fo(Pa)||ci&&(o0[Pa]||(vu=Pa,Tt.Arabic(vu)||Tt["Arabic Supplement"](vu)||Tt["Arabic Extended-A"](vu)||Tt["Arabic Presentation Forms-A"](vu)||Tt["Arabic Presentation Forms-B"](vu))));if(gi.imageName){var rg=wr[gi.imageName];if(!rg)continue;Ts=gi.imageName,$r.iconsInText=$r.iconsInText||!0,oa=rg.paddedRect;var Al=rg.displaySize;gi.scale=24*gi.scale/Ea,os={width:Al[0],height:Al[1],left:1,top:-3,advance:Zs?Al[1]:Al[0]};var tw=24-Al[1]*gi.scale;ja=$n+tw,Tl=os.advance;var vf=Zs?Al[0]*gi.scale-24*wn:Al[1]*gi.scale-24*wn;vf>0&&vf>On&&(On=vf)}else{var m0=ln[gi.fontStack],yf=m0&&m0[Pa];if(yf&&yf.rect)oa=yf.rect,os=yf.metrics;else{var ng=En[gi.fontStack],g0=ng&&ng[Pa];if(!g0)continue;os=g0.metrics}ja=24*(wn-gi.scale)}Zs?($r.verticalizable=!0,Zi.push({glyph:Pa,imageName:Ts,x:Ta,y:Li+ja,vertical:Zs,scale:gi.scale,fontStack:gi.fontStack,sectionIndex:qs,metrics:os,rect:oa}),Ta+=Tl*gi.scale+ri):(Zi.push({glyph:Pa,imageName:Ts,x:Ta,y:Li+ja,vertical:Zs,scale:gi.scale,fontStack:gi.fontStack,sectionIndex:qs,metrics:os,rect:oa}),Ta+=os.advance*gi.scale+ri)}if(Zi.length!==0){var rw=Ta-ri;aa=Math.max(rw,aa),LB(Zi,0,Zi.length-1,Aa,On)}Ta=0;var ig=Wr*wn+On;Hn.lineOffset=Math.max(On,$n),Li+=ig,ma=Math.max(ig,ma),++qi}else Li+=Wr,++qi}var vu,Lh=Li- -17,yu=X_(Ar),xf=yu.horizontalAlign,ag=yu.verticalAlign;(function(v0,nw,og,sg,y0,x0,bf,b0,lg){var _0=(nw-og)*y0,_f=0;_f=x0!==bf?-b0*sg- -17:(-sg*lg+.5)*bf;for(var wf=0,cg=v0;wf<cg.length;wf+=1)for(var w0=cg[wf],Rh=0,ug=w0.positionedGlyphs;Rh<ug.length;Rh+=1){var Sf=ug[Rh];Sf.x+=_0,Sf.y+=_f}})($r.positionedLines,Aa,xf,ag,aa,ma,Wr,Lh,Hr.length),$r.top+=-ag*Lh,$r.bottom=$r.top+Lh,$r.left+=-xf*aa,$r.right=$r.left+aa}(Ct,c,d,y,Ce,O,F,V,ne,X,ue,we),!function($r){for(var En=0,ln=$r;En<ln.length;En+=1)if(ln[En].positionedGlyphs.length!==0)return!1;return!0}(zt)&&Ct}Ra.fromFeature=function(s,c){for(var d=new Ra,y=0;y<s.sections.length;y++){var k=s.sections[y];k.image?d.addImageSection(k):d.addTextSection(k,c)}return d},Ra.prototype.length=function(){return this.text.length},Ra.prototype.getSection=function(s){return this.sections[this.sectionIndex[s]]},Ra.prototype.getSectionIndex=function(s){return this.sectionIndex[s]},Ra.prototype.getCharCode=function(s){return this.text.charCodeAt(s)},Ra.prototype.verticalizePunctuation=function(){this.text=function(s){for(var c="",d=0;d<s.length;d++){var y=s.charCodeAt(d+1)||null,k=s.charCodeAt(d-1)||null;(!y||!Vy(y)||Zm[s[d+1]])&&(!k||!Vy(k)||Zm[s[d-1]])&&Zm[s[d]]?c+=Zm[s[d]]:c+=s[d]}return c}(this.text)},Ra.prototype.trim=function(){for(var s=0,c=0;c<this.text.length&&o0[this.text.charCodeAt(c)];c++)s++;for(var d=this.text.length,y=this.text.length-1;y>=0&&y>=s&&o0[this.text.charCodeAt(y)];y--)d--;this.text=this.text.substring(s,d),this.sectionIndex=this.sectionIndex.slice(s,d)},Ra.prototype.substring=function(s,c){var d=new Ra;return d.text=this.text.substring(s,c),d.sectionIndex=this.sectionIndex.slice(s,c),d.sections=this.sections,d},Ra.prototype.toString=function(){return this.text},Ra.prototype.getMaxScale=function(){var s=this;return this.sectionIndex.reduce(function(c,d){return Math.max(c,s.sections[d].scale)},0)},Ra.prototype.addTextSection=function(s,c){this.text+=s.text,this.sections.push(uf.forText(s.scale,s.fontStack||c));for(var d=this.sections.length-1,y=0;y<s.text.length;++y)this.sectionIndex.push(d)},Ra.prototype.addImageSection=function(s){var c=s.image?s.image.name:"";if(c.length!==0){var d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(uf.forImage(c)),this.sectionIndex.push(this.sections.length-1)):q("Reached maximum number of images 6401")}else q("Can't add FormattedSection with an empty image.")},Ra.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var o0={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},ko={};function $A(s,c,d,y,k,T){if(c.imageName){var O=y[c.imageName];return O?O.displaySize[0]*c.scale*24/T+k:0}var F=d[c.fontStack],V=F&&F[s];return V?V.metrics.advance*c.scale+k:0}function HA(s,c,d,y){var k=Math.pow(s-c,2);return y?s<c?k/2:2*k:k+Math.abs(d)*d}function NB(s,c,d){var y=0;return s===10&&(y-=1e4),d&&(y+=150),s!==40&&s!==65288||(y+=50),c!==41&&c!==65289||(y+=50),y}function UA(s,c,d,y,k,T){for(var O=null,F=HA(c,d,k,T),V=0,X=y;V<X.length;V+=1){var Z=X[V],ne=HA(c-Z.x,d,k,T)+Z.badness;ne<=F&&(O=Z,F=ne)}return{index:s,x:c,priorBreak:O,badness:F}}function Y_(s,c,d,y,k,T,O){if(T!=="point")return[];if(!s)return[];for(var F,V=[],X=function(Ce,Ie,Ve,Ye,Ge,ot){for(var ft=0,ht=0;ht<Ce.length();ht++){var Rt=Ce.getSection(ht);ft+=$A(Ce.getCharCode(ht),Rt,Ye,Ge,Ie,ot)}return ft/Math.max(1,Math.ceil(ft/Ve))}(s,c,d,y,k,O),Z=s.text.indexOf("​")>=0,ne=0,ue=0;ue<s.length();ue++){var ae=s.getSection(ue),de=s.getCharCode(ue);if(o0[de]||(ne+=$A(de,ae,y,k,c,O)),ue<s.length()-1){var we=!!(!((F=de)<11904)&&(Tt["Bopomofo Extended"](F)||Tt.Bopomofo(F)||Tt["CJK Compatibility Forms"](F)||Tt["CJK Compatibility Ideographs"](F)||Tt["CJK Compatibility"](F)||Tt["CJK Radicals Supplement"](F)||Tt["CJK Strokes"](F)||Tt["CJK Symbols and Punctuation"](F)||Tt["CJK Unified Ideographs Extension A"](F)||Tt["CJK Unified Ideographs"](F)||Tt["Enclosed CJK Letters and Months"](F)||Tt["Halfwidth and Fullwidth Forms"](F)||Tt.Hiragana(F)||Tt["Ideographic Description Characters"](F)||Tt["Kangxi Radicals"](F)||Tt["Katakana Phonetic Extensions"](F)||Tt.Katakana(F)||Tt["Vertical Forms"](F)||Tt["Yi Radicals"](F)||Tt["Yi Syllables"](F)));(ko[de]||we||ae.imageName)&&V.push(UA(ue+1,ne,X,V,NB(de,s.getCharCode(ue+1),we&&Z),!1))}}return function Ce(Ie){return Ie?Ce(Ie.priorBreak).concat(Ie.index):[]}(UA(s.length(),ne,X,V,0,!0))}function X_(s){var c=.5,d=.5;switch(s){case"right":case"top-right":case"bottom-right":c=1;break;case"left":case"top-left":case"bottom-left":c=0}switch(s){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:c,verticalAlign:d}}function LB(s,c,d,y,k){if(y||k)for(var T=s[d],O=T.metrics.advance*T.scale,F=(s[d].x+O)*y,V=c;V<=d;V++)s[V].x-=F,s[V].y+=k}function VA(s,c,d,y,k,T){var O,F=s.image;if(F.content){var V=F.content,X=F.pixelRatio||1;O=[V[0]/X,V[1]/X,F.displaySize[0]-V[2]/X,F.displaySize[1]-V[3]/X]}var Z,ne,ue,ae,de=c.left*T,we=c.right*T;d==="width"||d==="both"?(ae=k[0]+de-y[3],ne=k[0]+we+y[1]):ne=(ae=k[0]+(de+we-F.displaySize[0])/2)+F.displaySize[0];var Ce=c.top*T,Ie=c.bottom*T;return d==="height"||d==="both"?(Z=k[1]+Ce-y[0],ue=k[1]+Ie+y[2]):ue=(Z=k[1]+(Ce+Ie-F.displaySize[1])/2)+F.displaySize[1],{image:F,top:Z,right:ne,bottom:ue,left:ae,collisionPadding:O}}ko[10]=!0,ko[32]=!0,ko[38]=!0,ko[40]=!0,ko[41]=!0,ko[43]=!0,ko[45]=!0,ko[47]=!0,ko[173]=!0,ko[183]=!0,ko[8203]=!0,ko[8208]=!0,ko[8211]=!0,ko[8231]=!0;var hf=function(s){function c(d,y,k,T){s.call(this,d,y),this.angle=k,T!==void 0&&(this.segment=T)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.clone=function(){return new c(this.x,this.y,this.angle,this.segment)},c}(f);Kt("Anchor",hf);function G_(s,c){var d=c.expression;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new Fn(s+1))};if(d.kind==="source")return{kind:"source"};for(var y=d.zoomStops,k=d.interpolationType,T=0;T<y.length&&y[T]<=s;)T++;for(var O=T=Math.max(0,T-1);O<y.length&&y[O]<s+1;)O++;O=Math.min(y.length-1,O);var F=y[T],V=y[O];return d.kind==="composite"?{kind:"composite",minZoom:F,maxZoom:V,interpolationType:k}:{kind:"camera",minZoom:F,maxZoom:V,minSize:d.evaluate(new Fn(F)),maxSize:d.evaluate(new Fn(V)),interpolationType:k}}function WA(s,c,d){var y=c.uSize,k=c.uSizeT,T=d.lowerSize,O=d.upperSize;return s.kind==="source"?T/128:s.kind==="composite"?cr(T/128,O/128,k):y}function YA(s,c){var d=0,y=0;if(s.kind==="constant")y=s.layoutSize;else if(s.kind!=="source"){var k=s.interpolationType,T=s.minZoom,O=s.maxZoom,F=k?S(ki.interpolationFactor(k,c,T,O),0,1):0;s.kind==="camera"?y=cr(s.minSize,s.maxSize,F):d=F}return{uSizeT:d,uSize:y}}var RB=Object.freeze({__proto__:null,getSizeData:G_,evaluateSizeForFeature:WA,evaluateSizeForZoom:YA,SIZE_PACK_FACTOR:128});function XA(s,c,d,y,k){if(c.segment===void 0)return!0;for(var T=c,O=c.segment+1,F=0;F>-d/2;){if(--O<0)return!1;F-=s[O].dist(T),T=s[O]}F+=s[O].dist(s[O+1]),O++;for(var V=[],X=0;F<d/2;){var Z=s[O-1],ne=s[O],ue=s[O+1];if(!ue)return!1;var ae=Z.angleTo(ne)-ne.angleTo(ue);for(ae=Math.abs((ae+3*Math.PI)%(2*Math.PI)-Math.PI),V.push({distance:F,angleDelta:ae}),X+=ae;F-V[0].distance>y;)X-=V.shift().angleDelta;if(X>k)return!1;O++,F+=ne.dist(ue)}return!0}function GA(s){for(var c=0,d=0;d<s.length-1;d++)c+=s[d].dist(s[d+1]);return c}function qA(s,c,d){return s?.6*c*d:0}function ZA(s,c){return Math.max(s?s.right-s.left:0,c?c.right-c.left:0)}function jB(s,c,d,y,k,T){for(var O=qA(d,k,T),F=ZA(d,y)*T,V=0,X=GA(s)/2,Z=0;Z<s.length-1;Z++){var ne=s[Z],ue=s[Z+1],ae=ne.dist(ue);if(V+ae>X){var de=(X-V)/ae,we=cr(ne.x,ue.x,de),Ce=cr(ne.y,ue.y,de),Ie=new hf(we,Ce,ue.angleTo(ne),Z);return Ie._round(),!O||XA(s,Ie,F,O,c)?Ie:void 0}V+=ae}}function zB(s,c,d,y,k,T,O,F,V){var X=qA(y,T,O),Z=ZA(y,k),ne=Z*O,ue=s[0].x===0||s[0].x===V||s[0].y===0||s[0].y===V;return c-ne<c/4&&(c=ne+c/4),function ae(de,we,Ce,Ie,Ve,Ye,Ge,ot,ft){for(var ht=Ye/2,Rt=GA(de),Jt=0,Vt=we-Ce,nr=[],Wt=0;Wt<de.length-1;Wt++){for(var zt=de[Wt],Ct=de[Wt+1],$r=zt.dist(Ct),En=Ct.angleTo(zt);Vt+Ce<Jt+$r;){var ln=((Vt+=Ce)-Jt)/$r,wr=cr(zt.x,Ct.x,ln),Hr=cr(zt.y,Ct.y,ln);if(wr>=0&&wr<ft&&Hr>=0&&Hr<ft&&Vt-ht>=0&&Vt+ht<=Rt){var Wr=new hf(wr,Hr,En,Wt);Wr._round(),Ie&&!XA(de,Wr,Ye,Ie,Ve)||nr.push(Wr)}}Jt+=$r}return ot||nr.length||Ge||(nr=ae(de,Jt/2,Ce,Ie,Ve,Ye,Ge,!0,ft)),nr}(s,ue?c/2*F%c:(Z/2+2*T)*O*F%c,c,X,d,ne,ue,!1,V)}function KA(s,c,d,y){var k=[],T=s.image,O=T.pixelRatio,F=T.paddedRect.w-2,V=T.paddedRect.h-2,X=s.right-s.left,Z=s.bottom-s.top,ne=T.stretchX||[[0,F]],ue=T.stretchY||[[0,V]],ae=function(Wr,Ar){return Wr+Ar[1]-Ar[0]},de=ne.reduce(ae,0),we=ue.reduce(ae,0),Ce=F-de,Ie=V-we,Ve=0,Ye=de,Ge=0,ot=we,ft=0,ht=Ce,Rt=0,Jt=Ie;if(T.content&&y){var Vt=T.content;Ve=s0(ne,0,Vt[0]),Ge=s0(ue,0,Vt[1]),Ye=s0(ne,Vt[0],Vt[2]),ot=s0(ue,Vt[1],Vt[3]),ft=Vt[0]-Ve,Rt=Vt[1]-Ge,ht=Vt[2]-Vt[0]-Ye,Jt=Vt[3]-Vt[1]-ot}var nr=function(Wr,Ar,Ur,dn){var ri=l0(Wr.stretch-Ve,Ye,X,s.left),ci=c0(Wr.fixed-ft,ht,Wr.stretch,de),Ea=l0(Ar.stretch-Ge,ot,Z,s.top),Ta=c0(Ar.fixed-Rt,Jt,Ar.stretch,we),Li=l0(Ur.stretch-Ve,Ye,X,s.left),aa=c0(Ur.fixed-ft,ht,Ur.stretch,de),ma=l0(dn.stretch-Ge,ot,Z,s.top),Aa=c0(dn.fixed-Rt,Jt,dn.stretch,we),qi=new f(ri,Ea),ni=new f(Li,Ea),Ti=new f(Li,ma),qr=new f(ri,ma),wn=new f(ci/O,Ta/O),$n=new f(aa/O,Aa/O),Hn=c*Math.PI/180;if(Hn){var Zi=Math.sin(Hn),On=Math.cos(Hn),ga=[On,-Zi,Zi,On];qi._matMult(ga),ni._matMult(ga),qr._matMult(ga),Ti._matMult(ga)}var gi=Wr.stretch+Wr.fixed,qs=Ur.stretch+Ur.fixed,Pa=Ar.stretch+Ar.fixed,ja=dn.stretch+dn.fixed;return{tl:qi,tr:ni,bl:qr,br:Ti,tex:{x:T.paddedRect.x+1+gi,y:T.paddedRect.y+1+Pa,w:qs-gi,h:ja-Pa},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:wn,pixelOffsetBR:$n,minFontScaleX:ht/O/X,minFontScaleY:Jt/O/Z,isSDF:d}};if(y&&(T.stretchX||T.stretchY))for(var Wt=JA(ne,Ce,de),zt=JA(ue,Ie,we),Ct=0;Ct<Wt.length-1;Ct++)for(var $r=Wt[Ct],En=Wt[Ct+1],ln=0;ln<zt.length-1;ln++){var wr=zt[ln],Hr=zt[ln+1];k.push(nr($r,wr,En,Hr))}else k.push(nr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:F+1},{fixed:0,stretch:V+1}));return k}function s0(s,c,d){for(var y=0,k=0,T=s;k<T.length;k+=1){var O=T[k];y+=Math.max(c,Math.min(d,O[1]))-Math.max(c,Math.min(d,O[0]))}return y}function JA(s,c,d){for(var y=[{fixed:-1,stretch:0}],k=0,T=s;k<T.length;k+=1){var O=T[k],F=O[0],V=O[1],X=y[y.length-1];y.push({fixed:F-X.stretch,stretch:X.stretch}),y.push({fixed:F-X.stretch,stretch:X.stretch+(V-F)})}return y.push({fixed:c+1,stretch:d}),y}function l0(s,c,d,y){return s/c*d+y}function c0(s,c,d,y){return s-c*d/y}var Qm=function(s,c,d,y,k,T,O,F,V,X,Z,ne){var ue=O.top*F-V,ae=O.bottom*F+V,de=O.left*F-V,we=O.right*F+V,Ce=O.collisionPadding;if(Ce&&(de-=Ce[0]*F,ue-=Ce[1]*F,we+=Ce[2]*F,ae+=Ce[3]*F),this.boxStartIndex=s.length,X){var Ie=ae-ue,Ve=we-de;Ie>0&&(Ie=Math.max(10*F,Ie),this._addLineCollisionCircles(s,c,d,d.segment,Ve,Ie,y,k,T,Z))}else{if(ne){var Ye=new f(de,ue),Ge=new f(we,ue),ot=new f(de,ae),ft=new f(we,ae),ht=ne*Math.PI/180;Ye._rotate(ht),Ge._rotate(ht),ot._rotate(ht),ft._rotate(ht),de=Math.min(Ye.x,Ge.x,ot.x,ft.x),we=Math.max(Ye.x,Ge.x,ot.x,ft.x),ue=Math.min(Ye.y,Ge.y,ot.y,ft.y),ae=Math.max(Ye.y,Ge.y,ot.y,ft.y)}s.emplaceBack(d.x,d.y,de,ue,we,ae,y,k,T,0,0)}this.boxEndIndex=s.length};Qm.prototype._addLineCollisionCircles=function(s,c,d,y,k,T,O,F,V,X){var Z=T/2,ne=Math.floor(k/Z)||1,ue=1+.4*Math.log(X)/Math.LN2,ae=Math.floor(ne*ue/2),de=-T/2,we=d,Ce=y+1,Ie=de,Ve=-k/2,Ye=Ve-k/4;do{if(--Ce<0){if(Ie>Ve)return;Ce=0;break}Ie-=c[Ce].dist(we),we=c[Ce]}while(Ie>Ye);for(var Ge=c[Ce].dist(c[Ce+1]),ot=-ae;ot<ne+ae;ot++){var ft=ot*Z,ht=Ve+ft;if(ft<0&&(ht+=ft),ft>k&&(ht+=ft-k),!(ht<Ie)){for(;Ie+Ge<ht;){if(Ie+=Ge,++Ce+1>=c.length)return;Ge=c[Ce].dist(c[Ce+1])}var Rt=ht-Ie,Jt=c[Ce],Vt=c[Ce+1].sub(Jt)._unit()._mult(Rt)._add(Jt)._round(),nr=Math.abs(ht-de)<Z?0:.8*(ht-de);s.emplaceBack(Vt.x,Vt.y,-T/2,-T/2,T/2,T/2,O,F,V,T/2,nr)}}};var df=function(s,c){if(s===void 0&&(s=[]),c===void 0&&(c=FB),this.data=s,this.length=this.data.length,this.compare=c,this.length>0)for(var d=(this.length>>1)-1;d>=0;d--)this._down(d)};function FB(s,c){return s<c?-1:s>c?1:0}function BB(s,c,d){d===void 0&&(d=!1);for(var y=1/0,k=1/0,T=-1/0,O=-1/0,F=s[0],V=0;V<F.length;V++){var X=F[V];(!V||X.x<y)&&(y=X.x),(!V||X.y<k)&&(k=X.y),(!V||X.x>T)&&(T=X.x),(!V||X.y>O)&&(O=X.y)}var Z=T-y,ne=O-k,ue=Math.min(Z,ne),ae=ue/2,de=new df([],$B);if(ue===0)return new f(y,k);for(var we=y;we<T;we+=ue)for(var Ce=k;Ce<O;Ce+=ue)de.push(new ff(we+ae,Ce+ae,ae,s));for(var Ie=function(Ge){for(var ot=0,ft=0,ht=0,Rt=Ge[0],Jt=0,Vt=Rt.length,nr=Vt-1;Jt<Vt;nr=Jt++){var Wt=Rt[Jt],zt=Rt[nr],Ct=Wt.x*zt.y-zt.x*Wt.y;ft+=(Wt.x+zt.x)*Ct,ht+=(Wt.y+zt.y)*Ct,ot+=3*Ct}return new ff(ft/ot,ht/ot,0,Ge)}(s),Ve=de.length;de.length;){var Ye=de.pop();(Ye.d>Ie.d||!Ie.d)&&(Ie=Ye,d&&console.log("found best %d after %d probes",Math.round(1e4*Ye.d)/1e4,Ve)),Ye.max-Ie.d<=c||(ae=Ye.h/2,de.push(new ff(Ye.p.x-ae,Ye.p.y-ae,ae,s)),de.push(new ff(Ye.p.x+ae,Ye.p.y-ae,ae,s)),de.push(new ff(Ye.p.x-ae,Ye.p.y+ae,ae,s)),de.push(new ff(Ye.p.x+ae,Ye.p.y+ae,ae,s)),Ve+=4)}return d&&(console.log("num probes: "+Ve),console.log("best distance: "+Ie.d)),Ie.p}function $B(s,c){return c.max-s.max}function ff(s,c,d,y){this.p=new f(s,c),this.h=d,this.d=function(k,T){for(var O=!1,F=1/0,V=0;V<T.length;V++)for(var X=T[V],Z=0,ne=X.length,ue=ne-1;Z<ne;ue=Z++){var ae=X[Z],de=X[ue];ae.y>k.y!=de.y>k.y&&k.x<(de.x-ae.x)*(k.y-ae.y)/(de.y-ae.y)+ae.x&&(O=!O),F=Math.min(F,dA(k,ae,de))}return(O?1:-1)*Math.sqrt(F)}(this.p,y),this.max=this.d+this.h*Math.SQRT2}df.prototype.push=function(s){this.data.push(s),this.length++,this._up(this.length-1)},df.prototype.pop=function(){if(this.length!==0){var s=this.data[0],c=this.data.pop();return this.length--,this.length>0&&(this.data[0]=c,this._down(0)),s}},df.prototype.peek=function(){return this.data[0]},df.prototype._up=function(s){for(var c=this.data,d=this.compare,y=c[s];s>0;){var k=s-1>>1,T=c[k];if(d(y,T)>=0)break;c[s]=T,s=k}c[s]=y},df.prototype._down=function(s){for(var c=this.data,d=this.compare,y=this.length>>1,k=c[s];s<y;){var T=1+(s<<1),O=c[T],F=T+1;if(F<this.length&&d(c[F],O)<0&&(T=F,O=c[F]),d(O,k)>=0)break;c[s]=O,s=T}c[s]=k};var q_=Number.POSITIVE_INFINITY;function QA(s,c){return c[1]!==q_?function(d,y,k){var T=0,O=0;switch(y=Math.abs(y),k=Math.abs(k),d){case"top-right":case"top-left":case"top":O=k-7;break;case"bottom-right":case"bottom-left":case"bottom":O=7-k}switch(d){case"top-right":case"bottom-right":case"right":T=-y;break;case"top-left":case"bottom-left":case"left":T=y}return[T,O]}(s,c[0],c[1]):function(d,y){var k=0,T=0;y<0&&(y=0);var O=y/Math.sqrt(2);switch(d){case"top-right":case"top-left":T=O-7;break;case"bottom-right":case"bottom-left":T=7-O;break;case"bottom":T=7-y;break;case"top":T=y-7}switch(d){case"top-right":case"bottom-right":k=-O;break;case"top-left":case"bottom-left":k=O;break;case"left":k=y;break;case"right":k=-y}return[k,T]}(s,c[0])}function Z_(s){switch(s){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function eP(s,c,d,y,k,T,O,F,V,X,Z,ne,ue,ae){var de=function(Ye,Ge,ot,ft,ht,Rt,Jt,Vt){for(var nr=ft.layout.get("text-rotate").evaluate(Rt,{})*Math.PI/180,Wt=[],zt=0,Ct=Ge.positionedLines;zt<Ct.length;zt+=1)for(var $r=Ct[zt],En=0,ln=$r.positionedGlyphs;En<ln.length;En+=1){var wr=ln[En];if(wr.rect){var Hr=wr.rect||{},Wr=4,Ar=!0,Ur=1,dn=0,ri=(ht||Vt)&&wr.vertical,ci=wr.metrics.advance*wr.scale/2;if(Vt&&Ge.verticalizable){var Ea=24*(wr.scale-1),Ta=(24-wr.metrics.width*wr.scale)/2;dn=$r.lineOffset/2-(wr.imageName?-Ta:Ea)}if(wr.imageName){var Li=Jt[wr.imageName];Ar=Li.sdf,Wr=1/(Ur=Li.pixelRatio)}var aa=ht?[wr.x+ci,wr.y]:[0,0],ma=ht?[0,0]:[wr.x+ci+ot[0],wr.y+ot[1]-dn],Aa=[0,0];ri&&(Aa=ma,ma=[0,0]);var qi=(wr.metrics.left-Wr)*wr.scale-ci+ma[0],ni=(-wr.metrics.top-Wr)*wr.scale+ma[1],Ti=qi+Hr.w*wr.scale/Ur,qr=ni+Hr.h*wr.scale/Ur,wn=new f(qi,ni),$n=new f(Ti,ni),Hn=new f(qi,qr),Zi=new f(Ti,qr);if(ri){var On=new f(-ci,ci- -17),ga=-Math.PI/2,gi=12-ci,qs=wr.imageName?gi:0,Pa=new f(22-gi,-qs),ja=new(Function.prototype.bind.apply(f,[null].concat(Aa)));wn._rotateAround(ga,On)._add(Pa)._add(ja),$n._rotateAround(ga,On)._add(Pa)._add(ja),Hn._rotateAround(ga,On)._add(Pa)._add(ja),Zi._rotateAround(ga,On)._add(Pa)._add(ja)}if(nr){var os=Math.sin(nr),oa=Math.cos(nr),Ts=[oa,-os,os,oa];wn._matMult(Ts),$n._matMult(Ts),Hn._matMult(Ts),Zi._matMult(Ts)}var Tl=new f(0,0),Zs=new f(0,0);Wt.push({tl:wn,tr:$n,bl:Hn,br:Zi,tex:Hr,writingMode:Ge.writingMode,glyphOffset:aa,sectionIndex:wr.sectionIndex,isSDF:Ar,pixelOffsetTL:Tl,pixelOffsetBR:Zs,minFontScaleX:0,minFontScaleY:0})}}return Wt}(0,d,F,k,T,O,y,s.allowVerticalPlacement),we=s.textSizeData,Ce=null;we.kind==="source"?(Ce=[128*k.layout.get("text-size").evaluate(O,{})])[0]>32640&&q(s.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):we.kind==="composite"&&((Ce=[128*ae.compositeTextSizes[0].evaluate(O,{}),128*ae.compositeTextSizes[1].evaluate(O,{})])[0]>32640||Ce[1]>32640)&&q(s.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),s.addSymbols(s.text,de,Ce,F,T,O,X,c,V.lineStartIndex,V.lineLength,ue);for(var Ie=0,Ve=Z;Ie<Ve.length;Ie+=1)ne[Ve[Ie]]=s.text.placedSymbolArray.length-1;return 4*de.length}function tP(s){for(var c in s)return s[c];return null}function HB(s,c,d,y){var k=s.compareText;if(c in k){for(var T=k[c],O=T.length-1;O>=0;O--)if(y.dist(T[O])<d)return!0}else k[c]=[];return k[c].push(y),!1}var UB=sf.VectorTileFeature.types,VB=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function u0(s,c,d,y,k,T,O,F,V,X,Z,ne,ue){var ae=F?Math.min(32640,Math.round(F[0])):0,de=F?Math.min(32640,Math.round(F[1])):0;s.emplaceBack(c,d,Math.round(32*y),Math.round(32*k),T,O,(ae<<1)+(V?1:0),de,16*X,16*Z,256*ne,256*ue)}function K_(s,c,d){s.emplaceBack(c.x,c.y,d),s.emplaceBack(c.x,c.y,d),s.emplaceBack(c.x,c.y,d),s.emplaceBack(c.x,c.y,d)}function WB(s){for(var c=0,d=s.sections;c<d.length;c+=1)if(O_(d[c].text))return!0;return!1}var eg=function(s){this.layoutVertexArray=new te,this.indexArray=new Qe,this.programConfigurations=s,this.segments=new Mr,this.dynamicLayoutVertexArray=new ce,this.opacityVertexArray=new me,this.placedSymbolArray=new $t};eg.prototype.upload=function(s,c,d,y){d&&(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,W_.members),this.indexBuffer=s.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=s.createVertexBuffer(this.dynamicLayoutVertexArray,xB.members,!0),this.opacityVertexBuffer=s.createVertexBuffer(this.opacityVertexArray,VB,!0),this.opacityVertexBuffer.itemSize=1),(d||y)&&this.programConfigurations.upload(s)},eg.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Kt("SymbolBuffers",eg);var Ih=function(s,c,d){this.layoutVertexArray=new s,this.layoutAttributes=c,this.indexArray=new d,this.segments=new Mr,this.collisionVertexArray=new ve};Ih.prototype.upload=function(s){this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=s.createVertexBuffer(this.collisionVertexArray,bB.members,!0)},Ih.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Kt("CollisionBuffers",Ih);var In=function(s){this.collisionBoxArray=s.collisionBoxArray,this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(function(O){return O.id}),this.index=s.index,this.pixelRatio=s.pixelRatio,this.sourceLayerIndex=s.sourceLayerIndex,this.hasPattern=!1,this.hasPaintOverrides=!1,this.hasRTLText=!1;var c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=G_(this.zoom,c["text-size"]),this.iconSizeData=G_(this.zoom,c["icon-size"]);var d=this.layers[0].layout,y=d.get("symbol-sort-key"),k=d.get("symbol-z-order");this.sortFeaturesByKey=k!=="viewport-y"&&y.constantOr(1)!==void 0;var T=k==="viewport-y"||k==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=T&&(d.get("text-allow-overlap")||d.get("icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement")),d.get("symbol-placement")==="point"&&(this.writingModes=d.get("text-writing-mode").map(function(O){return $o[O]})),this.stateDependentLayerIds=this.layers.filter(function(O){return O.isStateDependent()}).map(function(O){return O.id}),this.sourceID=s.sourceID};In.prototype.createArrays=function(){var s=this.layers[0].layout;this.hasPaintOverrides=rP.hasPaintOverrides(s),this.text=new eg(new Bo(W_.members,this.layers,this.zoom,function(c){return/^text/.test(c)})),this.icon=new eg(new Bo(W_.members,this.layers,this.zoom,function(c){return/^icon/.test(c)})),this.textCollisionBox=new Ih(ye,DA.members,st),this.iconCollisionBox=new Ih(ye,DA.members,st),this.textCollisionCircle=new Ih(ye,NA.members,Qe),this.iconCollisionCircle=new Ih(ye,NA.members,Qe),this.glyphOffsetArray=new _r,this.lineVertexArray=new jr,this.symbolInstances=new Tr},In.prototype.calculateGlyphDependencies=function(s,c,d,y,k){for(var T=0;T<s.length;T++)if(c[s.charCodeAt(T)]=!0,(d||y)&&k){var O=Zm[s.charAt(T)];O&&(c[O.charCodeAt(0)]=!0)}},In.prototype.populate=function(s,c){var d=this.layers[0],y=d.layout,k=y.get("text-font"),T=y.get("text-field"),O=y.get("icon-image"),F=(T.value.kind!=="constant"||T.value.value instanceof ar&&!T.value.value.isEmpty()||T.value.value.toString().length>0)&&(k.value.kind!=="constant"||k.value.value.length>0),V=(O.value.kind!=="constant"||!!O.value.value)&&Object.keys(O.parameters).length>0,X=y.get("symbol-sort-key");if(this.features=[],F||V){for(var Z=c.iconDependencies,ne=c.glyphDependencies,ue=c.availableImages,ae=new Fn(this.zoom),de=0,we=s;de<we.length;de+=1){var Ce=we[de],Ie=Ce.feature,Ve=Ce.id,Ye=Ce.index,Ge=Ce.sourceLayerIndex;if(d._featureFilter(ae,Ie)){var ot=void 0;if(F){var ft=d.getValueAndResolveTokens("text-field",Ie,ue),ht=ar.factory(ft);WB(ht)&&(this.hasRTLText=!0),(!this.hasRTLText||kh()==="unavailable"||this.hasRTLText&&ra.isParsed())&&(ot=_B(ht,d,Ie))}var Rt=void 0;if(V){var Jt=d.getValueAndResolveTokens("icon-image",Ie,ue);Rt=Jt instanceof ur?Jt:ur.fromString(Jt)}if(ot||Rt){var Vt=this.sortFeaturesByKey?X.evaluate(Ie,{}):void 0,nr={id:Ve,text:ot,icon:Rt,index:Ye,sourceLayerIndex:Ge,geometry:rf(Ie),properties:Ie.properties,type:UB[Ie.type],sortKey:Vt};if(this.features.push(nr),Rt&&(Z[Rt.name]=!0),ot){var Wt=k.evaluate(Ie,{}).join(","),zt=y.get("text-rotation-alignment")==="map"&&y.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf($o.vertical)>=0;for(var Ct=0,$r=ot.sections;Ct<$r.length;Ct+=1){var En=$r[Ct];if(En.image)Z[En.image.name]=!0;else{var ln=dc(ot.toString()),wr=En.fontStack||Wt,Hr=ne[wr]=ne[wr]||{};this.calculateGlyphDependencies(En.text,Hr,zt,this.allowVerticalPlacement,ln)}}}}}}y.get("symbol-placement")==="line"&&(this.features=function(Wr){var Ar={},Ur={},dn=[],ri=0;function ci($n){dn.push(Wr[$n]),ri++}function Ea($n,Hn,Zi){var On=Ur[$n];return delete Ur[$n],Ur[Hn]=On,dn[On].geometry[0].pop(),dn[On].geometry[0]=dn[On].geometry[0].concat(Zi[0]),On}function Ta($n,Hn,Zi){var On=Ar[Hn];return delete Ar[Hn],Ar[$n]=On,dn[On].geometry[0].shift(),dn[On].geometry[0]=Zi[0].concat(dn[On].geometry[0]),On}function Li($n,Hn,Zi){var On=Zi?Hn[0][Hn[0].length-1]:Hn[0][0];return $n+":"+On.x+":"+On.y}for(var aa=0;aa<Wr.length;aa++){var ma=Wr[aa],Aa=ma.geometry,qi=ma.text?ma.text.toString():null;if(qi){var ni=Li(qi,Aa),Ti=Li(qi,Aa,!0);if(ni in Ur&&Ti in Ar&&Ur[ni]!==Ar[Ti]){var qr=Ta(ni,Ti,Aa),wn=Ea(ni,Ti,dn[qr].geometry);delete Ar[ni],delete Ur[Ti],Ur[Li(qi,dn[wn].geometry,!0)]=wn,dn[qr].geometry=null}else ni in Ur?Ea(ni,Ti,Aa):Ti in Ar?Ta(ni,Ti,Aa):(ci(aa),Ar[ni]=ri-1,Ur[Ti]=ri-1)}else ci(aa)}return dn.filter(function($n){return $n.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Wr,Ar){return Wr.sortKey-Ar.sortKey})}},In.prototype.update=function(s,c,d){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(s,c,this.layers,d),this.icon.programConfigurations.updatePaintArrays(s,c,this.layers,d))},In.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},In.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},In.prototype.upload=function(s){this.uploaded||(this.textCollisionBox.upload(s),this.iconCollisionBox.upload(s),this.textCollisionCircle.upload(s),this.iconCollisionCircle.upload(s)),this.text.upload(s,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(s,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},In.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.textCollisionBox.destroy(),this.iconCollisionBox.destroy(),this.textCollisionCircle.destroy(),this.iconCollisionCircle.destroy()},In.prototype.addToLineVertexArray=function(s,c){var d=this.lineVertexArray.length;if(s.segment!==void 0){for(var y=s.dist(c[s.segment+1]),k=s.dist(c[s.segment]),T={},O=s.segment+1;O<c.length;O++)T[O]={x:c[O].x,y:c[O].y,tileUnitDistanceFromAnchor:y},O<c.length-1&&(y+=c[O+1].dist(c[O]));for(var F=s.segment||0;F>=0;F--)T[F]={x:c[F].x,y:c[F].y,tileUnitDistanceFromAnchor:k},F>0&&(k+=c[F-1].dist(c[F]));for(var V=0;V<c.length;V++){var X=T[V];this.lineVertexArray.emplaceBack(X.x,X.y,X.tileUnitDistanceFromAnchor)}}return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}},In.prototype.addSymbols=function(s,c,d,y,k,T,O,F,V,X,Z){var ne=this,ue=s.indexArray,ae=s.layoutVertexArray,de=s.dynamicLayoutVertexArray,we=s.segments.prepareSegment(4*c.length,s.layoutVertexArray,s.indexArray,T.sortKey),Ce=this.glyphOffsetArray.length,Ie=we.vertexLength,Ve=this.allowVerticalPlacement&&O===$o.vertical?Math.PI/2:0,Ye=function(Ct){var $r=Ct.tl,En=Ct.tr,ln=Ct.bl,wr=Ct.br,Hr=Ct.tex,Wr=Ct.pixelOffsetTL,Ar=Ct.pixelOffsetBR,Ur=Ct.minFontScaleX,dn=Ct.minFontScaleY,ri=we.vertexLength,ci=Ct.glyphOffset[1];u0(ae,F.x,F.y,$r.x,ci+$r.y,Hr.x,Hr.y,d,Ct.isSDF,Wr.x,Wr.y,Ur,dn),u0(ae,F.x,F.y,En.x,ci+En.y,Hr.x+Hr.w,Hr.y,d,Ct.isSDF,Ar.x,Wr.y,Ur,dn),u0(ae,F.x,F.y,ln.x,ci+ln.y,Hr.x,Hr.y+Hr.h,d,Ct.isSDF,Wr.x,Ar.y,Ur,dn),u0(ae,F.x,F.y,wr.x,ci+wr.y,Hr.x+Hr.w,Hr.y+Hr.h,d,Ct.isSDF,Ar.x,Ar.y,Ur,dn),K_(de,F,Ve),ue.emplaceBack(ri,ri+1,ri+2),ue.emplaceBack(ri+1,ri+2,ri+3),we.vertexLength+=4,we.primitiveLength+=2,ne.glyphOffsetArray.emplaceBack(Ct.glyphOffset[0])};if(T.text&&T.text.sections){var Ge=T.text.sections;if(this.hasPaintOverrides){for(var ot,ft=function(Ct,$r){ot===void 0||ot===Ct&&!$r||s.programConfigurations.populatePaintArrays(s.layoutVertexArray.length,T,T.index,{},Ge[ot]),ot=Ct},ht=0,Rt=c;ht<Rt.length;ht+=1){var Jt=Rt[ht];ft(Jt.sectionIndex,!1),Ye(Jt)}ft(ot,!0)}else{for(var Vt=0,nr=c;Vt<nr.length;Vt+=1)Ye(nr[Vt]);s.programConfigurations.populatePaintArrays(s.layoutVertexArray.length,T,T.index,{},Ge[0])}}else{for(var Wt=0,zt=c;Wt<zt.length;Wt+=1)Ye(zt[Wt]);s.programConfigurations.populatePaintArrays(s.layoutVertexArray.length,T,T.index,{})}s.placedSymbolArray.emplaceBack(F.x,F.y,Ce,this.glyphOffsetArray.length-Ce,Ie,V,X,F.segment,d?d[0]:0,d?d[1]:0,y[0],y[1],O,0,!1,0,Z)},In.prototype._addCollisionDebugVertex=function(s,c,d,y,k,T){return c.emplaceBack(0,0),s.emplaceBack(d.x,d.y,y,k,Math.round(T.x),Math.round(T.y))},In.prototype.addCollisionDebugVertices=function(s,c,d,y,k,T,O,F){var V=k.segments.prepareSegment(4,k.layoutVertexArray,k.indexArray),X=V.vertexLength,Z=k.layoutVertexArray,ne=k.collisionVertexArray,ue=O.anchorX,ae=O.anchorY;if(this._addCollisionDebugVertex(Z,ne,T,ue,ae,new f(s,c)),this._addCollisionDebugVertex(Z,ne,T,ue,ae,new f(d,c)),this._addCollisionDebugVertex(Z,ne,T,ue,ae,new f(d,y)),this._addCollisionDebugVertex(Z,ne,T,ue,ae,new f(s,y)),V.vertexLength+=4,F){var de=k.indexArray;de.emplaceBack(X,X+1,X+2),de.emplaceBack(X,X+2,X+3),V.primitiveLength+=2}else{var we=k.indexArray;we.emplaceBack(X,X+1),we.emplaceBack(X+1,X+2),we.emplaceBack(X+2,X+3),we.emplaceBack(X+3,X),V.primitiveLength+=4}},In.prototype.addDebugCollisionBoxes=function(s,c,d,y){for(var k=s;k<c;k++){var T=this.collisionBoxArray.get(k),O=T.x1,F=T.y1,V=T.x2,X=T.y2,Z=T.radius>0;this.addCollisionDebugVertices(O,F,V,X,Z?y?this.textCollisionCircle:this.iconCollisionCircle:y?this.textCollisionBox:this.iconCollisionBox,T.anchorPoint,d,Z)}},In.prototype.generateCollisionDebugBuffers=function(){for(var s=0;s<this.symbolInstances.length;s++){var c=this.symbolInstances.get(s);this.addDebugCollisionBoxes(c.textBoxStartIndex,c.textBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.iconBoxStartIndex,c.iconBoxEndIndex,c,!1),this.addDebugCollisionBoxes(c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex,c,!1)}},In.prototype._deserializeCollisionBoxesForSymbol=function(s,c,d,y,k,T,O,F,V){for(var X={},Z=c;Z<d;Z++){var ne=s.get(Z);if(ne.radius===0){X.textBox={x1:ne.x1,y1:ne.y1,x2:ne.x2,y2:ne.y2,anchorPointX:ne.anchorPointX,anchorPointY:ne.anchorPointY},X.textFeatureIndex=ne.featureIndex;break}X.textCircles||(X.textCircles=[],X.textFeatureIndex=ne.featureIndex),X.textCircles.push(ne.anchorPointX,ne.anchorPointY,ne.radius,ne.signedDistanceFromAnchor,1)}for(var ue=y;ue<k;ue++){var ae=s.get(ue);if(ae.radius===0){X.verticalTextBox={x1:ae.x1,y1:ae.y1,x2:ae.x2,y2:ae.y2,anchorPointX:ae.anchorPointX,anchorPointY:ae.anchorPointY},X.verticalTextFeatureIndex=ae.featureIndex;break}}for(var de=T;de<O;de++){var we=s.get(de);if(we.radius===0){X.iconBox={x1:we.x1,y1:we.y1,x2:we.x2,y2:we.y2,anchorPointX:we.anchorPointX,anchorPointY:we.anchorPointY},X.iconFeatureIndex=we.featureIndex;break}}for(var Ce=F;Ce<V;Ce++){var Ie=s.get(Ce);if(Ie.radius===0){X.verticalIconBox={x1:Ie.x1,y1:Ie.y1,x2:Ie.x2,y2:Ie.y2,anchorPointX:Ie.anchorPointX,anchorPointY:Ie.anchorPointY},X.verticalIconFeatureIndex=Ie.featureIndex;break}}return X},In.prototype.deserializeCollisionBoxes=function(s){this.collisionArrays=[];for(var c=0;c<this.symbolInstances.length;c++){var d=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(s,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}},In.prototype.hasTextData=function(){return this.text.segments.get().length>0},In.prototype.hasIconData=function(){return this.icon.segments.get().length>0},In.prototype.hasTextCollisionBoxData=function(){return this.textCollisionBox.segments.get().length>0},In.prototype.hasIconCollisionBoxData=function(){return this.iconCollisionBox.segments.get().length>0},In.prototype.hasTextCollisionCircleData=function(){return this.textCollisionCircle.segments.get().length>0},In.prototype.hasIconCollisionCircleData=function(){return this.iconCollisionCircle.segments.get().length>0},In.prototype.addIndicesForPlacedSymbol=function(s,c){for(var d=s.placedSymbolArray.get(c),y=d.vertexStartIndex+4*d.numGlyphs,k=d.vertexStartIndex;k<y;k+=4)s.indexArray.emplaceBack(k,k+1,k+2),s.indexArray.emplaceBack(k+1,k+2,k+3)},In.prototype.getSortedSymbolIndexes=function(s){if(this.sortedAngle===s&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var c=Math.sin(s),d=Math.cos(s),y=[],k=[],T=[],O=0;O<this.symbolInstances.length;++O){T.push(O);var F=this.symbolInstances.get(O);y.push(0|Math.round(c*F.anchorX+d*F.anchorY)),k.push(F.featureIndex)}return T.sort(function(V,X){return y[V]-y[X]||k[X]-k[V]}),T},In.prototype.sortFeatures=function(s){var c=this;if(this.sortFeaturesByY&&this.sortedAngle!==s&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(s),this.sortedAngle=s,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var d=0,y=this.symbolInstanceIndexes;d<y.length;d+=1){var k=y[d],T=this.symbolInstances.get(k);this.featureSortOrder.push(T.featureIndex),[T.rightJustifiedTextSymbolIndex,T.centerJustifiedTextSymbolIndex,T.leftJustifiedTextSymbolIndex].forEach(function(O,F,V){O>=0&&V.indexOf(O)===F&&c.addIndicesForPlacedSymbol(c.text,O)}),T.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,T.verticalPlacedTextSymbolIndex),T.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,T.placedIconSymbolIndex),T.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,T.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Kt("SymbolBucket",In,{omit:["layers","collisionBoxArray","features","compareText"]}),In.MAX_GLYPHS=65535,In.addDynamicAttributes=K_;var YB=new ao({"symbol-placement":new ir(et.layout_symbol["symbol-placement"]),"symbol-spacing":new ir(et.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ir(et.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new lr(et.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ir(et.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ir(et.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ir(et.layout_symbol["icon-ignore-placement"]),"icon-optional":new ir(et.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ir(et.layout_symbol["icon-rotation-alignment"]),"icon-size":new lr(et.layout_symbol["icon-size"]),"icon-text-fit":new ir(et.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ir(et.layout_symbol["icon-text-fit-padding"]),"icon-image":new lr(et.layout_symbol["icon-image"]),"icon-rotate":new lr(et.layout_symbol["icon-rotate"]),"icon-padding":new ir(et.layout_symbol["icon-padding"]),"icon-keep-upright":new ir(et.layout_symbol["icon-keep-upright"]),"icon-offset":new lr(et.layout_symbol["icon-offset"]),"icon-anchor":new lr(et.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ir(et.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ir(et.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ir(et.layout_symbol["text-rotation-alignment"]),"text-field":new lr(et.layout_symbol["text-field"]),"text-font":new lr(et.layout_symbol["text-font"]),"text-size":new lr(et.layout_symbol["text-size"]),"text-max-width":new lr(et.layout_symbol["text-max-width"]),"text-line-height":new ir(et.layout_symbol["text-line-height"]),"text-letter-spacing":new lr(et.layout_symbol["text-letter-spacing"]),"text-justify":new lr(et.layout_symbol["text-justify"]),"text-radial-offset":new lr(et.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ir(et.layout_symbol["text-variable-anchor"]),"text-anchor":new lr(et.layout_symbol["text-anchor"]),"text-max-angle":new ir(et.layout_symbol["text-max-angle"]),"text-writing-mode":new ir(et.layout_symbol["text-writing-mode"]),"text-rotate":new lr(et.layout_symbol["text-rotate"]),"text-padding":new ir(et.layout_symbol["text-padding"]),"text-keep-upright":new ir(et.layout_symbol["text-keep-upright"]),"text-transform":new lr(et.layout_symbol["text-transform"]),"text-offset":new lr(et.layout_symbol["text-offset"]),"text-allow-overlap":new ir(et.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ir(et.layout_symbol["text-ignore-placement"]),"text-optional":new ir(et.layout_symbol["text-optional"])}),h0={paint:new ao({"icon-opacity":new lr(et.paint_symbol["icon-opacity"]),"icon-color":new lr(et.paint_symbol["icon-color"]),"icon-halo-color":new lr(et.paint_symbol["icon-halo-color"]),"icon-halo-width":new lr(et.paint_symbol["icon-halo-width"]),"icon-halo-blur":new lr(et.paint_symbol["icon-halo-blur"]),"icon-translate":new ir(et.paint_symbol["icon-translate"]),"icon-translate-anchor":new ir(et.paint_symbol["icon-translate-anchor"]),"text-opacity":new lr(et.paint_symbol["text-opacity"]),"text-color":new lr(et.paint_symbol["text-color"],{runtimeType:Le,getOverride:function(s){return s.textColor},hasOverride:function(s){return!!s.textColor}}),"text-halo-color":new lr(et.paint_symbol["text-halo-color"]),"text-halo-width":new lr(et.paint_symbol["text-halo-width"]),"text-halo-blur":new lr(et.paint_symbol["text-halo-blur"]),"text-translate":new ir(et.paint_symbol["text-translate"]),"text-translate-anchor":new ir(et.paint_symbol["text-translate-anchor"])}),layout:YB},pf=function(s){this.type=s.property.overrides?s.property.overrides.runtimeType:re,this.defaultValue=s};pf.prototype.evaluate=function(s){if(s.formattedSection){var c=this.defaultValue.property.overrides;if(c&&c.hasOverride(s.formattedSection))return c.getOverride(s.formattedSection)}return s.feature&&s.featureState?this.defaultValue.evaluate(s.feature,s.featureState):this.defaultValue.property.specification.default},pf.prototype.eachChild=function(s){this.defaultValue.isConstant()||s(this.defaultValue.value._styleExpression.expression)},pf.prototype.possibleOutputs=function(){return[void 0]},pf.prototype.serialize=function(){return null},Kt("FormatSectionOverride",pf,{omit:["defaultValue"]});var rP=function(s){function c(d){s.call(this,d,h0)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.recalculate=function(d,y){if(s.prototype.recalculate.call(this,d,y),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var k=this.layout.get("text-writing-mode");if(k){for(var T=[],O=0,F=k;O<F.length;O+=1){var V=F[O];T.indexOf(V)<0&&T.push(V)}this.layout._values["text-writing-mode"]=T}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},c.prototype.getValueAndResolveTokens=function(d,y,k){var T=this.layout.get(d).evaluate(y,{},k),O=this._unevaluatedLayout._values[d];return O.isDataDriven()||$d(O.value)||!T?T:function(F,V){return V.replace(/{([^{}]+)}/g,function(X,Z){return Z in F?String(F[Z]):""})}(y.properties,T)},c.prototype.createBucket=function(d){return new In(d)},c.prototype.queryRadius=function(){return 0},c.prototype.queryIntersectsFeature=function(){return!1},c.prototype._setPaintOverrides=function(){for(var d=0,y=h0.paint.overridableProperties;d<y.length;d+=1){var k=y[d];if(c.hasPaintOverride(this.layout,k)){var T=this.paint.get(k),O=new pf(T),F=new wh(O,T.property.specification),V=null;V=T.value.kind==="constant"||T.value.kind==="source"?new iu("source",F):new au("composite",F,T.value.zoomStops,T.value._interpolationType),this.paint._values[k]=new io(T.property,V,T.parameters)}}},c.prototype._handleOverridablePaintPropertyUpdate=function(d,y,k){return!(!this.layout||y.isDataDriven()||k.isDataDriven())&&c.hasPaintOverride(this.layout,d)},c.hasPaintOverride=function(d,y){var k=d.get("text-field"),T=h0.paint.properties[y],O=!1,F=function(Z){for(var ne=0,ue=Z;ne<ue.length;ne+=1){var ae=ue[ne];if(T.overrides&&T.overrides.hasOverride(ae))return void(O=!0)}};if(k.value.kind==="constant"&&k.value.value instanceof ar)F(k.value.value.sections);else if(k.value.kind==="source"){var V=function(Z){if(!O)if(Z instanceof hn&&pr(Z.value)===at){var ne=Z.value;F(ne.sections)}else Z instanceof Pn?F(Z.sections):Z.eachChild(V)},X=k.value;X._styleExpression&&V(X._styleExpression.expression)}return O},c.hasPaintOverrides=function(d){for(var y=0,k=h0.paint.overridableProperties;y<k.length;y+=1){var T=k[y];if(c.hasPaintOverride(d,T))return!0}return!1},c}(is),XB={paint:new ao({"background-color":new ir(et.paint_background["background-color"]),"background-pattern":new du(et.paint_background["background-pattern"]),"background-opacity":new ir(et.paint_background["background-opacity"])})},GB=function(s){function c(d){s.call(this,d,XB)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c}(is),qB={paint:new ao({"raster-opacity":new ir(et.paint_raster["raster-opacity"]),"raster-hue-rotate":new ir(et.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ir(et.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ir(et.paint_raster["raster-brightness-max"]),"raster-saturation":new ir(et.paint_raster["raster-saturation"]),"raster-contrast":new ir(et.paint_raster["raster-contrast"]),"raster-resampling":new ir(et.paint_raster["raster-resampling"]),"raster-fade-duration":new ir(et.paint_raster["raster-fade-duration"])})},ZB=function(s){function c(d){s.call(this,d,qB)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c}(is),KB=function(s){function c(d){s.call(this,d,{}),this.implementation=d}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},c.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},c.prototype.recalculate=function(){},c.prototype.updateTransitions=function(){},c.prototype.hasTransition=function(){},c.prototype.serialize=function(){},c.prototype.onAdd=function(d){this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},c.prototype.onRemove=function(d){this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},c}(is),JB={circle:F8,heatmap:$8,hillshade:U8,fill:aB,"fill-extrusion":pB,line:yB,symbol:rP,background:GB,raster:ZB},nP=self.HTMLImageElement,iP=self.HTMLCanvasElement,aP=self.HTMLVideoElement,oP=self.ImageData,d0=self.ImageBitmap,Oh=function(s,c,d,y){this.context=s,this.format=d,this.texture=s.gl.createTexture(),this.update(c,y)};Oh.prototype.update=function(s,c,d){var y=s.width,k=s.height,T=!(this.size&&this.size[0]===y&&this.size[1]===k||d),O=this.context,F=O.gl;if(this.useMipmap=!!(c&&c.useMipmap),F.bindTexture(F.TEXTURE_2D,this.texture),O.pixelStoreUnpackFlipY.set(!1),O.pixelStoreUnpack.set(1),O.pixelStoreUnpackPremultiplyAlpha.set(this.format===F.RGBA&&(!c||c.premultiply!==!1)),T)this.size=[y,k],s instanceof nP||s instanceof iP||s instanceof aP||s instanceof oP||d0&&s instanceof d0?F.texImage2D(F.TEXTURE_2D,0,this.format,this.format,F.UNSIGNED_BYTE,s):F.texImage2D(F.TEXTURE_2D,0,this.format,y,k,0,this.format,F.UNSIGNED_BYTE,s.data);else{var V=d||{x:0,y:0},X=V.x,Z=V.y;s instanceof nP||s instanceof iP||s instanceof aP||s instanceof oP||d0&&s instanceof d0?F.texSubImage2D(F.TEXTURE_2D,0,X,Z,F.RGBA,F.UNSIGNED_BYTE,s):F.texSubImage2D(F.TEXTURE_2D,0,X,Z,y,k,F.RGBA,F.UNSIGNED_BYTE,s.data)}this.useMipmap&&this.isSizePowerOfTwo()&&F.generateMipmap(F.TEXTURE_2D)},Oh.prototype.bind=function(s,c,d){var y=this.context.gl;y.bindTexture(y.TEXTURE_2D,this.texture),d!==y.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(d=y.LINEAR),s!==this.filter&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,s),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,d||s),this.filter=s),c!==this.wrap&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,c),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,c),this.wrap=c)},Oh.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Oh.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var J_=function(s){var c=this;this._callback=s,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){c._triggered=!1,c._callback()})};J_.prototype.trigger=function(){var s=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){s._triggered=!1,s._callback()},0))},J_.prototype.remove=function(){delete this._channel,this._callback=function(){}};var mf=function(s,c,d){this.target=s,this.parent=c,this.mapId=d,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},D(["receive","process"],this),this.invoker=new J_(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=he()?s:self};function sP(s,c,d){var y=2*Math.PI*6378137/256/Math.pow(2,d);return[s*y-2*Math.PI*6378137/2,c*y-2*Math.PI*6378137/2]}mf.prototype.send=function(s,c,d,y,k){var T=this;k===void 0&&(k=!1);var O=Math.round(1e18*Math.random()).toString(36).substring(0,10);d&&(this.callbacks[O]=d);var F=_e(this.globalScope)?void 0:[];return this.target.postMessage({id:O,type:s,hasCallback:!!d,targetMapId:y,mustQueue:k,sourceMapId:this.mapId,data:uu(c,F)},F),{cancel:function(){d&&delete T.callbacks[O],T.target.postMessage({id:O,type:"<cancel>",targetMapId:y,sourceMapId:T.mapId})}}},mf.prototype.receive=function(s){var c=s.data,d=c.id;if(d&&(!c.targetMapId||this.mapId===c.targetMapId))if(c.type==="<cancel>"){delete this.tasks[d];var y=this.cancelCallbacks[d];delete this.cancelCallbacks[d],y&&y()}else he()||c.mustQueue?(this.tasks[d]=c,this.taskQueue.push(d),this.invoker.trigger()):this.processTask(d,c)},mf.prototype.process=function(){if(this.taskQueue.length){var s=this.taskQueue.shift(),c=this.tasks[s];delete this.tasks[s],this.taskQueue.length&&this.invoker.trigger(),c&&this.processTask(s,c)}},mf.prototype.processTask=function(s,c){var d=this;if(c.type==="<response>"){var y=this.callbacks[s];delete this.callbacks[s],y&&(c.error?y(ji(c.error)):y(null,ji(c.data)))}else{var k=!1,T=_e(this.globalScope)?void 0:[],O=c.hasCallback?function(Z,ne){k=!0,delete d.cancelCallbacks[s],d.target.postMessage({id:s,type:"<response>",sourceMapId:d.mapId,error:Z?uu(Z):null,data:uu(ne,T)},T)}:function(Z){k=!0},F=null,V=ji(c.data);if(this.parent[c.type])F=this.parent[c.type](c.sourceMapId,V,O);else if(this.parent.getWorkerSource){var X=c.type.split(".");F=this.parent.getWorkerSource(c.sourceMapId,X[0],V.source)[X[1]](V,O)}else O(new Error("Could not find function "+c.type));!k&&F&&F.cancel&&(this.cancelCallbacks[s]=F.cancel)}},mf.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Fi=function(s,c){s&&(c?this.setSouthWest(s).setNorthEast(c):s.length===4?this.setSouthWest([s[0],s[1]]).setNorthEast([s[2],s[3]]):this.setSouthWest(s[0]).setNorthEast(s[1]))};Fi.prototype.setNorthEast=function(s){return this._ne=s instanceof li?new li(s.lng,s.lat):li.convert(s),this},Fi.prototype.setSouthWest=function(s){return this._sw=s instanceof li?new li(s.lng,s.lat):li.convert(s),this},Fi.prototype.extend=function(s){var c,d,y=this._sw,k=this._ne;if(s instanceof li)c=s,d=s;else{if(!(s instanceof Fi))return Array.isArray(s)?s.every(Array.isArray)?this.extend(Fi.convert(s)):this.extend(li.convert(s)):this;if(c=s._sw,d=s._ne,!c||!d)return this}return y||k?(y.lng=Math.min(c.lng,y.lng),y.lat=Math.min(c.lat,y.lat),k.lng=Math.max(d.lng,k.lng),k.lat=Math.max(d.lat,k.lat)):(this._sw=new li(c.lng,c.lat),this._ne=new li(d.lng,d.lat)),this},Fi.prototype.getCenter=function(){return new li((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Fi.prototype.getSouthWest=function(){return this._sw},Fi.prototype.getNorthEast=function(){return this._ne},Fi.prototype.getNorthWest=function(){return new li(this.getWest(),this.getNorth())},Fi.prototype.getSouthEast=function(){return new li(this.getEast(),this.getSouth())},Fi.prototype.getWest=function(){return this._sw.lng},Fi.prototype.getSouth=function(){return this._sw.lat},Fi.prototype.getEast=function(){return this._ne.lng},Fi.prototype.getNorth=function(){return this._ne.lat},Fi.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Fi.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Fi.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Fi.prototype.contains=function(s){var c=li.convert(s),d=c.lng,y=c.lat,k=this._sw.lat<=y&&y<=this._ne.lat,T=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(T=this._sw.lng>=d&&d>=this._ne.lng),k&&T},Fi.convert=function(s){return!s||s instanceof Fi?s:new Fi(s)};var li=function(s,c){if(isNaN(s)||isNaN(c))throw new Error("Invalid LngLat object: ("+s+", "+c+")");if(this.lng=+s,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};li.prototype.wrap=function(){return new li(C(this.lng,-180,180),this.lat)},li.prototype.toArray=function(){return[this.lng,this.lat]},li.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},li.prototype.toBounds=function(s){s===void 0&&(s=0);var c=360*s/40075017,d=c/Math.cos(Math.PI/180*this.lat);return new Fi(new li(this.lng-d,this.lat-c),new li(this.lng+d,this.lat+c))},li.convert=function(s){if(s instanceof li)return s;if(Array.isArray(s)&&(s.length===2||s.length===3))return new li(Number(s[0]),Number(s[1]));if(!Array.isArray(s)&&typeof s=="object"&&s!==null)return new li(Number("lng"in s?s.lng:s.lon),Number(s.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var lP=2*Math.PI*6378137;function cP(s){return lP*Math.cos(s*Math.PI/180)}function uP(s){return(180+s)/360}function hP(s){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+s*Math.PI/360)))/360}function dP(s,c){return s/cP(c)}function Q_(s){var c=180-360*s;return 360/Math.PI*Math.atan(Math.exp(c*Math.PI/180))-90}var Dh=function(s,c,d){d===void 0&&(d=0),this.x=+s,this.y=+c,this.z=+d};Dh.fromLngLat=function(s,c){c===void 0&&(c=0);var d=li.convert(s);return new Dh(uP(d.lng),hP(d.lat),dP(c,d.lat))},Dh.prototype.toLngLat=function(){return new li(360*this.x-180,Q_(this.y))},Dh.prototype.toAltitude=function(){return s=this.z,c=this.y,s*cP(Q_(c));var s,c},Dh.prototype.meterInMercatorCoordinateUnits=function(){return 1/lP*(s=Q_(this.y),1/Math.cos(s*Math.PI/180));var s};var Nh=function(s,c,d){this.z=s,this.x=c,this.y=d,this.key=tg(0,s,s,c,d)};Nh.prototype.equals=function(s){return this.z===s.z&&this.x===s.x&&this.y===s.y},Nh.prototype.url=function(s,c){var d,y,k,T,O,F=(d=this.x,y=this.y,k=this.z,T=sP(256*d,256*(y=Math.pow(2,k)-y-1),k),O=sP(256*(d+1),256*(y+1),k),T[0]+","+T[1]+","+O[0]+","+O[1]),V=function(X,Z,ne){for(var ue,ae="",de=X;de>0;de--)ae+=(Z&(ue=1<<de-1)?1:0)+(ne&ue?2:0);return ae}(this.z,this.x,this.y);return s[(this.x+this.y)%s.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(c==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",V).replace("{bbox-epsg-3857}",F)},Nh.prototype.getTilePoint=function(s){var c=Math.pow(2,this.z);return new f(8192*(s.x*c-this.x),8192*(s.y*c-this.y))},Nh.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var fP=function(s,c){this.wrap=s,this.canonical=c,this.key=tg(s,c.z,c.z,c.x,c.y)},Bi=function(s,c,d,y,k){this.overscaledZ=s,this.wrap=c,this.canonical=new Nh(d,+y,+k),this.key=tg(c,s,d,y,k)};function tg(s,c,d,y,k){(s*=2)<0&&(s=-1*s-1);var T=1<<d;return(T*T*s+T*k+y).toString(36)+d.toString(36)+c.toString(36)}Bi.prototype.equals=function(s){return this.overscaledZ===s.overscaledZ&&this.wrap===s.wrap&&this.canonical.equals(s.canonical)},Bi.prototype.scaledTo=function(s){var c=this.canonical.z-s;return s>this.canonical.z?new Bi(s,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Bi(s,this.wrap,s,this.canonical.x>>c,this.canonical.y>>c)},Bi.prototype.calculateScaledKey=function(s,c){var d=this.canonical.z-s;return s>this.canonical.z?tg(this.wrap*+c,s,this.canonical.z,this.canonical.x,this.canonical.y):tg(this.wrap*+c,s,s,this.canonical.x>>d,this.canonical.y>>d)},Bi.prototype.isChildOf=function(s){if(s.wrap!==this.wrap)return!1;var c=this.canonical.z-s.canonical.z;return s.overscaledZ===0||s.overscaledZ<this.overscaledZ&&s.canonical.x===this.canonical.x>>c&&s.canonical.y===this.canonical.y>>c},Bi.prototype.children=function(s){if(this.overscaledZ>=s)return[new Bi(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var c=this.canonical.z+1,d=2*this.canonical.x,y=2*this.canonical.y;return[new Bi(c,this.wrap,c,d,y),new Bi(c,this.wrap,c,d+1,y),new Bi(c,this.wrap,c,d,y+1),new Bi(c,this.wrap,c,d+1,y+1)]},Bi.prototype.isLessThan=function(s){return this.wrap<s.wrap||!(this.wrap>s.wrap)&&(this.overscaledZ<s.overscaledZ||!(this.overscaledZ>s.overscaledZ)&&(this.canonical.x<s.canonical.x||!(this.canonical.x>s.canonical.x)&&this.canonical.y<s.canonical.y))},Bi.prototype.wrapped=function(){return new Bi(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Bi.prototype.unwrapTo=function(s){return new Bi(this.overscaledZ,s,this.canonical.z,this.canonical.x,this.canonical.y)},Bi.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Bi.prototype.toUnwrapped=function(){return new fP(this.wrap,this.canonical)},Bi.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Bi.prototype.getTilePoint=function(s){return this.canonical.getTilePoint(new Dh(s.x-this.wrap,s.y))},Kt("CanonicalTileID",Nh),Kt("OverscaledTileID",Bi,{omit:["posMatrix"]});var xc=function(s,c,d){if(this.uid=s,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(d&&d!=="mapbox"&&d!=="terrarium")return q('"'+d+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=c.height;var y=this.dim=c.height-2;this.data=new Uint32Array(c.data.buffer),this.encoding=d||"mapbox";for(var k=0;k<y;k++)this.data[this._idx(-1,k)]=this.data[this._idx(0,k)],this.data[this._idx(y,k)]=this.data[this._idx(y-1,k)],this.data[this._idx(k,-1)]=this.data[this._idx(k,0)],this.data[this._idx(k,y)]=this.data[this._idx(k,y-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(y,-1)]=this.data[this._idx(y-1,0)],this.data[this._idx(-1,y)]=this.data[this._idx(0,y-1)],this.data[this._idx(y,y)]=this.data[this._idx(y-1,y-1)]};xc.prototype.get=function(s,c){var d=new Uint8Array(this.data.buffer),y=4*this._idx(s,c);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(d[y],d[y+1],d[y+2])},xc.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},xc.prototype._idx=function(s,c){if(s<-1||s>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(s+1)},xc.prototype._unpackMapbox=function(s,c,d){return(256*s*256+256*c+d)/10-1e4},xc.prototype._unpackTerrarium=function(s,c,d){return 256*s+c+d/256-32768},xc.prototype.getPixels=function(){return new lo({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},xc.prototype.backfillBorder=function(s,c,d){if(this.dim!==s.dim)throw new Error("dem dimension mismatch");var y=c*this.dim,k=c*this.dim+this.dim,T=d*this.dim,O=d*this.dim+this.dim;switch(c){case-1:y=k-1;break;case 1:k=y+1}switch(d){case-1:T=O-1;break;case 1:O=T+1}for(var F=-c*this.dim,V=-d*this.dim,X=T;X<O;X++)for(var Z=y;Z<k;Z++)this.data[this._idx(Z,X)]=s.data[this._idx(Z+F,X+V)]},Kt("DEMData",xc);var f0=function(s){this._stringToNumber={},this._numberToString=[];for(var c=0;c<s.length;c++){var d=s[c];this._stringToNumber[d]=c,this._numberToString[c]=d}};f0.prototype.encode=function(s){return this._stringToNumber[s]},f0.prototype.decode=function(s){return this._numberToString[s]};var p0=function(s,c,d,y,k){this.type="Feature",this._vectorTileFeature=s,s._z=c,s._x=d,s._y=y,this.properties=s.properties,this.id=k},ew={geometry:{configurable:!0}};ew.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},ew.geometry.set=function(s){this._geometry=s},p0.prototype.toJSON=function(){var s={geometry:this.geometry};for(var c in this)c!=="_geometry"&&c!=="_vectorTileFeature"&&(s[c]=this[c]);return s},Object.defineProperties(p0.prototype,ew);var gf=function(){this.state={},this.stateChanges={},this.deletedStates={}};gf.prototype.updateState=function(s,c,d){var y=String(c);if(this.stateChanges[s]=this.stateChanges[s]||{},this.stateChanges[s][y]=this.stateChanges[s][y]||{},A(this.stateChanges[s][y],d),this.deletedStates[s]===null)for(var k in this.deletedStates[s]={},this.state[s])k!==y&&(this.deletedStates[s][k]=null);else if(this.deletedStates[s]&&this.deletedStates[s][y]===null)for(var T in this.deletedStates[s][y]={},this.state[s][y])d[T]||(this.deletedStates[s][y][T]=null);else for(var O in d)this.deletedStates[s]&&this.deletedStates[s][y]&&this.deletedStates[s][y][O]===null&&delete this.deletedStates[s][y][O]},gf.prototype.removeFeatureState=function(s,c,d){if(this.deletedStates[s]!==null){var y=String(c);if(this.deletedStates[s]=this.deletedStates[s]||{},d&&c!==void 0)this.deletedStates[s][y]!==null&&(this.deletedStates[s][y]=this.deletedStates[s][y]||{},this.deletedStates[s][y][d]=null);else if(c!==void 0)if(this.stateChanges[s]&&this.stateChanges[s][y])for(d in this.deletedStates[s][y]={},this.stateChanges[s][y])this.deletedStates[s][y][d]=null;else this.deletedStates[s][y]=null;else this.deletedStates[s]=null}},gf.prototype.getState=function(s,c){var d=String(c),y=this.state[s]||{},k=this.stateChanges[s]||{},T=A({},y[d],k[d]);if(this.deletedStates[s]===null)return{};if(this.deletedStates[s]){var O=this.deletedStates[s][c];if(O===null)return{};for(var F in O)delete T[F]}return T},gf.prototype.initializeTileState=function(s,c){s.setFeatureState(this.state,c)},gf.prototype.coalesceChanges=function(s,c){var d={};for(var y in this.stateChanges){this.state[y]=this.state[y]||{};var k={};for(var T in this.stateChanges[y])this.state[y][T]||(this.state[y][T]={}),A(this.state[y][T],this.stateChanges[y][T]),k[T]=this.state[y][T];d[y]=k}for(var O in this.deletedStates){this.state[O]=this.state[O]||{};var F={};if(this.deletedStates[O]===null)for(var V in this.state[O])F[V]={},this.state[O][V]={};else for(var X in this.deletedStates[O]){if(this.deletedStates[O][X]===null)this.state[O][X]={};else for(var Z=0,ne=Object.keys(this.deletedStates[O][X]);Z<ne.length;Z+=1){var ue=ne[Z];delete this.state[O][X][ue]}F[X]=this.state[O][X]}d[O]=d[O]||{},A(d[O],F)}if(this.stateChanges={},this.deletedStates={},Object.keys(d).length!==0)for(var ae in s)s[ae].setFeatureState(d,c)};var bc=function(s,c){this.tileID=s,this.x=s.canonical.x,this.y=s.canonical.y,this.z=s.canonical.z,this.grid=new hc(8192,16,0),this.grid3D=new hc(8192,16,0),this.featureIndexArray=new xi,this.promoteId=c};function pP(s){for(var c=1/0,d=1/0,y=-1/0,k=-1/0,T=0,O=s;T<O.length;T+=1){var F=O[T];c=Math.min(c,F.x),d=Math.min(d,F.y),y=Math.max(y,F.x),k=Math.max(k,F.y)}return{minX:c,minY:d,maxX:y,maxY:k}}function QB(s,c){return c-s}bc.prototype.insert=function(s,c,d,y,k,T){var O=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,y,k);for(var F=T?this.grid3D:this.grid,V=0;V<c.length;V++){for(var X=c[V],Z=[1/0,1/0,-1/0,-1/0],ne=0;ne<X.length;ne++){var ue=X[ne];Z[0]=Math.min(Z[0],ue.x),Z[1]=Math.min(Z[1],ue.y),Z[2]=Math.max(Z[2],ue.x),Z[3]=Math.max(Z[3],ue.y)}Z[0]<8192&&Z[1]<8192&&Z[2]>=0&&Z[3]>=0&&F.insert(O,Z[0],Z[1],Z[2],Z[3])}},bc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new sf.VectorTile(new r0(this.rawTileData)).layers,this.sourceLayerCoder=new f0(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},bc.prototype.query=function(s,c,d){var y=this;this.loadVTLayers();for(var k=s.params||{},T=8192/s.tileSize/s.scale,O=Xd(k.filter),F=s.queryGeometry,V=s.queryPadding*T,X=pP(F),Z=this.grid.query(X.minX-V,X.minY-V,X.maxX+V,X.maxY+V),ne=pP(s.cameraQueryGeometry),ue=this.grid3D.query(ne.minX-V,ne.minY-V,ne.maxX+V,ne.maxY+V,function(Ge,ot,ft,ht){return function(Rt,Jt,Vt,nr,Wt){for(var zt=0,Ct=Rt;zt<Ct.length;zt+=1){var $r=Ct[zt];if(Jt<=$r.x&&Vt<=$r.y&&nr>=$r.x&&Wt>=$r.y)return!0}var En=[new f(Jt,Vt),new f(Jt,Wt),new f(nr,Wt),new f(nr,Vt)];if(Rt.length>2){for(var ln=0,wr=En;ln<wr.length;ln+=1)if(nf(Rt,wr[ln]))return!0}for(var Hr=0;Hr<Rt.length-1;Hr++)if(R8(Rt[Hr],Rt[Hr+1],En))return!0;return!1}(s.cameraQueryGeometry,Ge-V,ot-V,ft+V,ht+V)}),ae=0,de=ue;ae<de.length;ae+=1){var we=de[ae];Z.push(we)}Z.sort(QB);for(var Ce,Ie={},Ve=function(Ge){var ot=Z[Ge];if(ot!==Ce){Ce=ot;var ft=y.featureIndexArray.get(ot),ht=null;y.loadMatchingFeature(Ie,ft.bucketIndex,ft.sourceLayerIndex,ft.featureIndex,O,k.layers,c,function(Rt,Jt,Vt){ht||(ht=rf(Rt));var nr={};return Vt!==void 0&&(nr=d.getState(Jt.sourceLayer||"_geojsonTileLayer",Vt)),Jt.queryIntersectsFeature(F,Rt,nr,ht,y.z,s.transform,T,s.pixelPosMatrix)})}},Ye=0;Ye<Z.length;Ye++)Ve(Ye);return Ie},bc.prototype.loadMatchingFeature=function(s,c,d,y,k,T,O,F){var V=this.bucketLayerIDs[c];if(!T||function(Ve,Ye){for(var Ge=0;Ge<Ve.length;Ge++)if(Ye.indexOf(Ve[Ge])>=0)return!0;return!1}(T,V)){var X=this.sourceLayerCoder.decode(d),Z=this.vtLayers[X].feature(y);if(k(new Fn(this.tileID.overscaledZ),Z))for(var ne=this.getId(Z,X),ue=0;ue<V.length;ue++){var ae=V[ue];if(!(T&&T.indexOf(ae)<0)){var de=O[ae];if(de){var we=!F||F(Z,de,ne);if(we){var Ce=new p0(Z,this.z,this.x,this.y,ne);Ce.layer=de.serialize();var Ie=s[ae];Ie===void 0&&(Ie=s[ae]=[]),Ie.push({featureIndex:y,feature:Ce,intersectionZ:we})}}}}}},bc.prototype.lookupSymbolFeatures=function(s,c,d,y,k,T){var O={};this.loadVTLayers();for(var F=Xd(y),V=0,X=s;V<X.length;V+=1){var Z=X[V];this.loadMatchingFeature(O,c,d,Z,F,k,T)}return O},bc.prototype.hasLayer=function(s){for(var c=0,d=this.bucketLayerIDs;c<d.length;c+=1)for(var y=0,k=d[c];y<k.length;y+=1)if(s===k[y])return!0;return!1},bc.prototype.getId=function(s,c){var d=s.id;if(this.promoteId){var y=typeof this.promoteId=="string"?this.promoteId:this.promoteId[c];typeof(d=s.properties[y])=="boolean"&&(d=Number(d))}return d},Kt("FeatureIndex",bc,{omit:["rawTileData","sourceLayerCoder"]});var ia=function(s,c){this.tileID=s,this.uid=P(),this.uses=0,this.tileSize=c,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ia.prototype.registerFadeDuration=function(s){var c=s+this.timeAdded;c<Xe.now()||this.fadeEndTime&&c<this.fadeEndTime||(this.fadeEndTime=c)},ia.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},ia.prototype.loadVectorData=function(s,c,d){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",s){for(var y in s.featureIndex&&(this.latestFeatureIndex=s.featureIndex,s.rawTileData?(this.latestRawTileData=s.rawTileData,this.latestFeatureIndex.rawTileData=s.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=s.collisionBoxArray,this.buckets=function(X,Z){var ne={};if(!Z)return ne;for(var ue=function(){var we=de[ae],Ce=we.layerIds.map(function(Ge){return Z.getLayer(Ge)}).filter(Boolean);if(Ce.length!==0){we.layers=Ce,we.stateDependentLayerIds&&(we.stateDependentLayers=we.stateDependentLayerIds.map(function(Ge){return Ce.filter(function(ot){return ot.id===Ge})[0]}));for(var Ie=0,Ve=Ce;Ie<Ve.length;Ie+=1){var Ye=Ve[Ie];ne[Ye.id]=we}}},ae=0,de=X;ae<de.length;ae+=1)ue();return ne}(s.buckets,c.style),this.hasSymbolBuckets=!1,this.buckets){var k=this.buckets[y];if(k instanceof In){if(this.hasSymbolBuckets=!0,!d)break;k.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var T in this.buckets){var O=this.buckets[T];if(O instanceof In&&O.hasRTLText){this.hasRTLText=!0,ra.isLoading()||ra.isLoaded()||kh()!=="deferred"||Yy();break}}for(var F in this.queryPadding=0,this.buckets){var V=this.buckets[F];this.queryPadding=Math.max(this.queryPadding,c.style.getLayer(F).queryRadius(V))}s.imageAtlas&&(this.imageAtlas=s.imageAtlas),s.glyphAtlasImage&&(this.glyphAtlasImage=s.glyphAtlasImage)}else this.collisionBoxArray=new Ot},ia.prototype.unloadVectorData=function(){for(var s in this.buckets)this.buckets[s].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ia.prototype.getBucket=function(s){return this.buckets[s.id]},ia.prototype.upload=function(s){for(var c in this.buckets){var d=this.buckets[c];d.uploadPending()&&d.upload(s)}var y=s.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Oh(s,this.imageAtlas.image,y.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Oh(s,this.glyphAtlasImage,y.ALPHA),this.glyphAtlasImage=null)},ia.prototype.prepare=function(s){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(s,this.imageAtlasTexture)},ia.prototype.queryRenderedFeatures=function(s,c,d,y,k,T,O,F,V){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:d,cameraQueryGeometry:y,scale:k,tileSize:this.tileSize,pixelPosMatrix:V,transform:O,params:T,queryPadding:this.queryPadding*F},s,c):{}},ia.prototype.querySourceFeatures=function(s,c){var d=this.latestFeatureIndex;if(d&&d.rawTileData){var y=d.loadVTLayers(),k=c?c.sourceLayer:"",T=y._geojsonTileLayer||y[k];if(T)for(var O=Xd(c&&c.filter),F=this.tileID.canonical,V=F.z,X=F.x,Z=F.y,ne={z:V,x:X,y:Z},ue=0;ue<T.length;ue++){var ae=T.feature(ue);if(O(new Fn(this.tileID.overscaledZ),ae)){var de=d.getId(ae,k),we=new p0(ae,V,X,Z,de);we.tile=ne,s.push(we)}}}},ia.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},ia.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ia.prototype.setExpiryData=function(s){var c=this.expirationTime;if(s.cacheControl){var d=Se(s.cacheControl);d["max-age"]&&(this.expirationTime=Date.now()+1e3*d["max-age"])}else s.expires&&(this.expirationTime=new Date(s.expires).getTime());if(this.expirationTime){var y=Date.now(),k=!1;if(this.expirationTime>y)k=!1;else if(c)if(this.expirationTime<c)k=!0;else{var T=this.expirationTime-c;T?this.expirationTime=y+Math.max(T,3e4):k=!0}else k=!0;k?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ia.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},ia.prototype.setFeatureState=function(s,c){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(s).length!==0){var d=this.latestFeatureIndex.loadVTLayers();for(var y in this.buckets){var k=this.buckets[y],T=k.layers[0].sourceLayer||"_geojsonTileLayer",O=d[T],F=s[T];O&&F&&Object.keys(F).length!==0&&(k.update(F,O,this.imageAtlas&&this.imageAtlas.patternPositions||{}),c&&c.style&&(this.queryPadding=Math.max(this.queryPadding,c.style.getLayer(y).queryRadius(k))))}}},ia.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},ia.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Xe.now()},ia.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ia.prototype.setHoldDuration=function(s){this.symbolFadeHoldUntil=Xe.now()+s},ia.prototype.setDependencies=function(s,c){for(var d={},y=0,k=c;y<k.length;y+=1)d[k[y]]=!0;this.dependencies[s]=d},ia.prototype.hasDependency=function(s,c){for(var d=0,y=s;d<y.length;d+=1){var k=y[d],T=this.dependencies[k];if(T){for(var O=0,F=c;O<F.length;O+=1)if(T[F[O]])return!0}}return!1};var gu=self.performance,mP=function(s){this._marks={start:[s.url,"start"].join("#"),end:[s.url,"end"].join("#"),measure:s.url.toString()},gu.mark(this._marks.start)};mP.prototype.finish=function(){gu.mark(this._marks.end);var s=gu.getEntriesByName(this._marks.measure);return s.length===0&&(gu.measure(this._marks.measure,this._marks.start,this._marks.end),s=gu.getEntriesByName(this._marks.measure),gu.clearMarks(this._marks.start),gu.clearMarks(this._marks.end),gu.clearMeasures(this._marks.measure)),s},a.Actor=mf,a.AlphaImage=Mh,a.CanonicalTileID=Nh,a.CollisionBoxArray=Ot,a.Color=_t,a.DEMData=xc,a.DataConstantProperty=ir,a.DictionaryCoder=f0,a.EXTENT=8192,a.ErrorEvent=un,a.EvaluationParameters=Fn,a.Event=Vr,a.Evented=Jr,a.FeatureIndex=bc,a.FillBucket=Xs,a.FillExtrusionBucket=Gs,a.ImageAtlas=Jm,a.ImagePosition=i0,a.LineBucket=Co,a.LngLat=li,a.LngLatBounds=Fi,a.MercatorCoordinate=Dh,a.ONE_EM=24,a.OverscaledTileID=Bi,a.Point=f,a.Point$1=f,a.ProgramConfiguration=pa,a.Properties=ao,a.Protobuf=r0,a.RGBAImage=lo,a.RequestManager=dt,a.RequestPerformance=mP,a.ResourceType=di,a.SegmentVector=Mr,a.SourceFeatureState=gf,a.StructArrayLayout1ui2=gt,a.StructArrayLayout2i4=z,a.StructArrayLayout2ui4=st,a.StructArrayLayout3ui6=Qe,a.StructArrayLayout4i8=B,a.SymbolBucket=In,a.Texture=Oh,a.Tile=ia,a.Transitionable=no,a.Uniform1f=Ws,a.Uniform1i=Qd,a.Uniform2f=fu,a.Uniform3f=ef,a.Uniform4f=pu,a.UniformColor=vc,a.UniformMatrix4f=ti,a.UnwrappedTileID=fP,a.ValidationError=At,a.WritingMode=$o,a.ZoomHistory=Zd,a.addDynamicAttributes=K_,a.asyncAll=function(s,c,d){if(!s.length)return d(null,[]);var y=s.length,k=new Array(s.length),T=null;s.forEach(function(O,F){c(O,function(V,X){V&&(T=V),k[F]=X,--y==0&&d(T,k)})})},a.bezier=x,a.bindAll=D,a.browser=Xe,a.cacheEntryPossiblyAdded=function(s){++jn>Lt&&(s.getActor().send("enforceCacheSizeLimit",Et),jn=0)},a.clamp=S,a.clearTileCache=function(s){var c=self.caches.delete("mapbox-tiles");s&&c.catch(s).then(function(){return s()})},a.clone=function(s){var c=new Ys(16);return c[0]=s[0],c[1]=s[1],c[2]=s[2],c[3]=s[3],c[4]=s[4],c[5]=s[5],c[6]=s[6],c[7]=s[7],c[8]=s[8],c[9]=s[9],c[10]=s[10],c[11]=s[11],c[12]=s[12],c[13]=s[13],c[14]=s[14],c[15]=s[15],c},a.clone$1=W,a.config=Ae,a.create=function(){var s=new Ys(16);return Ys!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0),s[0]=1,s[5]=1,s[10]=1,s[15]=1,s},a.create$1=function(){var s=new Ys(9);return Ys!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[5]=0,s[6]=0,s[7]=0),s[0]=1,s[4]=1,s[8]=1,s},a.create$2=function(){var s=new Ys(4);return Ys!=Float32Array&&(s[1]=0,s[2]=0),s[0]=1,s[3]=1,s},a.createCommonjsModule=l,a.createExpression=Hd,a.createLayout=b,a.createStyleLayer=function(s){return s.type==="custom"?new KB(s):new JB[s.type](s)},a.deepEqual=function s(c,d){if(Array.isArray(c)){if(!Array.isArray(d)||c.length!==d.length)return!1;for(var y=0;y<c.length;y++)if(!s(c[y],d[y]))return!1;return!0}if(typeof c=="object"&&c!==null&&d!==null){if(typeof d!="object"||Object.keys(c).length!==Object.keys(d).length)return!1;for(var k in c)if(!s(c[k],d[k]))return!1;return!0}return c===d},a.ease=w,a.emitValidationErrors=Rm,a.endsWith=L,a.enforceCacheSizeLimit=function(s){Sr(),rr&&rr.then(function(c){c.keys().then(function(d){for(var y=0;y<d.length-s;y++)c.delete(d[y])})})},a.evaluateSizeForFeature=WA,a.evaluateSizeForZoom=YA,a.evaluateVariableOffset=QA,a.evented=Bm,a.extend=A,a.featureFilter=Xd,a.filterObject=$,a.fromRotation=function(s,c){var d=Math.sin(c),y=Math.cos(c);return s[0]=y,s[1]=d,s[2]=0,s[3]=-d,s[4]=y,s[5]=0,s[6]=0,s[7]=0,s[8]=1,s},a.getAnchorAlignment=X_,a.getAnchorJustification=Z_,a.getArrayBuffer=Ja,a.getImage=_s,a.getJSON=function(s,c){return Ca(A(s,{type:"json"}),c)},a.getRTLTextPluginStatus=kh,a.getReferrer=yo,a.getVideo=function(s,c){var d,y,k=self.document.createElement("video");k.muted=!0,k.onloadstart=function(){c(null,k)};for(var T=0;T<s.length;T++){var O=self.document.createElement("source");d=s[T],y=void 0,(y=self.document.createElement("a")).href=d,(y.protocol!==self.document.location.protocol||y.host!==self.document.location.host)&&(k.crossOrigin="Anonymous"),O.src=s[T],k.appendChild(O)}return{cancel:function(){}}},a.identity=function(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s},a.invert=function(s,c){var d=c[0],y=c[1],k=c[2],T=c[3],O=c[4],F=c[5],V=c[6],X=c[7],Z=c[8],ne=c[9],ue=c[10],ae=c[11],de=c[12],we=c[13],Ce=c[14],Ie=c[15],Ve=d*F-y*O,Ye=d*V-k*O,Ge=d*X-T*O,ot=y*V-k*F,ft=y*X-T*F,ht=k*X-T*V,Rt=Z*we-ne*de,Jt=Z*Ce-ue*de,Vt=Z*Ie-ae*de,nr=ne*Ce-ue*we,Wt=ne*Ie-ae*we,zt=ue*Ie-ae*Ce,Ct=Ve*zt-Ye*Wt+Ge*nr+ot*Vt-ft*Jt+ht*Rt;return Ct?(Ct=1/Ct,s[0]=(F*zt-V*Wt+X*nr)*Ct,s[1]=(k*Wt-y*zt-T*nr)*Ct,s[2]=(we*ht-Ce*ft+Ie*ot)*Ct,s[3]=(ue*ft-ne*ht-ae*ot)*Ct,s[4]=(V*Vt-O*zt-X*Jt)*Ct,s[5]=(d*zt-k*Vt+T*Jt)*Ct,s[6]=(Ce*Ge-de*ht-Ie*Ye)*Ct,s[7]=(Z*ht-ue*Ge+ae*Ye)*Ct,s[8]=(O*Wt-F*Vt+X*Rt)*Ct,s[9]=(y*Vt-d*Wt-T*Rt)*Ct,s[10]=(de*ft-we*Ge+Ie*Ve)*Ct,s[11]=(ne*Ge-Z*ft-ae*Ve)*Ct,s[12]=(F*Jt-O*nr-V*Rt)*Ct,s[13]=(d*nr-y*Jt+k*Rt)*Ct,s[14]=(we*Ye-de*ot-Ce*Ve)*Ct,s[15]=(Z*ot-ne*Ye+ue*Ve)*Ct,s):null},a.isChar=Tt,a.isGoongURL=yt,a.keysDifference=function(s,c){var d=[];for(var y in s)y in c||d.push(y);return d},a.makeRequest=Ca,a.mapObject=R,a.mercatorXfromLng=uP,a.mercatorYfromLat=hP,a.mercatorZfromAltitude=dP,a.multiply=function(s,c,d){var y=c[0],k=c[1],T=c[2],O=c[3],F=c[4],V=c[5],X=c[6],Z=c[7],ne=c[8],ue=c[9],ae=c[10],de=c[11],we=c[12],Ce=c[13],Ie=c[14],Ve=c[15],Ye=d[0],Ge=d[1],ot=d[2],ft=d[3];return s[0]=Ye*y+Ge*F+ot*ne+ft*we,s[1]=Ye*k+Ge*V+ot*ue+ft*Ce,s[2]=Ye*T+Ge*X+ot*ae+ft*Ie,s[3]=Ye*O+Ge*Z+ot*de+ft*Ve,Ye=d[4],Ge=d[5],ot=d[6],ft=d[7],s[4]=Ye*y+Ge*F+ot*ne+ft*we,s[5]=Ye*k+Ge*V+ot*ue+ft*Ce,s[6]=Ye*T+Ge*X+ot*ae+ft*Ie,s[7]=Ye*O+Ge*Z+ot*de+ft*Ve,Ye=d[8],Ge=d[9],ot=d[10],ft=d[11],s[8]=Ye*y+Ge*F+ot*ne+ft*we,s[9]=Ye*k+Ge*V+ot*ue+ft*Ce,s[10]=Ye*T+Ge*X+ot*ae+ft*Ie,s[11]=Ye*O+Ge*Z+ot*de+ft*Ve,Ye=d[12],Ge=d[13],ot=d[14],ft=d[15],s[12]=Ye*y+Ge*F+ot*ne+ft*we,s[13]=Ye*k+Ge*V+ot*ue+ft*Ce,s[14]=Ye*T+Ge*X+ot*ae+ft*Ie,s[15]=Ye*O+Ge*Z+ot*de+ft*Ve,s},a.mvt=sf,a.number=cr,a.offscreenCanvasSupported=Rn,a.ortho=function(s,c,d,y,k,T,O){var F=1/(c-d),V=1/(y-k),X=1/(T-O);return s[0]=-2*F,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*V,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*X,s[11]=0,s[12]=(c+d)*F,s[13]=(k+y)*V,s[14]=(O+T)*X,s[15]=1,s},a.parseGlyphPBF=function(s){return new r0(s).readFields(IB,[])},a.pbf=r0,a.performSymbolLayout=function(s,c,d,y,k,T){s.createArrays();var O=512*s.overscaling;s.tilePixelRatio=8192/O,s.compareText={},s.iconsNeedLinear=!1;var F=s.layers[0].layout,V=s.layers[0]._unevaluatedLayout._values,X={};if(s.textSizeData.kind==="composite"){var Z=s.textSizeData,ne=Z.minZoom,ue=Z.maxZoom;X.compositeTextSizes=[V["text-size"].possiblyEvaluate(new Fn(ne)),V["text-size"].possiblyEvaluate(new Fn(ue))]}if(s.iconSizeData.kind==="composite"){var ae=s.iconSizeData,de=ae.minZoom,we=ae.maxZoom;X.compositeIconSizes=[V["icon-size"].possiblyEvaluate(new Fn(de)),V["icon-size"].possiblyEvaluate(new Fn(we))]}X.layoutTextSize=V["text-size"].possiblyEvaluate(new Fn(s.zoom+1)),X.layoutIconSize=V["icon-size"].possiblyEvaluate(new Fn(s.zoom+1)),X.textMaxSize=V["text-size"].possiblyEvaluate(new Fn(18));for(var Ce=24*F.get("text-line-height"),Ie=F.get("text-rotation-alignment")==="map"&&F.get("symbol-placement")!=="point",Ve=F.get("text-keep-upright"),Ye=F.get("text-size"),Ge=function(){var ht=ft[ot],Rt=F.get("text-font").evaluate(ht,{}).join(","),Jt=Ye.evaluate(ht,{}),Vt=X.layoutTextSize.evaluate(ht,{}),nr=X.layoutIconSize.evaluate(ht,{}),Wt={horizontal:{},vertical:void 0},zt=ht.text,Ct=[0,0];if(zt){var $r=zt.toString(),En=24*F.get("text-letter-spacing").evaluate(ht,{}),ln=function(qr){for(var wn=0,$n=qr;wn<$n.length;wn+=1)if(!I_($n[wn].charCodeAt(0)))return!1;return!0}($r)?En:0,wr=F.get("text-anchor").evaluate(ht,{}),Hr=F.get("text-variable-anchor");if(!Hr){var Wr=F.get("text-radial-offset").evaluate(ht,{});Ct=Wr?QA(wr,[24*Wr,q_]):F.get("text-offset").evaluate(ht,{}).map(function(qr){return 24*qr})}var Ar=Ie?"center":F.get("text-justify").evaluate(ht,{}),Ur=F.get("symbol-placement"),dn=Ur==="point"?24*F.get("text-max-width").evaluate(ht,{}):0,ri=function(){s.allowVerticalPlacement&&dc($r)&&(Wt.vertical=a0(zt,c,d,k,Rt,dn,Ce,wr,"left",ln,Ct,$o.vertical,!0,Ur,Vt,Jt))};if(!Ie&&Hr){for(var ci=Ar==="auto"?Hr.map(function(qr){return Z_(qr)}):[Ar],Ea=!1,Ta=0;Ta<ci.length;Ta++){var Li=ci[Ta];if(!Wt.horizontal[Li])if(Ea)Wt.horizontal[Li]=Wt.horizontal[0];else{var aa=a0(zt,c,d,k,Rt,dn,Ce,"center",Li,ln,Ct,$o.horizontal,!1,Ur,Vt,Jt);aa&&(Wt.horizontal[Li]=aa,Ea=aa.positionedLines.length===1)}}ri()}else{Ar==="auto"&&(Ar=Z_(wr));var ma=a0(zt,c,d,k,Rt,dn,Ce,wr,Ar,ln,Ct,$o.horizontal,!1,Ur,Vt,Jt);ma&&(Wt.horizontal[Ar]=ma),ri(),dc($r)&&Ie&&Ve&&(Wt.vertical=a0(zt,c,d,k,Rt,dn,Ce,wr,Ar,ln,Ct,$o.vertical,!1,Ur,Vt,Jt))}}var Aa=void 0,qi=!1;if(ht.icon&&ht.icon.name){var ni=y[ht.icon.name];ni&&(Aa=function(qr,wn,$n){var Hn=X_($n),Zi=Hn.horizontalAlign,On=Hn.verticalAlign,ga=wn[0],gi=wn[1],qs=ga-qr.displaySize[0]*Zi,Pa=qs+qr.displaySize[0],ja=gi-qr.displaySize[1]*On;return{image:qr,top:ja,bottom:ja+qr.displaySize[1],left:qs,right:Pa}}(k[ht.icon.name],F.get("icon-offset").evaluate(ht,{}),F.get("icon-anchor").evaluate(ht,{})),qi=ni.sdf,s.sdfIcons===void 0?s.sdfIcons=ni.sdf:s.sdfIcons!==ni.sdf&&q("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ni.pixelRatio!==s.pixelRatio||F.get("icon-rotate").constantOr(1)!==0)&&(s.iconsNeedLinear=!0))}var Ti=tP(Wt.horizontal)||Wt.vertical;s.iconsInText=!!Ti&&Ti.iconsInText,(Ti||Aa)&&function(qr,wn,$n,Hn,Zi,On,ga,gi,qs,Pa){var ja=On.textMaxSize.evaluate(wn,{});ja===void 0&&(ja=ga);var os,oa=qr.layers[0].layout,Ts=oa.get("icon-offset").evaluate(wn,{}),Tl=tP($n.horizontal),Zs=ga/24,rg=qr.tilePixelRatio*Zs,Al=qr.tilePixelRatio*ja/24,tw=qr.tilePixelRatio*gi,vf=qr.tilePixelRatio*oa.get("symbol-spacing"),m0=oa.get("text-padding")*qr.tilePixelRatio,yf=oa.get("icon-padding")*qr.tilePixelRatio,ng=oa.get("text-max-angle")/180*Math.PI,g0=oa.get("text-rotation-alignment")==="map"&&oa.get("symbol-placement")!=="point",rw=oa.get("icon-rotation-alignment")==="map"&&oa.get("symbol-placement")!=="point",ig=oa.get("symbol-placement"),vu=vf/2,Lh=oa.get("icon-text-fit");Hn&&Lh!=="none"&&(qr.allowVerticalPlacement&&$n.vertical&&(os=VA(Hn,$n.vertical,Lh,oa.get("icon-text-fit-padding"),Ts,Zs)),Tl&&(Hn=VA(Hn,Tl,Lh,oa.get("icon-text-fit-padding"),Ts,Zs)));var yu=function(S0,Ho){Ho.x<0||Ho.x>=8192||Ho.y<0||Ho.y>=8192||function(yn,va,Uo,Ks,jh,Cf,Js,Eo,Ir,Sn,C0,k0,sw,yP,hg,xP,bP,_P,wP,SP,As,E0,CP){var lw,kf,dg,fg,pg,Ef=yn.addToLineVertexArray(va,Uo),kP=0,EP=0,TP=0,AP=0,cw=-1,uw=-1,_c={},PP=oo(""),hw=0,dw=0;if(Eo._unevaluatedLayout.getValue("text-radial-offset")===void 0?(lw=Eo.layout.get("text-offset").evaluate(As,{}).map(function(h7){return 24*h7}),hw=lw[0],dw=lw[1]):(hw=24*Eo.layout.get("text-radial-offset").evaluate(As,{}),dw=q_),yn.allowVerticalPlacement&&Ks.vertical){var MP=Eo.layout.get("text-rotate").evaluate(As,{})+90,t7=Ks.vertical;fg=new Qm(Ir,Uo,va,Sn,C0,k0,t7,sw,yP,hg,yn.overscaling,MP),Js&&(pg=new Qm(Ir,Uo,va,Sn,C0,k0,Js,bP,_P,hg,yn.overscaling,MP))}if(jh){var fw=Eo.layout.get("icon-rotate").evaluate(As,{}),IP=Eo.layout.get("icon-text-fit")!=="none",OP=KA(jh,fw,CP,IP),pw=Js?KA(Js,fw,CP,IP):void 0;dg=new Qm(Ir,Uo,va,Sn,C0,k0,jh,bP,_P,!1,yn.overscaling,fw),kP=4*OP.length;var DP=yn.iconSizeData,mg=null;DP.kind==="source"?(mg=[128*Eo.layout.get("icon-size").evaluate(As,{})])[0]>32640&&q(yn.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):DP.kind==="composite"&&((mg=[128*E0.compositeIconSizes[0].evaluate(As,{}),128*E0.compositeIconSizes[1].evaluate(As,{})])[0]>32640||mg[1]>32640)&&q(yn.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),yn.addSymbols(yn.icon,OP,mg,SP,wP,As,!1,va,Ef.lineStartIndex,Ef.lineLength,-1),cw=yn.icon.placedSymbolArray.length-1,pw&&(EP=4*pw.length,yn.addSymbols(yn.icon,pw,mg,SP,wP,As,$o.vertical,va,Ef.lineStartIndex,Ef.lineLength,-1),uw=yn.icon.placedSymbolArray.length-1)}for(var NP in Ks.horizontal){var T0=Ks.horizontal[NP];if(!kf){PP=oo(T0.text);var r7=Eo.layout.get("text-rotate").evaluate(As,{});kf=new Qm(Ir,Uo,va,Sn,C0,k0,T0,sw,yP,hg,yn.overscaling,r7)}var LP=T0.positionedLines.length===1;if(TP+=eP(yn,va,T0,Cf,Eo,hg,As,xP,Ef,Ks.vertical?$o.horizontal:$o.horizontalOnly,LP?Object.keys(Ks.horizontal):[NP],_c,cw,E0),LP)break}Ks.vertical&&(AP+=eP(yn,va,Ks.vertical,Cf,Eo,hg,As,xP,Ef,$o.vertical,["vertical"],_c,uw,E0));var n7=kf?kf.boxStartIndex:yn.collisionBoxArray.length,i7=kf?kf.boxEndIndex:yn.collisionBoxArray.length,a7=fg?fg.boxStartIndex:yn.collisionBoxArray.length,o7=fg?fg.boxEndIndex:yn.collisionBoxArray.length,s7=dg?dg.boxStartIndex:yn.collisionBoxArray.length,l7=dg?dg.boxEndIndex:yn.collisionBoxArray.length,c7=pg?pg.boxStartIndex:yn.collisionBoxArray.length,u7=pg?pg.boxEndIndex:yn.collisionBoxArray.length;yn.glyphOffsetArray.length>=In.MAX_GLYPHS&&q("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),yn.symbolInstances.emplaceBack(va.x,va.y,_c.right>=0?_c.right:-1,_c.center>=0?_c.center:-1,_c.left>=0?_c.left:-1,_c.vertical||-1,cw,uw,PP,n7,i7,a7,o7,s7,l7,c7,u7,Sn,TP,AP,kP,EP,0,sw,hw,dw)}(qr,Ho,S0,$n,Hn,Zi,os,qr.layers[0],qr.collisionBoxArray,wn.index,wn.sourceLayerIndex,qr.index,rg,m0,g0,qs,tw,yf,rw,Ts,wn,On,Pa)};if(ig==="line")for(var xf=0,ag=function(S0,Ho,yn,va,Uo){for(var Ks=[],jh=0;jh<S0.length;jh++)for(var Cf=S0[jh],Js=void 0,Eo=0;Eo<Cf.length-1;Eo++){var Ir=Cf[Eo],Sn=Cf[Eo+1];Ir.x<Ho&&Sn.x<Ho||(Ir.x<Ho?Ir=new f(Ho,Ir.y+(Sn.y-Ir.y)*((Ho-Ir.x)/(Sn.x-Ir.x)))._round():Sn.x<Ho&&(Sn=new f(Ho,Ir.y+(Sn.y-Ir.y)*((Ho-Ir.x)/(Sn.x-Ir.x)))._round()),Ir.y<yn&&Sn.y<yn||(Ir.y<yn?Ir=new f(Ir.x+(Sn.x-Ir.x)*((yn-Ir.y)/(Sn.y-Ir.y)),yn)._round():Sn.y<yn&&(Sn=new f(Ir.x+(Sn.x-Ir.x)*((yn-Ir.y)/(Sn.y-Ir.y)),yn)._round()),Ir.x>=va&&Sn.x>=va||(Ir.x>=va?Ir=new f(va,Ir.y+(Sn.y-Ir.y)*((va-Ir.x)/(Sn.x-Ir.x)))._round():Sn.x>=va&&(Sn=new f(va,Ir.y+(Sn.y-Ir.y)*((va-Ir.x)/(Sn.x-Ir.x)))._round()),Ir.y>=Uo&&Sn.y>=Uo||(Ir.y>=Uo?Ir=new f(Ir.x+(Sn.x-Ir.x)*((Uo-Ir.y)/(Sn.y-Ir.y)),Uo)._round():Sn.y>=Uo&&(Sn=new f(Ir.x+(Sn.x-Ir.x)*((Uo-Ir.y)/(Sn.y-Ir.y)),Uo)._round()),Js&&Ir.equals(Js[Js.length-1])||(Js=[Ir],Ks.push(Js)),Js.push(Sn)))))}return Ks}(wn.geometry,0,0,8192,8192);xf<ag.length;xf+=1)for(var v0=ag[xf],nw=zB(v0,vf,ng,$n.vertical||Tl,Hn,24,Al,qr.overscaling,8192),og=0,sg=nw;og<sg.length;og+=1){var y0=sg[og],x0=Tl;x0&&HB(qr,x0.text,vu,y0)||yu(v0,y0)}else if(ig==="line-center")for(var bf=0,b0=wn.geometry;bf<b0.length;bf+=1){var lg=b0[bf];if(lg.length>1){var _0=jB(lg,ng,$n.vertical||Tl,Hn,24,Al);_0&&yu(lg,_0)}}else if(wn.type==="Polygon")for(var _f=0,wf=$_(wn.geometry,0);_f<wf.length;_f+=1){var cg=wf[_f],w0=BB(cg,16);yu(cg[0],new hf(w0.x,w0.y,0))}else if(wn.type==="LineString")for(var Rh=0,ug=wn.geometry;Rh<ug.length;Rh+=1){var Sf=ug[Rh];yu(Sf,new hf(Sf[0].x,Sf[0].y,0))}else if(wn.type==="Point")for(var iw=0,gP=wn.geometry;iw<gP.length;iw+=1)for(var e7=gP[iw],aw=0,vP=e7;aw<vP.length;aw+=1){var ow=vP[aw];yu([ow],new hf(ow.x,ow.y,0))}}(s,ht,Wt,Aa,y,X,Vt,nr,Ct,qi)},ot=0,ft=s.features;ot<ft.length;ot+=1)Ge();T&&s.generateCollisionDebugBuffers()},a.perspective=function(s,c,d,y,k){var T,O=1/Math.tan(c/2);return s[0]=O/d,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=O,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=-1,s[12]=0,s[13]=0,s[15]=0,k!=null&&k!==1/0?(T=1/(y-k),s[10]=(k+y)*T,s[14]=2*k*y*T):(s[10]=-1,s[14]=-2*y),s},a.pick=function(s,c){for(var d={},y=0;y<c.length;y++){var k=c[y];k in s&&(d[k]=s[k])}return d},a.plugin=ra,a.polygonIntersectsPolygon=uA,a.postMapLoadEvent=fn,a.postTurnstileEvent=kn,a.potpack=BA,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.register=Kt,a.registerForPluginStateChange=function(s){return s({pluginStatus:Ua,pluginURL:wl}),Bm.on("pluginStateChange",s),s},a.rotate=function(s,c,d){var y=c[0],k=c[1],T=c[2],O=c[3],F=Math.sin(d),V=Math.cos(d);return s[0]=y*V+T*F,s[1]=k*V+O*F,s[2]=y*-F+T*V,s[3]=k*-F+O*V,s},a.rotateX=function(s,c,d){var y=Math.sin(d),k=Math.cos(d),T=c[4],O=c[5],F=c[6],V=c[7],X=c[8],Z=c[9],ne=c[10],ue=c[11];return c!==s&&(s[0]=c[0],s[1]=c[1],s[2]=c[2],s[3]=c[3],s[12]=c[12],s[13]=c[13],s[14]=c[14],s[15]=c[15]),s[4]=T*k+X*y,s[5]=O*k+Z*y,s[6]=F*k+ne*y,s[7]=V*k+ue*y,s[8]=X*k-T*y,s[9]=Z*k-O*y,s[10]=ne*k-F*y,s[11]=ue*k-V*y,s},a.rotateZ=function(s,c,d){var y=Math.sin(d),k=Math.cos(d),T=c[0],O=c[1],F=c[2],V=c[3],X=c[4],Z=c[5],ne=c[6],ue=c[7];return c!==s&&(s[8]=c[8],s[9]=c[9],s[10]=c[10],s[11]=c[11],s[12]=c[12],s[13]=c[13],s[14]=c[14],s[15]=c[15]),s[0]=T*k+X*y,s[1]=O*k+Z*y,s[2]=F*k+ne*y,s[3]=V*k+ue*y,s[4]=X*k-T*y,s[5]=Z*k-O*y,s[6]=ne*k-F*y,s[7]=ue*k-V*y,s},a.scale=function(s,c,d){var y=d[0],k=d[1],T=d[2];return s[0]=c[0]*y,s[1]=c[1]*y,s[2]=c[2]*y,s[3]=c[3]*y,s[4]=c[4]*k,s[5]=c[5]*k,s[6]=c[6]*k,s[7]=c[7]*k,s[8]=c[8]*T,s[9]=c[9]*T,s[10]=c[10]*T,s[11]=c[11]*T,s[12]=c[12],s[13]=c[13],s[14]=c[14],s[15]=c[15],s},a.setCacheLimits=function(s,c){Et=s,Lt=c},a.setRTLTextPlugin=function(s,c,d){if(d===void 0&&(d=!1),Ua===ns||Ua===Us||Ua===fc)throw new Error("setRTLTextPlugin cannot be called multiple times.");wl=Xe.resolveURL(s),Ua=ns,zm=c,Fm(),d||Yy()},a.sphericalToCartesian=function(s){var c=s[0],d=s[1],y=s[2];return d+=90,d*=Math.PI/180,y*=Math.PI/180,{x:c*Math.cos(d)*Math.sin(y),y:c*Math.sin(d)*Math.sin(y),z:c*Math.cos(y)}},a.styleSpec=et,a.symbolSize=RB,a.transformMat3=function(s,c,d){var y=c[0],k=c[1],T=c[2];return s[0]=y*d[0]+k*d[3]+T*d[6],s[1]=y*d[1]+k*d[4]+T*d[7],s[2]=y*d[2]+k*d[5]+T*d[8],s},a.transformMat4=Ky,a.translate=function(s,c,d){var y,k,T,O,F,V,X,Z,ne,ue,ae,de,we=d[0],Ce=d[1],Ie=d[2];return c===s?(s[12]=c[0]*we+c[4]*Ce+c[8]*Ie+c[12],s[13]=c[1]*we+c[5]*Ce+c[9]*Ie+c[13],s[14]=c[2]*we+c[6]*Ce+c[10]*Ie+c[14],s[15]=c[3]*we+c[7]*Ce+c[11]*Ie+c[15]):(y=c[0],k=c[1],T=c[2],O=c[3],F=c[4],V=c[5],X=c[6],Z=c[7],ne=c[8],ue=c[9],ae=c[10],de=c[11],s[0]=y,s[1]=k,s[2]=T,s[3]=O,s[4]=F,s[5]=V,s[6]=X,s[7]=Z,s[8]=ne,s[9]=ue,s[10]=ae,s[11]=de,s[12]=y*we+F*Ce+ne*Ie+c[12],s[13]=k*we+V*Ce+ue*Ie+c[13],s[14]=T*we+X*Ce+ae*Ie+c[14],s[15]=O*we+Z*Ce+de*Ie+c[15]),s},a.triggerPluginCompletionEvent=pc,a.uniqueId=P,a.validateCustomStyleLayer=function(s){var c=[],d=s.id;return d===void 0&&c.push({message:"layers."+d+': missing required property "id"'}),s.render===void 0&&c.push({message:"layers."+d+': missing required method "render"'}),s.renderingMode&&s.renderingMode!=="2d"&&s.renderingMode!=="3d"&&c.push({message:"layers."+d+': property "renderingMode" must be either "2d" or "3d"'}),c},a.validateLight=Uy,a.validateStyle=Ch,a.values=function(s){var c=[];for(var d in s)c.push(s[d]);return c},a.vectorTile=sf,a.version="1.0.9",a.warnOnce=q,a.webpSupported=We,a.window=self,a.wrap=C}),o(["./shared"],function(a){function l(G){var Q=typeof G;if(Q==="number"||Q==="boolean"||Q==="string"||G==null)return JSON.stringify(G);if(Array.isArray(G)){for(var re="[",ie=0,ge=G;ie<ge.length;ie+=1)re+=l(ge[ie])+",";return re+"]"}for(var be=Object.keys(G).sort(),Le="{",Pe=0;Pe<be.length;Pe++)Le+=JSON.stringify(be[Pe])+":"+l(G[be[Pe]])+",";return Le+"}"}function u(G){for(var Q="",re=0,ie=a.refProperties;re<ie.length;re+=1)Q+="/"+l(G[ie[re]]);return Q}var h=function(G){this.keyCache={},G&&this.replace(G)};h.prototype.replace=function(G){this._layerConfigs={},this._layers={},this.update(G,[])},h.prototype.update=function(G,Q){for(var re=this,ie=0,ge=G;ie<ge.length;ie+=1){var be=ge[ie];this._layerConfigs[be.id]=be;var Le=this._layers[be.id]=a.createStyleLayer(be);Le._featureFilter=a.featureFilter(Le.filter),this.keyCache[be.id]&&delete this.keyCache[be.id]}for(var Pe=0,Te=Q;Pe<Te.length;Pe+=1){var je=Te[Pe];delete this.keyCache[je],delete this._layerConfigs[je],delete this._layers[je]}this.familiesBySource={};for(var at=0,vt=function(dr,fr){for(var ar={},ur=0;ur<dr.length;ur++){var on=fr&&fr[dr[ur].id]||u(dr[ur]);fr&&(fr[dr[ur].id]=on);var pr=ar[on];pr||(pr=ar[on]=[]),pr.push(dr[ur])}var Lr=[];for(var hn in ar)Lr.push(ar[hn]);return Lr}(a.values(this._layerConfigs),this.keyCache);at<vt.length;at+=1){var rt=vt[at].map(function(dr){return re._layers[dr.id]}),mt=rt[0];if(mt.visibility!=="none"){var St=mt.source||"",Dt=this.familiesBySource[St];Dt||(Dt=this.familiesBySource[St]={});var jt=mt.sourceLayer||"_geojsonTileLayer",_t=Dt[jt];_t||(_t=Dt[jt]=[]),_t.push(rt)}}};var f=function(G){var Q={},re=[];for(var ie in G){var ge=G[ie],be=Q[ie]={};for(var Le in ge){var Pe=ge[+Le];if(Pe&&Pe.bitmap.width!==0&&Pe.bitmap.height!==0){var Te={x:0,y:0,w:Pe.bitmap.width+2,h:Pe.bitmap.height+2};re.push(Te),be[Le]={rect:Te,metrics:Pe.metrics}}}}var je=a.potpack(re),at=je.w,vt=je.h,rt=new a.AlphaImage({width:at||1,height:vt||1});for(var mt in G){var St=G[mt];for(var Dt in St){var jt=St[+Dt];if(jt&&jt.bitmap.width!==0&&jt.bitmap.height!==0){var _t=Q[mt][Dt].rect;a.AlphaImage.copy(jt.bitmap,rt,{x:0,y:0},{x:_t.x+1,y:_t.y+1},jt.bitmap)}}}this.image=rt,this.positions=Q};a.register("GlyphAtlas",f);var m=function(G){this.tileID=new a.OverscaledTileID(G.tileID.overscaledZ,G.tileID.wrap,G.tileID.canonical.z,G.tileID.canonical.x,G.tileID.canonical.y),this.uid=G.uid,this.zoom=G.zoom,this.pixelRatio=G.pixelRatio,this.tileSize=G.tileSize,this.source=G.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=G.showCollisionBoxes,this.collectResourceTiming=!!G.collectResourceTiming,this.returnDependencies=!!G.returnDependencies,this.promoteId=G.promoteId};function x(G,Q,re){for(var ie=new a.EvaluationParameters(Q),ge=0,be=G;ge<be.length;ge+=1)be[ge].recalculate(ie,re)}function w(G,Q){var re=a.getArrayBuffer(G.request,function(ie,ge,be,Le){ie?Q(ie):ge&&Q(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(ge)),rawData:ge,cacheControl:be,expires:Le})});return function(){re.cancel(),Q()}}m.prototype.parse=function(G,Q,re,ie,ge){var be=this;this.status="parsing",this.data=G,this.collisionBoxArray=new a.CollisionBoxArray;var Le=new a.DictionaryCoder(Object.keys(G.layers).sort()),Pe=new a.FeatureIndex(this.tileID,this.promoteId);Pe.bucketLayerIDs=[];var Te,je,at,vt,rt={},mt={featureIndex:Pe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:re},St=Q.familiesBySource[this.source];for(var Dt in St){var jt=G.layers[Dt];if(jt){jt.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+Dt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var _t=Le.encode(Dt),dr=[],fr=0;fr<jt.length;fr++){var ar=jt.feature(fr),ur=Pe.getId(ar,Dt);dr.push({feature:ar,id:ur,index:fr,sourceLayerIndex:_t})}for(var on=0,pr=St[Dt];on<pr.length;on+=1){var Lr=pr[on],hn=Lr[0];hn.minzoom&&this.zoom<Math.floor(hn.minzoom)||hn.maxzoom&&this.zoom>=hn.maxzoom||hn.visibility!=="none"&&(x(Lr,this.zoom,re),(rt[hn.id]=hn.createBucket({index:Pe.bucketLayerIDs.length,layers:Lr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:_t,sourceID:this.source})).populate(dr,mt),Pe.bucketLayerIDs.push(Lr.map(function(Er){return Er.id})))}}}var Br=a.mapObject(mt.glyphDependencies,function(Er){return Object.keys(Er).map(Number)});Object.keys(Br).length?ie.send("getGlyphs",{uid:this.uid,stacks:Br},function(Er,zn){Te||(Te=Er,je=zn,Pn.call(be))}):je={};var vi=Object.keys(mt.iconDependencies);vi.length?ie.send("getImages",{icons:vi,source:this.source,tileID:this.tileID,type:"icons"},function(Er,zn){Te||(Te=Er,at=zn,Pn.call(be))}):at={};var Dr=Object.keys(mt.patternDependencies);function Pn(){if(Te)return ge(Te);if(je&&at&&vt){var Er=new f(je),zn=new a.ImageAtlas(at,vt);for(var yi in rt){var ka=rt[yi];ka instanceof a.SymbolBucket?(x(ka.layers,this.zoom,re),a.performSymbolLayout(ka,je,Er.positions,at,zn.iconPositions,this.showCollisionBoxes)):ka.hasPattern&&(ka instanceof a.LineBucket||ka instanceof a.FillBucket||ka instanceof a.FillExtrusionBucket)&&(x(ka.layers,this.zoom,re),ka.addFeatures(mt,zn.patternPositions))}this.status="done",ge(null,{buckets:a.values(rt).filter(function(Qa){return!Qa.isEmpty()}),featureIndex:Pe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Er.image,imageAtlas:zn,glyphMap:this.returnDependencies?je:null,iconMap:this.returnDependencies?at:null,glyphPositions:this.returnDependencies?Er.positions:null})}}Dr.length?ie.send("getImages",{icons:Dr,source:this.source,tileID:this.tileID,type:"patterns"},function(Er,zn){Te||(Te=Er,vt=zn,Pn.call(be))}):vt={},Pn.call(this)};var S=function(G,Q,re,ie){this.actor=G,this.layerIndex=Q,this.availableImages=re,this.loadVectorData=ie||w,this.loading={},this.loaded={}};S.prototype.loadTile=function(G,Q){var re=this,ie=G.uid;this.loading||(this.loading={});var ge=!!(G&&G.request&&G.request.collectResourceTiming)&&new a.RequestPerformance(G.request),be=this.loading[ie]=new m(G);be.abort=this.loadVectorData(G,function(Le,Pe){if(delete re.loading[ie],Le||!Pe)return be.status="done",re.loaded[ie]=be,Q(Le);var Te=Pe.rawData,je={};Pe.expires&&(je.expires=Pe.expires),Pe.cacheControl&&(je.cacheControl=Pe.cacheControl);var at={};if(ge){var vt=ge.finish();vt&&(at.resourceTiming=JSON.parse(JSON.stringify(vt)))}be.vectorTile=Pe.vectorTile,be.parse(Pe.vectorTile,re.layerIndex,re.availableImages,re.actor,function(rt,mt){if(rt||!mt)return Q(rt);Q(null,a.extend({rawTileData:Te.slice(0)},mt,je,at))}),re.loaded=re.loaded||{},re.loaded[ie]=be})},S.prototype.reloadTile=function(G,Q){var re=this,ie=this.loaded,ge=G.uid,be=this;if(ie&&ie[ge]){var Le=ie[ge];Le.showCollisionBoxes=G.showCollisionBoxes;var Pe=function(Te,je){var at=Le.reloadCallback;at&&(delete Le.reloadCallback,Le.parse(Le.vectorTile,be.layerIndex,re.availableImages,be.actor,at)),Q(Te,je)};Le.status==="parsing"?Le.reloadCallback=Pe:Le.status==="done"&&(Le.vectorTile?Le.parse(Le.vectorTile,this.layerIndex,this.availableImages,this.actor,Pe):Pe())}},S.prototype.abortTile=function(G,Q){var re=this.loading,ie=G.uid;re&&re[ie]&&re[ie].abort&&(re[ie].abort(),delete re[ie]),Q()},S.prototype.removeTile=function(G,Q){var re=this.loaded,ie=G.uid;re&&re[ie]&&delete re[ie],Q()};var C=a.window.ImageBitmap,A=function(){this.loaded={}};A.prototype.loadTile=function(G,Q){var re=G.uid,ie=G.encoding,ge=G.rawImageData,be=C&&ge instanceof C?this.getImageData(ge):ge,Le=new a.DEMData(re,be,ie);this.loaded=this.loaded||{},this.loaded[re]=Le,Q(null,Le)},A.prototype.getImageData=function(G){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(G.width,G.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=G.width,this.offscreenCanvas.height=G.height,this.offscreenCanvasContext.drawImage(G,0,0,G.width,G.height);var Q=this.offscreenCanvasContext.getImageData(-1,-1,G.width+2,G.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:Q.width,height:Q.height},Q.data)},A.prototype.removeTile=function(G){var Q=this.loaded,re=G.uid;Q&&Q[re]&&delete Q[re]};var E=6378137;function P(G){var Q=0;if(G&&G.length>0){Q+=Math.abs(I(G[0]));for(var re=1;re<G.length;re++)Q-=Math.abs(I(G[re]))}return Q}function I(G){var Q,re,ie,ge,be,Le,Pe=0,Te=G.length;if(Te>2){for(Le=0;Le<Te;Le++)Le===Te-2?(ie=Te-2,ge=Te-1,be=0):Le===Te-1?(ie=Te-1,ge=0,be=1):(ie=Le,ge=Le+1,be=Le+2),Q=G[ie],re=G[ge],Pe+=(N(G[be][0])-N(Q[0]))*Math.sin(N(re[1]));Pe=Pe*E*E/2}return Pe}function N(G){return G*Math.PI/180}var D={geometry:function G(Q){var re,ie=0;switch(Q.type){case"Polygon":return P(Q.coordinates);case"MultiPolygon":for(re=0;re<Q.coordinates.length;re++)ie+=P(Q.coordinates[re]);return ie;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(re=0;re<Q.geometries.length;re++)ie+=G(Q.geometries[re]);return ie}},ring:I},L=function G(Q,re){switch(Q&&Q.type||null){case"FeatureCollection":return Q.features=Q.features.map(R(G,re)),Q;case"GeometryCollection":return Q.geometries=Q.geometries.map(R(G,re)),Q;case"Feature":return Q.geometry=G(Q.geometry,re),Q;case"Polygon":case"MultiPolygon":return function(ie,ge){return ie.type==="Polygon"?ie.coordinates=$(ie.coordinates,ge):ie.type==="MultiPolygon"&&(ie.coordinates=ie.coordinates.map(R($,ge))),ie}(Q,re);default:return Q}};function R(G,Q){return function(re){return G(re,Q)}}function $(G,Q){Q=!!Q,G[0]=W(G[0],Q);for(var re=1;re<G.length;re++)G[re]=W(G[re],!Q);return G}function W(G,Q){return function(re){return D.ring(re)>=0}(G)===Q?G:G.reverse()}var J=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,q=function(G){this._feature=G,this.extent=a.EXTENT,this.type=G.type,this.properties=G.tags,"id"in G&&!isNaN(G.id)&&(this.id=parseInt(G.id,10))};q.prototype.loadGeometry=function(){if(this._feature.type===1){for(var G=[],Q=0,re=this._feature.geometry;Q<re.length;Q+=1){var ie=re[Q];G.push([new a.Point$1(ie[0],ie[1])])}return G}for(var ge=[],be=0,Le=this._feature.geometry;be<Le.length;be+=1){for(var Pe=[],Te=0,je=Le[be];Te<je.length;Te+=1){var at=je[Te];Pe.push(new a.Point$1(at[0],at[1]))}ge.push(Pe)}return ge},q.prototype.toGeoJSON=function(G,Q,re){return J.call(this,G,Q,re)};var ee=function(G){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=G.length,this._features=G};ee.prototype.feature=function(G){return new q(this._features[G])};var se=a.vectorTile.VectorTileFeature,he=Se;function Se(G,Q){this.options=Q||{},this.features=G,this.length=G.length}function oe(G,Q){this.id=typeof G.id=="number"?G.id:void 0,this.type=G.type,this.rawGeometry=G.type===1?[G.geometry]:G.geometry,this.properties=G.tags,this.extent=Q||4096}Se.prototype.feature=function(G){return new oe(this.features[G],this.options.extent)},oe.prototype.loadGeometry=function(){var G=this.rawGeometry;this.geometry=[];for(var Q=0;Q<G.length;Q++){for(var re=G[Q],ie=[],ge=0;ge<re.length;ge++)ie.push(new a.Point$1(re[ge][0],re[ge][1]));this.geometry.push(ie)}return this.geometry},oe.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var G=this.geometry,Q=1/0,re=-1/0,ie=1/0,ge=-1/0,be=0;be<G.length;be++)for(var Le=G[be],Pe=0;Pe<Le.length;Pe++){var Te=Le[Pe];Q=Math.min(Q,Te.x),re=Math.max(re,Te.x),ie=Math.min(ie,Te.y),ge=Math.max(ge,Te.y)}return[Q,ie,re,ge]},oe.prototype.toGeoJSON=se.prototype.toGeoJSON;var _e=He,xe=He,Ne=function(G,Q){Q=Q||{};var re={};for(var ie in G)re[ie]=new he(G[ie].features,Q),re[ie].name=ie,re[ie].version=Q.version,re[ie].extent=Q.extent;return He({layers:re})},Re=he;function He(G){var Q=new a.pbf;return function(re,ie){for(var ge in re.layers)ie.writeMessage(3,tt,re.layers[ge])}(G,Q),Q.finish()}function tt(G,Q){var re;Q.writeVarintField(15,G.version||1),Q.writeStringField(1,G.name||""),Q.writeVarintField(5,G.extent||4096);var ie={keys:[],values:[],keycache:{},valuecache:{}};for(re=0;re<G.length;re++)ie.feature=G.feature(re),Q.writeMessage(2,nt,ie);var ge=ie.keys;for(re=0;re<ge.length;re++)Q.writeStringField(3,ge[re]);var be=ie.values;for(re=0;re<be.length;re++)Q.writeMessage(4,We,be[re])}function nt(G,Q){var re=G.feature;re.id!==void 0&&Q.writeVarintField(1,re.id),Q.writeMessage(2,Ke,G),Q.writeVarintField(3,re.type),Q.writeMessage(4,Ae,re)}function Ke(G,Q){var re=G.feature,ie=G.keys,ge=G.values,be=G.keycache,Le=G.valuecache;for(var Pe in re.properties){var Te=re.properties[Pe],je=be[Pe];if(Te!==null){je===void 0&&(ie.push(Pe),je=ie.length-1,be[Pe]=je),Q.writeVarint(je);var at=typeof Te;at!=="string"&&at!=="boolean"&&at!=="number"&&(Te=JSON.stringify(Te));var vt=at+":"+Te,rt=Le[vt];rt===void 0&&(ge.push(Te),rt=ge.length-1,Le[vt]=rt),Q.writeVarint(rt)}}}function Ue(G,Q){return(Q<<3)+(7&G)}function Xe(G){return G<<1^G>>31}function Ae(G,Q){for(var re=G.loadGeometry(),ie=G.type,ge=0,be=0,Le=re.length,Pe=0;Pe<Le;Pe++){var Te=re[Pe],je=1;ie===1&&(je=Te.length),Q.writeVarint(Ue(1,je));for(var at=ie===3?Te.length-1:Te.length,vt=0;vt<at;vt++){vt===1&&ie!==1&&Q.writeVarint(Ue(2,at-1));var rt=Te[vt].x-ge,mt=Te[vt].y-be;Q.writeVarint(Xe(rt)),Q.writeVarint(Xe(mt)),ge+=rt,be+=mt}ie===3&&Q.writeVarint(Ue(7,1))}}function We(G,Q){var re=typeof G;re==="string"?Q.writeStringField(1,G):re==="boolean"?Q.writeBooleanField(7,G):re==="number"&&(G%1!=0?Q.writeDoubleField(3,G):G<0?Q.writeSVarintField(6,G):Q.writeVarintField(5,G))}function qe(G,Q,re,ie,ge,be){if(!(ge-ie<=re)){var Le=ie+ge>>1;(function Pe(Te,je,at,vt,rt,mt){for(;rt>vt;){if(rt-vt>600){var St=rt-vt+1,Dt=at-vt+1,jt=Math.log(St),_t=.5*Math.exp(2*jt/3),dr=.5*Math.sqrt(jt*_t*(St-_t)/St)*(Dt-St/2<0?-1:1),fr=Math.max(vt,Math.floor(at-Dt*_t/St+dr)),ar=Math.min(rt,Math.floor(at+(St-Dt)*_t/St+dr));Pe(Te,je,at,fr,ar,mt)}var ur=je[2*at+mt],on=vt,pr=rt;for(pt(Te,je,vt,at),je[2*rt+mt]>ur&&pt(Te,je,vt,rt);on<pr;){for(pt(Te,je,on,pr),on++,pr--;je[2*on+mt]<ur;)on++;for(;je[2*pr+mt]>ur;)pr--}je[2*vt+mt]===ur?pt(Te,je,vt,pr):(pr++,pt(Te,je,pr,rt)),pr<=at&&(vt=pr+1),at<=pr&&(rt=pr-1)}})(G,Q,Le,ie,ge,be%2),qe(G,Q,re,ie,Le-1,be+1),qe(G,Q,re,Le+1,ge,be+1)}}function pt(G,Q,re,ie){Pt(G,re,ie),Pt(Q,2*re,2*ie),Pt(Q,2*re+1,2*ie+1)}function Pt(G,Q,re){var ie=G[Q];G[Q]=G[re],G[re]=ie}function Ht(G,Q,re,ie){var ge=G-re,be=Q-ie;return ge*ge+be*be}_e.fromVectorTileJs=xe,_e.fromGeojsonVt=Ne,_e.GeoJSONWrapper=Re;var dt=function(G){return G[0]},yt=function(G){return G[1]},sr=function(G,Q,re,ie,ge){Q===void 0&&(Q=dt),re===void 0&&(re=yt),ie===void 0&&(ie=64),ge===void 0&&(ge=Float64Array),this.nodeSize=ie,this.points=G;for(var be=G.length<65536?Uint16Array:Uint32Array,Le=this.ids=new be(G.length),Pe=this.coords=new ge(2*G.length),Te=0;Te<G.length;Te++)Le[Te]=Te,Pe[2*Te]=Q(G[Te]),Pe[2*Te+1]=re(G[Te]);qe(Le,Pe,ie,0,Le.length-1,0)};sr.prototype.range=function(G,Q,re,ie){return function(ge,be,Le,Pe,Te,je,at){for(var vt,rt,mt=[0,ge.length-1,0],St=[];mt.length;){var Dt=mt.pop(),jt=mt.pop(),_t=mt.pop();if(jt-_t<=at)for(var dr=_t;dr<=jt;dr++)vt=be[2*dr],rt=be[2*dr+1],vt>=Le&&vt<=Te&&rt>=Pe&&rt<=je&&St.push(ge[dr]);else{var fr=Math.floor((_t+jt)/2);vt=be[2*fr],rt=be[2*fr+1],vt>=Le&&vt<=Te&&rt>=Pe&&rt<=je&&St.push(ge[fr]);var ar=(Dt+1)%2;(Dt===0?Le<=vt:Pe<=rt)&&(mt.push(_t),mt.push(fr-1),mt.push(ar)),(Dt===0?Te>=vt:je>=rt)&&(mt.push(fr+1),mt.push(jt),mt.push(ar))}}return St}(this.ids,this.coords,G,Q,re,ie,this.nodeSize)},sr.prototype.within=function(G,Q,re){return function(ie,ge,be,Le,Pe,Te){for(var je=[0,ie.length-1,0],at=[],vt=Pe*Pe;je.length;){var rt=je.pop(),mt=je.pop(),St=je.pop();if(mt-St<=Te)for(var Dt=St;Dt<=mt;Dt++)Ht(ge[2*Dt],ge[2*Dt+1],be,Le)<=vt&&at.push(ie[Dt]);else{var jt=Math.floor((St+mt)/2),_t=ge[2*jt],dr=ge[2*jt+1];Ht(_t,dr,be,Le)<=vt&&at.push(ie[jt]);var fr=(rt+1)%2;(rt===0?be-Pe<=_t:Le-Pe<=dr)&&(je.push(St),je.push(jt-1),je.push(fr)),(rt===0?be+Pe>=_t:Le+Pe>=dr)&&(je.push(jt+1),je.push(mt),je.push(fr))}}return at}(this.ids,this.coords,G,Q,re,this.nodeSize)};var kr,rn={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(G){return G}},xt=Math.fround||(kr=new Float32Array(1),function(G){return kr[0]=+G,kr[0]}),qt=function(G){this.options=kn(Object.create(rn),G),this.trees=new Array(this.options.maxZoom+1)};function tr(G,Q,re,ie,ge){return{x:xt(G),y:xt(Q),zoom:1/0,id:re,parentId:-1,numPoints:ie,properties:ge}}function ct(G,Q){var re=G.geometry.coordinates,ie=re[0],ge=re[1];return{x:xt(Fr(ie)),y:xt(en(ge)),zoom:1/0,index:Q,parentId:-1}}function rr(G){return{type:"Feature",id:G.id,properties:gr(G),geometry:{type:"Point",coordinates:[(ie=G.x,360*(ie-.5)),(Q=G.y,re=(180-360*Q)*Math.PI/180,360*Math.atan(Math.exp(re))/Math.PI-90)]}};var Q,re,ie}function gr(G){var Q=G.numPoints,re=Q>=1e4?Math.round(Q/1e3)+"k":Q>=1e3?Math.round(Q/100)/10+"k":Q;return kn(kn({},G.properties),{cluster:!0,cluster_id:G.id,point_count:Q,point_count_abbreviated:re})}function Fr(G){return G/360+.5}function en(G){var Q=Math.sin(G*Math.PI/180),re=.5-.25*Math.log((1+Q)/(1-Q))/Math.PI;return re<0?0:re>1?1:re}function kn(G,Q){for(var re in Q)G[re]=Q[re];return G}function Xn(G){return G.x}function fn(G){return G.y}function Et(G,Q,re,ie,ge,be){var Le=ge-re,Pe=be-ie;if(Le!==0||Pe!==0){var Te=((G-re)*Le+(Q-ie)*Pe)/(Le*Le+Pe*Pe);Te>1?(re=ge,ie=be):Te>0&&(re+=Le*Te,ie+=Pe*Te)}return(Le=G-re)*Le+(Pe=Q-ie)*Pe}function Lt(G,Q,re,ie){var ge={id:G===void 0?null:G,type:Q,geometry:re,tags:ie,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(be){var Le=be.geometry,Pe=be.type;if(Pe==="Point"||Pe==="MultiPoint"||Pe==="LineString")Sr(be,Le);else if(Pe==="Polygon"||Pe==="MultiLineString")for(var Te=0;Te<Le.length;Te++)Sr(be,Le[Te]);else if(Pe==="MultiPolygon")for(Te=0;Te<Le.length;Te++)for(var je=0;je<Le[Te].length;je++)Sr(be,Le[Te][je])}(ge),ge}function Sr(G,Q){for(var re=0;re<Q.length;re+=3)G.minX=Math.min(G.minX,Q[re]),G.minY=Math.min(G.minY,Q[re+1]),G.maxX=Math.max(G.maxX,Q[re]),G.maxY=Math.max(G.maxY,Q[re+1])}function pn(G,Q,re,ie){if(Q.geometry){var ge=Q.geometry.coordinates,be=Q.geometry.type,Le=Math.pow(re.tolerance/((1<<re.maxZoom)*re.extent),2),Pe=[],Te=Q.id;if(re.promoteId?Te=Q.properties[re.promoteId]:re.generateId&&(Te=ie||0),be==="Point")Xt(ge,Pe);else if(be==="MultiPoint")for(var je=0;je<ge.length;je++)Xt(ge[je],Pe);else if(be==="LineString")Cr(ge,Pe,Le,!1);else if(be==="MultiLineString"){if(re.lineMetrics){for(je=0;je<ge.length;je++)Pe=[],Cr(ge[je],Pe,Le,!1),G.push(Lt(Te,"LineString",Pe,Q.properties));return}mn(ge,Pe,Le,!1)}else if(be==="Polygon")mn(ge,Pe,Le,!0);else{if(be!=="MultiPolygon"){if(be==="GeometryCollection"){for(je=0;je<Q.geometry.geometries.length;je++)pn(G,{id:Te,geometry:Q.geometry.geometries[je],properties:Q.properties},re,ie);return}throw new Error("Input data is not a valid GeoJSON object.")}for(je=0;je<ge.length;je++){var at=[];mn(ge[je],at,Le,!0),Pe.push(at)}}G.push(Lt(Te,be,Pe,Q.properties))}}function Xt(G,Q){Q.push(jn(G[0])),Q.push(Rn(G[1])),Q.push(0)}function Cr(G,Q,re,ie){for(var ge,be,Le=0,Pe=0;Pe<G.length;Pe++){var Te=jn(G[Pe][0]),je=Rn(G[Pe][1]);Q.push(Te),Q.push(je),Q.push(0),Pe>0&&(Le+=ie?(ge*je-Te*be)/2:Math.sqrt(Math.pow(Te-ge,2)+Math.pow(je-be,2))),ge=Te,be=je}var at=Q.length-3;Q[2]=1,function vt(rt,mt,St,Dt){for(var jt,_t=Dt,dr=St-mt>>1,fr=St-mt,ar=rt[mt],ur=rt[mt+1],on=rt[St],pr=rt[St+1],Lr=mt+3;Lr<St;Lr+=3){var hn=Et(rt[Lr],rt[Lr+1],ar,ur,on,pr);if(hn>_t)jt=Lr,_t=hn;else if(hn===_t){var Br=Math.abs(Lr-dr);Br<fr&&(jt=Lr,fr=Br)}}_t>Dt&&(jt-mt>3&&vt(rt,mt,jt,Dt),rt[jt+2]=_t,St-jt>3&&vt(rt,jt,St,Dt))}(Q,0,at,re),Q[at+2]=1,Q.size=Math.abs(Le),Q.start=0,Q.end=Q.size}function mn(G,Q,re,ie){for(var ge=0;ge<G.length;ge++){var be=[];Cr(G[ge],be,re,ie),Q.push(be)}}function jn(G){return G/360+.5}function Rn(G){var Q=Math.sin(G*Math.PI/180),re=.5-.25*Math.log((1+Q)/(1-Q))/Math.PI;return re<0?0:re>1?1:re}function di(G,Q,re,ie,ge,be,Le,Pe){if(ie/=Q,be>=(re/=Q)&&Le<ie)return G;if(Le<re||be>=ie)return null;for(var Te=[],je=0;je<G.length;je++){var at=G[je],vt=at.geometry,rt=at.type,mt=ge===0?at.minX:at.minY,St=ge===0?at.maxX:at.maxY;if(mt>=re&&St<ie)Te.push(at);else if(!(St<re||mt>=ie)){var Dt=[];if(rt==="Point"||rt==="MultiPoint")jo(vt,Dt,re,ie,ge);else if(rt==="LineString")yo(vt,Dt,re,ie,ge,!1,Pe.lineMetrics);else if(rt==="MultiLineString")Ca(vt,Dt,re,ie,ge,!1);else if(rt==="Polygon")Ca(vt,Dt,re,ie,ge,!0);else if(rt==="MultiPolygon")for(var jt=0;jt<vt.length;jt++){var _t=[];Ca(vt[jt],_t,re,ie,ge,!0),_t.length&&Dt.push(_t)}if(Dt.length){if(Pe.lineMetrics&&rt==="LineString"){for(jt=0;jt<Dt.length;jt++)Te.push(Lt(at.id,rt,Dt[jt],at.tags));continue}rt!=="LineString"&&rt!=="MultiLineString"||(Dt.length===1?(rt="LineString",Dt=Dt[0]):rt="MultiLineString"),rt!=="Point"&&rt!=="MultiPoint"||(rt=Dt.length===3?"Point":"MultiPoint"),Te.push(Lt(at.id,rt,Dt,at.tags))}}}return Te.length?Te:null}function jo(G,Q,re,ie,ge){for(var be=0;be<G.length;be+=3){var Le=G[be+ge];Le>=re&&Le<=ie&&(Q.push(G[be]),Q.push(G[be+1]),Q.push(G[be+2]))}}function yo(G,Q,re,ie,ge,be,Le){for(var Pe,Te,je=Hs(G),at=ge===0?es:Da,vt=G.start,rt=0;rt<G.length-3;rt+=3){var mt=G[rt],St=G[rt+1],Dt=G[rt+2],jt=G[rt+3],_t=G[rt+4],dr=ge===0?mt:St,fr=ge===0?jt:_t,ar=!1;Le&&(Pe=Math.sqrt(Math.pow(mt-jt,2)+Math.pow(St-_t,2))),dr<re?fr>re&&(Te=at(je,mt,St,jt,_t,re),Le&&(je.start=vt+Pe*Te)):dr>ie?fr<ie&&(Te=at(je,mt,St,jt,_t,ie),Le&&(je.start=vt+Pe*Te)):Ja(je,mt,St,Dt),fr<re&&dr>=re&&(Te=at(je,mt,St,jt,_t,re),ar=!0),fr>ie&&dr<=ie&&(Te=at(je,mt,St,jt,_t,ie),ar=!0),!be&&ar&&(Le&&(je.end=vt+Pe*Te),Q.push(je),je=Hs(G)),Le&&(vt+=Pe)}var ur=G.length-3;mt=G[ur],St=G[ur+1],Dt=G[ur+2],(dr=ge===0?mt:St)>=re&&dr<=ie&&Ja(je,mt,St,Dt),ur=je.length-3,be&&ur>=3&&(je[ur]!==je[0]||je[ur+1]!==je[1])&&Ja(je,je[0],je[1],je[2]),je.length&&Q.push(je)}function Hs(G){var Q=[];return Q.size=G.size,Q.start=G.start,Q.end=G.end,Q}function Ca(G,Q,re,ie,ge,be){for(var Le=0;Le<G.length;Le++)yo(G[Le],Q,re,ie,ge,be,!1)}function Ja(G,Q,re,ie){G.push(Q),G.push(re),G.push(ie)}function es(G,Q,re,ie,ge,be){var Le=(be-Q)/(ie-Q);return G.push(be),G.push(re+(ge-re)*Le),G.push(1),Le}function Da(G,Q,re,ie,ge,be){var Le=(be-re)/(ge-re);return G.push(Q+(ie-Q)*Le),G.push(be),G.push(1),Le}function _s(G,Q){for(var re=[],ie=0;ie<G.length;ie++){var ge,be=G[ie],Le=be.type;if(Le==="Point"||Le==="MultiPoint"||Le==="LineString")ge=fa(be.geometry,Q);else if(Le==="MultiLineString"||Le==="Polygon"){ge=[];for(var Pe=0;Pe<be.geometry.length;Pe++)ge.push(fa(be.geometry[Pe],Q))}else if(Le==="MultiPolygon")for(ge=[],Pe=0;Pe<be.geometry.length;Pe++){for(var Te=[],je=0;je<be.geometry[Pe].length;je++)Te.push(fa(be.geometry[Pe][je],Q));ge.push(Te)}re.push(Lt(be.id,Le,ge,be.tags))}return re}function fa(G,Q){var re=[];re.size=G.size,G.start!==void 0&&(re.start=G.start,re.end=G.end);for(var ie=0;ie<G.length;ie+=3)re.push(G[ie]+Q,G[ie+1],G[ie+2]);return re}function ts(G,Q){if(G.transformed)return G;var re,ie,ge,be=1<<G.z,Le=G.x,Pe=G.y;for(re=0;re<G.features.length;re++){var Te=G.features[re],je=Te.geometry,at=Te.type;if(Te.geometry=[],at===1)for(ie=0;ie<je.length;ie+=2)Te.geometry.push(Vr(je[ie],je[ie+1],Q,be,Le,Pe));else for(ie=0;ie<je.length;ie++){var vt=[];for(ge=0;ge<je[ie].length;ge+=2)vt.push(Vr(je[ie][ge],je[ie][ge+1],Q,be,Le,Pe));Te.geometry.push(vt)}}return G.transformed=!0,G}function Vr(G,Q,re,ie,ge,be){return[Math.round(re*(G*ie-ge)),Math.round(re*(Q*ie-be))]}function un(G,Q,re,ie,ge){for(var be=Q===ge.maxZoom?0:ge.tolerance/((1<<Q)*ge.extent),Le={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:re,y:ie,z:Q,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Pe=0;Pe<G.length;Pe++){Le.numFeatures++,Jr(Le,G[Pe],be,ge);var Te=G[Pe].minX,je=G[Pe].minY,at=G[Pe].maxX,vt=G[Pe].maxY;Te<Le.minX&&(Le.minX=Te),je<Le.minY&&(Le.minY=je),at>Le.maxX&&(Le.maxX=at),vt>Le.maxY&&(Le.maxY=vt)}return Le}function Jr(G,Q,re,ie){var ge=Q.geometry,be=Q.type,Le=[];if(be==="Point"||be==="MultiPoint")for(var Pe=0;Pe<ge.length;Pe+=3)Le.push(ge[Pe]),Le.push(ge[Pe+1]),G.numPoints++,G.numSimplified++;else if(be==="LineString")et(Le,ge,G,re,!1,!1);else if(be==="MultiLineString"||be==="Polygon")for(Pe=0;Pe<ge.length;Pe++)et(Le,ge[Pe],G,re,be==="Polygon",Pe===0);else if(be==="MultiPolygon")for(var Te=0;Te<ge.length;Te++){var je=ge[Te];for(Pe=0;Pe<je.length;Pe++)et(Le,je[Pe],G,re,!0,Pe===0)}if(Le.length){var at=Q.tags||null;if(be==="LineString"&&ie.lineMetrics){for(var vt in at={},Q.tags)at[vt]=Q.tags[vt];at.mapbox_clip_start=ge.start/ge.size,at.mapbox_clip_end=ge.end/ge.size}var rt={geometry:Le,type:be==="Polygon"||be==="MultiPolygon"?3:be==="LineString"||be==="MultiLineString"?2:1,tags:at};Q.id!==null&&(rt.id=Q.id),G.features.push(rt)}}function et(G,Q,re,ie,ge,be){var Le=ie*ie;if(ie>0&&Q.size<(ge?Le:ie))re.numPoints+=Q.length/3;else{for(var Pe=[],Te=0;Te<Q.length;Te+=3)(ie===0||Q[Te+2]>Le)&&(re.numSimplified++,Pe.push(Q[Te]),Pe.push(Q[Te+1])),re.numPoints++;ge&&function(je,at){for(var vt=0,rt=0,mt=je.length,St=mt-2;rt<mt;St=rt,rt+=2)vt+=(je[rt]-je[St])*(je[rt+1]+je[St+1]);if(vt>0===at)for(rt=0,mt=je.length;rt<mt/2;rt+=2){var Dt=je[rt],jt=je[rt+1];je[rt]=je[mt-2-rt],je[rt+1]=je[mt-1-rt],je[mt-2-rt]=Dt,je[mt-1-rt]=jt}}(Pe,be),G.push(Pe)}}function At(G,Q){var re=(Q=this.options=function(ge,be){for(var Le in be)ge[Le]=be[Le];return ge}(Object.create(this.options),Q)).debug;if(re&&console.time("preprocess data"),Q.maxZoom<0||Q.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Q.promoteId&&Q.generateId)throw new Error("promoteId and generateId cannot be used together.");var ie=function(ge,be){var Le=[];if(ge.type==="FeatureCollection")for(var Pe=0;Pe<ge.features.length;Pe++)pn(Le,ge.features[Pe],be,Pe);else ge.type==="Feature"?pn(Le,ge,be):pn(Le,{geometry:ge},be);return Le}(G,Q);this.tiles={},this.tileCoords=[],re&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Q.indexMaxZoom,Q.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(ie=function(ge,be){var Le=be.buffer/be.extent,Pe=ge,Te=di(ge,1,-1-Le,Le,0,-1,2,be),je=di(ge,1,1-Le,2+Le,0,-1,2,be);return(Te||je)&&(Pe=di(ge,1,-Le,1+Le,0,-1,2,be)||[],Te&&(Pe=_s(Te,1).concat(Pe)),je&&(Pe=Pe.concat(_s(je,-1)))),Pe}(ie,Q)).length&&this.splitTile(ie,0,0,0),re&&(ie.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function $a(G,Q,re){return 32*((1<<G)*re+Q)+G}function Ha(G,Q){var re=G.tileID.canonical;if(!this._geoJSONIndex)return Q(null,null);var ie=this._geoJSONIndex.getTile(re.z,re.x,re.y);if(!ie)return Q(null,null);var ge=new ee(ie.features),be=_e(ge);be.byteOffset===0&&be.byteLength===be.buffer.byteLength||(be=new Uint8Array(be)),Q(null,{vectorTile:ge,rawData:be.buffer})}qt.prototype.load=function(G){var Q=this.options,re=Q.log,ie=Q.minZoom,ge=Q.maxZoom,be=Q.nodeSize;re&&console.time("total time");var Le="prepare "+G.length+" points";re&&console.time(Le),this.points=G;for(var Pe=[],Te=0;Te<G.length;Te++)G[Te].geometry&&Pe.push(ct(G[Te],Te));this.trees[ge+1]=new sr(Pe,Xn,fn,be,Float32Array),re&&console.timeEnd(Le);for(var je=ge;je>=ie;je--){var at=+Date.now();Pe=this._cluster(Pe,je),this.trees[je]=new sr(Pe,Xn,fn,be,Float32Array),re&&console.log("z%d: %d clusters in %dms",je,Pe.length,+Date.now()-at)}return re&&console.timeEnd("total time"),this},qt.prototype.getClusters=function(G,Q){var re=((G[0]+180)%360+360)%360-180,ie=Math.max(-90,Math.min(90,G[1])),ge=G[2]===180?180:((G[2]+180)%360+360)%360-180,be=Math.max(-90,Math.min(90,G[3]));if(G[2]-G[0]>=360)re=-180,ge=180;else if(re>ge){var Le=this.getClusters([re,ie,180,be],Q),Pe=this.getClusters([-180,ie,ge,be],Q);return Le.concat(Pe)}for(var Te=this.trees[this._limitZoom(Q)],je=[],at=0,vt=Te.range(Fr(re),en(be),Fr(ge),en(ie));at<vt.length;at+=1){var rt=vt[at],mt=Te.points[rt];je.push(mt.numPoints?rr(mt):this.points[mt.index])}return je},qt.prototype.getChildren=function(G){var Q=this._getOriginId(G),re=this._getOriginZoom(G),ie="No cluster with the specified id.",ge=this.trees[re];if(!ge)throw new Error(ie);var be=ge.points[Q];if(!be)throw new Error(ie);for(var Le=this.options.radius/(this.options.extent*Math.pow(2,re-1)),Pe=[],Te=0,je=ge.within(be.x,be.y,Le);Te<je.length;Te+=1){var at=je[Te],vt=ge.points[at];vt.parentId===G&&Pe.push(vt.numPoints?rr(vt):this.points[vt.index])}if(Pe.length===0)throw new Error(ie);return Pe},qt.prototype.getLeaves=function(G,Q,re){Q=Q||10,re=re||0;var ie=[];return this._appendLeaves(ie,G,Q,re,0),ie},qt.prototype.getTile=function(G,Q,re){var ie=this.trees[this._limitZoom(G)],ge=Math.pow(2,G),be=this.options,Le=be.extent,Pe=be.radius/Le,Te=(re-Pe)/ge,je=(re+1+Pe)/ge,at={features:[]};return this._addTileFeatures(ie.range((Q-Pe)/ge,Te,(Q+1+Pe)/ge,je),ie.points,Q,re,ge,at),Q===0&&this._addTileFeatures(ie.range(1-Pe/ge,Te,1,je),ie.points,ge,re,ge,at),Q===ge-1&&this._addTileFeatures(ie.range(0,Te,Pe/ge,je),ie.points,-1,re,ge,at),at.features.length?at:null},qt.prototype.getClusterExpansionZoom=function(G){for(var Q=this._getOriginZoom(G)-1;Q<=this.options.maxZoom;){var re=this.getChildren(G);if(Q++,re.length!==1)break;G=re[0].properties.cluster_id}return Q},qt.prototype._appendLeaves=function(G,Q,re,ie,ge){for(var be=0,Le=this.getChildren(Q);be<Le.length;be+=1){var Pe=Le[be],Te=Pe.properties;if(Te&&Te.cluster?ge+Te.point_count<=ie?ge+=Te.point_count:ge=this._appendLeaves(G,Te.cluster_id,re,ie,ge):ge<ie?ge++:G.push(Pe),G.length===re)break}return ge},qt.prototype._addTileFeatures=function(G,Q,re,ie,ge,be){for(var Le=0,Pe=G;Le<Pe.length;Le+=1){var Te=Q[Pe[Le]],je=Te.numPoints,at=void 0,vt=void 0,rt=void 0;if(je)at=gr(Te),vt=Te.x,rt=Te.y;else{var mt=this.points[Te.index];at=mt.properties,vt=Fr(mt.geometry.coordinates[0]),rt=en(mt.geometry.coordinates[1])}var St={type:1,geometry:[[Math.round(this.options.extent*(vt*ge-re)),Math.round(this.options.extent*(rt*ge-ie))]],tags:at},Dt=void 0;je?Dt=Te.id:this.options.generateId?Dt=Te.index:this.points[Te.index].id&&(Dt=this.points[Te.index].id),Dt!==void 0&&(St.id=Dt),be.features.push(St)}},qt.prototype._limitZoom=function(G){return Math.max(this.options.minZoom,Math.min(+G,this.options.maxZoom+1))},qt.prototype._cluster=function(G,Q){for(var re=[],ie=this.options,ge=ie.radius,be=ie.extent,Le=ie.reduce,Pe=ie.minPoints,Te=ge/(be*Math.pow(2,Q)),je=0;je<G.length;je++){var at=G[je];if(!(at.zoom<=Q)){at.zoom=Q;for(var vt=this.trees[Q+1],rt=vt.within(at.x,at.y,Te),mt=at.numPoints||1,St=mt,Dt=0,jt=rt;Dt<jt.length;Dt+=1){var _t=jt[Dt],dr=vt.points[_t];dr.zoom>Q&&(St+=dr.numPoints||1)}if(St>=Pe){for(var fr=at.x*mt,ar=at.y*mt,ur=Le&&mt>1?this._map(at,!0):null,on=(je<<5)+(Q+1)+this.points.length,pr=0,Lr=rt;pr<Lr.length;pr+=1){var hn=Lr[pr],Br=vt.points[hn];if(!(Br.zoom<=Q)){Br.zoom=Q;var vi=Br.numPoints||1;fr+=Br.x*vi,ar+=Br.y*vi,Br.parentId=on,Le&&(ur||(ur=this._map(at,!0)),Le(ur,this._map(Br)))}}at.parentId=on,re.push(tr(fr/St,ar/St,on,St,ur))}else if(re.push(at),St>1)for(var Dr=0,Pn=rt;Dr<Pn.length;Dr+=1){var Er=Pn[Dr],zn=vt.points[Er];zn.zoom<=Q||(zn.zoom=Q,re.push(zn))}}}return re},qt.prototype._getOriginId=function(G){return G-this.points.length>>5},qt.prototype._getOriginZoom=function(G){return(G-this.points.length)%32},qt.prototype._map=function(G,Q){if(G.numPoints)return Q?kn({},G.properties):G.properties;var re=this.points[G.index].properties,ie=this.options.map(re);return Q&&ie===re?kn({},ie):ie},At.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},At.prototype.splitTile=function(G,Q,re,ie,ge,be,Le){for(var Pe=[G,Q,re,ie],Te=this.options,je=Te.debug;Pe.length;){ie=Pe.pop(),re=Pe.pop(),Q=Pe.pop(),G=Pe.pop();var at=1<<Q,vt=$a(Q,re,ie),rt=this.tiles[vt];if(!rt&&(je>1&&console.time("creation"),rt=this.tiles[vt]=un(G,Q,re,ie,Te),this.tileCoords.push({z:Q,x:re,y:ie}),je)){je>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Q,re,ie,rt.numFeatures,rt.numPoints,rt.numSimplified),console.timeEnd("creation"));var mt="z"+Q;this.stats[mt]=(this.stats[mt]||0)+1,this.total++}if(rt.source=G,ge){if(Q===Te.maxZoom||Q===ge)continue;var St=1<<ge-Q;if(re!==Math.floor(be/St)||ie!==Math.floor(Le/St))continue}else if(Q===Te.indexMaxZoom||rt.numPoints<=Te.indexMaxPoints)continue;if(rt.source=null,G.length!==0){je>1&&console.time("clipping");var Dt,jt,_t,dr,fr,ar,ur=.5*Te.buffer/Te.extent,on=.5-ur,pr=.5+ur,Lr=1+ur;Dt=jt=_t=dr=null,fr=di(G,at,re-ur,re+pr,0,rt.minX,rt.maxX,Te),ar=di(G,at,re+on,re+Lr,0,rt.minX,rt.maxX,Te),G=null,fr&&(Dt=di(fr,at,ie-ur,ie+pr,1,rt.minY,rt.maxY,Te),jt=di(fr,at,ie+on,ie+Lr,1,rt.minY,rt.maxY,Te),fr=null),ar&&(_t=di(ar,at,ie-ur,ie+pr,1,rt.minY,rt.maxY,Te),dr=di(ar,at,ie+on,ie+Lr,1,rt.minY,rt.maxY,Te),ar=null),je>1&&console.timeEnd("clipping"),Pe.push(Dt||[],Q+1,2*re,2*ie),Pe.push(jt||[],Q+1,2*re,2*ie+1),Pe.push(_t||[],Q+1,2*re+1,2*ie),Pe.push(dr||[],Q+1,2*re+1,2*ie+1)}}},At.prototype.getTile=function(G,Q,re){var ie=this.options,ge=ie.extent,be=ie.debug;if(G<0||G>24)return null;var Le=1<<G,Pe=$a(G,Q=(Q%Le+Le)%Le,re);if(this.tiles[Pe])return ts(this.tiles[Pe],ge);be>1&&console.log("drilling down to z%d-%d-%d",G,Q,re);for(var Te,je=G,at=Q,vt=re;!Te&&je>0;)je--,at=Math.floor(at/2),vt=Math.floor(vt/2),Te=this.tiles[$a(je,at,vt)];return Te&&Te.source?(be>1&&console.log("found parent tile z%d-%d-%d",je,at,vt),be>1&&console.time("drilling down"),this.splitTile(Te.source,je,at,vt,G,Q,re),be>1&&console.timeEnd("drilling down"),this.tiles[Pe]?ts(this.tiles[Pe],ge):null):null};var Gn=function(G){function Q(re,ie,ge,be){G.call(this,re,ie,ge,Ha),be&&(this.loadGeoJSON=be)}return G&&(Q.__proto__=G),Q.prototype=Object.create(G&&G.prototype),Q.prototype.constructor=Q,Q.prototype.loadData=function(re,ie){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=ie,this._pendingLoadDataParams=re,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},Q.prototype._loadData=function(){var re=this;if(this._pendingCallback&&this._pendingLoadDataParams){var ie=this._pendingCallback,ge=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var be=!!(ge&&ge.request&&ge.request.collectResourceTiming)&&new a.RequestPerformance(ge.request);this.loadGeoJSON(ge,function(Le,Pe){if(Le||!Pe)return ie(Le);if(typeof Pe!="object")return ie(new Error("Input data given to '"+ge.source+"' is not a valid GeoJSON object."));L(Pe,!0);try{re._geoJSONIndex=ge.cluster?new qt(function(at){var vt=at.superclusterOptions,rt=at.clusterProperties;if(!rt||!vt)return vt;for(var mt={},St={},Dt={accumulated:null,zoom:0},jt={properties:null},_t=Object.keys(rt),dr=0,fr=_t;dr<fr.length;dr+=1){var ar=fr[dr],ur=rt[ar],on=ur[0],pr=ur[1],Lr=a.createExpression(pr),hn=a.createExpression(typeof on=="string"?[on,["accumulated"],["get",ar]]:on);mt[ar]=Lr.value,St[ar]=hn.value}return vt.map=function(Br){jt.properties=Br;for(var vi={},Dr=0,Pn=_t;Dr<Pn.length;Dr+=1){var Er=Pn[Dr];vi[Er]=mt[Er].evaluate(Dt,jt)}return vi},vt.reduce=function(Br,vi){jt.properties=vi;for(var Dr=0,Pn=_t;Dr<Pn.length;Dr+=1){var Er=Pn[Dr];Dt.accumulated=Br[Er],Br[Er]=St[Er].evaluate(Dt,jt)}},vt}(ge)).load(Pe.features):function(at,vt){return new At(at,vt)}(Pe,ge.geojsonVtOptions)}catch(at){return ie(at)}re.loaded={};var Te={};if(be){var je=be.finish();je&&(Te.resourceTiming={},Te.resourceTiming[ge.source]=JSON.parse(JSON.stringify(je)))}ie(null,Te)})}},Q.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},Q.prototype.reloadTile=function(re,ie){var ge=this.loaded,be=re.uid;return ge&&ge[be]?G.prototype.reloadTile.call(this,re,ie):this.loadTile(re,ie)},Q.prototype.loadGeoJSON=function(re,ie){if(re.request)a.getJSON(re.request,ie);else{if(typeof re.data!="string")return ie(new Error("Input data given to '"+re.source+"' is not a valid GeoJSON object."));try{return ie(null,JSON.parse(re.data))}catch{return ie(new Error("Input data given to '"+re.source+"' is not a valid GeoJSON object."))}}},Q.prototype.removeSource=function(re,ie){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),ie()},Q.prototype.getClusterExpansionZoom=function(re,ie){ie(null,this._geoJSONIndex.getClusterExpansionZoom(re.clusterId))},Q.prototype.getClusterChildren=function(re,ie){ie(null,this._geoJSONIndex.getChildren(re.clusterId))},Q.prototype.getClusterLeaves=function(re,ie){ie(null,this._geoJSONIndex.getLeaves(re.clusterId,re.limit,re.offset))},Q}(S),bn=function(G){var Q=this;this.self=G,this.actor=new a.Actor(G,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:S,geojson:Gn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(re,ie){if(Q.workerSourceTypes[re])throw new Error('Worker source with name "'+re+'" already registered.');Q.workerSourceTypes[re]=ie},this.self.registerRTLTextPlugin=function(re){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=re.applyArabicShaping,a.plugin.processBidirectionalText=re.processBidirectionalText,a.plugin.processStyledBidirectionalText=re.processStyledBidirectionalText}};return bn.prototype.setReferrer=function(G,Q){this.referrer=Q},bn.prototype.setImages=function(G,Q,re){this.availableImages[G]=Q,re()},bn.prototype.setLayers=function(G,Q,re){this.getLayerIndex(G).replace(Q),re()},bn.prototype.updateLayers=function(G,Q,re){this.getLayerIndex(G).update(Q.layers,Q.removedIds),re()},bn.prototype.loadTile=function(G,Q,re){this.getWorkerSource(G,Q.type,Q.source).loadTile(Q,re)},bn.prototype.loadDEMTile=function(G,Q,re){this.getDEMWorkerSource(G,Q.source).loadTile(Q,re)},bn.prototype.reloadTile=function(G,Q,re){this.getWorkerSource(G,Q.type,Q.source).reloadTile(Q,re)},bn.prototype.abortTile=function(G,Q,re){this.getWorkerSource(G,Q.type,Q.source).abortTile(Q,re)},bn.prototype.removeTile=function(G,Q,re){this.getWorkerSource(G,Q.type,Q.source).removeTile(Q,re)},bn.prototype.removeDEMTile=function(G,Q){this.getDEMWorkerSource(G,Q.source).removeTile(Q)},bn.prototype.removeSource=function(G,Q,re){if(this.workerSources[G]&&this.workerSources[G][Q.type]&&this.workerSources[G][Q.type][Q.source]){var ie=this.workerSources[G][Q.type][Q.source];delete this.workerSources[G][Q.type][Q.source],ie.removeSource!==void 0?ie.removeSource(Q,re):re()}},bn.prototype.loadWorkerSource=function(G,Q,re){try{this.self.importScripts(Q.url),re()}catch(ie){re(ie.toString())}},bn.prototype.syncRTLPluginState=function(G,Q,re){try{a.plugin.setState(Q);var ie=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&ie!=null){this.self.importScripts(ie);var ge=a.plugin.isParsed();re(ge?void 0:new Error("RTL Text Plugin failed to import scripts from "+ie),ge)}}catch(be){re(be.toString())}},bn.prototype.getAvailableImages=function(G){var Q=this.availableImages[G];return Q||(Q=[]),Q},bn.prototype.getLayerIndex=function(G){var Q=this.layerIndexes[G];return Q||(Q=this.layerIndexes[G]=new h),Q},bn.prototype.getWorkerSource=function(G,Q,re){var ie=this;if(this.workerSources[G]||(this.workerSources[G]={}),this.workerSources[G][Q]||(this.workerSources[G][Q]={}),!this.workerSources[G][Q][re]){var ge={send:function(be,Le,Pe){ie.actor.send(be,Le,Pe,G)}};this.workerSources[G][Q][re]=new this.workerSourceTypes[Q](ge,this.getLayerIndex(G),this.getAvailableImages(G))}return this.workerSources[G][Q][re]},bn.prototype.getDEMWorkerSource=function(G,Q){return this.demWorkerSources[G]||(this.demWorkerSources[G]={}),this.demWorkerSources[G][Q]||(this.demWorkerSources[G][Q]=new A),this.demWorkerSources[G][Q]},bn.prototype.enforceCacheSizeLimit=function(G,Q){a.enforceCacheSizeLimit(Q)},typeof WorkerGlobalScope<"u"&&a.window!==void 0&&a.window instanceof WorkerGlobalScope&&(a.window.worker=new bn(a.window)),bn}),o(["./shared"],function(a){var l=a.createCommonjsModule(function(p){function v(M){return!g(M)}function g(M){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var z,B,U=new Blob([""],{type:"text/javascript"}),Y=URL.createObjectURL(U);try{B=new Worker(Y),z=!0}catch{z=!1}return B&&B.terminate(),URL.revokeObjectURL(Y),z}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var z=document.createElement("canvas");z.width=z.height=1;var B=z.getContext("2d");if(!B)return!1;var U=B.getImageData(0,0,1,1);return U&&U.width===z.width}()?function(z){return b[z]===void 0&&(b[z]=function(B){var U=function(K){var te=document.createElement("canvas"),ce=Object.create(v.webGLContextAttributes);return ce.failIfMajorPerformanceCaveat=K,te.probablySupportsContext?te.probablySupportsContext("webgl",ce)||te.probablySupportsContext("experimental-webgl",ce):te.supportsContext?te.supportsContext("webgl",ce)||te.supportsContext("experimental-webgl",ce):te.getContext("webgl",ce)||te.getContext("experimental-webgl",ce)}(B);if(!U)return!1;var Y=U.createShader(U.VERTEX_SHADER);return!Y||U.isContextLost()?!1:(U.shaderSource(Y,"void main() {}"),U.compileShader(Y),U.getShaderParameter(Y,U.COMPILE_STATUS)===!0)}(z)),b[z]}(M&&M.failIfMajorPerformanceCaveat)?void 0:"insufficient WebGL support":"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support"}p.exports?p.exports=v:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=v,window.mapboxgl.notSupportedReason=g);var b={};v.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),u={create:function(p,v,g){var b=a.window.document.createElement(p);return v!==void 0&&(b.className=v),g&&g.appendChild(b),b},createNS:function(p,v){return a.window.document.createElementNS(p,v)}},h=a.window.document.documentElement.style;function f(p){if(!h)return p[0];for(var v=0;v<p.length;v++)if(p[v]in h)return p[v];return p[0]}var m,x=f(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);u.disableDrag=function(){h&&x&&(m=h[x],h[x]="none")},u.enableDrag=function(){h&&x&&(h[x]=m)};var w=f(["transform","WebkitTransform"]);u.setTransform=function(p,v){p.style[w]=v};var S=!1;try{var C=Object.defineProperty({},"passive",{get:function(){S=!0}});a.window.addEventListener("test",C,C),a.window.removeEventListener("test",C,C)}catch{S=!1}u.addEventListener=function(p,v,g,b){b===void 0&&(b={}),"passive"in b&&S?p.addEventListener(v,g,b):p.addEventListener(v,g,b.capture)},u.removeEventListener=function(p,v,g,b){b===void 0&&(b={}),"passive"in b&&S?p.removeEventListener(v,g,b):p.removeEventListener(v,g,b.capture)};var A=function(p){p.preventDefault(),p.stopPropagation(),a.window.removeEventListener("click",A,!0)};function E(p){var v=p.userImage;return v&&v.render&&v.render()?(p.data.replace(new Uint8Array(v.data.buffer)),!0):!1}u.suppressClick=function(){a.window.addEventListener("click",A,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",A,!0)},0)},u.mousePos=function(p,v){var g=p.getBoundingClientRect(),b=a.window.TouchEvent&&v instanceof a.window.TouchEvent?v.touches[0]:v;return new a.Point(b.clientX-g.left-p.clientLeft,b.clientY-g.top-p.clientTop)},u.touchPos=function(p,v){for(var g=p.getBoundingClientRect(),b=[],M=v.type==="touchend"?v.changedTouches:v.touches,z=0;z<M.length;z++)b.push(new a.Point(M[z].clientX-g.left-p.clientLeft,M[z].clientY-g.top-p.clientTop));return b},u.mouseButton=function(p){return a.window.InstallTrigger!==void 0&&p.button===2&&p.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:p.button},u.remove=function(p){p.parentNode&&p.parentNode.removeChild(p)};var P=function(p){function v(){p.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.isLoaded=function(){return this.loaded},v.prototype.setLoaded=function(g){if(this.loaded!==g&&(this.loaded=g,g)){for(var b=0,M=this.requestors;b<M.length;b+=1){var z=M[b],B=z.ids,U=z.callback;this._notify(B,U)}this.requestors=[]}},v.prototype.getImage=function(g){return this.images[g]},v.prototype.addImage=function(g,b){this._validate(g,b)&&(this.images[g]=b)},v.prototype._validate=function(g,b){var M=!0;return this._validateStretch(b.stretchX,b.data&&b.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+g+'" has invalid "stretchX" value'))),M=!1),this._validateStretch(b.stretchY,b.data&&b.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+g+'" has invalid "stretchY" value'))),M=!1),this._validateContent(b.content,b)||(this.fire(new a.ErrorEvent(new Error('Image "'+g+'" has invalid "content" value'))),M=!1),M},v.prototype._validateStretch=function(g,b){if(!g)return!0;for(var M=0,z=0,B=g;z<B.length;z+=1){var U=B[z];if(U[0]<M||U[1]<U[0]||b<U[1])return!1;M=U[1]}return!0},v.prototype._validateContent=function(g,b){return!g||g.length===4&&!(g[0]<0||b.data.width<g[0])&&!(g[1]<0||b.data.height<g[1])&&!(g[2]<0||b.data.width<g[2])&&!(g[3]<0||b.data.height<g[3])&&!(g[2]<g[0])&&!(g[3]<g[1])},v.prototype.updateImage=function(g,b){var M=this.images[g];b.version=M.version+1,this.images[g]=b,this.updatedImages[g]=!0},v.prototype.removeImage=function(g){var b=this.images[g];delete this.images[g],delete this.patterns[g],b.userImage&&b.userImage.onRemove&&b.userImage.onRemove()},v.prototype.listImages=function(){return Object.keys(this.images)},v.prototype.getImages=function(g,b){var M=!0;if(!this.isLoaded())for(var z=0,B=g;z<B.length;z+=1){var U=B[z];this.images[U]||(M=!1)}this.isLoaded()||M?this._notify(g,b):this.requestors.push({ids:g,callback:b})},v.prototype._notify=function(g,b){for(var M={},z=0,B=g;z<B.length;z+=1){var U=B[z];this.images[U]||this.fire(new a.Event("styleimagemissing",{id:U}));var Y=this.images[U];Y?M[U]={data:Y.data.clone(),pixelRatio:Y.pixelRatio,sdf:Y.sdf,version:Y.version,stretchX:Y.stretchX,stretchY:Y.stretchY,content:Y.content,hasRenderCallback:!!(Y.userImage&&Y.userImage.render)}:a.warnOnce('Image "'+U+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}b(null,M)},v.prototype.getPixelSize=function(){var g=this.atlasImage;return{width:g.width,height:g.height}},v.prototype.getPattern=function(g){var b=this.patterns[g],M=this.getImage(g);if(!M)return null;if(b&&b.position.version===M.version)return b.position;if(b)b.position.version=M.version;else{var z={w:M.data.width+2,h:M.data.height+2,x:0,y:0},B=new a.ImagePosition(z,M);this.patterns[g]={bin:z,position:B}}return this._updatePatternAtlas(),this.patterns[g].position},v.prototype.bind=function(g){var b=g.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(g,this.atlasImage,b.RGBA),this.atlasTexture.bind(b.LINEAR,b.CLAMP_TO_EDGE)},v.prototype._updatePatternAtlas=function(){var g=[];for(var b in this.patterns)g.push(this.patterns[b].bin);var M=a.potpack(g),z=M.w,B=M.h,U=this.atlasImage;for(var Y in U.resize({width:z||1,height:B||1}),this.patterns){var K=this.patterns[Y].bin,te=K.x+1,ce=K.y+1,me=this.images[Y].data,pe=me.width,ye=me.height;a.RGBAImage.copy(me,U,{x:0,y:0},{x:te,y:ce},{width:pe,height:ye}),a.RGBAImage.copy(me,U,{x:0,y:ye-1},{x:te,y:ce-1},{width:pe,height:1}),a.RGBAImage.copy(me,U,{x:0,y:0},{x:te,y:ce+ye},{width:pe,height:1}),a.RGBAImage.copy(me,U,{x:pe-1,y:0},{x:te-1,y:ce},{width:1,height:ye}),a.RGBAImage.copy(me,U,{x:0,y:0},{x:te+pe,y:ce},{width:1,height:ye})}this.dirty=!0},v.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},v.prototype.dispatchRenderCallbacks=function(g){for(var b=0,M=g;b<M.length;b+=1){var z=M[b];if(!this.callbackDispatchedThisFrame[z]){this.callbackDispatchedThisFrame[z]=!0;var B=this.images[z];E(B)&&this.updateImage(z,B)}}},v}(a.Evented),I=L,N=L,D=1e20;function L(p,v,g,b,M,z){this.fontSize=p||24,this.buffer=v===void 0?3:v,this.cutoff=b||.25,this.fontFamily=M||"sans-serif",this.fontWeight=z||"normal",this.radius=g||8;var B=this.size=this.fontSize+2*this.buffer,U=B+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=B,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(U*U),this.gridInner=new Float64Array(U*U),this.f=new Float64Array(U),this.z=new Float64Array(U+1),this.v=new Uint16Array(U),this.useMetrics=this.ctx.measureText("A").actualBoundingBoxLeft!==void 0,this.middle=Math.round(B/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function R(p,v,g,b,M,z){for(var B=0;B<v;B++)$(p,B,v,g,b,M,z);for(var U=0;U<g;U++)$(p,U*v,1,v,b,M,z)}function $(p,v,g,b,M,z,B){var U,Y,K,te;for(z[0]=0,B[0]=-D,B[1]=D,U=0;U<b;U++)M[U]=p[v+U*g];for(U=1,Y=0,K=0;U<b;U++){do te=z[Y],K=(M[U]-M[te]+U*U-te*te)/(U-te)/2;while(K<=B[Y]&&--Y>-1);z[++Y]=U,B[Y]=K,B[Y+1]=D}for(U=0,Y=0;U<b;U++){for(;B[Y+1]<U;)Y++;te=z[Y],p[v+U*g]=M[te]+(U-te)*(U-te)}}L.prototype._draw=function(p,v){var g,b,M,z,B,U,Y,K,te,ce=this.ctx.measureText(p),me=ce.width,pe=2*this.buffer;v&&this.useMetrics?(B=Math.floor(ce.actualBoundingBoxAscent),K=this.buffer+Math.ceil(ce.actualBoundingBoxAscent),U=this.buffer,Y=this.buffer,g=(b=Math.min(this.size,Math.ceil(ce.actualBoundingBoxRight-ce.actualBoundingBoxLeft)))+pe,M=(z=Math.min(this.size-U,Math.ceil(ce.actualBoundingBoxAscent+ce.actualBoundingBoxDescent)))+pe,this.ctx.textBaseline="alphabetic"):(g=b=this.size,M=z=this.size,B=19*this.fontSize/24,U=Y=0,K=this.middle,this.ctx.textBaseline="middle"),b&&z&&(this.ctx.clearRect(Y,U,b,z),this.ctx.fillText(p,this.buffer,K),te=this.ctx.getImageData(Y,U,b,z));var ye=new Uint8ClampedArray(g*M);return function(ve,De,Oe,Be,Fe,$e,Qe){$e.fill(D,0,De*Oe),Qe.fill(0,0,De*Oe);for(var st=(De-Be)/2,gt=0;gt<Fe;gt++)for(var Bt=0;Bt<Be;Bt++){var Nt=(gt+st)*De+Bt+st,Yt=ve.data[4*(gt*Be+Bt)+3]/255;if(Yt===1)$e[Nt]=0,Qe[Nt]=D;else if(Yt===0)$e[Nt]=D,Qe[Nt]=0;else{var Ot=Math.max(0,.5-Yt),hr=Math.max(0,Yt-.5);$e[Nt]=Ot*Ot,Qe[Nt]=hr*hr}}}(te,g,M,b,z,this.gridOuter,this.gridInner),R(this.gridOuter,g,M,this.f,this.v,this.z),R(this.gridInner,g,M,this.f,this.v,this.z),function(ve,De,Oe,Be,Fe,$e,Qe){for(var st=0;st<De*Oe;st++){var gt=Math.sqrt(Be[st])-Math.sqrt(Fe[st]);ve[st]=Math.round(255-255*(gt/$e+Qe))}}(ye,g,M,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:ye,metrics:{width:b,height:z,sdfWidth:g,sdfHeight:M,top:B,left:0,advance:me}}},L.prototype.draw=function(p){return this._draw(p,!1).data},L.prototype.drawWithMetrics=function(p){return this._draw(p,!0)},I.default=N;var W=function(p,v){this.requestManager=p,this.localIdeographFontFamily=v,this.entries={}};W.prototype.setURL=function(p){this.url=p},W.prototype.getGlyphs=function(p,v){var g=this,b=[];for(var M in p)for(var z=0,B=p[M];z<B.length;z+=1){var U=B[z];b.push({stack:M,id:U})}a.asyncAll(b,function(Y,K){var te=Y.stack,ce=Y.id,me=g.entries[te];me||(me=g.entries[te]={glyphs:{},requests:{}});var pe=me.glyphs[ce];if(pe===void 0){if(pe=g._tinySDF(me,te,ce))return me.glyphs[ce]=pe,void K(null,{stack:te,id:ce,glyph:pe});var ye=Math.floor(ce/256);if(256*ye>65535)K(new Error("glyphs > 65535 not supported"));else{var ve=me.requests[ye];ve||(ve=me.requests[ye]=[],W.loadGlyphRange(te,ye,g.url,g.requestManager,function(De,Oe){if(Oe)for(var Be in Oe)g._doesCharSupportLocalGlyph(+Be)||(me.glyphs[+Be]=Oe[+Be]);for(var Fe=0,$e=ve;Fe<$e.length;Fe+=1)(0,$e[Fe])(De,Oe);delete me.requests[ye]})),ve.push(function(De,Oe){De?K(De):Oe&&K(null,{stack:te,id:ce,glyph:Oe[ce]||null})})}}else K(null,{stack:te,id:ce,glyph:pe})},function(Y,K){if(Y)v(Y);else if(K){for(var te={},ce=0,me=K;ce<me.length;ce+=1){var pe=me[ce],ye=pe.stack,ve=pe.id,De=pe.glyph;(te[ye]||(te[ye]={}))[ve]=De&&{id:De.id,bitmap:De.bitmap.clone(),metrics:De.metrics}}v(null,te)}})},W.prototype._doesCharSupportLocalGlyph=function(p){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](p)||a.isChar["Hangul Syllables"](p)||a.isChar.Hiragana(p)||a.isChar.Katakana(p))},W.prototype._tinySDF=function(p,v,g){var b=this.localIdeographFontFamily;if(b&&this._doesCharSupportLocalGlyph(g)){var M=p.tinySDF;if(!M){var z="400";/bold/i.test(v)?z="900":/medium/i.test(v)?z="500":/light/i.test(v)&&(z="200"),M=p.tinySDF=new W.TinySDF(24,3,8,.25,b,z)}return{id:g,bitmap:new a.AlphaImage({width:30,height:30},M.draw(String.fromCharCode(g))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},W.loadGlyphRange=function(p,v,g,b,M){var z=256*v,B=z+255,U=b.transformRequest(b.normalizeGlyphsURL(g).replace("{fontstack}",p).replace("{range}",z+"-"+B),a.ResourceType.Glyphs);a.getArrayBuffer(U,function(Y,K){if(Y)M(Y);else if(K){for(var te={},ce=0,me=a.parseGlyphPBF(K);ce<me.length;ce+=1){var pe=me[ce];te[pe.id]=pe}M(null,te)}})},W.TinySDF=I;var J=function(){this.specification=a.styleSpec.light.position};J.prototype.possiblyEvaluate=function(p,v){return a.sphericalToCartesian(p.expression.evaluate(v))},J.prototype.interpolate=function(p,v,g){return{x:a.number(p.x,v.x,g),y:a.number(p.y,v.y,g),z:a.number(p.z,v.z,g)}};var q=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new J,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),ee=function(p){function v(g){p.call(this),this._transitionable=new a.Transitionable(q),this.setLight(g),this._transitioning=this._transitionable.untransitioned()}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getLight=function(){return this._transitionable.serialize()},v.prototype.setLight=function(g,b){if(b===void 0&&(b={}),!this._validate(a.validateLight,g,b))for(var M in g){var z=g[M];a.endsWith(M,"-transition")?this._transitionable.setTransition(M.slice(0,-11),z):this._transitionable.setValue(M,z)}},v.prototype.updateTransitions=function(g){this._transitioning=this._transitionable.transitioned(g,this._transitioning)},v.prototype.hasTransition=function(){return this._transitioning.hasTransition()},v.prototype.recalculate=function(g){this.properties=this._transitioning.possiblyEvaluate(g)},v.prototype._validate=function(g,b,M){return(!M||M.validate!==!1)&&a.emitValidationErrors(this,g.call(a.validateStyle,a.extend({value:b,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},v}(a.Evented),se=function(p,v){this.width=p,this.height=v,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};se.prototype.getDash=function(p,v){var g=p.join(",")+String(v);return this.positions[g]||(this.positions[g]=this.addDash(p,v)),this.positions[g]},se.prototype.addDash=function(p,v){var g=v?7:0,b=2*g+1;if(this.nextRow+b>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var M=0,z=0;z<p.length;z++)M+=p[z];for(var B=this.width/M,U=B/2,Y=p.length%2==1,K=-g;K<=g;K++)for(var te=this.nextRow+g+K,ce=this.width*te,me=Y?-p[p.length-1]:0,pe=p[0],ye=1,ve=0;ve<this.width;ve++){for(;pe<ve/B;)me=pe,pe+=p[ye],Y&&ye===p.length-1&&(pe+=p[0]),ye++;var De=Math.abs(ve-me*B),Oe=Math.abs(ve-pe*B),Be=Math.min(De,Oe),Fe=ye%2==1,$e=void 0;if(v){var Qe=g?K/g*(U+1):0;if(Fe){var st=U-Math.abs(Qe);$e=Math.sqrt(Be*Be+st*st)}else $e=U-Math.sqrt(Be*Be+Qe*Qe)}else $e=(Fe?1:-1)*Be;this.data[3+4*(ce+ve)]=Math.max(0,Math.min(255,$e+128))}var gt={y:(this.nextRow+g+.5)/this.height,height:2*g/this.height,width:M};return this.nextRow+=b,this.dirty=!0,gt},se.prototype.bind=function(p){var v=p.gl;this.texture?(v.bindTexture(v.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,v.texSubImage2D(v.TEXTURE_2D,0,0,0,this.width,this.height,v.RGBA,v.UNSIGNED_BYTE,this.data))):(this.texture=v.createTexture(),v.bindTexture(v.TEXTURE_2D,this.texture),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,v.REPEAT),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.REPEAT),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.LINEAR),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.LINEAR),v.texImage2D(v.TEXTURE_2D,0,v.RGBA,this.width,this.height,0,v.RGBA,v.UNSIGNED_BYTE,this.data))};var he=function p(v,g){this.workerPool=v,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var b=this.workerPool.acquire(this.id),M=0;M<b.length;M++){var z=b[M],B=new p.Actor(z,g,this.id);B.name="Worker "+M,this.actors.push(B)}};function Se(p,v,g){var b=function(M,z){if(M)return g(M);if(z){var B=a.pick(a.extend(z,p),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);z.vector_layers&&(B.vectorLayers=z.vector_layers,B.vectorLayerIds=B.vectorLayers.map(function(U){return U.id})),p.url&&(B.tiles=v.canonicalizeTileset(B,p.url)),g(null,B)}};return p.url?a.getJSON(v.transformRequest(v.normalizeSourceURL(p.url),a.ResourceType.Source),b):a.browser.frame(function(){return b(null,p)})}he.prototype.broadcast=function(p,v,g){g=g||function(){},a.asyncAll(this.actors,function(b,M){b.send(p,v,M)},g)},he.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},he.prototype.remove=function(){this.actors.forEach(function(p){p.remove()}),this.actors=[],this.workerPool.release(this.id)},he.Actor=a.Actor;var oe=function(p,v,g){this.bounds=a.LngLatBounds.convert(this.validateBounds(p)),this.minzoom=v||0,this.maxzoom=g||24};oe.prototype.validateBounds=function(p){return Array.isArray(p)&&p.length===4?[Math.max(-180,p[0]),Math.max(-90,p[1]),Math.min(180,p[2]),Math.min(90,p[3])]:[-180,-90,180,90]},oe.prototype.contains=function(p){var v=Math.pow(2,p.z),g=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*v),b=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*v),M=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*v),z=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*v);return p.x>=g&&p.x<M&&p.y>=b&&p.y<z};var _e=function(p){function v(g,b,M,z){if(p.call(this),this.id=g,this.dispatcher=M,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(b,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},b),this._collectResourceTiming=b.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(z)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.load=function(){var g=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Se(this._options,this.map._requestManager,function(b,M){g._tileJSONRequest=null,g._loaded=!0,b?g.fire(new a.ErrorEvent(b)):M&&(a.extend(g,M),M.bounds&&(g.tileBounds=new oe(M.bounds,g.minzoom,g.maxzoom)),a.postTurnstileEvent(M.tiles,g.map._requestManager._customAccessToken),a.postMapLoadEvent(M.tiles,g.map._getMapId(),g.map._requestManager._skuToken,g.map._requestManager._customAccessToken),g.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),g.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},v.prototype.loaded=function(){return this._loaded},v.prototype.hasTile=function(g){return!this.tileBounds||this.tileBounds.contains(g.canonical)},v.prototype.onAdd=function(g){this.map=g,this.load()},v.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},v.prototype.serialize=function(){return a.extend({},this._options)},v.prototype.loadTile=function(g,b){var M=this.map._requestManager.normalizeTileURL(g.tileID.canonical.url(this.tiles,this.scheme),this.url,null),z={request:this.map._requestManager.transformRequest(M,a.ResourceType.Tile),uid:g.uid,tileID:g.tileID,zoom:g.tileID.overscaledZ,tileSize:this.tileSize*g.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function B(U,Y){return delete g.request,g.aborted?b(null):U&&U.status!==404?b(U):(Y&&Y.resourceTiming&&(g.resourceTiming=Y.resourceTiming),this.map._refreshExpiredTiles&&Y&&g.setExpiryData(Y),g.loadVectorData(Y,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),b(null),void(g.reloadCallback&&(this.loadTile(g,g.reloadCallback),g.reloadCallback=null)))}z.request.collectResourceTiming=this._collectResourceTiming,g.actor&&g.state!=="expired"?g.state==="loading"?g.reloadCallback=b:g.request=g.actor.send("reloadTile",z,B.bind(this)):(g.actor=this.dispatcher.getActor(),g.request=g.actor.send("loadTile",z,B.bind(this)))},v.prototype.abortTile=function(g){g.request&&(g.request.cancel(),delete g.request),g.actor&&g.actor.send("abortTile",{uid:g.uid,type:this.type,source:this.id},void 0)},v.prototype.unloadTile=function(g){g.unloadVectorData(),g.actor&&g.actor.send("removeTile",{uid:g.uid,type:this.type,source:this.id},void 0)},v.prototype.hasTransition=function(){return!1},v}(a.Evented),xe=function(p){function v(g,b,M,z){p.call(this),this.id=g,this.dispatcher=M,this.setEventedParent(z),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},b),a.extend(this,a.pick(b,["url","scheme","tileSize"]))}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.load=function(){var g=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Se(this._options,this.map._requestManager,function(b,M){g._tileJSONRequest=null,g._loaded=!0,b?g.fire(new a.ErrorEvent(b)):M&&(a.extend(g,M),M.bounds&&(g.tileBounds=new oe(M.bounds,g.minzoom,g.maxzoom)),a.postTurnstileEvent(M.tiles),a.postMapLoadEvent(M.tiles,g.map._getMapId(),g.map._requestManager._skuToken),g.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),g.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},v.prototype.loaded=function(){return this._loaded},v.prototype.onAdd=function(g){this.map=g,this.load()},v.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},v.prototype.serialize=function(){return a.extend({},this._options)},v.prototype.hasTile=function(g){return!this.tileBounds||this.tileBounds.contains(g.canonical)},v.prototype.loadTile=function(g,b){var M=this,z=this.map._requestManager.normalizeTileURL(g.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);g.request=a.getImage(this.map._requestManager.transformRequest(z,a.ResourceType.Tile),function(B,U){if(delete g.request,g.aborted)g.state="unloaded",b(null);else if(B)g.state="errored",b(B);else if(U){M.map._refreshExpiredTiles&&g.setExpiryData(U),delete U.cacheControl,delete U.expires;var Y=M.map.painter.context,K=Y.gl;g.texture=M.map.painter.getTileTexture(U.width),g.texture?g.texture.update(U,{useMipmap:!0}):(g.texture=new a.Texture(Y,U,K.RGBA,{useMipmap:!0}),g.texture.bind(K.LINEAR,K.CLAMP_TO_EDGE,K.LINEAR_MIPMAP_NEAREST),Y.extTextureFilterAnisotropic&&K.texParameterf(K.TEXTURE_2D,Y.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Y.extTextureFilterAnisotropicMax)),g.state="loaded",a.cacheEntryPossiblyAdded(M.dispatcher),b(null)}})},v.prototype.abortTile=function(g,b){g.request&&(g.request.cancel(),delete g.request),b()},v.prototype.unloadTile=function(g,b){g.texture&&this.map.painter.saveTileTexture(g.texture),b()},v.prototype.hasTransition=function(){return!1},v}(a.Evented),Ne=function(p){function v(g,b,M,z){p.call(this,g,b,M,z),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},b),this.encoding=b.encoding||"mapbox"}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},v.prototype.loadTile=function(g,b){var M=this.map._requestManager.normalizeTileURL(g.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);function z(B,U){B&&(g.state="errored",b(B)),U&&(g.dem=U,g.needsHillshadePrepare=!0,g.state="loaded",b(null))}g.request=a.getImage(this.map._requestManager.transformRequest(M,a.ResourceType.Tile),(function(B,U){if(delete g.request,g.aborted)g.state="unloaded",b(null);else if(B)g.state="errored",b(B);else if(U){this.map._refreshExpiredTiles&&g.setExpiryData(U),delete U.cacheControl,delete U.expires;var Y=a.window.ImageBitmap&&U instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported()?U:a.browser.getImageData(U,1),K={uid:g.uid,coord:g.tileID,source:this.id,rawImageData:Y,encoding:this.encoding};g.actor&&g.state!=="expired"||(g.actor=this.dispatcher.getActor(),g.actor.send("loadDEMTile",K,z.bind(this)))}}).bind(this)),g.neighboringTiles=this._getNeighboringTiles(g.tileID)},v.prototype._getNeighboringTiles=function(g){var b=g.canonical,M=Math.pow(2,b.z),z=(b.x-1+M)%M,B=b.x===0?g.wrap-1:g.wrap,U=(b.x+1+M)%M,Y=b.x+1===M?g.wrap+1:g.wrap,K={};return K[new a.OverscaledTileID(g.overscaledZ,B,b.z,z,b.y).key]={backfilled:!1},K[new a.OverscaledTileID(g.overscaledZ,Y,b.z,U,b.y).key]={backfilled:!1},b.y>0&&(K[new a.OverscaledTileID(g.overscaledZ,B,b.z,z,b.y-1).key]={backfilled:!1},K[new a.OverscaledTileID(g.overscaledZ,g.wrap,b.z,b.x,b.y-1).key]={backfilled:!1},K[new a.OverscaledTileID(g.overscaledZ,Y,b.z,U,b.y-1).key]={backfilled:!1}),b.y+1<M&&(K[new a.OverscaledTileID(g.overscaledZ,B,b.z,z,b.y+1).key]={backfilled:!1},K[new a.OverscaledTileID(g.overscaledZ,g.wrap,b.z,b.x,b.y+1).key]={backfilled:!1},K[new a.OverscaledTileID(g.overscaledZ,Y,b.z,U,b.y+1).key]={backfilled:!1}),K},v.prototype.unloadTile=function(g){g.demTexture&&this.map.painter.saveTileTexture(g.demTexture),g.fbo&&(g.fbo.destroy(),delete g.fbo),g.dem&&delete g.dem,delete g.neighboringTiles,g.state="unloaded",g.actor&&g.actor.send("removeDEMTile",{uid:g.uid,source:this.id})},v}(xe),Re=function(p){function v(g,b,M,z){p.call(this),this.id=g,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=M.getActor(),this.setEventedParent(z),this._data=b.data,this._options=a.extend({},b),this._collectResourceTiming=b.collectResourceTiming,this._resourceTiming=[],b.maxzoom!==void 0&&(this.maxzoom=b.maxzoom),b.type&&(this.type=b.type),b.attribution&&(this.attribution=b.attribution),this.promoteId=b.promoteId;var B=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:b.cluster||!1,geojsonVtOptions:{buffer:(b.buffer!==void 0?b.buffer:128)*B,tolerance:(b.tolerance!==void 0?b.tolerance:.375)*B,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:b.lineMetrics||!1,generateId:b.generateId||!1},superclusterOptions:{maxZoom:b.clusterMaxZoom!==void 0?Math.min(b.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:a.EXTENT,radius:(b.clusterRadius||50)*B,log:!1,generateId:b.generateId||!1},clusterProperties:b.clusterProperties},b.workerOptions)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.load=function(){var g=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(b){if(b)g.fire(new a.ErrorEvent(b));else{var M={dataType:"source",sourceDataType:"metadata"};g._collectResourceTiming&&g._resourceTiming&&g._resourceTiming.length>0&&(M.resourceTiming=g._resourceTiming,g._resourceTiming=[]),g.fire(new a.Event("data",M))}})},v.prototype.onAdd=function(g){this.map=g,this.load()},v.prototype.setData=function(g){var b=this;return this._data=g,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(M){if(M)b.fire(new a.ErrorEvent(M));else{var z={dataType:"source",sourceDataType:"content"};b._collectResourceTiming&&b._resourceTiming&&b._resourceTiming.length>0&&(z.resourceTiming=b._resourceTiming,b._resourceTiming=[]),b.fire(new a.Event("data",z))}}),this},v.prototype.getClusterExpansionZoom=function(g,b){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:g,source:this.id},b),this},v.prototype.getClusterChildren=function(g,b){return this.actor.send("geojson.getClusterChildren",{clusterId:g,source:this.id},b),this},v.prototype.getClusterLeaves=function(g,b,M,z){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:g,limit:b,offset:M},z),this},v.prototype._updateWorkerData=function(g){var b=this;this._loaded=!1;var M=a.extend({},this.workerOptions),z=this._data;typeof z=="string"?(M.request=this.map._requestManager.transformRequest(a.browser.resolveURL(z),a.ResourceType.Source),M.request.collectResourceTiming=this._collectResourceTiming):M.data=JSON.stringify(z),this.actor.send(this.type+".loadData",M,function(B,U){b._removed||U&&U.abandoned||(b._loaded=!0,U&&U.resourceTiming&&U.resourceTiming[b.id]&&(b._resourceTiming=U.resourceTiming[b.id].slice(0)),b.actor.send(b.type+".coalesce",{source:M.source},null),g(B))})},v.prototype.loaded=function(){return this._loaded},v.prototype.loadTile=function(g,b){var M=this,z=g.actor?"reloadTile":"loadTile";g.actor=this.actor;var B={type:this.type,uid:g.uid,tileID:g.tileID,zoom:g.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};g.request=this.actor.send(z,B,function(U,Y){return delete g.request,g.unloadVectorData(),g.aborted?b(null):U?b(U):(g.loadVectorData(Y,M.map.painter,z==="reloadTile"),b(null))})},v.prototype.abortTile=function(g){g.request&&(g.request.cancel(),delete g.request),g.aborted=!0},v.prototype.unloadTile=function(g){g.unloadVectorData(),this.actor.send("removeTile",{uid:g.uid,type:this.type,source:this.id})},v.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},v.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},v.prototype.hasTransition=function(){return!1},v}(a.Evented),He=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),tt=function(p){function v(g,b,M,z){p.call(this),this.id=g,this.dispatcher=M,this.coordinates=b.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(z),this.options=b}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.load=function(g,b){var M=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(z,B){M._loaded=!0,z?M.fire(new a.ErrorEvent(z)):B&&(M.image=B,g&&(M.coordinates=g),b&&b(),M._finishLoading())})},v.prototype.loaded=function(){return this._loaded},v.prototype.updateImage=function(g){var b=this;return this.image&&g.url?(this.options.url=g.url,this.load(g.coordinates,function(){b.texture=null}),this):this},v.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},v.prototype.onAdd=function(g){this.map=g,this.load()},v.prototype.setCoordinates=function(g){var b=this;this.coordinates=g;var M=g.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(B){for(var U=1/0,Y=1/0,K=-1/0,te=-1/0,ce=0,me=B;ce<me.length;ce+=1){var pe=me[ce];U=Math.min(U,pe.x),Y=Math.min(Y,pe.y),K=Math.max(K,pe.x),te=Math.max(te,pe.y)}var ye=K-U,ve=te-Y,De=Math.max(ye,ve),Oe=Math.max(0,Math.floor(-Math.log(De)/Math.LN2)),Be=Math.pow(2,Oe);return new a.CanonicalTileID(Oe,Math.floor((U+K)/2*Be),Math.floor((Y+te)/2*Be))}(M),this.minzoom=this.maxzoom=this.tileID.z;var z=M.map(function(B){return b.tileID.getTilePoint(B)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(z[0].x,z[0].y,0,0),this._boundsArray.emplaceBack(z[1].x,z[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(z[3].x,z[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(z[2].x,z[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},v.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var g=this.map.painter.context,b=g.gl;for(var M in this.boundsBuffer||(this.boundsBuffer=g.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(g,this.image,b.RGBA),this.texture.bind(b.LINEAR,b.CLAMP_TO_EDGE)),this.tiles){var z=this.tiles[M];z.state!=="loaded"&&(z.state="loaded",z.texture=this.texture)}}},v.prototype.loadTile=function(g,b){this.tileID&&this.tileID.equals(g.tileID.canonical)?(this.tiles[String(g.tileID.wrap)]=g,g.buckets={},b(null)):(g.state="errored",b(null))},v.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},v.prototype.hasTransition=function(){return!1},v}(a.Evented),nt=function(p){function v(g,b,M,z){p.call(this,g,b,M,z),this.roundZoom=!0,this.type="video",this.options=b}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.load=function(){var g=this;this._loaded=!1;var b=this.options;this.urls=[];for(var M=0,z=b.urls;M<z.length;M+=1){var B=z[M];this.urls.push(this.map._requestManager.transformRequest(B,a.ResourceType.Source).url)}a.getVideo(this.urls,function(U,Y){g._loaded=!0,U?g.fire(new a.ErrorEvent(U)):Y&&(g.video=Y,g.video.loop=!0,g.video.addEventListener("playing",function(){g.map.triggerRepaint()}),g.map&&g.video.play(),g._finishLoading())})},v.prototype.pause=function(){this.video&&this.video.pause()},v.prototype.play=function(){this.video&&this.video.play()},v.prototype.seek=function(g){if(this.video){var b=this.video.seekable;g<b.start(0)||g>b.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+b.start(0)+" and "+b.end(0)+"-second mark."))):this.video.currentTime=g}},v.prototype.getVideo=function(){return this.video},v.prototype.onAdd=function(g){this.map||(this.map=g,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},v.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var g=this.map.painter.context,b=g.gl;for(var M in this.boundsBuffer||(this.boundsBuffer=g.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(b.LINEAR,b.CLAMP_TO_EDGE),b.texSubImage2D(b.TEXTURE_2D,0,0,0,b.RGBA,b.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(g,this.video,b.RGBA),this.texture.bind(b.LINEAR,b.CLAMP_TO_EDGE)),this.tiles){var z=this.tiles[M];z.state!=="loaded"&&(z.state="loaded",z.texture=this.texture)}}},v.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},v.prototype.hasTransition=function(){return this.video&&!this.video.paused},v}(tt),Ke=function(p){function v(g,b,M,z){p.call(this,g,b,M,z),b.coordinates?Array.isArray(b.coordinates)&&b.coordinates.length===4&&!b.coordinates.some(function(B){return!Array.isArray(B)||B.length!==2||B.some(function(U){return typeof U!="number"})})||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+g,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+g,null,'missing required property "coordinates"'))),b.animate&&typeof b.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+g,null,'optional "animate" property must be a boolean value'))),b.canvas?typeof b.canvas=="string"||b.canvas instanceof a.window.HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+g,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+g,null,'missing required property "canvas"'))),this.options=b,this.animate=b.animate===void 0||b.animate}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},v.prototype.getCanvas=function(){return this.canvas},v.prototype.onAdd=function(g){this.map=g,this.load(),this.canvas&&this.animate&&this.play()},v.prototype.onRemove=function(){this.pause()},v.prototype.prepare=function(){var g=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,g=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,g=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var b=this.map.painter.context,M=b.gl;for(var z in this.boundsBuffer||(this.boundsBuffer=b.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(g||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(b,this.canvas,M.RGBA,{premultiply:!0}),this.tiles){var B=this.tiles[z];B.state!=="loaded"&&(B.state="loaded",B.texture=this.texture)}}},v.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},v.prototype.hasTransition=function(){return this._playing},v.prototype._hasInvalidDimensions=function(){for(var g=0,b=[this.canvas.width,this.canvas.height];g<b.length;g+=1){var M=b[g];if(isNaN(M)||M<=0)return!0}return!1},v}(tt),Ue={vector:_e,raster:xe,"raster-dem":Ne,geojson:Re,video:nt,image:tt,canvas:Ke};function Xe(p,v){var g=a.identity([]);return a.translate(g,g,[1,1,0]),a.scale(g,g,[.5*p.width,.5*p.height,1]),a.multiply(g,g,p.calculatePosMatrix(v.toUnwrapped()))}function Ae(p,v,g,b,M){var z=function(ye,ve,De){if(ye)for(var Oe=0,Be=ye;Oe<Be.length;Oe+=1){var Fe=ve[Be[Oe]];if(Fe&&Fe.source===De&&Fe.type==="fill-extrusion")return!0}else for(var $e in ve){var Qe=ve[$e];if(Qe.source===De&&Qe.type==="fill-extrusion")return!0}return!1}(b&&b.layers,v,p.id),B=M.maxPitchScaleFactor(),U=p.tilesIn(g,B,z);U.sort(We);for(var Y=[],K=0,te=U;K<te.length;K+=1){var ce=te[K];Y.push({wrappedTileID:ce.tileID.wrapped().key,queryResults:ce.tile.queryRenderedFeatures(v,p._state,ce.queryGeometry,ce.cameraQueryGeometry,ce.scale,b,M,B,Xe(p.transform,ce.tileID))})}var me=function(ye){for(var ve={},De={},Oe=0,Be=ye;Oe<Be.length;Oe+=1){var Fe=Be[Oe],$e=Fe.queryResults,Qe=Fe.wrappedTileID,st=De[Qe]=De[Qe]||{};for(var gt in $e)for(var Bt=$e[gt],Nt=st[gt]=st[gt]||{},Yt=ve[gt]=ve[gt]||[],Ot=0,hr=Bt;Ot<hr.length;Ot+=1){var $t=hr[Ot];Nt[$t.featureIndex]||(Nt[$t.featureIndex]=!0,Yt.push($t))}}return ve}(Y);for(var pe in me)me[pe].forEach(function(ye){var ve=ye.feature,De=p.getFeatureState(ve.layer["source-layer"],ve.id);ve.source=ve.layer.source,ve.layer["source-layer"]&&(ve.sourceLayer=ve.layer["source-layer"]),ve.state=De});return me}function We(p,v){var g=p.tileID,b=v.tileID;return g.overscaledZ-b.overscaledZ||g.canonical.y-b.canonical.y||g.wrap-b.wrap||g.canonical.x-b.canonical.x}var qe=function(p,v){this.max=p,this.onRemove=v,this.reset()};qe.prototype.reset=function(){for(var p in this.data)for(var v=0,g=this.data[p];v<g.length;v+=1){var b=g[v];b.timeout&&clearTimeout(b.timeout),this.onRemove(b.value)}return this.data={},this.order=[],this},qe.prototype.add=function(p,v,g){var b=this,M=p.wrapped().key;this.data[M]===void 0&&(this.data[M]=[]);var z={value:v,timeout:void 0};if(g!==void 0&&(z.timeout=setTimeout(function(){b.remove(p,z)},g)),this.data[M].push(z),this.order.push(M),this.order.length>this.max){var B=this._getAndRemoveByKey(this.order[0]);B&&this.onRemove(B)}return this},qe.prototype.has=function(p){return p.wrapped().key in this.data},qe.prototype.getAndRemove=function(p){return this.has(p)?this._getAndRemoveByKey(p.wrapped().key):null},qe.prototype._getAndRemoveByKey=function(p){var v=this.data[p].shift();return v.timeout&&clearTimeout(v.timeout),this.data[p].length===0&&delete this.data[p],this.order.splice(this.order.indexOf(p),1),v.value},qe.prototype.getByKey=function(p){var v=this.data[p];return v?v[0].value:null},qe.prototype.get=function(p){return this.has(p)?this.data[p.wrapped().key][0].value:null},qe.prototype.remove=function(p,v){if(!this.has(p))return this;var g=p.wrapped().key,b=v===void 0?0:this.data[g].indexOf(v),M=this.data[g][b];return this.data[g].splice(b,1),M.timeout&&clearTimeout(M.timeout),this.data[g].length===0&&delete this.data[g],this.onRemove(M.value),this.order.splice(this.order.indexOf(g),1),this},qe.prototype.setMaxSize=function(p){for(this.max=p;this.order.length>this.max;){var v=this._getAndRemoveByKey(this.order[0]);v&&this.onRemove(v)}return this},qe.prototype.filter=function(p){var v=[];for(var g in this.data)for(var b=0,M=this.data[g];b<M.length;b+=1){var z=M[b];p(z.value)||v.push(z)}for(var B=0,U=v;B<U.length;B+=1){var Y=U[B];this.remove(Y.value.tileID,Y)}};var pt=function(p,v,g){this.context=p;var b=p.gl;this.buffer=b.createBuffer(),this.dynamicDraw=!!g,this.context.unbindVAO(),p.bindElementBuffer.set(this.buffer),b.bufferData(b.ELEMENT_ARRAY_BUFFER,v.arrayBuffer,this.dynamicDraw?b.DYNAMIC_DRAW:b.STATIC_DRAW),this.dynamicDraw||delete v.arrayBuffer};pt.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},pt.prototype.updateData=function(p){var v=this.context.gl;this.context.unbindVAO(),this.bind(),v.bufferSubData(v.ELEMENT_ARRAY_BUFFER,0,p.arrayBuffer)},pt.prototype.destroy=function(){var p=this.context.gl;this.buffer&&(p.deleteBuffer(this.buffer),delete this.buffer)};var Pt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Ht=function(p,v,g,b){this.length=v.length,this.attributes=g,this.itemSize=v.bytesPerElement,this.dynamicDraw=b,this.context=p;var M=p.gl;this.buffer=M.createBuffer(),p.bindVertexBuffer.set(this.buffer),M.bufferData(M.ARRAY_BUFFER,v.arrayBuffer,this.dynamicDraw?M.DYNAMIC_DRAW:M.STATIC_DRAW),this.dynamicDraw||delete v.arrayBuffer};Ht.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Ht.prototype.updateData=function(p){var v=this.context.gl;this.bind(),v.bufferSubData(v.ARRAY_BUFFER,0,p.arrayBuffer)},Ht.prototype.enableAttributes=function(p,v){for(var g=0;g<this.attributes.length;g++){var b=this.attributes[g],M=v.attributes[b.name];M!==void 0&&p.enableVertexAttribArray(M)}},Ht.prototype.setVertexAttribPointers=function(p,v,g){for(var b=0;b<this.attributes.length;b++){var M=this.attributes[b],z=v.attributes[M.name];z!==void 0&&p.vertexAttribPointer(z,M.components,p[Pt[M.type]],!1,this.itemSize,M.offset+this.itemSize*(g||0))}},Ht.prototype.destroy=function(){var p=this.context.gl;this.buffer&&(p.deleteBuffer(this.buffer),delete this.buffer)};var dt=function(p){this.gl=p.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};dt.prototype.get=function(){return this.current},dt.prototype.set=function(p){},dt.prototype.getDefault=function(){return this.default},dt.prototype.setDefault=function(){this.set(this.default)};var yt=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return a.Color.transparent},v.prototype.set=function(g){var b=this.current;(g.r!==b.r||g.g!==b.g||g.b!==b.b||g.a!==b.a||this.dirty)&&(this.gl.clearColor(g.r,g.g,g.b,g.a),this.current=g,this.dirty=!1)},v}(dt),sr=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return 1},v.prototype.set=function(g){(g!==this.current||this.dirty)&&(this.gl.clearDepth(g),this.current=g,this.dirty=!1)},v}(dt),kr=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return 0},v.prototype.set=function(g){(g!==this.current||this.dirty)&&(this.gl.clearStencil(g),this.current=g,this.dirty=!1)},v}(dt),rn=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return[!0,!0,!0,!0]},v.prototype.set=function(g){var b=this.current;(g[0]!==b[0]||g[1]!==b[1]||g[2]!==b[2]||g[3]!==b[3]||this.dirty)&&(this.gl.colorMask(g[0],g[1],g[2],g[3]),this.current=g,this.dirty=!1)},v}(dt),xt=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return!0},v.prototype.set=function(g){(g!==this.current||this.dirty)&&(this.gl.depthMask(g),this.current=g,this.dirty=!1)},v}(dt),qt=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return 255},v.prototype.set=function(g){(g!==this.current||this.dirty)&&(this.gl.stencilMask(g),this.current=g,this.dirty=!1)},v}(dt),tr=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},v.prototype.set=function(g){var b=this.current;(g.func!==b.func||g.ref!==b.ref||g.mask!==b.mask||this.dirty)&&(this.gl.stencilFunc(g.func,g.ref,g.mask),this.current=g,this.dirty=!1)},v}(dt),ct=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){var g=this.gl;return[g.KEEP,g.KEEP,g.KEEP]},v.prototype.set=function(g){var b=this.current;(g[0]!==b[0]||g[1]!==b[1]||g[2]!==b[2]||this.dirty)&&(this.gl.stencilOp(g[0],g[1],g[2]),this.current=g,this.dirty=!1)},v}(dt),rr=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return!1},v.prototype.set=function(g){if(g!==this.current||this.dirty){var b=this.gl;g?b.enable(b.STENCIL_TEST):b.disable(b.STENCIL_TEST),this.current=g,this.dirty=!1}},v}(dt),gr=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return[0,1]},v.prototype.set=function(g){var b=this.current;(g[0]!==b[0]||g[1]!==b[1]||this.dirty)&&(this.gl.depthRange(g[0],g[1]),this.current=g,this.dirty=!1)},v}(dt),Fr=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return!1},v.prototype.set=function(g){if(g!==this.current||this.dirty){var b=this.gl;g?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST),this.current=g,this.dirty=!1}},v}(dt),en=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return this.gl.LESS},v.prototype.set=function(g){(g!==this.current||this.dirty)&&(this.gl.depthFunc(g),this.current=g,this.dirty=!1)},v}(dt),kn=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return!1},v.prototype.set=function(g){if(g!==this.current||this.dirty){var b=this.gl;g?b.enable(b.BLEND):b.disable(b.BLEND),this.current=g,this.dirty=!1}},v}(dt),Xn=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){var g=this.gl;return[g.ONE,g.ZERO]},v.prototype.set=function(g){var b=this.current;(g[0]!==b[0]||g[1]!==b[1]||this.dirty)&&(this.gl.blendFunc(g[0],g[1]),this.current=g,this.dirty=!1)},v}(dt),fn=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return a.Color.transparent},v.prototype.set=function(g){var b=this.current;(g.r!==b.r||g.g!==b.g||g.b!==b.b||g.a!==b.a||this.dirty)&&(this.gl.blendColor(g.r,g.g,g.b,g.a),this.current=g,this.dirty=!1)},v}(dt),Et=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return this.gl.FUNC_ADD},v.prototype.set=function(g){(g!==this.current||this.dirty)&&(this.gl.blendEquation(g),this.current=g,this.dirty=!1)},v}(dt),Lt=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return!1},v.prototype.set=function(g){if(g!==this.current||this.dirty){var b=this.gl;g?b.enable(b.CULL_FACE):b.disable(b.CULL_FACE),this.current=g,this.dirty=!1}},v}(dt),Sr=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return this.gl.BACK},v.prototype.set=function(g){(g!==this.current||this.dirty)&&(this.gl.cullFace(g),this.current=g,this.dirty=!1)},v}(dt),pn=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return this.gl.CCW},v.prototype.set=function(g){(g!==this.current||this.dirty)&&(this.gl.frontFace(g),this.current=g,this.dirty=!1)},v}(dt),Xt=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return null},v.prototype.set=function(g){(g!==this.current||this.dirty)&&(this.gl.useProgram(g),this.current=g,this.dirty=!1)},v}(dt),Cr=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return this.gl.TEXTURE0},v.prototype.set=function(g){(g!==this.current||this.dirty)&&(this.gl.activeTexture(g),this.current=g,this.dirty=!1)},v}(dt),mn=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){var g=this.gl;return[0,0,g.drawingBufferWidth,g.drawingBufferHeight]},v.prototype.set=function(g){var b=this.current;(g[0]!==b[0]||g[1]!==b[1]||g[2]!==b[2]||g[3]!==b[3]||this.dirty)&&(this.gl.viewport(g[0],g[1],g[2],g[3]),this.current=g,this.dirty=!1)},v}(dt),jn=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return null},v.prototype.set=function(g){if(g!==this.current||this.dirty){var b=this.gl;b.bindFramebuffer(b.FRAMEBUFFER,g),this.current=g,this.dirty=!1}},v}(dt),Rn=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return null},v.prototype.set=function(g){if(g!==this.current||this.dirty){var b=this.gl;b.bindRenderbuffer(b.RENDERBUFFER,g),this.current=g,this.dirty=!1}},v}(dt),di=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return null},v.prototype.set=function(g){if(g!==this.current||this.dirty){var b=this.gl;b.bindTexture(b.TEXTURE_2D,g),this.current=g,this.dirty=!1}},v}(dt),jo=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return null},v.prototype.set=function(g){if(g!==this.current||this.dirty){var b=this.gl;b.bindBuffer(b.ARRAY_BUFFER,g),this.current=g,this.dirty=!1}},v}(dt),yo=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return null},v.prototype.set=function(g){var b=this.gl;b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,g),this.current=g,this.dirty=!1},v}(dt),Hs=function(p){function v(g){p.call(this,g),this.vao=g.extVertexArrayObject}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return null},v.prototype.set=function(g){this.vao&&(g!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(g),this.current=g,this.dirty=!1)},v}(dt),Ca=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return 4},v.prototype.set=function(g){if(g!==this.current||this.dirty){var b=this.gl;b.pixelStorei(b.UNPACK_ALIGNMENT,g),this.current=g,this.dirty=!1}},v}(dt),Ja=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return!1},v.prototype.set=function(g){if(g!==this.current||this.dirty){var b=this.gl;b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,g),this.current=g,this.dirty=!1}},v}(dt),es=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return!1},v.prototype.set=function(g){if(g!==this.current||this.dirty){var b=this.gl;b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,g),this.current=g,this.dirty=!1}},v}(dt),Da=function(p){function v(g,b){p.call(this,g),this.context=g,this.parent=b}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getDefault=function(){return null},v}(dt),_s=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.setDirty=function(){this.dirty=!0},v.prototype.set=function(g){if(g!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var b=this.gl;b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,g,0),this.current=g,this.dirty=!1}},v}(Da),fa=function(p){function v(){p.apply(this,arguments)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.set=function(g){if(g!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var b=this.gl;b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,g),this.current=g,this.dirty=!1}},v}(Da),ts=function(p,v,g){this.context=p,this.width=v,this.height=g;var b=p.gl,M=this.framebuffer=b.createFramebuffer();this.colorAttachment=new _s(p,M),this.depthAttachment=new fa(p,M)};ts.prototype.destroy=function(){var p=this.context.gl,v=this.colorAttachment.get();v&&p.deleteTexture(v);var g=this.depthAttachment.get();g&&p.deleteRenderbuffer(g),p.deleteFramebuffer(this.framebuffer)};var Vr=function(p,v,g){this.func=p,this.mask=v,this.range=g};Vr.ReadOnly=!1,Vr.ReadWrite=!0,Vr.disabled=new Vr(519,Vr.ReadOnly,[0,1]);var un=function(p,v,g,b,M,z){this.test=p,this.ref=v,this.mask=g,this.fail=b,this.depthFail=M,this.pass=z};un.disabled=new un({func:519,mask:0},0,0,7680,7680,7680);var Jr=function(p,v,g){this.blendFunction=p,this.blendColor=v,this.mask=g};Jr.disabled=new Jr(Jr.Replace=[1,0],a.Color.transparent,[!1,!1,!1,!1]),Jr.unblended=new Jr(Jr.Replace,a.Color.transparent,[!0,!0,!0,!0]),Jr.alphaBlended=new Jr([1,771],a.Color.transparent,[!0,!0,!0,!0]);var et=function(p,v,g){this.enable=p,this.mode=v,this.frontFace=g};et.disabled=new et(!1,1029,2305),et.backCCW=new et(!0,1029,2305);var At=function(p){this.gl=p,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new yt(this),this.clearDepth=new sr(this),this.clearStencil=new kr(this),this.colorMask=new rn(this),this.depthMask=new xt(this),this.stencilMask=new qt(this),this.stencilFunc=new tr(this),this.stencilOp=new ct(this),this.stencilTest=new rr(this),this.depthRange=new gr(this),this.depthTest=new Fr(this),this.depthFunc=new en(this),this.blend=new kn(this),this.blendFunc=new Xn(this),this.blendColor=new fn(this),this.blendEquation=new Et(this),this.cullFace=new Lt(this),this.cullFaceSide=new Sr(this),this.frontFace=new pn(this),this.program=new Xt(this),this.activeTexture=new Cr(this),this.viewport=new mn(this),this.bindFramebuffer=new jn(this),this.bindRenderbuffer=new Rn(this),this.bindTexture=new di(this),this.bindVertexBuffer=new jo(this),this.bindElementBuffer=new yo(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Hs(this),this.pixelStoreUnpack=new Ca(this),this.pixelStoreUnpackPremultiplyAlpha=new Ja(this),this.pixelStoreUnpackFlipY=new es(this),this.extTextureFilterAnisotropic=p.getExtension("EXT_texture_filter_anisotropic")||p.getExtension("MOZ_EXT_texture_filter_anisotropic")||p.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=p.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=p.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&p.getExtension("OES_texture_half_float_linear"),this.extTimerQuery=p.getExtension("EXT_disjoint_timer_query")};At.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},At.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},At.prototype.createIndexBuffer=function(p,v){return new pt(this,p,v)},At.prototype.createVertexBuffer=function(p,v,g){return new Ht(this,p,v,g)},At.prototype.createRenderbuffer=function(p,v,g){var b=this.gl,M=b.createRenderbuffer();return this.bindRenderbuffer.set(M),b.renderbufferStorage(b.RENDERBUFFER,p,v,g),this.bindRenderbuffer.set(null),M},At.prototype.createFramebuffer=function(p,v){return new ts(this,p,v)},At.prototype.clear=function(p){var v=p.color,g=p.depth,b=this.gl,M=0;v&&(M|=b.COLOR_BUFFER_BIT,this.clearColor.set(v),this.colorMask.set([!0,!0,!0,!0])),g!==void 0&&(M|=b.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(g),this.depthMask.set(!0)),b.clear(M)},At.prototype.setCullFace=function(p){p.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(p.mode),this.frontFace.set(p.frontFace))},At.prototype.setDepthMode=function(p){p.func!==this.gl.ALWAYS||p.mask?(this.depthTest.set(!0),this.depthFunc.set(p.func),this.depthMask.set(p.mask),this.depthRange.set(p.range)):this.depthTest.set(!1)},At.prototype.setStencilMode=function(p){p.test.func!==this.gl.ALWAYS||p.mask?(this.stencilTest.set(!0),this.stencilMask.set(p.mask),this.stencilOp.set([p.fail,p.depthFail,p.pass]),this.stencilFunc.set({func:p.test.func,ref:p.ref,mask:p.test.mask})):this.stencilTest.set(!1)},At.prototype.setColorMode=function(p){a.deepEqual(p.blendFunction,Jr.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(p.blendFunction),this.blendColor.set(p.blendColor)),this.colorMask.set(p.mask)},At.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var $a=function(p){function v(g,b,M){var z=this;p.call(this),this.id=g,this.dispatcher=M,this.on("data",function(B){B.dataType==="source"&&B.sourceDataType==="metadata"&&(z._sourceLoaded=!0),z._sourceLoaded&&!z._paused&&B.dataType==="source"&&B.sourceDataType==="content"&&(z.reload(),z.transform&&z.update(z.transform))}),this.on("error",function(){z._sourceErrored=!0}),this._source=function(B,U,Y,K){var te=new Ue[U.type](B,U,Y,K);if(te.id!==B)throw new Error("Expected Source id to be "+B+" instead of "+te.id);return a.bindAll(["load","abort","unload","serialize","prepare"],te),te}(g,b,M,this),this._tiles={},this._cache=new qe(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.onAdd=function(g){this.map=g,this._maxTileCacheSize=g?g._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(g)},v.prototype.onRemove=function(g){this._source&&this._source.onRemove&&this._source.onRemove(g)},v.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var g in this._tiles){var b=this._tiles[g];if(b.state!=="loaded"&&b.state!=="errored")return!1}return!0},v.prototype.getSource=function(){return this._source},v.prototype.pause=function(){this._paused=!0},v.prototype.resume=function(){if(this._paused){var g=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,g&&this.reload(),this.transform&&this.update(this.transform)}},v.prototype._loadTile=function(g,b){return this._source.loadTile(g,b)},v.prototype._unloadTile=function(g){if(this._source.unloadTile)return this._source.unloadTile(g,function(){})},v.prototype._abortTile=function(g){if(this._source.abortTile)return this._source.abortTile(g,function(){})},v.prototype.serialize=function(){return this._source.serialize()},v.prototype.prepare=function(g){for(var b in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var M=this._tiles[b];M.upload(g),M.prepare(this.map.style.imageManager)}},v.prototype.getIds=function(){return Object.values(this._tiles).map(function(g){return g.tileID}).sort(Ha).map(function(g){return g.key})},v.prototype.getRenderableIds=function(g){var b=this,M=[];for(var z in this._tiles)this._isIdRenderable(z,g)&&M.push(this._tiles[z]);return g?M.sort(function(B,U){var Y=B.tileID,K=U.tileID,te=new a.Point(Y.canonical.x,Y.canonical.y)._rotate(b.transform.angle),ce=new a.Point(K.canonical.x,K.canonical.y)._rotate(b.transform.angle);return Y.overscaledZ-K.overscaledZ||ce.y-te.y||ce.x-te.x}).map(function(B){return B.tileID.key}):M.map(function(B){return B.tileID}).sort(Ha).map(function(B){return B.key})},v.prototype.hasRenderableParent=function(g){var b=this.findLoadedParent(g,0);return!!b&&this._isIdRenderable(b.tileID.key)},v.prototype._isIdRenderable=function(g,b){return this._tiles[g]&&this._tiles[g].hasData()&&!this._coveredTiles[g]&&(b||!this._tiles[g].holdingForFade())},v.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var g in this._cache.reset(),this._tiles)this._tiles[g].state!=="errored"&&this._reloadTile(g,"reloading")},v.prototype._reloadTile=function(g,b){var M=this._tiles[g];M&&(M.state!=="loading"&&(M.state=b),this._loadTile(M,this._tileLoaded.bind(this,M,g,b)))},v.prototype._tileLoaded=function(g,b,M,z){if(z)return g.state="errored",void(z.status!==404?this._source.fire(new a.ErrorEvent(z,{tile:g})):this.update(this.transform));g.timeAdded=a.browser.now(),M==="expired"&&(g.refreshedUponExpiration=!0),this._setTileReloadTimer(b,g),this.getSource().type==="raster-dem"&&g.dem&&this._backfillDEM(g),this._state.initializeTileState(g,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:g,coord:g.tileID}))},v.prototype._backfillDEM=function(g){for(var b=this.getRenderableIds(),M=0;M<b.length;M++){var z=b[M];if(g.neighboringTiles&&g.neighboringTiles[z]){var B=this.getTileByID(z);U(g,B),U(B,g)}}function U(Y,K){Y.needsHillshadePrepare=!0;var te=K.tileID.canonical.x-Y.tileID.canonical.x,ce=K.tileID.canonical.y-Y.tileID.canonical.y,me=Math.pow(2,Y.tileID.canonical.z),pe=K.tileID.key;te===0&&ce===0||Math.abs(ce)>1||(Math.abs(te)>1&&(Math.abs(te+me)===1?te+=me:Math.abs(te-me)===1&&(te-=me)),K.dem&&Y.dem&&(Y.dem.backfillBorder(K.dem,te,ce),Y.neighboringTiles&&Y.neighboringTiles[pe]&&(Y.neighboringTiles[pe].backfilled=!0)))}},v.prototype.getTile=function(g){return this.getTileByID(g.key)},v.prototype.getTileByID=function(g){return this._tiles[g]},v.prototype._retainLoadedChildren=function(g,b,M,z){for(var B in this._tiles){var U=this._tiles[B];if(!(z[B]||!U.hasData()||U.tileID.overscaledZ<=b||U.tileID.overscaledZ>M)){for(var Y=U.tileID;U&&U.tileID.overscaledZ>b+1;){var K=U.tileID.scaledTo(U.tileID.overscaledZ-1);(U=this._tiles[K.key])&&U.hasData()&&(Y=K)}for(var te=Y;te.overscaledZ>b;)if(g[(te=te.scaledTo(te.overscaledZ-1)).key]){z[Y.key]=Y;break}}}},v.prototype.findLoadedParent=function(g,b){if(g.key in this._loadedParentTiles){var M=this._loadedParentTiles[g.key];return M&&M.tileID.overscaledZ>=b?M:null}for(var z=g.overscaledZ-1;z>=b;z--){var B=g.scaledTo(z),U=this._getLoadedTile(B);if(U)return U}},v.prototype._getLoadedTile=function(g){var b=this._tiles[g.key];return b&&b.hasData()?b:this._cache.getByKey(g.wrapped().key)},v.prototype.updateCacheSize=function(g){var b=(Math.ceil(g.width/this._source.tileSize)+1)*(Math.ceil(g.height/this._source.tileSize)+1),M=Math.floor(5*b),z=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,M):M;this._cache.setMaxSize(z)},v.prototype.handleWrapJump=function(g){var b=(g-(this._prevLng===void 0?g:this._prevLng))/360,M=Math.round(b);if(this._prevLng=g,M){var z={};for(var B in this._tiles){var U=this._tiles[B];U.tileID=U.tileID.unwrapTo(U.tileID.wrap+M),z[U.tileID.key]=U}for(var Y in this._tiles=z,this._timers)clearTimeout(this._timers[Y]),delete this._timers[Y];for(var K in this._tiles){var te=this._tiles[K];this._setTileReloadTimer(K,te)}}},v.prototype.update=function(g){var b=this;if(this.transform=g,this._sourceLoaded&&!this._paused){var M;this.updateCacheSize(g),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?M=g.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(gt){return new a.OverscaledTileID(gt.canonical.z,gt.wrap,gt.canonical.z,gt.canonical.x,gt.canonical.y)}):(M=g.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(M=M.filter(function(gt){return b._source.hasTile(gt)}))):M=[];var z=g.coveringZoomLevel(this._source),B=Math.max(z-v.maxOverzooming,this._source.minzoom),U=Math.max(z+v.maxUnderzooming,this._source.minzoom),Y=this._updateRetainedTiles(M,z);if(Gn(this._source.type)){for(var K={},te={},ce=0,me=Object.keys(Y);ce<me.length;ce+=1){var pe=me[ce],ye=Y[pe],ve=this._tiles[pe];if(ve&&!(ve.fadeEndTime&&ve.fadeEndTime<=a.browser.now())){var De=this.findLoadedParent(ye,B);De&&(this._addTile(De.tileID),K[De.tileID.key]=De.tileID),te[pe]=ye}}for(var Oe in this._retainLoadedChildren(te,z,U,Y),K)Y[Oe]||(this._coveredTiles[Oe]=!0,Y[Oe]=K[Oe])}for(var Be in Y)this._tiles[Be].clearFadeHold();for(var Fe=0,$e=a.keysDifference(this._tiles,Y);Fe<$e.length;Fe+=1){var Qe=$e[Fe],st=this._tiles[Qe];st.hasSymbolBuckets&&!st.holdingForFade()?st.setHoldDuration(this.map._fadeDuration):st.hasSymbolBuckets&&!st.symbolFadeFinished()||this._removeTile(Qe)}this._updateLoadedParentTileCache()}},v.prototype.releaseSymbolFadeTiles=function(){for(var g in this._tiles)this._tiles[g].holdingForFade()&&this._removeTile(g)},v.prototype._updateRetainedTiles=function(g,b){for(var M={},z={},B=Math.max(b-v.maxOverzooming,this._source.minzoom),U=Math.max(b+v.maxUnderzooming,this._source.minzoom),Y={},K=0,te=g;K<te.length;K+=1){var ce=te[K],me=this._addTile(ce);M[ce.key]=ce,me.hasData()||b<this._source.maxzoom&&(Y[ce.key]=ce)}this._retainLoadedChildren(Y,b,U,M);for(var pe=0,ye=g;pe<ye.length;pe+=1){var ve=ye[pe],De=this._tiles[ve.key];if(!De.hasData()){if(b+1>this._source.maxzoom){var Oe=ve.children(this._source.maxzoom)[0],Be=this.getTile(Oe);if(Be&&Be.hasData()){M[Oe.key]=Oe;continue}}else{var Fe=ve.children(this._source.maxzoom);if(M[Fe[0].key]&&M[Fe[1].key]&&M[Fe[2].key]&&M[Fe[3].key])continue}for(var $e=De.wasRequested(),Qe=ve.overscaledZ-1;Qe>=B;--Qe){var st=ve.scaledTo(Qe);if(z[st.key]||(z[st.key]=!0,!(De=this.getTile(st))&&$e&&(De=this._addTile(st)),De&&(M[st.key]=st,$e=De.wasRequested(),De.hasData())))break}}}return M},v.prototype._updateLoadedParentTileCache=function(){for(var g in this._loadedParentTiles={},this._tiles){for(var b=[],M=void 0,z=this._tiles[g].tileID;z.overscaledZ>0;){if(z.key in this._loadedParentTiles){M=this._loadedParentTiles[z.key];break}b.push(z.key);var B=z.scaledTo(z.overscaledZ-1);if(M=this._getLoadedTile(B))break;z=B}for(var U=0,Y=b;U<Y.length;U+=1){var K=Y[U];this._loadedParentTiles[K]=M}}},v.prototype._addTile=function(g){var b=this._tiles[g.key];if(b)return b;(b=this._cache.getAndRemove(g))&&(this._setTileReloadTimer(g.key,b),b.tileID=g,this._state.initializeTileState(b,this.map?this.map.painter:null),this._cacheTimers[g.key]&&(clearTimeout(this._cacheTimers[g.key]),delete this._cacheTimers[g.key],this._setTileReloadTimer(g.key,b)));var M=!!b;return M||(b=new a.Tile(g,this._source.tileSize*g.overscaleFactor()),this._loadTile(b,this._tileLoaded.bind(this,b,g.key,b.state))),b?(b.uses++,this._tiles[g.key]=b,M||this._source.fire(new a.Event("dataloading",{tile:b,coord:b.tileID,dataType:"source"})),b):null},v.prototype._setTileReloadTimer=function(g,b){var M=this;g in this._timers&&(clearTimeout(this._timers[g]),delete this._timers[g]);var z=b.getExpiryTimeout();z&&(this._timers[g]=setTimeout(function(){M._reloadTile(g,"expired"),delete M._timers[g]},z))},v.prototype._removeTile=function(g){var b=this._tiles[g];b&&(b.uses--,delete this._tiles[g],this._timers[g]&&(clearTimeout(this._timers[g]),delete this._timers[g]),b.uses>0||(b.hasData()&&b.state!=="reloading"?this._cache.add(b.tileID,b,b.getExpiryTimeout()):(b.aborted=!0,this._abortTile(b),this._unloadTile(b))))},v.prototype.clearTiles=function(){for(var g in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(g);this._cache.reset()},v.prototype.tilesIn=function(g,b,M){var z=this,B=[],U=this.transform;if(!U)return B;for(var Y=M?U.getCameraQueryGeometry(g):g,K=g.map(function(Qe){return U.pointCoordinate(Qe)}),te=Y.map(function(Qe){return U.pointCoordinate(Qe)}),ce=this.getIds(),me=1/0,pe=1/0,ye=-1/0,ve=-1/0,De=0,Oe=te;De<Oe.length;De+=1){var Be=Oe[De];me=Math.min(me,Be.x),pe=Math.min(pe,Be.y),ye=Math.max(ye,Be.x),ve=Math.max(ve,Be.y)}for(var Fe=function(Qe){var st=z._tiles[ce[Qe]];if(!st.holdingForFade()){var gt=st.tileID,Bt=Math.pow(2,U.zoom-st.tileID.overscaledZ),Nt=b*st.queryPadding*a.EXTENT/st.tileSize/Bt,Yt=[gt.getTilePoint(new a.MercatorCoordinate(me,pe)),gt.getTilePoint(new a.MercatorCoordinate(ye,ve))];if(Yt[0].x-Nt<a.EXTENT&&Yt[0].y-Nt<a.EXTENT&&Yt[1].x+Nt>=0&&Yt[1].y+Nt>=0){var Ot=K.map(function($t){return gt.getTilePoint($t)}),hr=te.map(function($t){return gt.getTilePoint($t)});B.push({tile:st,tileID:gt,queryGeometry:Ot,cameraQueryGeometry:hr,scale:Bt})}}},$e=0;$e<ce.length;$e++)Fe($e);return B},v.prototype.getVisibleCoordinates=function(g){for(var b=this,M=this.getRenderableIds(g).map(function(Y){return b._tiles[Y].tileID}),z=0,B=M;z<B.length;z+=1){var U=B[z];U.posMatrix=this.transform.calculatePosMatrix(U.toUnwrapped())}return M},v.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Gn(this._source.type))for(var g in this._tiles){var b=this._tiles[g];if(b.fadeEndTime!==void 0&&b.fadeEndTime>=a.browser.now())return!0}return!1},v.prototype.setFeatureState=function(g,b,M){g=g||"_geojsonTileLayer",this._state.updateState(g,b,M)},v.prototype.removeFeatureState=function(g,b,M){g=g||"_geojsonTileLayer",this._state.removeFeatureState(g,b,M)},v.prototype.getFeatureState=function(g,b){return g=g||"_geojsonTileLayer",this._state.getState(g,b)},v.prototype.setDependencies=function(g,b,M){var z=this._tiles[g];z&&z.setDependencies(b,M)},v.prototype.reloadTilesForDependencies=function(g,b){for(var M in this._tiles)this._tiles[M].hasDependency(g,b)&&this._reloadTile(M,"reloading");this._cache.filter(function(z){return!z.hasDependency(g,b)})},v}(a.Evented);function Ha(p,v){var g=Math.abs(2*p.wrap)-+(p.wrap<0),b=Math.abs(2*v.wrap)-+(v.wrap<0);return p.overscaledZ-v.overscaledZ||b-g||v.canonical.y-p.canonical.y||v.canonical.x-p.canonical.x}function Gn(p){return p==="raster"||p==="image"||p==="video"}function bn(){return new a.window.Worker(is.workerUrl)}$a.maxOverzooming=10,$a.maxUnderzooming=3;var G=function(){this.active={}};G.prototype.acquire=function(p){if(!this.workers)for(this.workers=[];this.workers.length<G.workerCount;)this.workers.push(new bn);return this.active[p]=!0,this.workers.slice()},G.prototype.release=function(p){delete this.active[p],Object.keys(this.active).length===0&&(this.workers.forEach(function(v){v.terminate()}),this.workers=null)};var Q,re=Math.floor(a.browser.hardwareConcurrency/2);function ie(p,v){var g={};for(var b in p)b!=="ref"&&(g[b]=p[b]);return a.refProperties.forEach(function(M){M in v&&(g[M]=v[M])}),g}function ge(p){p=p.slice();for(var v=Object.create(null),g=0;g<p.length;g++)v[p[g].id]=p[g];for(var b=0;b<p.length;b++)"ref"in p[b]&&(p[b]=ie(p[b],v[p[b].ref]));return p}G.workerCount=Math.max(Math.min(re,6),1);var be={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Le(p,v,g){g.push({command:be.addSource,args:[p,v[p]]})}function Pe(p,v,g){v.push({command:be.removeSource,args:[p]}),g[p]=!0}function Te(p,v,g,b){Pe(p,g,b),Le(p,v,g)}function je(p,v,g){var b;for(b in p[g])if(p[g].hasOwnProperty(b)&&b!=="data"&&!a.deepEqual(p[g][b],v[g][b]))return!1;for(b in v[g])if(v[g].hasOwnProperty(b)&&b!=="data"&&!a.deepEqual(p[g][b],v[g][b]))return!1;return!0}function at(p,v,g,b,M,z){var B;for(B in v=v||{},p=p||{})p.hasOwnProperty(B)&&(a.deepEqual(p[B],v[B])||g.push({command:z,args:[b,B,v[B],M]}));for(B in v)v.hasOwnProperty(B)&&!p.hasOwnProperty(B)&&(a.deepEqual(p[B],v[B])||g.push({command:z,args:[b,B,v[B],M]}))}function vt(p){return p.id}function rt(p,v){return p[v.id]=v,p}function mt(p,v){if(!p)return[{command:be.setStyle,args:[v]}];var g=[];try{if(!a.deepEqual(p.version,v.version))return[{command:be.setStyle,args:[v]}];a.deepEqual(p.center,v.center)||g.push({command:be.setCenter,args:[v.center]}),a.deepEqual(p.zoom,v.zoom)||g.push({command:be.setZoom,args:[v.zoom]}),a.deepEqual(p.bearing,v.bearing)||g.push({command:be.setBearing,args:[v.bearing]}),a.deepEqual(p.pitch,v.pitch)||g.push({command:be.setPitch,args:[v.pitch]}),a.deepEqual(p.sprite,v.sprite)||g.push({command:be.setSprite,args:[v.sprite]}),a.deepEqual(p.glyphs,v.glyphs)||g.push({command:be.setGlyphs,args:[v.glyphs]}),a.deepEqual(p.transition,v.transition)||g.push({command:be.setTransition,args:[v.transition]}),a.deepEqual(p.light,v.light)||g.push({command:be.setLight,args:[v.light]});var b={},M=[];(function(B,U,Y,K){var te;for(te in U=U||{},B=B||{})B.hasOwnProperty(te)&&(U.hasOwnProperty(te)||Pe(te,Y,K));for(te in U)U.hasOwnProperty(te)&&(B.hasOwnProperty(te)?a.deepEqual(B[te],U[te])||(B[te].type==="geojson"&&U[te].type==="geojson"&&je(B,U,te)?Y.push({command:be.setGeoJSONSourceData,args:[te,U[te].data]}):Te(te,U,Y,K)):Le(te,U,Y))})(p.sources,v.sources,M,b);var z=[];p.layers&&p.layers.forEach(function(B){b[B.source]?g.push({command:be.removeLayer,args:[B.id]}):z.push(B)}),g=g.concat(M),function(B,U,Y){U=U||[];var K,te,ce,me,pe,ye,ve,De=(B=B||[]).map(vt),Oe=U.map(vt),Be=B.reduce(rt,{}),Fe=U.reduce(rt,{}),$e=De.slice(),Qe=Object.create(null);for(K=0,te=0;K<De.length;K++)ce=De[K],Fe.hasOwnProperty(ce)?te++:(Y.push({command:be.removeLayer,args:[ce]}),$e.splice($e.indexOf(ce,te),1));for(K=0,te=0;K<Oe.length;K++)ce=Oe[Oe.length-1-K],$e[$e.length-1-K]!==ce&&(Be.hasOwnProperty(ce)?(Y.push({command:be.removeLayer,args:[ce]}),$e.splice($e.lastIndexOf(ce,$e.length-te),1)):te++,ye=$e[$e.length-K],Y.push({command:be.addLayer,args:[Fe[ce],ye]}),$e.splice($e.length-K,0,ce),Qe[ce]=!0);for(K=0;K<Oe.length;K++)if(me=Be[ce=Oe[K]],pe=Fe[ce],!Qe[ce]&&!a.deepEqual(me,pe))if(a.deepEqual(me.source,pe.source)&&a.deepEqual(me["source-layer"],pe["source-layer"])&&a.deepEqual(me.type,pe.type)){for(ve in at(me.layout,pe.layout,Y,ce,null,be.setLayoutProperty),at(me.paint,pe.paint,Y,ce,null,be.setPaintProperty),a.deepEqual(me.filter,pe.filter)||Y.push({command:be.setFilter,args:[ce,pe.filter]}),a.deepEqual(me.minzoom,pe.minzoom)&&a.deepEqual(me.maxzoom,pe.maxzoom)||Y.push({command:be.setLayerZoomRange,args:[ce,pe.minzoom,pe.maxzoom]}),me)me.hasOwnProperty(ve)&&ve!=="layout"&&ve!=="paint"&&ve!=="filter"&&ve!=="metadata"&&ve!=="minzoom"&&ve!=="maxzoom"&&(ve.indexOf("paint.")===0?at(me[ve],pe[ve],Y,ce,ve.slice(6),be.setPaintProperty):a.deepEqual(me[ve],pe[ve])||Y.push({command:be.setLayerProperty,args:[ce,ve,pe[ve]]}));for(ve in pe)pe.hasOwnProperty(ve)&&!me.hasOwnProperty(ve)&&ve!=="layout"&&ve!=="paint"&&ve!=="filter"&&ve!=="metadata"&&ve!=="minzoom"&&ve!=="maxzoom"&&(ve.indexOf("paint.")===0?at(me[ve],pe[ve],Y,ce,ve.slice(6),be.setPaintProperty):a.deepEqual(me[ve],pe[ve])||Y.push({command:be.setLayerProperty,args:[ce,ve,pe[ve]]}))}else Y.push({command:be.removeLayer,args:[ce]}),ye=$e[$e.lastIndexOf(ce)+1],Y.push({command:be.addLayer,args:[pe,ye]})}(z,v.layers,g)}catch(B){console.warn("Unable to compute style diff:",B),g=[{command:be.setStyle,args:[v]}]}return g}var St=function(p,v,g){var b=this.boxCells=[],M=this.circleCells=[];this.xCellCount=Math.ceil(p/g),this.yCellCount=Math.ceil(v/g);for(var z=0;z<this.xCellCount*this.yCellCount;z++)b.push([]),M.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=p,this.height=v,this.xScale=this.xCellCount/p,this.yScale=this.yCellCount/v,this.boxUid=0,this.circleUid=0};function Dt(p,v,g,b,M){var z=a.create();return v?(a.scale(z,z,[1/M,1/M,1]),g||a.rotateZ(z,z,b.angle)):a.multiply(z,b.labelPlaneMatrix,p),z}function jt(p,v,g,b,M){if(v){var z=a.clone(p);return a.scale(z,z,[M,M,1]),g||a.rotateZ(z,z,-b.angle),z}return b.glCoordMatrix}function _t(p,v){var g=[p.x,p.y,0,1];vi(g,g,v);var b=g[3];return{point:new a.Point(g[0]/b,g[1]/b),signedDistanceFromCamera:b}}function dr(p,v){var g=p[0]/p[3],b=p[1]/p[3];return g>=-v[0]&&g<=v[0]&&b>=-v[1]&&b<=v[1]}function fr(p,v,g,b,M,z,B,U){var Y=b?p.textSizeData:p.iconSizeData,K=a.evaluateSizeForZoom(Y,g.transform.zoom),te=[256/g.width*2+1,256/g.height*2+1],ce=b?p.text.dynamicLayoutVertexArray:p.icon.dynamicLayoutVertexArray;ce.clear();for(var me=p.lineVertexArray,pe=b?p.text.placedSymbolArray:p.icon.placedSymbolArray,ye=g.transform.width/g.transform.height,ve=!1,De=0;De<pe.length;De++){var Oe=pe.get(De);if(Oe.hidden||Oe.writingMode===a.WritingMode.vertical&&!ve)Br(Oe.numGlyphs,ce);else{ve=!1;var Be=[Oe.anchorX,Oe.anchorY,0,1];if(a.transformMat4(Be,Be,v),dr(Be,te)){var Fe=.5+Be[3]/g.transform.cameraToCenterDistance*.5,$e=a.evaluateSizeForFeature(Y,K,Oe),Qe=B?$e*Fe:$e/Fe,st=new a.Point(Oe.anchorX,Oe.anchorY),gt=_t(st,M).point,Bt={},Nt=on(Oe,Qe,!1,U,v,M,z,p.glyphOffsetArray,me,ce,gt,st,Bt,ye);ve=Nt.useVertical,(Nt.notEnoughRoom||ve||Nt.needsFlipping&&on(Oe,Qe,!0,U,v,M,z,p.glyphOffsetArray,me,ce,gt,st,Bt,ye).notEnoughRoom)&&Br(Oe.numGlyphs,ce)}else Br(Oe.numGlyphs,ce)}}b?p.text.dynamicLayoutVertexBuffer.updateData(ce):p.icon.dynamicLayoutVertexBuffer.updateData(ce)}function ar(p,v,g,b,M,z,B,U,Y,K,te,ce){var me=U.glyphStartIndex+U.numGlyphs,pe=U.lineStartIndex,ye=U.lineStartIndex+U.lineLength,ve=v.getoffsetX(U.glyphStartIndex),De=v.getoffsetX(me-1),Oe=Lr(p*ve,g,b,M,z,B,U.segment,pe,ye,Y,K,te,ce);if(!Oe)return null;var Be=Lr(p*De,g,b,M,z,B,U.segment,pe,ye,Y,K,te,ce);return Be?{first:Oe,last:Be}:null}function ur(p,v,g,b){return p===a.WritingMode.horizontal&&Math.abs(g.y-v.y)>Math.abs(g.x-v.x)*b?{useVertical:!0}:(p===a.WritingMode.vertical?v.y<g.y:v.x>g.x)?{needsFlipping:!0}:null}function on(p,v,g,b,M,z,B,U,Y,K,te,ce,me,pe){var ye,ve=v/24,De=p.lineOffsetX*ve,Oe=p.lineOffsetY*ve;if(p.numGlyphs>1){var Be=p.glyphStartIndex+p.numGlyphs,Fe=p.lineStartIndex,$e=p.lineStartIndex+p.lineLength,Qe=ar(ve,U,De,Oe,g,te,ce,p,Y,z,me,!1);if(!Qe)return{notEnoughRoom:!0};var st=_t(Qe.first.point,B).point,gt=_t(Qe.last.point,B).point;if(b&&!g){var Bt=ur(p.writingMode,st,gt,pe);if(Bt)return Bt}ye=[Qe.first];for(var Nt=p.glyphStartIndex+1;Nt<Be-1;Nt++)ye.push(Lr(ve*U.getoffsetX(Nt),De,Oe,g,te,ce,p.segment,Fe,$e,Y,z,me,!1));ye.push(Qe.last)}else{if(b&&!g){var Yt=_t(ce,M).point,Ot=p.lineStartIndex+p.segment+1,hr=new a.Point(Y.getx(Ot),Y.gety(Ot)),$t=_t(hr,M),br=$t.signedDistanceFromCamera>0?$t.point:pr(ce,hr,Yt,1,M),Tr=ur(p.writingMode,Yt,br,pe);if(Tr)return Tr}var vr=Lr(ve*U.getoffsetX(p.glyphStartIndex),De,Oe,g,te,ce,p.segment,p.lineStartIndex,p.lineStartIndex+p.lineLength,Y,z,me,!1);if(!vr)return{notEnoughRoom:!0};ye=[vr]}for(var _r=0,_n=ye;_r<_n.length;_r+=1){var jr=_n[_r];a.addDynamicAttributes(K,jr.point,jr.angle)}return{}}function pr(p,v,g,b,M){var z=_t(p.add(p.sub(v)._unit()),M).point,B=g.sub(z);return g.add(B._mult(b/B.mag()))}function Lr(p,v,g,b,M,z,B,U,Y,K,te,ce,me){var pe=b?p-v:p+v,ye=pe>0?1:-1,ve=0;b&&(ye*=-1,ve=Math.PI),ye<0&&(ve+=Math.PI);for(var De=ye>0?U+B:U+B+1,Oe=De,Be=M,Fe=M,$e=0,Qe=0,st=Math.abs(pe);$e+Qe<=st;){if((De+=ye)<U||De>=Y)return null;if(Fe=Be,(Be=ce[De])===void 0){var gt=new a.Point(K.getx(De),K.gety(De)),Bt=_t(gt,te);if(Bt.signedDistanceFromCamera>0)Be=ce[De]=Bt.point;else{var Nt=De-ye;Be=pr($e===0?z:new a.Point(K.getx(Nt),K.gety(Nt)),gt,Fe,st-$e+1,te)}}$e+=Qe,Qe=Fe.dist(Be)}var Yt=(st-$e)/Qe,Ot=Be.sub(Fe),hr=Ot.mult(Yt)._add(Fe);return hr._add(Ot._unit()._perp()._mult(g*ye)),{point:hr,angle:ve+Math.atan2(Be.y-Fe.y,Be.x-Fe.x),tileDistance:me?{prevTileDistance:De-ye===Oe?0:K.gettileUnitDistanceFromAnchor(De-ye),lastSegmentViewportDistance:st-$e}:null}}St.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},St.prototype.insert=function(p,v,g,b,M){this._forEachCell(v,g,b,M,this._insertBoxCell,this.boxUid++),this.boxKeys.push(p),this.bboxes.push(v),this.bboxes.push(g),this.bboxes.push(b),this.bboxes.push(M)},St.prototype.insertCircle=function(p,v,g,b){this._forEachCell(v-b,g-b,v+b,g+b,this._insertCircleCell,this.circleUid++),this.circleKeys.push(p),this.circles.push(v),this.circles.push(g),this.circles.push(b)},St.prototype._insertBoxCell=function(p,v,g,b,M,z){this.boxCells[M].push(z)},St.prototype._insertCircleCell=function(p,v,g,b,M,z){this.circleCells[M].push(z)},St.prototype._query=function(p,v,g,b,M,z){if(g<0||p>this.width||b<0||v>this.height)return!M&&[];var B=[];if(p<=0&&v<=0&&this.width<=g&&this.height<=b){if(M)return!0;for(var U=0;U<this.boxKeys.length;U++)B.push({key:this.boxKeys[U],x1:this.bboxes[4*U],y1:this.bboxes[4*U+1],x2:this.bboxes[4*U+2],y2:this.bboxes[4*U+3]});for(var Y=0;Y<this.circleKeys.length;Y++){var K=this.circles[3*Y],te=this.circles[3*Y+1],ce=this.circles[3*Y+2];B.push({key:this.circleKeys[Y],x1:K-ce,y1:te-ce,x2:K+ce,y2:te+ce})}return z?B.filter(z):B}var me={hitTest:M,seenUids:{box:{},circle:{}}};return this._forEachCell(p,v,g,b,this._queryCell,B,me,z),M?B.length>0:B},St.prototype._queryCircle=function(p,v,g,b,M){var z=p-g,B=p+g,U=v-g,Y=v+g;if(B<0||z>this.width||Y<0||U>this.height)return!b&&[];var K=[],te={hitTest:b,circle:{x:p,y:v,radius:g},seenUids:{box:{},circle:{}}};return this._forEachCell(z,U,B,Y,this._queryCellCircle,K,te,M),b?K.length>0:K},St.prototype.query=function(p,v,g,b,M){return this._query(p,v,g,b,!1,M)},St.prototype.hitTest=function(p,v,g,b,M){return this._query(p,v,g,b,!0,M)},St.prototype.hitTestCircle=function(p,v,g,b){return this._queryCircle(p,v,g,!0,b)},St.prototype._queryCell=function(p,v,g,b,M,z,B,U){var Y=B.seenUids,K=this.boxCells[M];if(K!==null)for(var te=this.bboxes,ce=0,me=K;ce<me.length;ce+=1){var pe=me[ce];if(!Y.box[pe]){Y.box[pe]=!0;var ye=4*pe;if(p<=te[ye+2]&&v<=te[ye+3]&&g>=te[ye+0]&&b>=te[ye+1]&&(!U||U(this.boxKeys[pe]))){if(B.hitTest)return z.push(!0),!0;z.push({key:this.boxKeys[pe],x1:te[ye],y1:te[ye+1],x2:te[ye+2],y2:te[ye+3]})}}}var ve=this.circleCells[M];if(ve!==null)for(var De=this.circles,Oe=0,Be=ve;Oe<Be.length;Oe+=1){var Fe=Be[Oe];if(!Y.circle[Fe]){Y.circle[Fe]=!0;var $e=3*Fe;if(this._circleAndRectCollide(De[$e],De[$e+1],De[$e+2],p,v,g,b)&&(!U||U(this.circleKeys[Fe]))){if(B.hitTest)return z.push(!0),!0;var Qe=De[$e],st=De[$e+1],gt=De[$e+2];z.push({key:this.circleKeys[Fe],x1:Qe-gt,y1:st-gt,x2:Qe+gt,y2:st+gt})}}}},St.prototype._queryCellCircle=function(p,v,g,b,M,z,B,U){var Y=B.circle,K=B.seenUids,te=this.boxCells[M];if(te!==null)for(var ce=this.bboxes,me=0,pe=te;me<pe.length;me+=1){var ye=pe[me];if(!K.box[ye]){K.box[ye]=!0;var ve=4*ye;if(this._circleAndRectCollide(Y.x,Y.y,Y.radius,ce[ve+0],ce[ve+1],ce[ve+2],ce[ve+3])&&(!U||U(this.boxKeys[ye])))return z.push(!0),!0}}var De=this.circleCells[M];if(De!==null)for(var Oe=this.circles,Be=0,Fe=De;Be<Fe.length;Be+=1){var $e=Fe[Be];if(!K.circle[$e]){K.circle[$e]=!0;var Qe=3*$e;if(this._circlesCollide(Oe[Qe],Oe[Qe+1],Oe[Qe+2],Y.x,Y.y,Y.radius)&&(!U||U(this.circleKeys[$e])))return z.push(!0),!0}}},St.prototype._forEachCell=function(p,v,g,b,M,z,B,U){for(var Y=this._convertToXCellCoord(p),K=this._convertToYCellCoord(v),te=this._convertToXCellCoord(g),ce=this._convertToYCellCoord(b),me=Y;me<=te;me++)for(var pe=K;pe<=ce;pe++){var ye=this.xCellCount*pe+me;if(M.call(this,p,v,g,b,ye,z,B,U))return}},St.prototype._convertToXCellCoord=function(p){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(p*this.xScale)))},St.prototype._convertToYCellCoord=function(p){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(p*this.yScale)))},St.prototype._circlesCollide=function(p,v,g,b,M,z){var B=b-p,U=M-v,Y=g+z;return Y*Y>B*B+U*U},St.prototype._circleAndRectCollide=function(p,v,g,b,M,z,B){var U=(z-b)/2,Y=Math.abs(p-(b+U));if(Y>U+g)return!1;var K=(B-M)/2,te=Math.abs(v-(M+K));if(te>K+g)return!1;if(Y<=U||te<=K)return!0;var ce=Y-U,me=te-K;return ce*ce+me*me<=g*g};var hn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Br(p,v){for(var g=0;g<p;g++){var b=v.length;v.resize(b+4),v.float32.set(hn,3*b)}}function vi(p,v,g){var b=v[0],M=v[1];return p[0]=g[0]*b+g[4]*M+g[12],p[1]=g[1]*b+g[5]*M+g[13],p[3]=g[3]*b+g[7]*M+g[15],p}var Dr=function(p,v,g){v===void 0&&(v=new St(p.width+200,p.height+200,25)),g===void 0&&(g=new St(p.width+200,p.height+200,25)),this.transform=p,this.grid=v,this.ignoredGrid=g,this.pitchfactor=Math.cos(p._pitch)*p.cameraToCenterDistance,this.screenRightBoundary=p.width+100,this.screenBottomBoundary=p.height+100,this.gridRightBoundary=p.width+200,this.gridBottomBoundary=p.height+200};function Pn(p,v,g){p[v+4]=g?1:0}function Er(p,v,g){return v*(a.EXTENT/(p.tileSize*Math.pow(2,g-p.tileID.overscaledZ)))}Dr.prototype.placeCollisionBox=function(p,v,g,b,M){var z=this.projectAndGetPerspectiveRatio(b,p.anchorPointX,p.anchorPointY),B=g*z.perspectiveRatio,U=p.x1*B+z.point.x,Y=p.y1*B+z.point.y,K=p.x2*B+z.point.x,te=p.y2*B+z.point.y;return!this.isInsideGrid(U,Y,K,te)||!v&&this.grid.hitTest(U,Y,K,te,M)?{box:[],offscreen:!1}:{box:[U,Y,K,te],offscreen:this.isOffscreen(U,Y,K,te)}},Dr.prototype.approximateTileDistance=function(p,v,g,b,M){var z=M?1:b/this.pitchfactor,B=p.lastSegmentViewportDistance*g;return p.prevTileDistance+B+(z-1)*B*Math.abs(Math.sin(v))},Dr.prototype.placeCollisionCircles=function(p,v,g,b,M,z,B,U,Y,K,te,ce,me){var pe=[],ye=this.projectAnchor(Y,M.anchorX,M.anchorY),ve=U/24,De=M.lineOffsetX*U,Oe=M.lineOffsetY*U,Be=new a.Point(M.anchorX,M.anchorY),Fe=ar(ve,B,De,Oe,!1,_t(Be,K).point,Be,M,z,K,{},!0),$e=!1,Qe=!1,st=!0,gt=ye.perspectiveRatio*b,Bt=1/(b*g),Nt=0,Yt=0;Fe&&(Nt=this.approximateTileDistance(Fe.first.tileDistance,Fe.first.angle,Bt,ye.cameraDistance,ce),Yt=this.approximateTileDistance(Fe.last.tileDistance,Fe.last.angle,Bt,ye.cameraDistance,ce));for(var Ot=0;Ot<p.length;Ot+=5){var hr=p[Ot],$t=p[Ot+1],br=p[Ot+2],Tr=p[Ot+3];if(!Fe||Tr<-Nt||Tr>Yt)Pn(p,Ot,!1);else{var vr=this.projectPoint(Y,hr,$t),_r=br*gt;if(pe.length>0){var _n=vr.x-pe[pe.length-4],jr=vr.y-pe[pe.length-3];if(_r*_r*2>_n*_n+jr*jr&&Ot+8<p.length){var Nr=p[Ot+8];if(Nr>-Nt&&Nr<Yt){Pn(p,Ot,!1);continue}}}var xi=Ot/5;pe.push(vr.x,vr.y,_r,xi),Pn(p,Ot,!0);var sn=vr.x-_r,Mr=vr.y-_r,Gi=vr.x+_r,Ei=vr.y+_r;if(st=st&&this.isOffscreen(sn,Mr,Gi,Ei),Qe=Qe||this.isInsideGrid(sn,Mr,Gi,Ei),!v&&this.grid.hitTestCircle(vr.x,vr.y,_r,me)){if(!te)return{circles:[],offscreen:!1};$e=!0}}}return{circles:$e||!Qe?[]:pe,offscreen:st}},Dr.prototype.queryRenderedSymbols=function(p){if(p.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var v=[],g=1/0,b=1/0,M=-1/0,z=-1/0,B=0,U=p;B<U.length;B+=1){var Y=U[B],K=new a.Point(Y.x+100,Y.y+100);g=Math.min(g,K.x),b=Math.min(b,K.y),M=Math.max(M,K.x),z=Math.max(z,K.y),v.push(K)}for(var te={},ce={},me=0,pe=this.grid.query(g,b,M,z).concat(this.ignoredGrid.query(g,b,M,z));me<pe.length;me+=1){var ye=pe[me],ve=ye.key;if(te[ve.bucketInstanceId]===void 0&&(te[ve.bucketInstanceId]={}),!te[ve.bucketInstanceId][ve.featureIndex]){var De=[new a.Point(ye.x1,ye.y1),new a.Point(ye.x2,ye.y1),new a.Point(ye.x2,ye.y2),new a.Point(ye.x1,ye.y2)];a.polygonIntersectsPolygon(v,De)&&(te[ve.bucketInstanceId][ve.featureIndex]=!0,ce[ve.bucketInstanceId]===void 0&&(ce[ve.bucketInstanceId]=[]),ce[ve.bucketInstanceId].push(ve.featureIndex))}}return ce},Dr.prototype.insertCollisionBox=function(p,v,g,b,M){var z={bucketInstanceId:g,featureIndex:b,collisionGroupID:M};(v?this.ignoredGrid:this.grid).insert(z,p[0],p[1],p[2],p[3])},Dr.prototype.insertCollisionCircles=function(p,v,g,b,M){for(var z=v?this.ignoredGrid:this.grid,B={bucketInstanceId:g,featureIndex:b,collisionGroupID:M},U=0;U<p.length;U+=4)z.insertCircle(B,p[U],p[U+1],p[U+2])},Dr.prototype.projectAnchor=function(p,v,g){var b=[v,g,0,1];return vi(b,b,p),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/b[3]*.5,cameraDistance:b[3]}},Dr.prototype.projectPoint=function(p,v,g){var b=[v,g,0,1];return vi(b,b,p),new a.Point((b[0]/b[3]+1)/2*this.transform.width+100,(-b[1]/b[3]+1)/2*this.transform.height+100)},Dr.prototype.projectAndGetPerspectiveRatio=function(p,v,g){var b=[v,g,0,1];return vi(b,b,p),{point:new a.Point((b[0]/b[3]+1)/2*this.transform.width+100,(-b[1]/b[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/b[3]*.5}},Dr.prototype.isOffscreen=function(p,v,g,b){return g<100||p>=this.screenRightBoundary||b<100||v>this.screenBottomBoundary},Dr.prototype.isInsideGrid=function(p,v,g,b){return g>=0&&p<this.gridRightBoundary&&b>=0&&v<this.gridBottomBoundary};var zn=function(p,v,g,b){this.opacity=p?Math.max(0,Math.min(1,p.opacity+(p.placed?v:-v))):b&&g?1:0,this.placed=g};zn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var yi=function(p,v,g,b,M){this.text=new zn(p?p.text:null,v,g,M),this.icon=new zn(p?p.icon:null,v,b,M)};yi.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var ka=function(p,v,g){this.text=p,this.icon=v,this.skipFade=g},Qa=function(p,v,g,b,M){this.bucketInstanceId=p,this.featureIndex=v,this.sourceLayerIndex=g,this.bucketIndex=b,this.tileID=M},Si=function(p){this.crossSourceCollisions=p,this.maxGroupID=0,this.collisionGroups={}};function xo(p,v,g,b,M){var z=a.getAnchorAlignment(p),B=-(z.horizontalAlign-.5)*v,U=-(z.verticalAlign-.5)*g,Y=a.evaluateVariableOffset(p,b);return new a.Point(B+Y[0]*M,U+Y[1]*M)}function ws(p,v,g,b,M,z){var B=p.x1,U=p.x2,Y=p.y1,K=p.y2,te=p.anchorPointX,ce=p.anchorPointY,me=new a.Point(v,g);return b&&me._rotate(M?z:-z),{x1:B+me.x,y1:Y+me.y,x2:U+me.x,y2:K+me.y,anchorPointX:te,anchorPointY:ce}}Si.prototype.get=function(p){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[p]){var v=++this.maxGroupID;this.collisionGroups[p]={ID:v,predicate:function(g){return g.collisionGroupID===v}}}return this.collisionGroups[p]};var le=function(p,v,g,b){this.transform=p.clone(),this.collisionIndex=new Dr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=v,this.retainedQueryData={},this.collisionGroups=new Si(g),this.prevPlacement=b,b&&(b.prevPlacement=void 0),this.placedOrientations={}};function fe(p,v,g,b,M){p.emplaceBack(v?1:0,g?1:0,b||0,M||0),p.emplaceBack(v?1:0,g?1:0,b||0,M||0),p.emplaceBack(v?1:0,g?1:0,b||0,M||0),p.emplaceBack(v?1:0,g?1:0,b||0,M||0)}le.prototype.placeLayerTile=function(p,v,g,b){var M=v.getBucket(p),z=v.latestFeatureIndex;if(M&&z&&p.id===M.layerIds[0]){var B=v.collisionBoxArray,U=M.layers[0].layout,Y=Math.pow(2,this.transform.zoom-v.tileID.overscaledZ),K=v.tileSize/a.EXTENT,te=this.transform.calculatePosMatrix(v.tileID.toUnwrapped()),ce=Dt(te,U.get("text-pitch-alignment")==="map",U.get("text-rotation-alignment")==="map",this.transform,Er(v,1,this.transform.zoom)),me=Dt(te,U.get("icon-pitch-alignment")==="map",U.get("icon-rotation-alignment")==="map",this.transform,Er(v,1,this.transform.zoom));this.retainedQueryData[M.bucketInstanceId]=new Qa(M.bucketInstanceId,z,M.sourceLayerIndex,M.index,v.tileID),this.placeLayerBucket(M,te,ce,me,Y,K,g,v.holdingForFade(),b,B)}},le.prototype.attemptAnchorPlacement=function(p,v,g,b,M,z,B,U,Y,K,te,ce,me,pe,ye){var ve,De=[ce.textOffset0,ce.textOffset1],Oe=xo(p,g,b,De,M),Be=this.collisionIndex.placeCollisionBox(ws(v,Oe.x,Oe.y,z,B,this.transform.angle),te,U,Y,K.predicate);if(!(ye&&this.collisionIndex.placeCollisionBox(ws(ye,Oe.x,Oe.y,z,B,this.transform.angle),te,U,Y,K.predicate).box.length===0)&&Be.box.length>0)return this.prevPlacement&&this.prevPlacement.variableOffsets[ce.crossTileID]&&this.prevPlacement.placements[ce.crossTileID]&&this.prevPlacement.placements[ce.crossTileID].text&&(ve=this.prevPlacement.variableOffsets[ce.crossTileID].anchor),this.variableOffsets[ce.crossTileID]={textOffset:De,width:g,height:b,anchor:p,textBoxScale:M,prevAnchor:ve},this.markUsedJustification(me,p,ce,pe),me.allowVerticalPlacement&&(this.markUsedOrientation(me,pe,ce),this.placedOrientations[ce.crossTileID]=pe),{shift:Oe,placedGlyphBoxes:Be}},le.prototype.placeLayerBucket=function(p,v,g,b,M,z,B,U,Y,K){var te=this,ce=p.layers[0].layout,me=a.evaluateSizeForZoom(p.textSizeData,this.transform.zoom),pe=ce.get("text-optional"),ye=ce.get("icon-optional"),ve=ce.get("text-allow-overlap"),De=ce.get("icon-allow-overlap"),Oe=ve&&(De||!p.hasIconData()||ye),Be=De&&(ve||!p.hasTextData()||pe),Fe=this.collisionGroups.get(p.sourceID),$e=ce.get("text-rotation-alignment")==="map",Qe=ce.get("text-pitch-alignment")==="map",st=ce.get("icon-text-fit")!=="none",gt=ce.get("symbol-z-order")==="viewport-y";!p.collisionArrays&&K&&p.deserializeCollisionBoxes(K);var Bt=function($t,br){if(!Y[$t.crossTileID])if(U)te.placements[$t.crossTileID]=new ka(!1,!1,!1);else{var Tr,vr=!1,_r=!1,_n=!0,jr=null,Nr={box:null,offscreen:null},xi={box:null,offscreen:null},sn=null,Mr=null,Gi=0,Ei=0,ks=0;br.textFeatureIndex&&(Gi=br.textFeatureIndex),br.verticalTextFeatureIndex&&(Ei=br.verticalTextFeatureIndex);var oo=br.textBox;if(oo){var Vs=function(ti){var vn=a.WritingMode.horizontal;if(p.allowVerticalPlacement&&!ti&&te.prevPlacement){var Mn=te.prevPlacement.placedOrientations[$t.crossTileID];Mn&&(te.placedOrientations[$t.crossTileID]=Mn,vn=Mn,te.markUsedOrientation(p,vn,$t))}return vn},mc=function(ti,vn){if(p.allowVerticalPlacement&&$t.numVerticalGlyphVertices>0&&br.verticalTextBox)for(var Mn=0,La=p.writingModes;Mn<La.length&&(La[Mn]===a.WritingMode.vertical?(Nr=vn(),xi=Nr):Nr=ti(),!(Nr&&Nr.box&&Nr.box.length));Mn+=1);else Nr=ti()};if(ce.get("text-variable-anchor")){var na=ce.get("text-variable-anchor");if(te.prevPlacement&&te.prevPlacement.variableOffsets[$t.crossTileID]){var Ah=te.prevPlacement.variableOffsets[$t.crossTileID];na.indexOf(Ah.anchor)>0&&(na=na.filter(function(ti){return ti!==Ah.anchor})).unshift(Ah.anchor)}var gc=function(ti,vn,Mn){for(var La=ti.x2-ti.x1,so=ti.y2-ti.y1,So=$t.textBoxScale,as=st&&!De?vn:null,pa={box:[],offscreen:!1},Bo=ve?2*na.length:na.length,tf=0;tf<Bo;++tf){var $m=na[tf%na.length],Hm=tf>=na.length,Es=te.attemptAnchorPlacement($m,ti,La,so,So,$e,Qe,z,v,Fe,Hm,$t,p,Mn,as);if(Es&&(pa=Es.placedGlyphBoxes)&&pa.box&&pa.box.length){vr=!0,jr=Es.shift;break}}return pa};mc(function(){return gc(oo,br.iconBox,a.WritingMode.horizontal)},function(){var ti=br.verticalTextBox,vn=Nr&&Nr.box&&Nr.box.length;return p.allowVerticalPlacement&&!vn&&$t.numVerticalGlyphVertices>0&&ti?gc(ti,br.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),Nr&&(vr=Nr.box,_n=Nr.offscreen);var kl=Vs(Nr&&Nr.box);if(!vr&&te.prevPlacement){var wo=te.prevPlacement.variableOffsets[$t.crossTileID];wo&&(te.variableOffsets[$t.crossTileID]=wo,te.markUsedJustification(p,wo.anchor,$t,kl))}}else{var Qd=function(ti,vn){var Mn=te.collisionIndex.placeCollisionBox(ti,ce.get("text-allow-overlap"),z,v,Fe.predicate);return Mn&&Mn.box&&Mn.box.length&&(te.markUsedOrientation(p,vn,$t),te.placedOrientations[$t.crossTileID]=vn),Mn};mc(function(){return Qd(oo,a.WritingMode.horizontal)},function(){var ti=br.verticalTextBox;return p.allowVerticalPlacement&&$t.numVerticalGlyphVertices>0&&ti?Qd(ti,a.WritingMode.vertical):{box:null,offscreen:null}}),Vs(Nr&&Nr.box&&Nr.box.length)}}vr=(Tr=Nr)&&Tr.box&&Tr.box.length>0,_n=Tr&&Tr.offscreen;var Ws=br.textCircles;if(Ws){var fu=p.text.placedSymbolArray.get($t.centerJustifiedTextSymbolIndex),ef=a.evaluateSizeForFeature(p.textSizeData,me,fu);sn=te.collisionIndex.placeCollisionCircles(Ws,ce.get("text-allow-overlap"),M,z,fu,p.lineVertexArray,p.glyphOffsetArray,ef,v,g,B,Qe,Fe.predicate),vr=ce.get("text-allow-overlap")||sn.circles.length>0,_n=_n&&sn.offscreen}if(br.iconFeatureIndex&&(ks=br.iconFeatureIndex),br.iconBox){var pu=function(ti){var vn=st&&jr?ws(ti,jr.x,jr.y,$e,Qe,te.transform.angle):ti;return te.collisionIndex.placeCollisionBox(vn,ce.get("icon-allow-overlap"),z,v,Fe.predicate)};_r=xi&&xi.box&&xi.box.length&&br.verticalIconBox?(Mr=pu(br.verticalIconBox)).box.length>0:(Mr=pu(br.iconBox)).box.length>0,_n=_n&&Mr.offscreen}var vc=pe||$t.numHorizontalGlyphVertices===0&&$t.numVerticalGlyphVertices===0,Ph=ye||$t.numIconVertices===0;vc||Ph?Ph?vc||(_r=_r&&vr):vr=_r&&vr:_r=vr=_r&&vr,vr&&Tr&&Tr.box&&(xi&&xi.box&&Ei?te.collisionIndex.insertCollisionBox(Tr.box,ce.get("text-ignore-placement"),p.bucketInstanceId,Ei,Fe.ID):te.collisionIndex.insertCollisionBox(Tr.box,ce.get("text-ignore-placement"),p.bucketInstanceId,Gi,Fe.ID)),_r&&Mr&&te.collisionIndex.insertCollisionBox(Mr.box,ce.get("icon-ignore-placement"),p.bucketInstanceId,ks,Fe.ID),vr&&sn&&te.collisionIndex.insertCollisionCircles(sn.circles,ce.get("text-ignore-placement"),p.bucketInstanceId,Gi,Fe.ID),te.placements[$t.crossTileID]=new ka(vr||Oe,_r||Be,_n||p.justReloaded),Y[$t.crossTileID]=!0}};if(gt)for(var Nt=p.getSortedSymbolIndexes(this.transform.angle),Yt=Nt.length-1;Yt>=0;--Yt){var Ot=Nt[Yt];Bt(p.symbolInstances.get(Ot),p.collisionArrays[Ot])}else for(var hr=0;hr<p.symbolInstances.length;++hr)Bt(p.symbolInstances.get(hr),p.collisionArrays[hr]);p.justReloaded=!1},le.prototype.markUsedJustification=function(p,v,g,b){var M,z={left:g.leftJustifiedTextSymbolIndex,center:g.centerJustifiedTextSymbolIndex,right:g.rightJustifiedTextSymbolIndex};M=b===a.WritingMode.vertical?g.verticalPlacedTextSymbolIndex:z[a.getAnchorJustification(v)];for(var B=0,U=[g.leftJustifiedTextSymbolIndex,g.centerJustifiedTextSymbolIndex,g.rightJustifiedTextSymbolIndex,g.verticalPlacedTextSymbolIndex];B<U.length;B+=1){var Y=U[B];Y>=0&&(p.text.placedSymbolArray.get(Y).crossTileID=M>=0&&Y!==M?0:g.crossTileID)}},le.prototype.markUsedOrientation=function(p,v,g){for(var b=v===a.WritingMode.horizontal||v===a.WritingMode.horizontalOnly?v:0,M=v===a.WritingMode.vertical?v:0,z=0,B=[g.leftJustifiedTextSymbolIndex,g.centerJustifiedTextSymbolIndex,g.rightJustifiedTextSymbolIndex];z<B.length;z+=1){var U=B[z];p.text.placedSymbolArray.get(U).placedOrientation=b}g.verticalPlacedTextSymbolIndex&&(p.text.placedSymbolArray.get(g.verticalPlacedTextSymbolIndex).placedOrientation=M)},le.prototype.commit=function(p){this.commitTime=p,this.zoomAtLastRecencyCheck=this.transform.zoom;var v=this.prevPlacement,g=!1;this.prevZoomAdjustment=v?v.zoomAdjustment(this.transform.zoom):0;var b=v?v.symbolFadeChange(p):1,M=v?v.opacities:{},z=v?v.variableOffsets:{},B=v?v.placedOrientations:{};for(var U in this.placements){var Y=this.placements[U],K=M[U];K?(this.opacities[U]=new yi(K,b,Y.text,Y.icon),g=g||Y.text!==K.text.placed||Y.icon!==K.icon.placed):(this.opacities[U]=new yi(null,b,Y.text,Y.icon,Y.skipFade),g=g||Y.text||Y.icon)}for(var te in M){var ce=M[te];if(!this.opacities[te]){var me=new yi(ce,b,!1,!1);me.isHidden()||(this.opacities[te]=me,g=g||ce.text.placed||ce.icon.placed)}}for(var pe in z)this.variableOffsets[pe]||!this.opacities[pe]||this.opacities[pe].isHidden()||(this.variableOffsets[pe]=z[pe]);for(var ye in B)this.placedOrientations[ye]||!this.opacities[ye]||this.opacities[ye].isHidden()||(this.placedOrientations[ye]=B[ye]);g?this.lastPlacementChangeTime=p:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=v?v.lastPlacementChangeTime:p)},le.prototype.updateLayerOpacities=function(p,v){for(var g={},b=0,M=v;b<M.length;b+=1){var z=M[b],B=z.getBucket(p);B&&z.latestFeatureIndex&&p.id===B.layerIds[0]&&this.updateBucketOpacities(B,g,z.collisionBoxArray)}},le.prototype.updateBucketOpacities=function(p,v,g){var b=this;p.hasTextData()&&p.text.opacityVertexArray.clear(),p.hasIconData()&&p.icon.opacityVertexArray.clear(),p.hasIconCollisionBoxData()&&p.iconCollisionBox.collisionVertexArray.clear(),p.hasTextCollisionBoxData()&&p.textCollisionBox.collisionVertexArray.clear(),p.hasIconCollisionCircleData()&&p.iconCollisionCircle.collisionVertexArray.clear(),p.hasTextCollisionCircleData()&&p.textCollisionCircle.collisionVertexArray.clear();var M=p.layers[0].layout,z=new yi(null,0,!1,!1,!0),B=M.get("text-allow-overlap"),U=M.get("icon-allow-overlap"),Y=M.get("text-variable-anchor"),K=M.get("text-rotation-alignment")==="map",te=M.get("text-pitch-alignment")==="map",ce=M.get("icon-text-fit")!=="none",me=new yi(null,0,B&&(U||!p.hasIconData()||M.get("icon-optional")),U&&(B||!p.hasTextData()||M.get("text-optional")),!0);!p.collisionArrays&&g&&(p.hasIconCollisionBoxData()||p.hasIconCollisionCircleData()||p.hasTextCollisionBoxData()||p.hasTextCollisionCircleData())&&p.deserializeCollisionBoxes(g);for(var pe=function(De,Oe,Be){for(var Fe=0;Fe<Oe/4;Fe++)De.opacityVertexArray.emplaceBack(Be)},ye=function(De){var Oe=p.symbolInstances.get(De),Be=Oe.numHorizontalGlyphVertices,Fe=Oe.numVerticalGlyphVertices,$e=Oe.crossTileID,Qe=v[$e],st=b.opacities[$e];Qe?st=z:st||(st=me,b.opacities[$e]=st),v[$e]=!0;var gt=Be>0||Fe>0,Bt=Oe.numIconVertices>0,Nt=b.placedOrientations[Oe.crossTileID],Yt=Nt===a.WritingMode.vertical,Ot=Nt===a.WritingMode.horizontal||Nt===a.WritingMode.horizontalOnly;if(gt){var hr=Di(st.text),$t=Yt?Gt:hr;pe(p.text,Be,$t);var br=Ot?Gt:hr;pe(p.text,Fe,br);var Tr=st.text.isHidden();[Oe.rightJustifiedTextSymbolIndex,Oe.centerJustifiedTextSymbolIndex,Oe.leftJustifiedTextSymbolIndex].forEach(function(na){na>=0&&(p.text.placedSymbolArray.get(na).hidden=Tr||Yt?1:0)}),Oe.verticalPlacedTextSymbolIndex>=0&&(p.text.placedSymbolArray.get(Oe.verticalPlacedTextSymbolIndex).hidden=Tr||Ot?1:0);var vr=b.variableOffsets[Oe.crossTileID];vr&&b.markUsedJustification(p,vr.anchor,Oe,Nt);var _r=b.placedOrientations[Oe.crossTileID];_r&&(b.markUsedJustification(p,"left",Oe,_r),b.markUsedOrientation(p,_r,Oe))}if(Bt){var _n=Di(st.icon),jr=!(ce&&Oe.verticalPlacedIconSymbolIndex&&Yt);if(Oe.placedIconSymbolIndex>=0){var Nr=jr?_n:Gt;pe(p.icon,Oe.numIconVertices,Nr),p.icon.placedSymbolArray.get(Oe.placedIconSymbolIndex).hidden=st.icon.isHidden()}if(Oe.verticalPlacedIconSymbolIndex>=0){var xi=jr?Gt:_n;pe(p.icon,Oe.numVerticalIconVertices,xi),p.icon.placedSymbolArray.get(Oe.verticalPlacedIconSymbolIndex).hidden=st.icon.isHidden()}}if(p.hasIconCollisionBoxData()||p.hasIconCollisionCircleData()||p.hasTextCollisionBoxData()||p.hasTextCollisionCircleData()){var sn=p.collisionArrays[De];if(sn){var Mr=new a.Point(0,0);if(sn.textBox||sn.verticalTextBox){var Gi=!0;if(Y){var Ei=b.variableOffsets[$e];Ei?(Mr=xo(Ei.anchor,Ei.width,Ei.height,Ei.textOffset,Ei.textBoxScale),K&&Mr._rotate(te?b.transform.angle:-b.transform.angle)):Gi=!1}sn.textBox&&fe(p.textCollisionBox.collisionVertexArray,st.text.placed,!Gi||Yt,Mr.x,Mr.y),sn.verticalTextBox&&fe(p.textCollisionBox.collisionVertexArray,st.text.placed,!Gi||Ot,Mr.x,Mr.y)}var ks=!!(!Ot&&sn.verticalIconBox);sn.iconBox&&fe(p.iconCollisionBox.collisionVertexArray,st.icon.placed,ks,ce?Mr.x:0,ce?Mr.y:0),sn.verticalIconBox&&fe(p.iconCollisionBox.collisionVertexArray,st.icon.placed,!ks,ce?Mr.x:0,ce?Mr.y:0);var oo=sn.textCircles;if(oo&&p.hasTextCollisionCircleData())for(var Vs=0;Vs<oo.length;Vs+=5){var mc=Qe||oo[Vs+4]===0;fe(p.textCollisionCircle.collisionVertexArray,st.text.placed,mc)}}}},ve=0;ve<p.symbolInstances.length;ve++)ye(ve);p.sortFeatures(this.transform.angle),this.retainedQueryData[p.bucketInstanceId]&&(this.retainedQueryData[p.bucketInstanceId].featureSortOrder=p.featureSortOrder),p.hasTextData()&&p.text.opacityVertexBuffer&&p.text.opacityVertexBuffer.updateData(p.text.opacityVertexArray),p.hasIconData()&&p.icon.opacityVertexBuffer&&p.icon.opacityVertexBuffer.updateData(p.icon.opacityVertexArray),p.hasIconCollisionBoxData()&&p.iconCollisionBox.collisionVertexBuffer&&p.iconCollisionBox.collisionVertexBuffer.updateData(p.iconCollisionBox.collisionVertexArray),p.hasTextCollisionBoxData()&&p.textCollisionBox.collisionVertexBuffer&&p.textCollisionBox.collisionVertexBuffer.updateData(p.textCollisionBox.collisionVertexArray),p.hasIconCollisionCircleData()&&p.iconCollisionCircle.collisionVertexBuffer&&p.iconCollisionCircle.collisionVertexBuffer.updateData(p.iconCollisionCircle.collisionVertexArray),p.hasTextCollisionCircleData()&&p.textCollisionCircle.collisionVertexBuffer&&p.textCollisionCircle.collisionVertexBuffer.updateData(p.textCollisionCircle.collisionVertexArray)},le.prototype.symbolFadeChange=function(p){return this.fadeDuration===0?1:(p-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},le.prototype.zoomAdjustment=function(p){return Math.max(0,(this.transform.zoom-p)/1.5)},le.prototype.hasTransitions=function(p){return this.stale||p-this.lastPlacementChangeTime<this.fadeDuration},le.prototype.stillRecent=function(p,v){var g=this.zoomAtLastRecencyCheck===v?1-this.zoomAdjustment(v):1;return this.zoomAtLastRecencyCheck=v,this.commitTime+this.fadeDuration*g>p},le.prototype.setStale=function(){this.stale=!0};var Me=Math.pow(2,25),Je=Math.pow(2,24),wt=Math.pow(2,17),Ut=Math.pow(2,16),cr=Math.pow(2,9),fi=Math.pow(2,8),Ci=Math.pow(2,1);function Di(p){if(p.opacity===0&&!p.placed)return 0;if(p.opacity===1&&p.placed)return 4294967295;var v=p.placed?1:0,g=Math.floor(127*p.opacity);return g*Me+v*Je+g*wt+v*Ut+g*cr+v*fi+g*Ci+v}var Gt=0,Rr=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};Rr.prototype.continuePlacement=function(p,v,g,b,M){for(;this._currentTileIndex<p.length;){var z=p[this._currentTileIndex];if(v.placeLayerTile(b,z,g,this._seenCrossTileIDs),this._currentTileIndex++,M())return!0}};var pi=function(p,v,g,b,M,z,B){this.placement=new le(p,M,z,B),this._currentPlacementIndex=v.length-1,this._forceFullPlacement=g,this._showCollisionBoxes=b,this._done=!1};pi.prototype.isDone=function(){return this._done},pi.prototype.continuePlacement=function(p,v,g){for(var b=this,M=a.browser.now(),z=function(){var Y=a.browser.now()-M;return!b._forceFullPlacement&&Y>2};this._currentPlacementIndex>=0;){var B=v[p[this._currentPlacementIndex]],U=this.placement.collisionIndex.transform.zoom;if(B.type==="symbol"&&(!B.minzoom||B.minzoom<=U)&&(!B.maxzoom||B.maxzoom>U)){if(this._inProgressLayer||(this._inProgressLayer=new Rr),this._inProgressLayer.continuePlacement(g[B.source],this.placement,this._showCollisionBoxes,B,z))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},pi.prototype.commit=function(p){return this.placement.commit(p),this.placement};var Ni=512/a.EXTENT/2,eo=function(p,v,g){this.tileID=p,this.indexedSymbolInstances={},this.bucketInstanceId=g;for(var b=0;b<v.length;b++){var M=v.get(b),z=M.key;this.indexedSymbolInstances[z]||(this.indexedSymbolInstances[z]=[]),this.indexedSymbolInstances[z].push({crossTileID:M.crossTileID,coord:this.getScaledCoordinates(M,p)})}};eo.prototype.getScaledCoordinates=function(p,v){var g=v.canonical.z-this.tileID.canonical.z,b=Ni/Math.pow(2,g);return{x:Math.floor((v.canonical.x*a.EXTENT+p.anchorX)*b),y:Math.floor((v.canonical.y*a.EXTENT+p.anchorY)*b)}},eo.prototype.findMatches=function(p,v,g){for(var b=this.tileID.canonical.z<v.canonical.z?1:Math.pow(2,this.tileID.canonical.z-v.canonical.z),M=0;M<p.length;M++){var z=p.get(M);if(!z.crossTileID){var B=this.indexedSymbolInstances[z.key];if(B)for(var U=this.getScaledCoordinates(z,v),Y=0,K=B;Y<K.length;Y+=1){var te=K[Y];if(Math.abs(te.coord.x-U.x)<=b&&Math.abs(te.coord.y-U.y)<=b&&!g[te.crossTileID]){g[te.crossTileID]=!0,z.crossTileID=te.crossTileID;break}}}}};var Ss=function(){this.maxCrossTileID=0};Ss.prototype.generate=function(){return++this.maxCrossTileID};var xl=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};xl.prototype.handleWrapJump=function(p){var v=Math.round((p-this.lng)/360);if(v!==0)for(var g in this.indexes){var b=this.indexes[g],M={};for(var z in b){var B=b[z];B.tileID=B.tileID.unwrapTo(B.tileID.wrap+v),M[B.tileID.key]=B}this.indexes[g]=M}this.lng=p},xl.prototype.addBucket=function(p,v,g){if(this.indexes[p.overscaledZ]&&this.indexes[p.overscaledZ][p.key]){if(this.indexes[p.overscaledZ][p.key].bucketInstanceId===v.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(p.overscaledZ,this.indexes[p.overscaledZ][p.key])}for(var b=0;b<v.symbolInstances.length;b++)v.symbolInstances.get(b).crossTileID=0;this.usedCrossTileIDs[p.overscaledZ]||(this.usedCrossTileIDs[p.overscaledZ]={});var M=this.usedCrossTileIDs[p.overscaledZ];for(var z in this.indexes){var B=this.indexes[z];if(Number(z)>p.overscaledZ)for(var U in B){var Y=B[U];Y.tileID.isChildOf(p)&&Y.findMatches(v.symbolInstances,p,M)}else{var K=B[p.scaledTo(Number(z)).key];K&&K.findMatches(v.symbolInstances,p,M)}}for(var te=0;te<v.symbolInstances.length;te++){var ce=v.symbolInstances.get(te);ce.crossTileID||(ce.crossTileID=g.generate(),M[ce.crossTileID]=!0)}return this.indexes[p.overscaledZ]===void 0&&(this.indexes[p.overscaledZ]={}),this.indexes[p.overscaledZ][p.key]=new eo(p,v.symbolInstances,v.bucketInstanceId),!0},xl.prototype.removeBucketCrossTileIDs=function(p,v){for(var g in v.indexedSymbolInstances)for(var b=0,M=v.indexedSymbolInstances[g];b<M.length;b+=1){var z=M[b];delete this.usedCrossTileIDs[p][z.crossTileID]}},xl.prototype.removeStaleBuckets=function(p){var v=!1;for(var g in this.indexes){var b=this.indexes[g];for(var M in b)p[b[M].bucketInstanceId]||(this.removeBucketCrossTileIDs(g,b[M]),delete b[M],v=!0)}return v};var tc=function(){this.layerIndexes={},this.crossTileIDs=new Ss,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};tc.prototype.addLayer=function(p,v,g){var b=this.layerIndexes[p.id];b===void 0&&(b=this.layerIndexes[p.id]=new xl);var M=!1,z={};b.handleWrapJump(g);for(var B=0,U=v;B<U.length;B+=1){var Y=U[B],K=Y.getBucket(p);K&&p.id===K.layerIds[0]&&(K.bucketInstanceId||(K.bucketInstanceId=++this.maxBucketInstanceId),b.addBucket(Y.tileID,K,this.crossTileIDs)&&(M=!0),z[K.bucketInstanceId]=!0)}return b.removeStaleBuckets(z)&&(M=!0),M},tc.prototype.pruneUnusedLayers=function(p){var v={};for(var g in p.forEach(function(b){v[b]=!0}),this.layerIndexes)v[g]||delete this.layerIndexes[g]};var Bd=function(p,v){return a.emitValidationErrors(p,v&&v.filter(function(g){return g.identifier!=="source.canvas"}))},bh=a.pick(be,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),_h=a.pick(be,["setCenter","setZoom","setBearing","setPitch"]),ky=function(){var p={},v=a.styleSpec.$version;for(var g in a.styleSpec.$root){var b=a.styleSpec.$root[g];if(b.required){var M=null;(M=g==="version"?v:b.type==="array"?[]:{})!=null&&(p[g]=M)}}return p}(),ki=function(p){function v(g,b){var M=this;b===void 0&&(b={}),p.call(this),this.map=g,this.dispatcher=new he((Q||(Q=new G),Q),this),this.imageManager=new P,this.imageManager.setEventedParent(this),this.glyphManager=new W(g._requestManager,b.localIdeographFontFamily),this.lineAtlas=new se(256,512),this.crossTileSymbolIndex=new tc,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var z=this;this._rtlTextPluginCallback=v.registerForPluginStateChange(function(B){var U={pluginStatus:B.pluginStatus,pluginURL:B.pluginURL};z.dispatcher.broadcast("syncRTLPluginState",U,function(Y,K){if(a.triggerPluginCompletionEvent(Y),K&&K.every(function(ce){return ce}))for(var te in z.sourceCaches)z.sourceCaches[te].reload()})}),this.on("data",function(B){if(B.dataType==="source"&&B.sourceDataType==="metadata"){var U=M.sourceCaches[B.sourceId];if(U){var Y=U.getSource();if(Y&&Y.vectorLayerIds)for(var K in M._layers){var te=M._layers[K];te.source===Y.id&&M._validateLayer(te)}}}})}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.loadURL=function(g,b){var M=this;b===void 0&&(b={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var z=typeof b.validate=="boolean"?b.validate:!a.isGoongURL(g);g=this.map._requestManager.normalizeStyleURL(g,b.accessToken);var B=this.map._requestManager.transformRequest(g,a.ResourceType.Style);this._request=a.getJSON(B,function(U,Y){M._request=null,U?M.fire(new a.ErrorEvent(U)):Y&&M._load(Y,z)})},v.prototype.loadJSON=function(g,b){var M=this;b===void 0&&(b={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){M._request=null,M._load(g,b.validate!==!1)})},v.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(ky,!1)},v.prototype._load=function(g,b){var M=this;if(!b||!Bd(this,a.validateStyle(g))){for(var z in this._loaded=!0,this.stylesheet=g,g.sources)this.addSource(z,g.sources[z],{validate:!1});g.sprite?this._spriteRequest=function(te,ce,me){var pe,ye,ve,De=a.browser.devicePixelRatio>1?"@2x":"",Oe=a.getJSON(ce.transformRequest(ce.normalizeSpriteURL(te,De,".json"),a.ResourceType.SpriteJSON),function($e,Qe){Oe=null,ve||(ve=$e,pe=Qe,Fe())}),Be=a.getImage(ce.transformRequest(ce.normalizeSpriteURL(te,De,".png"),a.ResourceType.SpriteImage),function($e,Qe){Be=null,ve||(ve=$e,ye=Qe,Fe())});function Fe(){if(ve)me(ve);else if(pe&&ye){var $e=a.browser.getImageData(ye),Qe={};for(var st in pe){var gt=pe[st],Bt=gt.width,Nt=gt.height,Yt=gt.x,Ot=gt.y,hr=gt.sdf,$t=gt.pixelRatio,br=gt.stretchX,Tr=gt.stretchY,vr=gt.content,_r=new a.RGBAImage({width:Bt,height:Nt});a.RGBAImage.copy($e,_r,{x:Yt,y:Ot},{x:0,y:0},{width:Bt,height:Nt}),Qe[st]={data:_r,pixelRatio:$t,sdf:hr,stretchX:br,stretchY:Tr,content:vr}}me(null,Qe)}}return{cancel:function(){Oe&&(Oe.cancel(),Oe=null),Be&&(Be.cancel(),Be=null)}}}(g.sprite,this.map._requestManager,function(te,ce){if(M._spriteRequest=null,te)M.fire(new a.ErrorEvent(te));else if(ce)for(var me in ce)M.imageManager.addImage(me,ce[me]);M.imageManager.setLoaded(!0),M.dispatcher.broadcast("setImages",M.imageManager.listImages()),M.fire(new a.Event("data",{dataType:"style"}))}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(g.glyphs);var B=ge(this.stylesheet.layers);this._order=B.map(function(te){return te.id}),this._layers={};for(var U=0,Y=B;U<Y.length;U+=1){var K=Y[U];(K=a.createStyleLayer(K)).setEventedParent(this,{layer:{id:K.id}}),this._layers[K.id]=K}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new ee(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},v.prototype._validateLayer=function(g){var b=this.sourceCaches[g.source];if(b){var M=g.sourceLayer;if(M){var z=b.getSource();(z.type==="geojson"||z.vectorLayerIds&&z.vectorLayerIds.indexOf(M)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+M+'" does not exist on source "'+z.id+'" as specified by style layer "'+g.id+'"')))}}},v.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var g in this.sourceCaches)if(!this.sourceCaches[g].loaded())return!1;return!!this.imageManager.isLoaded()},v.prototype._serializeLayers=function(g){for(var b=[],M=0,z=g;M<z.length;M+=1){var B=z[M],U=this._layers[B];U.type!=="custom"&&b.push(U.serialize())}return b},v.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var g in this.sourceCaches)if(this.sourceCaches[g].hasTransition())return!0;for(var b in this._layers)if(this._layers[b].hasTransition())return!0;return!1},v.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},v.prototype.update=function(g){if(this._loaded){var b=this._changed;if(this._changed){var M=Object.keys(this._updatedLayers),z=Object.keys(this._removedLayers);for(var B in(M.length||z.length)&&this._updateWorkerLayers(M,z),this._updatedSources){var U=this._updatedSources[B];U==="reload"?this._reloadSource(B):U==="clear"&&this._clearSource(B)}for(var Y in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[Y].updateTransitions(g);this.light.updateTransitions(g),this._resetUpdates()}for(var K in this.sourceCaches)this.sourceCaches[K].used=!1;for(var te=0,ce=this._order;te<ce.length;te+=1){var me=ce[te],pe=this._layers[me];pe.recalculate(g,this.imageManager.listImages()),!pe.isHidden(g.zoom)&&pe.source&&(this.sourceCaches[pe.source].used=!0)}this.light.recalculate(g),this.z=g.zoom,b&&this.fire(new a.Event("data",{dataType:"style"}))}},v.prototype._updateTilesForChangedImages=function(){var g=Object.keys(this._changedImages);if(g.length){for(var b in this.sourceCaches)this.sourceCaches[b].reloadTilesForDependencies(["icons","patterns"],g);this._changedImages={}}},v.prototype._updateWorkerLayers=function(g,b){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(g),removedIds:b})},v.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},v.prototype.setState=function(g){var b=this;if(this._checkLoaded(),Bd(this,a.validateStyle(g)))return!1;(g=a.clone$1(g)).layers=ge(g.layers);var M=mt(this.serialize(),g).filter(function(B){return!(B.command in _h)});if(M.length===0)return!1;var z=M.filter(function(B){return!(B.command in bh)});if(z.length>0)throw new Error("Unimplemented: "+z.map(function(B){return B.command}).join(", ")+".");return M.forEach(function(B){B.command!=="setTransition"&&b[B.command].apply(b,B.args)}),this.stylesheet=g,!0},v.prototype.addImage=function(g,b){if(this.getImage(g))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(g,b),this._changedImages[g]=!0,this._changed=!0,this.fire(new a.Event("data",{dataType:"style"}))},v.prototype.updateImage=function(g,b){this.imageManager.updateImage(g,b)},v.prototype.getImage=function(g){return this.imageManager.getImage(g)},v.prototype.removeImage=function(g){if(!this.getImage(g))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(g),this._changedImages[g]=!0,this._changed=!0,this.fire(new a.Event("data",{dataType:"style"}))},v.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},v.prototype.addSource=function(g,b,M){var z=this;if(M===void 0&&(M={}),this._checkLoaded(),this.sourceCaches[g]!==void 0)throw new Error("There is already a source with this ID");if(!b.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(b).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(b.type)>=0)||!this._validate(a.validateStyle.source,"sources."+g,b,null,M)){this.map&&this.map._collectResourceTiming&&(b.collectResourceTiming=!0);var B=this.sourceCaches[g]=new $a(g,b,this.dispatcher);B.style=this,B.setEventedParent(this,function(){return{isSourceLoaded:z.loaded(),source:B.serialize(),sourceId:g}}),B.onAdd(this.map),this._changed=!0}},v.prototype.removeSource=function(g){if(this._checkLoaded(),this.sourceCaches[g]===void 0)throw new Error("There is no source with this ID");for(var b in this._layers)if(this._layers[b].source===g)return this.fire(new a.ErrorEvent(new Error('Source "'+g+'" cannot be removed while layer "'+b+'" is using it.')));var M=this.sourceCaches[g];delete this.sourceCaches[g],delete this._updatedSources[g],M.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:g})),M.setEventedParent(null),M.clearTiles(),M.onRemove&&M.onRemove(this.map),this._changed=!0},v.prototype.setGeoJSONSourceData=function(g,b){this._checkLoaded(),this.sourceCaches[g].getSource().setData(b),this._changed=!0},v.prototype.getSource=function(g){return this.sourceCaches[g]&&this.sourceCaches[g].getSource()},v.prototype.addLayer=function(g,b,M){M===void 0&&(M={}),this._checkLoaded();var z=g.id;if(this.getLayer(z))this.fire(new a.ErrorEvent(new Error('Layer with id "'+z+'" already exists on this map')));else{var B;if(g.type==="custom"){if(Bd(this,a.validateCustomStyleLayer(g)))return;B=a.createStyleLayer(g)}else{if(typeof g.source=="object"&&(this.addSource(z,g.source),g=a.clone$1(g),g=a.extend(g,{source:z})),this._validate(a.validateStyle.layer,"layers."+z,g,{arrayIndex:-1},M))return;B=a.createStyleLayer(g),this._validateLayer(B),B.setEventedParent(this,{layer:{id:z}})}var U=b?this._order.indexOf(b):this._order.length;if(b&&U===-1)this.fire(new a.ErrorEvent(new Error('Layer with id "'+b+'" does not exist on this map.')));else{if(this._order.splice(U,0,z),this._layerOrderChanged=!0,this._layers[z]=B,this._removedLayers[z]&&B.source&&B.type!=="custom"){var Y=this._removedLayers[z];delete this._removedLayers[z],Y.type!==B.type?this._updatedSources[B.source]="clear":(this._updatedSources[B.source]="reload",this.sourceCaches[B.source].pause())}this._updateLayer(B),B.onAdd&&B.onAdd(this.map)}}},v.prototype.moveLayer=function(g,b){if(this._checkLoaded(),this._changed=!0,this._layers[g]){if(g!==b){var M=this._order.indexOf(g);this._order.splice(M,1);var z=b?this._order.indexOf(b):this._order.length;b&&z===-1?this.fire(new a.ErrorEvent(new Error('Layer with id "'+b+'" does not exist on this map.'))):(this._order.splice(z,0,g),this._layerOrderChanged=!0)}}else this.fire(new a.ErrorEvent(new Error("The layer '"+g+"' does not exist in the map's style and cannot be moved.")))},v.prototype.removeLayer=function(g){this._checkLoaded();var b=this._layers[g];if(b){b.setEventedParent(null);var M=this._order.indexOf(g);this._order.splice(M,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[g]=b,delete this._layers[g],delete this._updatedLayers[g],delete this._updatedPaintProps[g],b.onRemove&&b.onRemove(this.map)}else this.fire(new a.ErrorEvent(new Error("The layer '"+g+"' does not exist in the map's style and cannot be removed.")))},v.prototype.getLayer=function(g){return this._layers[g]},v.prototype.setLayerZoomRange=function(g,b,M){this._checkLoaded();var z=this.getLayer(g);z?z.minzoom===b&&z.maxzoom===M||(b!=null&&(z.minzoom=b),M!=null&&(z.maxzoom=M),this._updateLayer(z)):this.fire(new a.ErrorEvent(new Error("The layer '"+g+"' does not exist in the map's style and cannot have zoom extent.")))},v.prototype.setFilter=function(g,b,M){M===void 0&&(M={}),this._checkLoaded();var z=this.getLayer(g);if(z){if(!a.deepEqual(z.filter,b))return b==null?(z.filter=void 0,void this._updateLayer(z)):void(this._validate(a.validateStyle.filter,"layers."+z.id+".filter",b,null,M)||(z.filter=a.clone$1(b),this._updateLayer(z)))}else this.fire(new a.ErrorEvent(new Error("The layer '"+g+"' does not exist in the map's style and cannot be filtered.")))},v.prototype.getFilter=function(g){return a.clone$1(this.getLayer(g).filter)},v.prototype.setLayoutProperty=function(g,b,M,z){z===void 0&&(z={}),this._checkLoaded();var B=this.getLayer(g);B?a.deepEqual(B.getLayoutProperty(b),M)||(B.setLayoutProperty(b,M,z),this._updateLayer(B)):this.fire(new a.ErrorEvent(new Error("The layer '"+g+"' does not exist in the map's style and cannot be styled.")))},v.prototype.getLayoutProperty=function(g,b){var M=this.getLayer(g);if(M)return M.getLayoutProperty(b);this.fire(new a.ErrorEvent(new Error("The layer '"+g+"' does not exist in the map's style.")))},v.prototype.setPaintProperty=function(g,b,M,z){z===void 0&&(z={}),this._checkLoaded();var B=this.getLayer(g);B?a.deepEqual(B.getPaintProperty(b),M)||(B.setPaintProperty(b,M,z)&&this._updateLayer(B),this._changed=!0,this._updatedPaintProps[g]=!0):this.fire(new a.ErrorEvent(new Error("The layer '"+g+"' does not exist in the map's style and cannot be styled.")))},v.prototype.getPaintProperty=function(g,b){return this.getLayer(g).getPaintProperty(b)},v.prototype.setFeatureState=function(g,b){this._checkLoaded();var M=g.source,z=g.sourceLayer,B=this.sourceCaches[M];if(B!==void 0){var U=B.getSource().type;U==="geojson"&&z?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):U!=="vector"||z?(g.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),B.setFeatureState(z,g.id,b)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+M+"' does not exist in the map's style.")))},v.prototype.removeFeatureState=function(g,b){this._checkLoaded();var M=g.source,z=this.sourceCaches[M];if(z!==void 0){var B=z.getSource().type,U=B==="vector"?g.sourceLayer:void 0;B!=="vector"||U?b&&typeof g.id!="string"&&typeof g.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):z.removeFeatureState(U,g.id,b):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+M+"' does not exist in the map's style.")))},v.prototype.getFeatureState=function(g){this._checkLoaded();var b=g.source,M=g.sourceLayer,z=this.sourceCaches[b];if(z!==void 0){if(z.getSource().type!=="vector"||M)return g.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),z.getFeatureState(M,g.id);this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+b+"' does not exist in the map's style.")))},v.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},v.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(g){return g.serialize()}),layers:this._serializeLayers(this._order)},function(g){return g!==void 0})},v.prototype._updateLayer=function(g){this._updatedLayers[g.id]=!0,g.source&&!this._updatedSources[g.source]&&this.sourceCaches[g.source].getSource().type!=="raster"&&(this._updatedSources[g.source]="reload",this.sourceCaches[g.source].pause()),this._changed=!0},v.prototype._flattenAndSortRenderedFeatures=function(g){for(var b=this,M=function(Yt){return b._layers[Yt].type==="fill-extrusion"},z={},B=[],U=this._order.length-1;U>=0;U--){var Y=this._order[U];if(M(Y)){z[Y]=U;for(var K=0,te=g;K<te.length;K+=1){var ce=te[K][Y];if(ce)for(var me=0,pe=ce;me<pe.length;me+=1){var ye=pe[me];B.push(ye)}}}}B.sort(function(Yt,Ot){return Ot.intersectionZ-Yt.intersectionZ});for(var ve=[],De=this._order.length-1;De>=0;De--){var Oe=this._order[De];if(M(Oe))for(var Be=B.length-1;Be>=0;Be--){var Fe=B[Be].feature;if(z[Fe.layer.id]<De)break;ve.push(Fe),B.pop()}else for(var $e=0,Qe=g;$e<Qe.length;$e+=1){var st=Qe[$e][Oe];if(st)for(var gt=0,Bt=st;gt<Bt.length;gt+=1){var Nt=Bt[gt];ve.push(Nt.feature)}}}return ve},v.prototype.queryRenderedFeatures=function(g,b,M){b&&b.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",b.filter,null,b);var z={};if(b&&b.layers){if(!Array.isArray(b.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var B=0,U=b.layers;B<U.length;B+=1){var Y=U[B],K=this._layers[Y];if(!K)return this.fire(new a.ErrorEvent(new Error("The layer '"+Y+"' does not exist in the map's style and cannot be queried for features."))),[];z[K.source]=!0}}var te=[];for(var ce in this.sourceCaches)b.layers&&!z[ce]||te.push(Ae(this.sourceCaches[ce],this._layers,g,b,M));return this.placement&&te.push(function(me,pe,ye,ve,De,Oe){for(var Be={},Fe=De.queryRenderedSymbols(ye),$e=[],Qe=0,st=Object.keys(Fe).map(Number);Qe<st.length;Qe+=1){var gt=st[Qe];$e.push(Oe[gt])}$e.sort(We);for(var Bt=function(){var $t=Yt[Nt],br=$t.featureIndex.lookupSymbolFeatures(Fe[$t.bucketInstanceId],$t.bucketIndex,$t.sourceLayerIndex,ve.filter,ve.layers,me);for(var Tr in br){var vr=Be[Tr]=Be[Tr]||[],_r=br[Tr];_r.sort(function(xi,sn){var Mr=$t.featureSortOrder;if(Mr){var Gi=Mr.indexOf(xi.featureIndex);return Mr.indexOf(sn.featureIndex)-Gi}return sn.featureIndex-xi.featureIndex});for(var _n=0,jr=_r;_n<jr.length;_n+=1){var Nr=jr[_n];vr.push(Nr)}}},Nt=0,Yt=$e;Nt<Yt.length;Nt+=1)Bt();var Ot=function($t){Be[$t].forEach(function(br){var Tr=br.feature,vr=me[$t],_r=pe[vr.source].getFeatureState(Tr.layer["source-layer"],Tr.id);Tr.source=Tr.layer.source,Tr.layer["source-layer"]&&(Tr.sourceLayer=Tr.layer["source-layer"]),Tr.state=_r})};for(var hr in Be)Ot(hr);return Be}(this._layers,this.sourceCaches,g,b,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(te)},v.prototype.querySourceFeatures=function(g,b){b&&b.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",b.filter,null,b);var M=this.sourceCaches[g];return M?function(z,B){for(var U=z.getRenderableIds().map(function(pe){return z.getTileByID(pe)}),Y=[],K={},te=0;te<U.length;te++){var ce=U[te],me=ce.tileID.canonical.key;K[me]||(K[me]=!0,ce.querySourceFeatures(Y,B))}return Y}(M,b):[]},v.prototype.addSourceType=function(g,b,M){return v.getSourceType(g)?M(new Error('A source type called "'+g+'" already exists.')):(v.setSourceType(g,b),b.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:g,url:b.workerSourceURL},M):M(null,null))},v.prototype.getLight=function(){return this.light.getLight()},v.prototype.setLight=function(g,b){b===void 0&&(b={}),this._checkLoaded();var M=this.light.getLight(),z=!1;for(var B in g)if(!a.deepEqual(g[B],M[B])){z=!0;break}if(z){var U={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(g,b),this.light.updateTransitions(U)}},v.prototype._validate=function(g,b,M,z,B){return B===void 0&&(B={}),(!B||B.validate!==!1)&&Bd(this,g.call(a.validateStyle,a.extend({key:b,style:this.serialize(),value:M,styleSpec:a.styleSpec},z)))},v.prototype._remove=function(){for(var g in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[g].setEventedParent(null);for(var b in this.sourceCaches)this.sourceCaches[b].clearTiles(),this.sourceCaches[b].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},v.prototype._clearSource=function(g){this.sourceCaches[g].clearTiles()},v.prototype._reloadSource=function(g){this.sourceCaches[g].resume(),this.sourceCaches[g].reload()},v.prototype._updateSources=function(g){for(var b in this.sourceCaches)this.sourceCaches[b].update(g)},v.prototype._generateCollisionBoxes=function(){for(var g in this.sourceCaches)this._reloadSource(g)},v.prototype._updatePlacement=function(g,b,M,z,B){B===void 0&&(B=!1);for(var U=!1,Y=!1,K={},te=0,ce=this._order;te<ce.length;te+=1){var me=ce[te],pe=this._layers[me];if(pe.type==="symbol"){if(!K[pe.source]){var ye=this.sourceCaches[pe.source];K[pe.source]=ye.getRenderableIds(!0).map(function($e){return ye.getTileByID($e)}).sort(function($e,Qe){return Qe.tileID.overscaledZ-$e.tileID.overscaledZ||($e.tileID.isLessThan(Qe.tileID)?-1:1)})}var ve=this.crossTileSymbolIndex.addLayer(pe,K[pe.source],g.center.lng);U=U||ve}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((B=B||this._layerOrderChanged||M===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),g.zoom))&&(this.pauseablePlacement=new pi(g,this._order,B,b,M,z,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,K),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),Y=!0),U&&this.pauseablePlacement.placement.setStale()),Y||U)for(var De=0,Oe=this._order;De<Oe.length;De+=1){var Be=Oe[De],Fe=this._layers[Be];Fe.type==="symbol"&&this.placement.updateLayerOpacities(Fe,K[Fe.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now())},v.prototype._releaseSymbolFadeTiles=function(){for(var g in this.sourceCaches)this.sourceCaches[g].releaseSymbolFadeTiles()},v.prototype.getImages=function(g,b,M){this.imageManager.getImages(b.icons,M),this._updateTilesForChangedImages();var z=this.sourceCaches[b.source];z&&z.setDependencies(b.tileID.key,b.type,b.icons)},v.prototype.getGlyphs=function(g,b,M){this.glyphManager.getGlyphs(b.stacks,M)},v.prototype.getResource=function(g,b,M){return a.makeRequest(b,M)},v}(a.Evented);ki.getSourceType=function(p){return Ue[p]},ki.setSourceType=function(p,v){Ue[p]=v},ki.registerForPluginStateChange=a.registerForPluginStateChange;var Jc=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),Cs=qn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),bl=qn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),rc=qn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),nc=qn(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),ic=qn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),ac=qn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),Ey=qn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Ty=qn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Qc=qn("uniform float u_overscale_factor;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {float alpha=0.5;vec4 color=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {color=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {color*=.2;}float extrude_scale_length=length(v_extrude_scale);float extrude_length=length(v_extrude)*extrude_scale_length;float stroke_width=15.0*extrude_scale_length/u_overscale_factor;float radius=v_radius*extrude_scale_length;float distance_to_edge=abs(extrude_length-radius);float opacity_t=smoothstep(-stroke_width,0.0,-distance_to_edge);gl_FragColor=opacity_t*color;}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);highp float padding_factor=1.2;gl_Position.xy+=a_extrude*u_extrude_scale*padding_factor*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;v_radius=abs(a_extrude.y);v_extrude=a_extrude*padding_factor;v_extrude_scale=u_extrude_scale*u_camera_to_center_distance*collision_perspective_ratio;}"),w_=qn("uniform highp vec4 u_color;void main() {gl_FragColor=u_color;}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),S_=qn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),C_=qn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),k_=qn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),E_=qn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),T_=qn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),oc=qn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec4 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),sc=qn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),eu=qn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Ay=qn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Py=qn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define MAX_LINE_DISTANCE 32767.0
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Em=qn(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec4 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x,1.0);float x_b=mod(v_linesofar/pattern_size_b.x,1.0);float y_a=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_a.y+2.0)/2.0)/pattern_size_a.y);float y_b=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_b.y+2.0)/2.0)/pattern_size_b.y);vec2 pos_a=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,vec2(x_a,y_a));vec2 pos_b=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,vec2(x_b,y_b));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);}`),lc=qn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),Tm=qn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),tu=qn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),ru=qn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),My=qn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function qn(p,v){var g=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,b={};return{fragmentSource:p=p.replace(g,function(M,z,B,U,Y){return b[Y]=!0,z==="define"?`
#ifndef HAS_UNIFORM_u_`+Y+`
varying `+B+" "+U+" "+Y+`;
#else
uniform `+B+" "+U+" u_"+Y+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+Y+`
    `+B+" "+U+" "+Y+" = u_"+Y+`;
#endif
`}),vertexSource:v=v.replace(g,function(M,z,B,U,Y){var K=U==="float"?"vec2":"vec4",te=Y.match(/color/)?"color":K;return b[Y]?z==="define"?`
#ifndef HAS_UNIFORM_u_`+Y+`
uniform lowp float u_`+Y+`_t;
attribute `+B+" "+K+" a_"+Y+`;
varying `+B+" "+U+" "+Y+`;
#else
uniform `+B+" "+U+" u_"+Y+`;
#endif
`:te==="vec4"?`
#ifndef HAS_UNIFORM_u_`+Y+`
    `+Y+" = a_"+Y+`;
#else
    `+B+" "+U+" "+Y+" = u_"+Y+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+Y+`
    `+Y+" = unpack_mix_"+te+"(a_"+Y+", u_"+Y+`_t);
#else
    `+B+" "+U+" "+Y+" = u_"+Y+`;
#endif
`:z==="define"?`
#ifndef HAS_UNIFORM_u_`+Y+`
uniform lowp float u_`+Y+`_t;
attribute `+B+" "+K+" a_"+Y+`;
#else
uniform `+B+" "+U+" u_"+Y+`;
#endif
`:te==="vec4"?`
#ifndef HAS_UNIFORM_u_`+Y+`
    `+B+" "+U+" "+Y+" = a_"+Y+`;
#else
    `+B+" "+U+" "+Y+" = u_"+Y+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+Y+`
    `+B+" "+U+" "+Y+" = unpack_mix_"+te+"(a_"+Y+", u_"+Y+`_t);
#else
    `+B+" "+U+" "+Y+" = u_"+Y+`;
#endif
`})}}var Zn=Object.freeze({__proto__:null,prelude:Cs,background:bl,backgroundPattern:rc,circle:nc,clippingMask:ic,heatmap:ac,heatmapTexture:Ey,collisionBox:Ty,collisionCircle:Qc,debug:w_,fill:S_,fillOutline:C_,fillOutlinePattern:k_,fillPattern:E_,fillExtrusion:T_,fillExtrusionPattern:oc,hillshadePrepare:sc,hillshade:eu,line:Ay,lineGradient:Py,linePattern:Em,lineSDF:lc,raster:Tm,symbolIcon:tu,symbolSDF:ru,symbolTextAndIcon:My}),cc=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};cc.prototype.bind=function(p,v,g,b,M,z,B,U){this.context=p;for(var Y=this.boundPaintVertexBuffers.length!==b.length,K=0;!Y&&K<b.length;K++)this.boundPaintVertexBuffers[K]!==b[K]&&(Y=!0);var te=!this.vao||this.boundProgram!==v||this.boundLayoutVertexBuffer!==g||Y||this.boundIndexBuffer!==M||this.boundVertexOffset!==z||this.boundDynamicVertexBuffer!==B||this.boundDynamicVertexBuffer2!==U;!p.extVertexArrayObject||te?this.freshBind(v,g,b,M,z,B,U):(p.bindVertexArrayOES.set(this.vao),B&&B.bind(),M&&M.dynamicDraw&&M.bind(),U&&U.bind())},cc.prototype.freshBind=function(p,v,g,b,M,z,B){var U,Y=p.numAttributes,K=this.context,te=K.gl;if(K.extVertexArrayObject)this.vao&&this.destroy(),this.vao=K.extVertexArrayObject.createVertexArrayOES(),K.bindVertexArrayOES.set(this.vao),U=0,this.boundProgram=p,this.boundLayoutVertexBuffer=v,this.boundPaintVertexBuffers=g,this.boundIndexBuffer=b,this.boundVertexOffset=M,this.boundDynamicVertexBuffer=z,this.boundDynamicVertexBuffer2=B;else{U=K.currentNumAttributes||0;for(var ce=Y;ce<U;ce++)te.disableVertexAttribArray(ce)}v.enableAttributes(te,p);for(var me=0,pe=g;me<pe.length;me+=1)pe[me].enableAttributes(te,p);z&&z.enableAttributes(te,p),B&&B.enableAttributes(te,p),v.bind(),v.setVertexAttribPointers(te,p,M);for(var ye=0,ve=g;ye<ve.length;ye+=1){var De=ve[ye];De.bind(),De.setVertexAttribPointers(te,p,M)}z&&(z.bind(),z.setVertexAttribPointers(te,p,M)),b&&b.bind(),B&&(B.bind(),B.setVertexAttribPointers(te,p,M)),K.currentNumAttributes=Y},cc.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Iy=function(p,v,g,b,M){var z=p.gl;this.program=z.createProgram();var B=g.defines();M&&B.push("#define OVERDRAW_INSPECTOR;");var U=B.concat(Cs.fragmentSource,v.fragmentSource).join(`
`),Y=B.concat(Cs.vertexSource,v.vertexSource).join(`
`),K=z.createShader(z.FRAGMENT_SHADER);if(z.isContextLost())this.failedToCreate=!0;else{z.shaderSource(K,U),z.compileShader(K),z.attachShader(this.program,K);var te=z.createShader(z.VERTEX_SHADER);if(z.isContextLost())this.failedToCreate=!0;else{z.shaderSource(te,Y),z.compileShader(te),z.attachShader(this.program,te);for(var ce=g.layoutAttributes||[],me=0;me<ce.length;me++)z.bindAttribLocation(this.program,me,ce[me].name);z.linkProgram(this.program),this.numAttributes=z.getProgramParameter(this.program,z.ACTIVE_ATTRIBUTES),this.attributes={};for(var pe={},ye=0;ye<this.numAttributes;ye++){var ve=z.getActiveAttrib(this.program,ye);ve&&(this.attributes[ve.name]=z.getAttribLocation(this.program,ve.name))}for(var De=z.getProgramParameter(this.program,z.ACTIVE_UNIFORMS),Oe=0;Oe<De;Oe++){var Be=z.getActiveUniform(this.program,Oe);Be&&(pe[Be.name]=z.getUniformLocation(this.program,Be.name))}this.fixedUniforms=b(p,pe),this.binderUniforms=g.getUniforms(p,pe)}}};function nu(p,v,g){var b=1/Er(g,1,v.transform.tileZoom),M=Math.pow(2,g.tileID.overscaledZ),z=g.tileSize*Math.pow(2,v.transform.tileZoom)/M,B=z*(g.tileID.canonical.x+g.tileID.wrap*M),U=z*g.tileID.canonical.y;return{u_image:0,u_texsize:g.imageAtlasTexture.size,u_scale:[a.browser.devicePixelRatio,b,p.fromScale,p.toScale],u_fade:p.t,u_pixel_coord_upper:[B>>16,U>>16],u_pixel_coord_lower:[65535&B,65535&U]}}Iy.prototype.draw=function(p,v,g,b,M,z,B,U,Y,K,te,ce,me,pe,ye,ve){var De,Oe=p.gl;if(!this.failedToCreate){for(var Be in p.program.set(this.program),p.setDepthMode(g),p.setStencilMode(b),p.setColorMode(M),p.setCullFace(z),this.fixedUniforms)this.fixedUniforms[Be].set(B[Be]);pe&&pe.setUniforms(p,this.binderUniforms,ce,{zoom:me});for(var Fe=(De={},De[Oe.LINES]=2,De[Oe.TRIANGLES]=3,De[Oe.LINE_STRIP]=1,De)[v],$e=0,Qe=te.get();$e<Qe.length;$e+=1){var st=Qe[$e],gt=st.vaos||(st.vaos={});(gt[U]||(gt[U]=new cc)).bind(p,this,Y,pe?pe.getPaintVertexBuffers():[],K,st.vertexOffset,ye,ve),Oe.drawElements(v,st.primitiveLength*Fe,Oe.UNSIGNED_SHORT,st.primitiveOffset*Fe*2)}}};var Oy=function(p,v,g,b){var M=v.style.light,z=M.properties.get("position"),B=[z.x,z.y,z.z],U=a.create$1();M.properties.get("anchor")==="viewport"&&a.fromRotation(U,-v.transform.angle),a.transformMat3(B,B,U);var Y=M.properties.get("color");return{u_matrix:p,u_lightpos:B,u_lightintensity:M.properties.get("intensity"),u_lightcolor:[Y.r,Y.g,Y.b],u_vertical_gradient:+g,u_opacity:b}},A_=function(p,v,g,b,M,z,B){return a.extend(Oy(p,v,g,b),nu(z,v,B),{u_height_factor:-Math.pow(2,M.overscaledZ)/B.tileSize/8})},Am=function(p){return{u_matrix:p}},Dy=function(p,v,g,b){return a.extend(Am(p),nu(g,v,b))},wh=function(p,v){return{u_matrix:p,u_world:v}},$d=function(p,v,g,b,M){return a.extend(Dy(p,v,g,b),{u_world:M})},Hd=function(p,v,g,b){var M,z,B=p.transform;if(b.paint.get("circle-pitch-alignment")==="map"){var U=Er(g,1,B.zoom);M=!0,z=[U,U]}else M=!1,z=B.pixelsToGLUnits;return{u_camera_to_center_distance:B.cameraToCenterDistance,u_scale_with_map:+(b.paint.get("circle-pitch-scale")==="map"),u_matrix:p.translatePosMatrix(v.posMatrix,g,b.paint.get("circle-translate"),b.paint.get("circle-translate-anchor")),u_pitch_with_map:+M,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:z}},iu=function(p,v){return{u_matrix:new a.UniformMatrix4f(p,v.u_matrix),u_camera_to_center_distance:new a.Uniform1f(p,v.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(p,v.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(p,v.u_extrude_scale),u_overscale_factor:new a.Uniform1f(p,v.u_overscale_factor)}},au=function(p,v,g){var b=Er(g,1,v.zoom),M=Math.pow(2,v.zoom-g.tileID.overscaledZ),z=g.tileID.overscaleFactor();return{u_matrix:p,u_camera_to_center_distance:v.cameraToCenterDistance,u_pixels_to_tile_units:b,u_extrude_scale:[v.pixelsToGLUnits[0]/(b*M),v.pixelsToGLUnits[1]/(b*M)],u_overscale_factor:z}},Ud=function(p,v){return{u_matrix:p,u_color:v}},ou=function(p){return{u_matrix:p}},rs=function(p,v,g,b){return{u_matrix:p,u_extrude_scale:Er(v,1,g),u_intensity:b}};function Ny(p,v){var g=Math.pow(2,v.canonical.z),b=v.canonical.y;return[new a.MercatorCoordinate(0,b/g).toLngLat().lat,new a.MercatorCoordinate(0,(b+1)/g).toLngLat().lat]}var Vd=function(p,v,g){var b=p.transform;return{u_matrix:Ry(p,v,g),u_ratio:1/Er(v,1,b.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/b.pixelsToGLUnits[0],1/b.pixelsToGLUnits[1]]}},Ly=function(p,v,g){return a.extend(Vd(p,v,g),{u_image:0})},su=function(p,v,g,b){var M=p.transform,z=Yd(v,M);return{u_matrix:Ry(p,v,g),u_texsize:v.imageAtlasTexture.size,u_ratio:1/Er(v,1,M.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[a.browser.devicePixelRatio,z,b.fromScale,b.toScale],u_fade:b.t,u_units_to_pixels:[1/M.pixelsToGLUnits[0],1/M.pixelsToGLUnits[1]]}},Wd=function(p,v,g,b,M){var z=p.transform,B=p.lineAtlas,U=Yd(v,z),Y=g.layout.get("line-cap")==="round",K=B.getDash(b.from,Y),te=B.getDash(b.to,Y),ce=K.width*M.fromScale,me=te.width*M.toScale;return a.extend(Vd(p,v,g),{u_patternscale_a:[U/ce,-K.height/2],u_patternscale_b:[U/me,-te.height/2],u_sdfgamma:B.width/(256*Math.min(ce,me)*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:K.y,u_tex_y_b:te.y,u_mix:M.t})};function Yd(p,v){return 1/Er(p,1,v.tileZoom)}function Ry(p,v,g){return p.translatePosMatrix(v.tileID.posMatrix,v,g.paint.get("line-translate"),g.paint.get("line-translate-anchor"))}var Xd=function(p,v,g,b,M){return{u_matrix:p,u_tl_parent:v,u_scale_parent:g,u_buffer_scale:1,u_fade_t:b.mix,u_opacity:b.opacity*M.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:M.paint.get("raster-brightness-min"),u_brightness_high:M.paint.get("raster-brightness-max"),u_saturation_factor:(B=M.paint.get("raster-saturation"),B>0?1-1/(1.001-B):-B),u_contrast_factor:(z=M.paint.get("raster-contrast"),z>0?1/(1-z):1+z),u_spin_weights:P_(M.paint.get("raster-hue-rotate"))};var z,B};function P_(p){p*=Math.PI/180;var v=Math.sin(p),g=Math.cos(p);return[(2*g+1)/3,(-Math.sqrt(3)*v-g+1)/3,(Math.sqrt(3)*v-g+1)/3]}var Sh=function(p,v,g,b,M,z,B,U,Y,K){var te=M.transform;return{u_is_size_zoom_constant:+(p==="constant"||p==="source"),u_is_size_feature_constant:+(p==="constant"||p==="camera"),u_size_t:v?v.uSizeT:0,u_size:v?v.uSize:0,u_camera_to_center_distance:te.cameraToCenterDistance,u_pitch:te.pitch/360*2*Math.PI,u_rotate_symbol:+g,u_aspect_ratio:te.width/te.height,u_fade_change:M.options.fadeDuration?M.symbolFadeChange:1,u_matrix:z,u_label_plane_matrix:B,u_coord_matrix:U,u_is_text:+Y,u_pitch_with_map:+b,u_texsize:K,u_texture:0}},Gd=function(p,v,g,b,M,z,B,U,Y,K,te){var ce=M.transform;return a.extend(Sh(p,v,g,b,M,z,B,U,Y,K),{u_gamma_scale:b?Math.cos(ce._pitch)*ce.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+te})},jy=function(p,v,g,b,M,z,B,U,Y,K){return a.extend(Gd(p,v,g,b,M,z,B,U,!0,Y,!0),{u_texsize_icon:K,u_texture_icon:1})},zy=function(p,v,g){return{u_matrix:p,u_opacity:v,u_color:g}},qd=function(p,v,g,b,M,z){return a.extend(function(B,U,Y,K){var te=Y.imageManager.getPattern(B.from.toString()),ce=Y.imageManager.getPattern(B.to.toString()),me=Y.imageManager.getPixelSize(),pe=me.width,ye=me.height,ve=Math.pow(2,K.tileID.overscaledZ),De=K.tileSize*Math.pow(2,Y.transform.tileZoom)/ve,Oe=De*(K.tileID.canonical.x+K.tileID.wrap*ve),Be=De*K.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:te.tl,u_pattern_br_a:te.br,u_pattern_tl_b:ce.tl,u_pattern_br_b:ce.br,u_texsize:[pe,ye],u_mix:U.t,u_pattern_size_a:te.displaySize,u_pattern_size_b:ce.displaySize,u_scale_a:U.fromScale,u_scale_b:U.toScale,u_tile_units_to_pixels:1/Er(K,1,Y.transform.tileZoom),u_pixel_coord_upper:[Oe>>16,Be>>16],u_pixel_coord_lower:[65535&Oe,65535&Be]}}(b,z,g,M),{u_matrix:p,u_opacity:v})},Pm={fillExtrusion:function(p,v){return{u_matrix:new a.UniformMatrix4f(p,v.u_matrix),u_lightpos:new a.Uniform3f(p,v.u_lightpos),u_lightintensity:new a.Uniform1f(p,v.u_lightintensity),u_lightcolor:new a.Uniform3f(p,v.u_lightcolor),u_vertical_gradient:new a.Uniform1f(p,v.u_vertical_gradient),u_opacity:new a.Uniform1f(p,v.u_opacity)}},fillExtrusionPattern:function(p,v){return{u_matrix:new a.UniformMatrix4f(p,v.u_matrix),u_lightpos:new a.Uniform3f(p,v.u_lightpos),u_lightintensity:new a.Uniform1f(p,v.u_lightintensity),u_lightcolor:new a.Uniform3f(p,v.u_lightcolor),u_vertical_gradient:new a.Uniform1f(p,v.u_vertical_gradient),u_height_factor:new a.Uniform1f(p,v.u_height_factor),u_image:new a.Uniform1i(p,v.u_image),u_texsize:new a.Uniform2f(p,v.u_texsize),u_pixel_coord_upper:new a.Uniform2f(p,v.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(p,v.u_pixel_coord_lower),u_scale:new a.Uniform4f(p,v.u_scale),u_fade:new a.Uniform1f(p,v.u_fade),u_opacity:new a.Uniform1f(p,v.u_opacity)}},fill:function(p,v){return{u_matrix:new a.UniformMatrix4f(p,v.u_matrix)}},fillPattern:function(p,v){return{u_matrix:new a.UniformMatrix4f(p,v.u_matrix),u_image:new a.Uniform1i(p,v.u_image),u_texsize:new a.Uniform2f(p,v.u_texsize),u_pixel_coord_upper:new a.Uniform2f(p,v.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(p,v.u_pixel_coord_lower),u_scale:new a.Uniform4f(p,v.u_scale),u_fade:new a.Uniform1f(p,v.u_fade)}},fillOutline:function(p,v){return{u_matrix:new a.UniformMatrix4f(p,v.u_matrix),u_world:new a.Uniform2f(p,v.u_world)}},fillOutlinePattern:function(p,v){return{u_matrix:new a.UniformMatrix4f(p,v.u_matrix),u_world:new a.Uniform2f(p,v.u_world),u_image:new a.Uniform1i(p,v.u_image),u_texsize:new a.Uniform2f(p,v.u_texsize),u_pixel_coord_upper:new a.Uniform2f(p,v.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(p,v.u_pixel_coord_lower),u_scale:new a.Uniform4f(p,v.u_scale),u_fade:new a.Uniform1f(p,v.u_fade)}},circle:function(p,v){return{u_camera_to_center_distance:new a.Uniform1f(p,v.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(p,v.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(p,v.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(p,v.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(p,v.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(p,v.u_matrix)}},collisionBox:iu,collisionCircle:iu,debug:function(p,v){return{u_color:new a.UniformColor(p,v.u_color),u_matrix:new a.UniformMatrix4f(p,v.u_matrix)}},clippingMask:function(p,v){return{u_matrix:new a.UniformMatrix4f(p,v.u_matrix)}},heatmap:function(p,v){return{u_extrude_scale:new a.Uniform1f(p,v.u_extrude_scale),u_intensity:new a.Uniform1f(p,v.u_intensity),u_matrix:new a.UniformMatrix4f(p,v.u_matrix)}},heatmapTexture:function(p,v){return{u_matrix:new a.UniformMatrix4f(p,v.u_matrix),u_world:new a.Uniform2f(p,v.u_world),u_image:new a.Uniform1i(p,v.u_image),u_color_ramp:new a.Uniform1i(p,v.u_color_ramp),u_opacity:new a.Uniform1f(p,v.u_opacity)}},hillshade:function(p,v){return{u_matrix:new a.UniformMatrix4f(p,v.u_matrix),u_image:new a.Uniform1i(p,v.u_image),u_latrange:new a.Uniform2f(p,v.u_latrange),u_light:new a.Uniform2f(p,v.u_light),u_shadow:new a.UniformColor(p,v.u_shadow),u_highlight:new a.UniformColor(p,v.u_highlight),u_accent:new a.UniformColor(p,v.u_accent)}},hillshadePrepare:function(p,v){return{u_matrix:new a.UniformMatrix4f(p,v.u_matrix),u_image:new a.Uniform1i(p,v.u_image),u_dimension:new a.Uniform2f(p,v.u_dimension),u_zoom:new a.Uniform1f(p,v.u_zoom),u_maxzoom:new a.Uniform1f(p,v.u_maxzoom),u_unpack:new a.Uniform4f(p,v.u_unpack)}},line:function(p,v){return{u_matrix:new a.UniformMatrix4f(p,v.u_matrix),u_ratio:new a.Uniform1f(p,v.u_ratio),u_device_pixel_ratio:new a.Uniform1f(p,v.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(p,v.u_units_to_pixels)}},lineGradient:function(p,v){return{u_matrix:new a.UniformMatrix4f(p,v.u_matrix),u_ratio:new a.Uniform1f(p,v.u_ratio),u_device_pixel_ratio:new a.Uniform1f(p,v.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(p,v.u_units_to_pixels),u_image:new a.Uniform1i(p,v.u_image)}},linePattern:function(p,v){return{u_matrix:new a.UniformMatrix4f(p,v.u_matrix),u_texsize:new a.Uniform2f(p,v.u_texsize),u_ratio:new a.Uniform1f(p,v.u_ratio),u_device_pixel_ratio:new a.Uniform1f(p,v.u_device_pixel_ratio),u_image:new a.Uniform1i(p,v.u_image),u_units_to_pixels:new a.Uniform2f(p,v.u_units_to_pixels),u_scale:new a.Uniform4f(p,v.u_scale),u_fade:new a.Uniform1f(p,v.u_fade)}},lineSDF:function(p,v){return{u_matrix:new a.UniformMatrix4f(p,v.u_matrix),u_ratio:new a.Uniform1f(p,v.u_ratio),u_device_pixel_ratio:new a.Uniform1f(p,v.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(p,v.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(p,v.u_patternscale_a),u_patternscale_b:new a.Uniform2f(p,v.u_patternscale_b),u_sdfgamma:new a.Uniform1f(p,v.u_sdfgamma),u_image:new a.Uniform1i(p,v.u_image),u_tex_y_a:new a.Uniform1f(p,v.u_tex_y_a),u_tex_y_b:new a.Uniform1f(p,v.u_tex_y_b),u_mix:new a.Uniform1f(p,v.u_mix)}},raster:function(p,v){return{u_matrix:new a.UniformMatrix4f(p,v.u_matrix),u_tl_parent:new a.Uniform2f(p,v.u_tl_parent),u_scale_parent:new a.Uniform1f(p,v.u_scale_parent),u_buffer_scale:new a.Uniform1f(p,v.u_buffer_scale),u_fade_t:new a.Uniform1f(p,v.u_fade_t),u_opacity:new a.Uniform1f(p,v.u_opacity),u_image0:new a.Uniform1i(p,v.u_image0),u_image1:new a.Uniform1i(p,v.u_image1),u_brightness_low:new a.Uniform1f(p,v.u_brightness_low),u_brightness_high:new a.Uniform1f(p,v.u_brightness_high),u_saturation_factor:new a.Uniform1f(p,v.u_saturation_factor),u_contrast_factor:new a.Uniform1f(p,v.u_contrast_factor),u_spin_weights:new a.Uniform3f(p,v.u_spin_weights)}},symbolIcon:function(p,v){return{u_is_size_zoom_constant:new a.Uniform1i(p,v.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(p,v.u_is_size_feature_constant),u_size_t:new a.Uniform1f(p,v.u_size_t),u_size:new a.Uniform1f(p,v.u_size),u_camera_to_center_distance:new a.Uniform1f(p,v.u_camera_to_center_distance),u_pitch:new a.Uniform1f(p,v.u_pitch),u_rotate_symbol:new a.Uniform1i(p,v.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(p,v.u_aspect_ratio),u_fade_change:new a.Uniform1f(p,v.u_fade_change),u_matrix:new a.UniformMatrix4f(p,v.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(p,v.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(p,v.u_coord_matrix),u_is_text:new a.Uniform1f(p,v.u_is_text),u_pitch_with_map:new a.Uniform1i(p,v.u_pitch_with_map),u_texsize:new a.Uniform2f(p,v.u_texsize),u_texture:new a.Uniform1i(p,v.u_texture)}},symbolSDF:function(p,v){return{u_is_size_zoom_constant:new a.Uniform1i(p,v.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(p,v.u_is_size_feature_constant),u_size_t:new a.Uniform1f(p,v.u_size_t),u_size:new a.Uniform1f(p,v.u_size),u_camera_to_center_distance:new a.Uniform1f(p,v.u_camera_to_center_distance),u_pitch:new a.Uniform1f(p,v.u_pitch),u_rotate_symbol:new a.Uniform1i(p,v.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(p,v.u_aspect_ratio),u_fade_change:new a.Uniform1f(p,v.u_fade_change),u_matrix:new a.UniformMatrix4f(p,v.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(p,v.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(p,v.u_coord_matrix),u_is_text:new a.Uniform1f(p,v.u_is_text),u_pitch_with_map:new a.Uniform1i(p,v.u_pitch_with_map),u_texsize:new a.Uniform2f(p,v.u_texsize),u_texture:new a.Uniform1i(p,v.u_texture),u_gamma_scale:new a.Uniform1f(p,v.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(p,v.u_device_pixel_ratio),u_is_halo:new a.Uniform1f(p,v.u_is_halo)}},symbolTextAndIcon:function(p,v){return{u_is_size_zoom_constant:new a.Uniform1i(p,v.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(p,v.u_is_size_feature_constant),u_size_t:new a.Uniform1f(p,v.u_size_t),u_size:new a.Uniform1f(p,v.u_size),u_camera_to_center_distance:new a.Uniform1f(p,v.u_camera_to_center_distance),u_pitch:new a.Uniform1f(p,v.u_pitch),u_rotate_symbol:new a.Uniform1i(p,v.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(p,v.u_aspect_ratio),u_fade_change:new a.Uniform1f(p,v.u_fade_change),u_matrix:new a.UniformMatrix4f(p,v.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(p,v.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(p,v.u_coord_matrix),u_is_text:new a.Uniform1f(p,v.u_is_text),u_pitch_with_map:new a.Uniform1i(p,v.u_pitch_with_map),u_texsize:new a.Uniform2f(p,v.u_texsize),u_texsize_icon:new a.Uniform2f(p,v.u_texsize_icon),u_texture:new a.Uniform1i(p,v.u_texture),u_texture_icon:new a.Uniform1i(p,v.u_texture_icon),u_gamma_scale:new a.Uniform1f(p,v.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(p,v.u_device_pixel_ratio),u_is_halo:new a.Uniform1f(p,v.u_is_halo)}},background:function(p,v){return{u_matrix:new a.UniformMatrix4f(p,v.u_matrix),u_opacity:new a.Uniform1f(p,v.u_opacity),u_color:new a.UniformColor(p,v.u_color)}},backgroundPattern:function(p,v){return{u_matrix:new a.UniformMatrix4f(p,v.u_matrix),u_opacity:new a.Uniform1f(p,v.u_opacity),u_image:new a.Uniform1i(p,v.u_image),u_pattern_tl_a:new a.Uniform2f(p,v.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(p,v.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(p,v.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(p,v.u_pattern_br_b),u_texsize:new a.Uniform2f(p,v.u_texsize),u_mix:new a.Uniform1f(p,v.u_mix),u_pattern_size_a:new a.Uniform2f(p,v.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(p,v.u_pattern_size_b),u_scale_a:new a.Uniform1f(p,v.u_scale_a),u_scale_b:new a.Uniform1f(p,v.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(p,v.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(p,v.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(p,v.u_tile_units_to_pixels)}}};function Mm(p,v,g,b,M,z,B,U){for(var Y=p.context,K=Y.gl,te=M?p.useProgram("collisionCircle"):p.useProgram("collisionBox"),ce=0;ce<b.length;ce++){var me=b[ce],pe=v.getTile(me),ye=pe.getBucket(g);if(ye){var ve=M?U?ye.textCollisionCircle:ye.iconCollisionCircle:U?ye.textCollisionBox:ye.iconCollisionBox;if(ve){var De=me.posMatrix;z[0]===0&&z[1]===0||(De=p.translatePosMatrix(me.posMatrix,pe,z,B)),te.draw(Y,M?K.TRIANGLES:K.LINES,Vr.disabled,un.disabled,p.colorModeForRenderPass(),et.disabled,au(De,p.transform,pe),g.id,ve.layoutVertexBuffer,ve.indexBuffer,ve.segments,null,p.transform.zoom,null,null,ve.collisionVertexBuffer)}}}}function Im(p,v,g,b,M,z,B){Mm(p,v,g,b,!1,M,z,B),Mm(p,v,g,b,!0,M,z,B)}var Fy=a.identity(new Float32Array(16));function By(p,v,g,b,M,z){var B=a.getAnchorAlignment(p),U=-(B.horizontalAlign-.5)*v,Y=-(B.verticalAlign-.5)*g,K=a.evaluateVariableOffset(p,b);return new a.Point((U/M+K[0])*z,(Y/M+K[1])*z)}function lu(p,v,g,b,M,z,B,U,Y,K,te){var ce=p.text.placedSymbolArray,me=p.text.dynamicLayoutVertexArray,pe=p.icon.dynamicLayoutVertexArray,ye={};me.clear();for(var ve=0;ve<ce.length;ve++){var De=ce.get(ve),Oe=p.allowVerticalPlacement&&!De.placedOrientation,Be=De.hidden||!De.crossTileID||Oe?null:b[De.crossTileID];if(Be){var Fe=new a.Point(De.anchorX,De.anchorY),$e=_t(Fe,g?U:B),Qe=.5+z.cameraToCenterDistance/$e.signedDistanceFromCamera*.5,st=M.evaluateSizeForFeature(p.textSizeData,K,De)*Qe/a.ONE_EM;g&&(st*=p.tilePixelRatio/Y);for(var gt=Be.width,Bt=Be.height,Nt=By(Be.anchor,gt,Bt,Be.textOffset,Be.textBoxScale,st),Yt=g?_t(Fe.add(Nt),B).point:$e.point.add(v?Nt.rotate(-z.angle):Nt),Ot=p.allowVerticalPlacement&&De.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,hr=0;hr<De.numGlyphs;hr++)a.addDynamicAttributes(me,Yt,Ot);te&&De.associatedIconIndex>=0&&(ye[De.associatedIconIndex]={shiftedAnchor:Yt,angle:Ot})}else Br(De.numGlyphs,me)}if(te){pe.clear();for(var $t=p.icon.placedSymbolArray,br=0;br<$t.length;br++){var Tr=$t.get(br);if(Tr.hidden)Br(Tr.numGlyphs,pe);else{var vr=ye[br];if(vr)for(var _r=0;_r<Tr.numGlyphs;_r++)a.addDynamicAttributes(pe,vr.shiftedAnchor,vr.angle);else Br(Tr.numGlyphs,pe)}}p.icon.dynamicLayoutVertexBuffer.updateData(pe)}p.text.dynamicLayoutVertexBuffer.updateData(me)}function $y(p,v,g){return g.iconsInText&&v?"symbolTextAndIcon":p?"symbolSDF":"symbolIcon"}function Om(p,v,g,b,M,z,B,U,Y,K,te,ce){for(var me,pe,ye=p.context,ve=ye.gl,De=p.transform,Oe=U==="map",Be=Y==="map",Fe=Oe&&g.layout.get("symbol-placement")!=="point",$e=Oe&&!Be&&!Fe,Qe=g.layout.get("symbol-sort-key").constantOr(1)!==void 0,st=p.depthModeForSublayer(0,Vr.ReadOnly),gt=g.layout.get("text-variable-anchor"),Bt=[],Nt=0,Yt=b;Nt<Yt.length;Nt+=1){var Ot=Yt[Nt],hr=v.getTile(Ot),$t=hr.getBucket(g);if($t){var br=M?$t.text:$t.icon;if(br&&br.segments.get().length){var Tr=br.programConfigurations.get(g.id),vr=M||$t.sdfIcons,_r=M?$t.textSizeData:$t.iconSizeData,_n=Be||De.pitch!==0;me||(me=p.useProgram($y(vr,M,$t),Tr),pe=a.evaluateSizeForZoom(_r,De.zoom));var jr=void 0,Nr=[0,0],xi=void 0,sn=void 0,Mr=null,Gi=void 0;if(M){if(xi=hr.glyphAtlasTexture,sn=ve.LINEAR,jr=hr.glyphAtlasTexture.size,$t.iconsInText){Nr=hr.imageAtlasTexture.size,Mr=hr.imageAtlasTexture;var Ei=_r.kind==="composite"||_r.kind==="camera";Gi=_n||p.options.rotating||p.options.zooming||Ei?ve.LINEAR:ve.NEAREST}}else{var ks=g.layout.get("icon-size").constantOr(0)!==1||$t.iconsNeedLinear;xi=hr.imageAtlasTexture,sn=vr||p.options.rotating||p.options.zooming||ks||_n?ve.LINEAR:ve.NEAREST,jr=hr.imageAtlasTexture.size}var oo=Er(hr,1,p.transform.zoom),Vs=Dt(Ot.posMatrix,Be,Oe,p.transform,oo),mc=jt(Ot.posMatrix,Be,Oe,p.transform,oo),na=gt&&$t.hasTextData(),Ah=g.layout.get("icon-text-fit")!=="none"&&na&&$t.hasIconData();Fe&&fr($t,Ot.posMatrix,p,M,Vs,mc,Be,K);var gc=p.translatePosMatrix(Ot.posMatrix,hr,z,B),kl=Fe||M&&gt||Ah?Fy:Vs,wo=p.translatePosMatrix(mc,hr,z,B,!0),Qd=vr&&g.paint.get(M?"text-halo-width":"icon-halo-width").constantOr(1)!==0,Ws={program:me,buffers:br,uniformValues:vr?$t.iconsInText?jy(_r.kind,pe,$e,Be,p,gc,kl,wo,jr,Nr):Gd(_r.kind,pe,$e,Be,p,gc,kl,wo,M,jr,!0):Sh(_r.kind,pe,$e,Be,p,gc,kl,wo,M,jr),atlasTexture:xi,atlasTextureIcon:Mr,atlasInterpolation:sn,atlasInterpolationIcon:Gi,isSDF:vr,hasHalo:Qd};if(Qe)for(var fu=0,ef=br.segments.get();fu<ef.length;fu+=1){var pu=ef[fu];Bt.push({segments:new a.SegmentVector([pu]),sortKey:pu.sortKey,state:Ws})}else Bt.push({segments:br.segments,sortKey:0,state:Ws})}}}Qe&&Bt.sort(function(La,so){return La.sortKey-so.sortKey});for(var vc=0,Ph=Bt;vc<Ph.length;vc+=1){var ti=Ph[vc],vn=ti.state;if(ye.activeTexture.set(ve.TEXTURE0),vn.atlasTexture.bind(vn.atlasInterpolation,ve.CLAMP_TO_EDGE),vn.atlasTextureIcon&&(ye.activeTexture.set(ve.TEXTURE1),vn.atlasTextureIcon&&vn.atlasTextureIcon.bind(vn.atlasInterpolationIcon,ve.CLAMP_TO_EDGE)),vn.isSDF){var Mn=vn.uniformValues;vn.hasHalo&&(Mn.u_is_halo=1,Dm(vn.buffers,ti.segments,g,p,vn.program,st,te,ce,Mn)),Mn.u_is_halo=0}Dm(vn.buffers,ti.segments,g,p,vn.program,st,te,ce,vn.uniformValues)}}function Dm(p,v,g,b,M,z,B,U,Y){var K=b.context,te=K.gl;M.draw(K,te.TRIANGLES,z,B,U,et.disabled,Y,g.id,p.layoutVertexBuffer,p.indexBuffer,v,g.paint,b.transform.zoom,p.programConfigurations.get(g.id),p.dynamicLayoutVertexBuffer,p.opacityVertexBuffer)}function Nm(p,v,g,b,M,z,B){var U,Y,K,te,ce,me=p.context.gl,pe=g.paint.get("fill-pattern"),ye=pe&&pe.constantOr(1),ve=g.getCrossfadeParameters();B?(Y=ye&&!g.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",U=me.LINES):(Y=ye?"fillPattern":"fill",U=me.TRIANGLES);for(var De=0,Oe=b;De<Oe.length;De+=1){var Be=Oe[De],Fe=v.getTile(Be);if(!ye||Fe.patternsLoaded()){var $e=Fe.getBucket(g);if($e){var Qe=$e.programConfigurations.get(g.id),st=p.useProgram(Y,Qe);ye&&(p.context.activeTexture.set(me.TEXTURE0),Fe.imageAtlasTexture.bind(me.LINEAR,me.CLAMP_TO_EDGE),Qe.updatePatternPaintBuffers(ve));var gt=pe.constantOr(null);if(gt&&Fe.imageAtlas){var Bt=Fe.imageAtlas,Nt=Bt.patternPositions[gt.to.toString()],Yt=Bt.patternPositions[gt.from.toString()];Nt&&Yt&&Qe.setConstantPatternPositions(Nt,Yt)}var Ot=p.translatePosMatrix(Be.posMatrix,Fe,g.paint.get("fill-translate"),g.paint.get("fill-translate-anchor"));if(B){te=$e.indexBuffer2,ce=$e.segments2;var hr=[me.drawingBufferWidth,me.drawingBufferHeight];K=Y==="fillOutlinePattern"&&ye?$d(Ot,p,ve,Fe,hr):wh(Ot,hr)}else te=$e.indexBuffer,ce=$e.segments,K=ye?Dy(Ot,p,ve,Fe):Am(Ot);st.draw(p.context,U,M,p.stencilModeForClipping(Be),z,et.disabled,K,g.id,$e.layoutVertexBuffer,te,ce,g.paint,p.transform.zoom,Qe)}}}}function bo(p,v,g,b,M,z,B){for(var U=p.context,Y=U.gl,K=g.paint.get("fill-extrusion-pattern"),te=K.constantOr(1),ce=g.getCrossfadeParameters(),me=g.paint.get("fill-extrusion-opacity"),pe=0,ye=b;pe<ye.length;pe+=1){var ve=ye[pe],De=v.getTile(ve),Oe=De.getBucket(g);if(Oe){var Be=Oe.programConfigurations.get(g.id),Fe=p.useProgram(te?"fillExtrusionPattern":"fillExtrusion",Be);te&&(p.context.activeTexture.set(Y.TEXTURE0),De.imageAtlasTexture.bind(Y.LINEAR,Y.CLAMP_TO_EDGE),Be.updatePatternPaintBuffers(ce));var $e=K.constantOr(null);if($e&&De.imageAtlas){var Qe=De.imageAtlas,st=Qe.patternPositions[$e.to.toString()],gt=Qe.patternPositions[$e.from.toString()];st&&gt&&Be.setConstantPatternPositions(st,gt)}var Bt=p.translatePosMatrix(ve.posMatrix,De,g.paint.get("fill-extrusion-translate"),g.paint.get("fill-extrusion-translate-anchor")),Nt=g.paint.get("fill-extrusion-vertical-gradient"),Yt=te?A_(Bt,p,Nt,me,ve,ce,De):Oy(Bt,p,Nt,me);Fe.draw(U,U.gl.TRIANGLES,M,z,B,et.backCCW,Yt,g.id,Oe.layoutVertexBuffer,Oe.indexBuffer,Oe.segments,g.paint,p.transform.zoom,Be)}}}function M_(p,v,g,b,M,z){var B=p.context,U=B.gl,Y=v.fbo;if(Y){var K=p.useProgram("hillshade");B.activeTexture.set(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,Y.colorAttachment.get());var te=function(ce,me,pe){var ye=pe.paint.get("hillshade-shadow-color"),ve=pe.paint.get("hillshade-highlight-color"),De=pe.paint.get("hillshade-accent-color"),Oe=pe.paint.get("hillshade-illumination-direction")*(Math.PI/180);pe.paint.get("hillshade-illumination-anchor")==="viewport"&&(Oe-=ce.transform.angle);var Be=!ce.options.moving;return{u_matrix:ce.transform.calculatePosMatrix(me.tileID.toUnwrapped(),Be),u_image:0,u_latrange:Ny(ce,me.tileID),u_light:[pe.paint.get("hillshade-exaggeration"),Oe],u_shadow:ye,u_highlight:ve,u_accent:De}}(p,v,g);K.draw(B,U.TRIANGLES,b,M,z,et.disabled,te,g.id,p.rasterBoundsBuffer,p.quadTriangleIndexBuffer,p.rasterBoundsSegments)}}function uc(p,v,g,b,M,z,B){var U=p.context,Y=U.gl,K=v.dem;if(K&&K.data){var te=K.dim,ce=K.stride,me=K.getPixels();if(U.activeTexture.set(Y.TEXTURE1),U.pixelStoreUnpackPremultiplyAlpha.set(!1),v.demTexture=v.demTexture||p.getTileTexture(ce),v.demTexture){var pe=v.demTexture;pe.update(me,{premultiply:!1}),pe.bind(Y.NEAREST,Y.CLAMP_TO_EDGE)}else v.demTexture=new a.Texture(U,me,Y.RGBA,{premultiply:!1}),v.demTexture.bind(Y.NEAREST,Y.CLAMP_TO_EDGE);U.activeTexture.set(Y.TEXTURE0);var ye=v.fbo;if(!ye){var ve=new a.Texture(U,{width:te,height:te,data:null},Y.RGBA);ve.bind(Y.LINEAR,Y.CLAMP_TO_EDGE),(ye=v.fbo=U.createFramebuffer(te,te)).colorAttachment.set(ve.texture)}U.bindFramebuffer.set(ye.framebuffer),U.viewport.set([0,0,te,te]),p.useProgram("hillshadePrepare").draw(U,Y.TRIANGLES,M,z,B,et.disabled,function(De,Oe,Be){var Fe=Oe.stride,$e=a.create();return a.ortho($e,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate($e,$e,[0,-a.EXTENT,0]),{u_matrix:$e,u_image:1,u_dimension:[Fe,Fe],u_zoom:De.overscaledZ,u_maxzoom:Be,u_unpack:Oe.getUnpackVector()}}(v.tileID,K,b),g.id,p.rasterBoundsBuffer,p.quadTriangleIndexBuffer,p.rasterBoundsSegments),v.needsHillshadePrepare=!1}}function Hy(p,v,g,b,M){var z=b.paint.get("raster-fade-duration");if(z>0){var B=a.browser.now(),U=(B-p.timeAdded)/z,Y=v?(B-v.timeAdded)/z:-1,K=g.getSource(),te=M.coveringZoomLevel({tileSize:K.tileSize,roundZoom:K.roundZoom}),ce=!v||Math.abs(v.tileID.overscaledZ-te)>Math.abs(p.tileID.overscaledZ-te),me=ce&&p.refreshedUponExpiration?1:a.clamp(ce?U:1-Y,0,1);return p.refreshedUponExpiration&&U>=1&&(p.refreshedUponExpiration=!1),v?{opacity:1,mix:1-me}:{opacity:me,mix:0}}return{opacity:1,mix:0}}function cu(p,v,g){var b=p.context,M=b.gl,z=g.posMatrix,B=p.useProgram("debug"),U=Vr.disabled,Y=un.disabled,K=p.colorModeForRenderPass(),te="$debug";B.draw(b,M.LINE_STRIP,U,Y,K,et.disabled,Ud(z,a.Color.red),te,p.debugBuffer,p.tileBorderIndexBuffer,p.debugSegments);var ce=v.getTileByID(g.key).latestRawTileData,me=ce&&ce.byteLength||0,pe=Math.floor(me/1024),ye=v.getTile(g).tileSize,ve=512/Math.min(ye,512),De=g.canonical.toString();g.overscaledZ!==g.canonical.z&&(De+=" => "+g.overscaledZ);for(var Oe=function(br,Tr,vr,_r){_r=_r||1;var _n,jr,Nr,xi,sn,Mr,Gi,Ei,ks=[];for(_n=0,jr=br.length;_n<jr;_n++)if(sn=Ch[br[_n]]){for(Ei=null,Nr=0,xi=sn[1].length;Nr<xi;Nr+=2)sn[1][Nr]===-1&&sn[1][Nr+1]===-1?Ei=null:(Mr=Tr+sn[1][Nr]*_r,Gi=vr-sn[1][Nr+1]*_r,Ei&&ks.push(Ei.x,Ei.y,Mr,Gi),Ei={x:Mr,y:Gi});Tr+=sn[0]*_r}return ks}(De+" "+pe+"kb",50,200*ve,5*ve),Be=new a.StructArrayLayout2i4,Fe=new a.StructArrayLayout2ui4,$e=0;$e<Oe.length;$e+=2)Be.emplaceBack(Oe[$e],Oe[$e+1]),Fe.emplaceBack($e,$e+1);for(var Qe=b.createVertexBuffer(Be,Jc.members),st=b.createIndexBuffer(Fe),gt=a.SegmentVector.simpleSegment(0,0,Be.length/2,Be.length/2),Bt=a.EXTENT/(Math.pow(2,p.transform.zoom-g.overscaledZ)*ye*ve),Nt=[],Yt=-1;Yt<=1;Yt++)for(var Ot=-1;Ot<=1&&(Yt!==0||Ot!==0);Ot++)Nt.push([Yt,Ot]);for(var hr=0;hr<Nt.length;hr++){var $t=Nt[hr];B.draw(b,M.LINES,U,Y,K,et.disabled,Ud(a.translate([],z,[Bt*$t[0],Bt*$t[1],0]),a.Color.white),te,Qe,st,gt)}B.draw(b,M.LINES,U,Y,K,et.disabled,Ud(z,a.Color.black),te,Qe,st,gt),Qe.destroy(),st.destroy(),gt.destroy()}var Ch={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},Uy={symbol:function(p,v,g,b,M){if(p.renderPass==="translucent"){var z=un.disabled,B=p.colorModeForRenderPass();g.layout.get("text-variable-anchor")&&function(U,Y,K,te,ce,me,pe){for(var ye=Y.transform,ve=ce==="map",De=me==="map",Oe=0,Be=U;Oe<Be.length;Oe+=1){var Fe=Be[Oe],$e=te.getTile(Fe),Qe=$e.getBucket(K);if(Qe&&Qe.text&&Qe.text.segments.get().length){var st=Qe.textSizeData,gt=a.evaluateSizeForZoom(st,ye.zoom),Bt=Er($e,1,Y.transform.zoom),Nt=Dt(Fe.posMatrix,De,ve,Y.transform,Bt),Yt=K.layout.get("icon-text-fit")!=="none"&&Qe.hasIconData();if(gt){var Ot=Math.pow(2,ye.zoom-$e.tileID.overscaledZ);lu(Qe,ve,De,pe,a.symbolSize,ye,Nt,Fe.posMatrix,Ot,gt,Yt)}}}}(b,p,g,v,g.layout.get("text-rotation-alignment"),g.layout.get("text-pitch-alignment"),M),g.paint.get("icon-opacity").constantOr(1)!==0&&Om(p,v,g,b,!1,g.paint.get("icon-translate"),g.paint.get("icon-translate-anchor"),g.layout.get("icon-rotation-alignment"),g.layout.get("icon-pitch-alignment"),g.layout.get("icon-keep-upright"),z,B),g.paint.get("text-opacity").constantOr(1)!==0&&Om(p,v,g,b,!0,g.paint.get("text-translate"),g.paint.get("text-translate-anchor"),g.layout.get("text-rotation-alignment"),g.layout.get("text-pitch-alignment"),g.layout.get("text-keep-upright"),z,B),v.map.showCollisionBoxes&&(Im(p,v,g,b,g.paint.get("text-translate"),g.paint.get("text-translate-anchor"),!0),Im(p,v,g,b,g.paint.get("icon-translate"),g.paint.get("icon-translate-anchor"),!1))}},circle:function(p,v,g,b){if(p.renderPass==="translucent"){var M=g.paint.get("circle-opacity"),z=g.paint.get("circle-stroke-width"),B=g.paint.get("circle-stroke-opacity"),U=g.layout.get("circle-sort-key").constantOr(1)!==void 0;if(M.constantOr(1)!==0||z.constantOr(1)!==0&&B.constantOr(1)!==0){for(var Y=p.context,K=Y.gl,te=p.depthModeForSublayer(0,Vr.ReadOnly),ce=un.disabled,me=p.colorModeForRenderPass(),pe=[],ye=0;ye<b.length;ye++){var ve=b[ye],De=v.getTile(ve),Oe=De.getBucket(g);if(Oe){var Be=Oe.programConfigurations.get(g.id),Fe={programConfiguration:Be,program:p.useProgram("circle",Be),layoutVertexBuffer:Oe.layoutVertexBuffer,indexBuffer:Oe.indexBuffer,uniformValues:Hd(p,ve,De,g)};if(U)for(var $e=0,Qe=Oe.segments.get();$e<Qe.length;$e+=1){var st=Qe[$e];pe.push({segments:new a.SegmentVector([st]),sortKey:st.sortKey,state:Fe})}else pe.push({segments:Oe.segments,sortKey:0,state:Fe})}}U&&pe.sort(function(_r,_n){return _r.sortKey-_n.sortKey});for(var gt=0,Bt=pe;gt<Bt.length;gt+=1){var Nt=Bt[gt],Yt=Nt.state,Ot=Yt.programConfiguration,hr=Yt.program,$t=Yt.layoutVertexBuffer,br=Yt.indexBuffer,Tr=Yt.uniformValues,vr=Nt.segments;hr.draw(Y,K.TRIANGLES,te,ce,me,et.disabled,Tr,g.id,$t,br,vr,g.paint,p.transform.zoom,Ot)}}}},heatmap:function(p,v,g,b){if(g.paint.get("heatmap-opacity")!==0)if(p.renderPass==="offscreen"){var M=p.context,z=M.gl,B=p.depthModeForSublayer(0,Vr.ReadOnly),U=un.disabled,Y=new Jr([z.ONE,z.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(De,Oe,Be){var Fe=De.gl;De.activeTexture.set(Fe.TEXTURE1),De.viewport.set([0,0,Oe.width/4,Oe.height/4]);var $e=Be.heatmapFbo;if($e)Fe.bindTexture(Fe.TEXTURE_2D,$e.colorAttachment.get()),De.bindFramebuffer.set($e.framebuffer);else{var Qe=Fe.createTexture();Fe.bindTexture(Fe.TEXTURE_2D,Qe),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_WRAP_S,Fe.CLAMP_TO_EDGE),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_WRAP_T,Fe.CLAMP_TO_EDGE),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_MIN_FILTER,Fe.LINEAR),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_MAG_FILTER,Fe.LINEAR),$e=Be.heatmapFbo=De.createFramebuffer(Oe.width/4,Oe.height/4),function st(gt,Bt,Nt,Yt){var Ot=gt.gl;Ot.texImage2D(Ot.TEXTURE_2D,0,Ot.RGBA,Bt.width/4,Bt.height/4,0,Ot.RGBA,gt.extTextureHalfFloat?gt.extTextureHalfFloat.HALF_FLOAT_OES:Ot.UNSIGNED_BYTE,null),Yt.colorAttachment.set(Nt),gt.extTextureHalfFloat&&Ot.checkFramebufferStatus(Ot.FRAMEBUFFER)!==Ot.FRAMEBUFFER_COMPLETE&&(gt.extTextureHalfFloat=null,Yt.colorAttachment.setDirty(),st(gt,Bt,Nt,Yt))}(De,Oe,Qe,$e)}})(M,p,g),M.clear({color:a.Color.transparent});for(var K=0;K<b.length;K++){var te=b[K];if(!v.hasRenderableParent(te)){var ce=v.getTile(te),me=ce.getBucket(g);if(me){var pe=me.programConfigurations.get(g.id),ye=p.useProgram("heatmap",pe),ve=p.transform.zoom;ye.draw(M,z.TRIANGLES,B,U,Y,et.disabled,rs(te.posMatrix,ce,ve,g.paint.get("heatmap-intensity")),g.id,me.layoutVertexBuffer,me.indexBuffer,me.segments,g.paint,p.transform.zoom,pe)}}}M.viewport.set([0,0,p.width,p.height])}else p.renderPass==="translucent"&&(p.context.setColorMode(p.colorModeForRenderPass()),function(De,Oe){var Be=De.context,Fe=Be.gl,$e=Oe.heatmapFbo;if($e){Be.activeTexture.set(Fe.TEXTURE0),Fe.bindTexture(Fe.TEXTURE_2D,$e.colorAttachment.get()),Be.activeTexture.set(Fe.TEXTURE1);var Qe=Oe.colorRampTexture;Qe||(Qe=Oe.colorRampTexture=new a.Texture(Be,Oe.colorRamp,Fe.RGBA)),Qe.bind(Fe.LINEAR,Fe.CLAMP_TO_EDGE),De.useProgram("heatmapTexture").draw(Be,Fe.TRIANGLES,Vr.disabled,un.disabled,De.colorModeForRenderPass(),et.disabled,function(st,gt,Bt,Nt){var Yt=a.create();a.ortho(Yt,0,st.width,st.height,0,0,1);var Ot=st.context.gl;return{u_matrix:Yt,u_world:[Ot.drawingBufferWidth,Ot.drawingBufferHeight],u_image:Bt,u_color_ramp:Nt,u_opacity:gt.paint.get("heatmap-opacity")}}(De,Oe,0,1),Oe.id,De.viewportBuffer,De.quadTriangleIndexBuffer,De.viewportSegments,Oe.paint,De.transform.zoom)}}(p,g))},line:function(p,v,g,b){if(p.renderPass==="translucent"){var M=g.paint.get("line-opacity"),z=g.paint.get("line-width");if(M.constantOr(1)!==0&&z.constantOr(1)!==0){var B=p.depthModeForSublayer(0,Vr.ReadOnly),U=p.colorModeForRenderPass(),Y=g.paint.get("line-dasharray"),K=g.paint.get("line-pattern"),te=K.constantOr(1),ce=g.paint.get("line-gradient"),me=g.getCrossfadeParameters(),pe=Y?"lineSDF":te?"linePattern":ce?"lineGradient":"line",ye=p.context,ve=ye.gl,De=!0;if(ce){ye.activeTexture.set(ve.TEXTURE0);var Oe=g.gradientTexture;if(!g.gradient)return;Oe||(Oe=g.gradientTexture=new a.Texture(ye,g.gradient,ve.RGBA)),Oe.bind(ve.LINEAR,ve.CLAMP_TO_EDGE)}for(var Be=0,Fe=b;Be<Fe.length;Be+=1){var $e=Fe[Be],Qe=v.getTile($e);if(!te||Qe.patternsLoaded()){var st=Qe.getBucket(g);if(st){var gt=st.programConfigurations.get(g.id),Bt=p.context.program.get(),Nt=p.useProgram(pe,gt),Yt=De||Nt.program!==Bt,Ot=K.constantOr(null);if(Ot&&Qe.imageAtlas){var hr=Qe.imageAtlas,$t=hr.patternPositions[Ot.to.toString()],br=hr.patternPositions[Ot.from.toString()];$t&&br&&gt.setConstantPatternPositions($t,br)}var Tr=Y?Wd(p,Qe,g,Y,me):te?su(p,Qe,g,me):ce?Ly(p,Qe,g):Vd(p,Qe,g);Y&&(Yt||p.lineAtlas.dirty)?(ye.activeTexture.set(ve.TEXTURE0),p.lineAtlas.bind(ye)):te&&(ye.activeTexture.set(ve.TEXTURE0),Qe.imageAtlasTexture.bind(ve.LINEAR,ve.CLAMP_TO_EDGE),gt.updatePatternPaintBuffers(me)),Nt.draw(ye,ve.TRIANGLES,B,p.stencilModeForClipping($e),U,et.disabled,Tr,g.id,st.layoutVertexBuffer,st.indexBuffer,st.segments,g.paint,p.transform.zoom,gt),De=!1}}}}}},fill:function(p,v,g,b){var M=g.paint.get("fill-color"),z=g.paint.get("fill-opacity");if(z.constantOr(1)!==0){var B=p.colorModeForRenderPass(),U=g.paint.get("fill-pattern"),Y=p.opaquePassEnabledForLayer()&&!U.constantOr(1)&&M.constantOr(a.Color.transparent).a===1&&z.constantOr(0)===1?"opaque":"translucent";if(p.renderPass===Y){var K=p.depthModeForSublayer(1,p.renderPass==="opaque"?Vr.ReadWrite:Vr.ReadOnly);Nm(p,v,g,b,K,B,!1)}if(p.renderPass==="translucent"&&g.paint.get("fill-antialias")){var te=p.depthModeForSublayer(g.getPaintProperty("fill-outline-color")?2:0,Vr.ReadOnly);Nm(p,v,g,b,te,B,!0)}}},"fill-extrusion":function(p,v,g,b){var M=g.paint.get("fill-extrusion-opacity");if(M!==0&&p.renderPass==="translucent"){var z=new Vr(p.context.gl.LEQUAL,Vr.ReadWrite,p.depthRangeFor3D);if(M!==1||g.paint.get("fill-extrusion-pattern").constantOr(1))bo(p,v,g,b,z,un.disabled,Jr.disabled),bo(p,v,g,b,z,p.stencilModeFor3D(),p.colorModeForRenderPass());else{var B=p.colorModeForRenderPass();bo(p,v,g,b,z,un.disabled,B)}}},hillshade:function(p,v,g,b){if(p.renderPass==="offscreen"||p.renderPass==="translucent"){for(var M=p.context,z=v.getSource().maxzoom,B=p.depthModeForSublayer(0,Vr.ReadOnly),U=p.colorModeForRenderPass(),Y=p.renderPass==="translucent"?p.stencilConfigForOverlap(b):[{},b],K=Y[0],te=0,ce=Y[1];te<ce.length;te+=1){var me=ce[te],pe=v.getTile(me);pe.needsHillshadePrepare&&p.renderPass==="offscreen"?uc(p,pe,g,z,B,un.disabled,U):p.renderPass==="translucent"&&M_(p,pe,g,B,K[me.overscaledZ],U)}M.viewport.set([0,0,p.width,p.height])}},raster:function(p,v,g,b){if(p.renderPass==="translucent"&&g.paint.get("raster-opacity")!==0&&b.length)for(var M=p.context,z=M.gl,B=v.getSource(),U=p.useProgram("raster"),Y=p.colorModeForRenderPass(),K=B instanceof tt?[{},b]:p.stencilConfigForOverlap(b),te=K[0],ce=K[1],me=ce[ce.length-1].overscaledZ,pe=!p.options.moving,ye=0,ve=ce;ye<ve.length;ye+=1){var De=ve[ye],Oe=p.depthModeForSublayer(De.overscaledZ-me,g.paint.get("raster-opacity")===1?Vr.ReadWrite:Vr.ReadOnly,z.LESS),Be=v.getTile(De),Fe=p.transform.calculatePosMatrix(De.toUnwrapped(),pe);Be.registerFadeDuration(g.paint.get("raster-fade-duration"));var $e=v.findLoadedParent(De,0),Qe=Hy(Be,$e,v,g,p.transform),st=void 0,gt=void 0,Bt=g.paint.get("raster-resampling")==="nearest"?z.NEAREST:z.LINEAR;M.activeTexture.set(z.TEXTURE0),Be.texture.bind(Bt,z.CLAMP_TO_EDGE,z.LINEAR_MIPMAP_NEAREST),M.activeTexture.set(z.TEXTURE1),$e?($e.texture.bind(Bt,z.CLAMP_TO_EDGE,z.LINEAR_MIPMAP_NEAREST),st=Math.pow(2,$e.tileID.overscaledZ-Be.tileID.overscaledZ),gt=[Be.tileID.canonical.x*st%1,Be.tileID.canonical.y*st%1]):Be.texture.bind(Bt,z.CLAMP_TO_EDGE,z.LINEAR_MIPMAP_NEAREST);var Nt=Xd(Fe,gt||[0,0],st||1,Qe,g);B instanceof tt?U.draw(M,z.TRIANGLES,Oe,un.disabled,Y,et.disabled,Nt,g.id,B.boundsBuffer,p.quadTriangleIndexBuffer,B.boundsSegments):U.draw(M,z.TRIANGLES,Oe,te[De.overscaledZ],Y,et.disabled,Nt,g.id,p.rasterBoundsBuffer,p.quadTriangleIndexBuffer,p.rasterBoundsSegments)}},background:function(p,v,g){var b=g.paint.get("background-color"),M=g.paint.get("background-opacity");if(M!==0){var z=p.context,B=z.gl,U=p.transform,Y=U.tileSize,K=g.paint.get("background-pattern");if(!p.isPatternMissing(K)){var te=!K&&b.a===1&&M===1&&p.opaquePassEnabledForLayer()?"opaque":"translucent";if(p.renderPass===te){var ce=un.disabled,me=p.depthModeForSublayer(0,te==="opaque"?Vr.ReadWrite:Vr.ReadOnly),pe=p.colorModeForRenderPass(),ye=p.useProgram(K?"backgroundPattern":"background"),ve=U.coveringTiles({tileSize:Y});K&&(z.activeTexture.set(B.TEXTURE0),p.imageManager.bind(p.context));for(var De=g.getCrossfadeParameters(),Oe=0,Be=ve;Oe<Be.length;Oe+=1){var Fe=Be[Oe],$e=p.transform.calculatePosMatrix(Fe.toUnwrapped()),Qe=K?qd($e,M,p,K,{tileID:Fe,tileSize:Y},De):zy($e,M,b);ye.draw(z,B.TRIANGLES,me,ce,pe,et.disabled,Qe,g.id,p.tileExtentBuffer,p.quadTriangleIndexBuffer,p.tileExtentSegments)}}}}},debug:function(p,v,g){for(var b=0;b<g.length;b++)cu(p,v,g[b])},custom:function(p,v,g){var b=p.context,M=g.implementation;if(p.renderPass==="offscreen"){var z=M.prerender;z&&(p.setCustomLayerDefaults(),b.setColorMode(p.colorModeForRenderPass()),z.call(M,b.gl,p.transform.customLayerMatrix()),b.setDirty(),p.setBaseState())}else if(p.renderPass==="translucent"){p.setCustomLayerDefaults(),b.setColorMode(p.colorModeForRenderPass()),b.setStencilMode(un.disabled);var B=M.renderingMode==="3d"?new Vr(p.context.gl.LEQUAL,Vr.ReadWrite,p.depthRangeFor3D):p.depthModeForSublayer(0,Vr.ReadOnly);b.setDepthMode(B),M.render(b.gl,p.transform.customLayerMatrix()),b.setDirty(),p.setBaseState(),b.bindFramebuffer.set(null)}}},mi=function(p,v){this.context=new At(p),this.transform=v,this._tileTextures={},this.setup(),this.numSublayers=$a.maxUnderzooming+$a.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new a.ProgramConfiguration,this.crossTileSymbolIndex=new tc,this.gpuTimers={}};function Lm(p,v){if(p.y>v.y){var g=p;p=v,v=g}return{x0:p.x,y0:p.y,x1:v.x,y1:v.y,dx:v.x-p.x,dy:v.y-p.y}}function Rm(p,v,g,b,M){var z=Math.max(g,Math.floor(v.y0)),B=Math.min(b,Math.ceil(v.y1));if(p.x0===v.x0&&p.y0===v.y0?p.x0+v.dy/p.dy*p.dx<v.x1:p.x1-v.dy/p.dy*p.dx<v.x0){var U=p;p=v,v=U}for(var Y=p.dx/p.dy,K=v.dx/v.dy,te=p.dx>0,ce=v.dx<0,me=z;me<B;me++){var pe=Y*Math.max(0,Math.min(p.dy,me+te-p.y0))+p.x0,ye=K*Math.max(0,Math.min(v.dy,me+ce-v.y0))+v.x0;M(Math.floor(ye),Math.ceil(pe),me)}}function hc(p,v,g,b,M,z){var B,U=Lm(p,v),Y=Lm(v,g),K=Lm(g,p);U.dy>Y.dy&&(B=U,U=Y,Y=B),U.dy>K.dy&&(B=U,U=K,K=B),Y.dy>K.dy&&(B=Y,Y=K,K=B),U.dy&&Rm(K,U,b,M,z),Y.dy&&Rm(K,Y,b,M,z)}mi.prototype.resize=function(p,v){var g=this.context.gl;if(this.width=p*a.browser.devicePixelRatio,this.height=v*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var b=0,M=this.style._order;b<M.length;b+=1){var z=M[b];this.style._layers[z].resize()}this.depthRbo&&(g.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},mi.prototype.setup=function(){var p=this.context,v=new a.StructArrayLayout2i4;v.emplaceBack(0,0),v.emplaceBack(a.EXTENT,0),v.emplaceBack(0,a.EXTENT),v.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=p.createVertexBuffer(v,Jc.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var g=new a.StructArrayLayout2i4;g.emplaceBack(0,0),g.emplaceBack(a.EXTENT,0),g.emplaceBack(0,a.EXTENT),g.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=p.createVertexBuffer(g,Jc.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var b=new a.StructArrayLayout4i8;b.emplaceBack(0,0,0,0),b.emplaceBack(a.EXTENT,0,a.EXTENT,0),b.emplaceBack(0,a.EXTENT,0,a.EXTENT),b.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=p.createVertexBuffer(b,He.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var M=new a.StructArrayLayout2i4;M.emplaceBack(0,0),M.emplaceBack(1,0),M.emplaceBack(0,1),M.emplaceBack(1,1),this.viewportBuffer=p.createVertexBuffer(M,Jc.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var z=new a.StructArrayLayout1ui2;z.emplaceBack(0),z.emplaceBack(1),z.emplaceBack(3),z.emplaceBack(2),z.emplaceBack(0),this.tileBorderIndexBuffer=p.createIndexBuffer(z);var B=new a.StructArrayLayout3ui6;B.emplaceBack(0,1,2),B.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=p.createIndexBuffer(B);var U=this.context.gl;this.stencilClearMode=new un({func:U.ALWAYS,mask:0},0,255,U.ZERO,U.ZERO,U.ZERO)},mi.prototype.clearStencil=function(){var p=this.context,v=p.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var g=a.create();a.ortho(g,0,this.width,this.height,0,0,1),a.scale(g,g,[v.drawingBufferWidth,v.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(p,v.TRIANGLES,Vr.disabled,this.stencilClearMode,Jr.disabled,et.disabled,ou(g),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},mi.prototype._renderTileClippingMasks=function(p,v){if(this.currentStencilSource!==p.source&&p.isTileClipped()&&v&&v.length){this.currentStencilSource=p.source;var g=this.context,b=g.gl;this.nextStencilID+v.length>256&&this.clearStencil(),g.setColorMode(Jr.disabled),g.setDepthMode(Vr.disabled);var M=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var z=0,B=v;z<B.length;z+=1){var U=B[z],Y=this._tileClippingMaskIDs[U.key]=this.nextStencilID++;M.draw(g,b.TRIANGLES,Vr.disabled,new un({func:b.ALWAYS,mask:0},Y,255,b.KEEP,b.KEEP,b.REPLACE),Jr.disabled,et.disabled,ou(U.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},mi.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var p=this.nextStencilID++,v=this.context.gl;return new un({func:v.NOTEQUAL,mask:255},p,255,v.KEEP,v.KEEP,v.REPLACE)},mi.prototype.stencilModeForClipping=function(p){var v=this.context.gl;return new un({func:v.EQUAL,mask:255},this._tileClippingMaskIDs[p.key],0,v.KEEP,v.KEEP,v.REPLACE)},mi.prototype.stencilConfigForOverlap=function(p){var v,g=this.context.gl,b=p.sort(function(Y,K){return K.overscaledZ-Y.overscaledZ}),M=b[b.length-1].overscaledZ,z=b[0].overscaledZ-M+1;if(z>1){this.currentStencilSource=void 0,this.nextStencilID+z>256&&this.clearStencil();for(var B={},U=0;U<z;U++)B[U+M]=new un({func:g.GEQUAL,mask:255},U+this.nextStencilID,255,g.KEEP,g.KEEP,g.REPLACE);return this.nextStencilID+=z,[B,b]}return[(v={},v[M]=un.disabled,v),b]},mi.prototype.colorModeForRenderPass=function(){var p=this.context.gl;return this._showOverdrawInspector?new Jr([p.CONSTANT_COLOR,p.ONE],new a.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Jr.unblended:Jr.alphaBlended},mi.prototype.depthModeForSublayer=function(p,v,g){if(!this.opaquePassEnabledForLayer())return Vr.disabled;var b=1-((1+this.currentLayer)*this.numSublayers+p)*this.depthEpsilon;return new Vr(g||this.context.gl.LEQUAL,v,[b,b])},mi.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},mi.prototype.render=function(p,v){var g=this;this.style=p,this.options=v,this.lineAtlas=p.lineAtlas,this.imageManager=p.imageManager,this.glyphManager=p.glyphManager,this.symbolFadeChange=p.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var b=this.style._order,M=this.style.sourceCaches;for(var z in M){var B=M[z];B.used&&B.prepare(this.context)}var U,Y,K={},te={},ce={};for(var me in M){var pe=M[me];K[me]=pe.getVisibleCoordinates(),te[me]=K[me].slice().reverse(),ce[me]=pe.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var ye=0;ye<b.length;ye++){var ve=b[ye];if(this.style._layers[ve].is3D()){this.opaquePassCutoff=ye;break}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var De=0,Oe=b;De<Oe.length;De+=1){var Be=Oe[De],Fe=this.style._layers[Be];if(Fe.hasOffscreenPass()&&!Fe.isHidden(this.transform.zoom)){var $e=te[Fe.source];(Fe.type==="custom"||$e.length)&&this.renderLayer(this,M[Fe.source],Fe,$e)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:v.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=v.showOverdrawInspector,this.depthRangeFor3D=[0,1-(p._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=b.length-1;this.currentLayer>=0;this.currentLayer--){var Qe=this.style._layers[b[this.currentLayer]],st=M[Qe.source],gt=K[Qe.source];this._renderTileClippingMasks(Qe,gt),this.renderLayer(this,st,Qe,gt)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<b.length;this.currentLayer++){var Bt=this.style._layers[b[this.currentLayer]],Nt=M[Bt.source],Yt=(Bt.type==="symbol"?ce:te)[Bt.source];this._renderTileClippingMasks(Bt,K[Bt.source]),this.renderLayer(this,Nt,Bt,Yt)}this.options.showTileBoundaries&&(a.values(this.style._layers).forEach(function(Ot){Ot.source&&!Ot.isHidden(g.transform.zoom)&&(Ot.source!==(Y&&Y.id)&&(Y=g.style.sourceCaches[Ot.source]),(!U||U.getSource().maxzoom<Y.getSource().maxzoom)&&(U=Y))}),U&&Uy.debug(this,U,U.getVisibleCoordinates())),this.context.setDefault()},mi.prototype.setupOffscreenDepthRenderbuffer=function(){var p=this.context;this.depthRbo||(this.depthRbo=p.createRenderbuffer(p.gl.DEPTH_COMPONENT16,this.width,this.height))},mi.prototype.renderLayer=function(p,v,g,b){g.isHidden(this.transform.zoom)||(g.type==="background"||g.type==="custom"||b.length)&&(this.id=g.id,this.gpuTimingStart(g),Uy[g.type](p,v,g,b,this.style.placement.variableOffsets),this.gpuTimingEnd())},mi.prototype.gpuTimingStart=function(p){if(this.options.gpuTiming){var v=this.context.extTimerQuery,g=this.gpuTimers[p.id];g||(g=this.gpuTimers[p.id]={calls:0,cpuTime:0,query:v.createQueryEXT()}),g.calls++,v.beginQueryEXT(v.TIME_ELAPSED_EXT,g.query)}},mi.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var p=this.context.extTimerQuery;p.endQueryEXT(p.TIME_ELAPSED_EXT)}},mi.prototype.collectGpuTimers=function(){var p=this.gpuTimers;return this.gpuTimers={},p},mi.prototype.queryGpuTimers=function(p){var v={};for(var g in p){var b=p[g],M=this.context.extTimerQuery,z=M.getQueryObjectEXT(b.query,M.QUERY_RESULT_EXT)/1e6;M.deleteQueryEXT(b.query),v[g]=z}return v},mi.prototype.translatePosMatrix=function(p,v,g,b,M){if(!g[0]&&!g[1])return p;var z=M?b==="map"?this.transform.angle:0:b==="viewport"?-this.transform.angle:0;if(z){var B=Math.sin(z),U=Math.cos(z);g=[g[0]*U-g[1]*B,g[0]*B+g[1]*U]}var Y=[M?g[0]:Er(v,g[0],this.transform.zoom),M?g[1]:Er(v,g[1],this.transform.zoom),0],K=new Float32Array(16);return a.translate(K,p,Y),K},mi.prototype.saveTileTexture=function(p){var v=this._tileTextures[p.size[0]];v?v.push(p):this._tileTextures[p.size[0]]=[p]},mi.prototype.getTileTexture=function(p){var v=this._tileTextures[p];return v&&v.length>0?v.pop():null},mi.prototype.isPatternMissing=function(p){if(!p)return!1;var v=this.imageManager.getPattern(p.from.toString()),g=this.imageManager.getPattern(p.to.toString());return!v||!g},mi.prototype.useProgram=function(p,v){v===void 0&&(v=this.emptyProgramConfiguration),this.cache=this.cache||{};var g=""+p+(v.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[g]||(this.cache[g]=new Iy(this.context,Zn[p],v,Pm[p],this._showOverdrawInspector)),this.cache[g]},mi.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},mi.prototype.setBaseState=function(){var p=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(p.FUNC_ADD)};var nn=function(p,v,g,b,M){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=M===void 0||M,this._minZoom=p||0,this._maxZoom=v||22,this._minPitch=g??0,this._maxPitch=b??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},ei={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};nn.prototype.clone=function(){var p=new nn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return p.tileSize=this.tileSize,p.latRange=this.latRange,p.width=this.width,p.height=this.height,p._center=this._center,p.zoom=this.zoom,p.angle=this.angle,p._fov=this._fov,p._pitch=this._pitch,p._unmodified=this._unmodified,p._calcMatrices(),p},ei.minZoom.get=function(){return this._minZoom},ei.minZoom.set=function(p){this._minZoom!==p&&(this._minZoom=p,this.zoom=Math.max(this.zoom,p))},ei.maxZoom.get=function(){return this._maxZoom},ei.maxZoom.set=function(p){this._maxZoom!==p&&(this._maxZoom=p,this.zoom=Math.min(this.zoom,p))},ei.minPitch.get=function(){return this._minPitch},ei.minPitch.set=function(p){this._minPitch!==p&&(this._minPitch=p,this.pitch=Math.max(this.pitch,p))},ei.maxPitch.get=function(){return this._maxPitch},ei.maxPitch.set=function(p){this._maxPitch!==p&&(this._maxPitch=p,this.pitch=Math.min(this.pitch,p))},ei.renderWorldCopies.get=function(){return this._renderWorldCopies},ei.renderWorldCopies.set=function(p){p===void 0?p=!0:p===null&&(p=!1),this._renderWorldCopies=p},ei.worldSize.get=function(){return this.tileSize*this.scale},ei.centerPoint.get=function(){return this.size._div(2)},ei.size.get=function(){return new a.Point(this.width,this.height)},ei.bearing.get=function(){return-this.angle/Math.PI*180},ei.bearing.set=function(p){var v=-a.wrap(p,-180,180)*Math.PI/180;this.angle!==v&&(this._unmodified=!1,this.angle=v,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},ei.pitch.get=function(){return this._pitch/Math.PI*180},ei.pitch.set=function(p){var v=a.clamp(p,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==v&&(this._unmodified=!1,this._pitch=v,this._calcMatrices())},ei.fov.get=function(){return this._fov/Math.PI*180},ei.fov.set=function(p){p=Math.max(.01,Math.min(60,p)),this._fov!==p&&(this._unmodified=!1,this._fov=p/180*Math.PI,this._calcMatrices())},ei.zoom.get=function(){return this._zoom},ei.zoom.set=function(p){var v=Math.min(Math.max(p,this.minZoom),this.maxZoom);this._zoom!==v&&(this._unmodified=!1,this._zoom=v,this.scale=this.zoomScale(v),this.tileZoom=Math.floor(v),this.zoomFraction=v-this.tileZoom,this._constrain(),this._calcMatrices())},ei.center.get=function(){return this._center},ei.center.set=function(p){p.lat===this._center.lat&&p.lng===this._center.lng||(this._unmodified=!1,this._center=p,this._constrain(),this._calcMatrices())},nn.prototype.coveringZoomLevel=function(p){var v=(p.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/p.tileSize));return Math.max(0,v)},nn.prototype.getVisibleUnwrappedCoordinates=function(p){var v=[new a.UnwrappedTileID(0,p)];if(this._renderWorldCopies)for(var g=this.pointCoordinate(new a.Point(0,0)),b=this.pointCoordinate(new a.Point(this.width,0)),M=this.pointCoordinate(new a.Point(this.width,this.height)),z=this.pointCoordinate(new a.Point(0,this.height)),B=Math.floor(Math.min(g.x,b.x,M.x,z.x)),U=Math.floor(Math.max(g.x,b.x,M.x,z.x)),Y=B-1;Y<=U+1;Y++)Y!==0&&v.push(new a.UnwrappedTileID(Y,p));return v},nn.prototype.coveringTiles=function(p){var v=this.coveringZoomLevel(p),g=v;if(p.minzoom!==void 0&&v<p.minzoom)return[];p.maxzoom!==void 0&&v>p.maxzoom&&(v=p.maxzoom);var b=a.MercatorCoordinate.fromLngLat(this.center),M=Math.pow(2,v),z=new a.Point(M*b.x-.5,M*b.y-.5);return function(B,U,Y,K){K===void 0&&(K=!0);var te=1<<B,ce={};function me(ye,ve,De){var Oe,Be,Fe,$e;if(De>=0&&De<=te)for(Oe=ye;Oe<ve;Oe++)Be=Math.floor(Oe/te),Fe=(Oe%te+te)%te,Be!==0&&K!==!0||($e=new a.OverscaledTileID(Y,Be,B,Fe,De),ce[$e.key]=$e)}var pe=U.map(function(ye){return new a.Point(ye.x,ye.y)._mult(te)});return hc(pe[0],pe[1],pe[2],0,te,me),hc(pe[2],pe[3],pe[0],0,te,me),Object.keys(ce).map(function(ye){return ce[ye]})}(v,[this.pointCoordinate(new a.Point(0,0)),this.pointCoordinate(new a.Point(this.width,0)),this.pointCoordinate(new a.Point(this.width,this.height)),this.pointCoordinate(new a.Point(0,this.height))],p.reparseOverscaled?g:v,this._renderWorldCopies).sort(function(B,U){return z.dist(B.canonical)-z.dist(U.canonical)})},nn.prototype.resize=function(p,v){this.width=p,this.height=v,this.pixelsToGLUnits=[2/p,-2/v],this._constrain(),this._calcMatrices()},ei.unmodified.get=function(){return this._unmodified},nn.prototype.zoomScale=function(p){return Math.pow(2,p)},nn.prototype.scaleZoom=function(p){return Math.log(p)/Math.LN2},nn.prototype.project=function(p){var v=a.clamp(p.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(p.lng)*this.worldSize,a.mercatorYfromLat(v)*this.worldSize)},nn.prototype.unproject=function(p){return new a.MercatorCoordinate(p.x/this.worldSize,p.y/this.worldSize).toLngLat()},ei.point.get=function(){return this.project(this.center)},nn.prototype.setLocationAtPoint=function(p,v){var g=this.pointCoordinate(v),b=this.pointCoordinate(this.centerPoint),M=this.locationCoordinate(p),z=new a.MercatorCoordinate(M.x-(g.x-b.x),M.y-(g.y-b.y));this.center=this.coordinateLocation(z),this._renderWorldCopies&&(this.center=this.center.wrap())},nn.prototype.locationPoint=function(p){return this.coordinatePoint(this.locationCoordinate(p))},nn.prototype.pointLocation=function(p){return this.coordinateLocation(this.pointCoordinate(p))},nn.prototype.locationCoordinate=function(p){return a.MercatorCoordinate.fromLngLat(p)},nn.prototype.coordinateLocation=function(p){return p.toLngLat()},nn.prototype.pointCoordinate=function(p){var v=[p.x,p.y,0,1],g=[p.x,p.y,1,1];a.transformMat4(v,v,this.pixelMatrixInverse),a.transformMat4(g,g,this.pixelMatrixInverse);var b=v[3],M=g[3],z=v[0]/b,B=g[0]/M,U=v[1]/b,Y=g[1]/M,K=v[2]/b,te=g[2]/M,ce=K===te?0:(0-K)/(te-K);return new a.MercatorCoordinate(a.number(z,B,ce)/this.worldSize,a.number(U,Y,ce)/this.worldSize)},nn.prototype.coordinatePoint=function(p){var v=[p.x*this.worldSize,p.y*this.worldSize,0,1];return a.transformMat4(v,v,this.pixelMatrix),new a.Point(v[0]/v[3],v[1]/v[3])},nn.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},nn.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},nn.prototype.setMaxBounds=function(p){p?(this.lngRange=[p.getWest(),p.getEast()],this.latRange=[p.getSouth(),p.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},nn.prototype.calculatePosMatrix=function(p,v){v===void 0&&(v=!1);var g=p.key,b=v?this._alignedPosMatrixCache:this._posMatrixCache;if(b[g])return b[g];var M=p.canonical,z=this.worldSize/this.zoomScale(M.z),B=M.x+Math.pow(2,M.z)*p.wrap,U=a.identity(new Float64Array(16));return a.translate(U,U,[B*z,M.y*z,0]),a.scale(U,U,[z/a.EXTENT,z/a.EXTENT,1]),a.multiply(U,v?this.alignedProjMatrix:this.projMatrix,U),b[g]=new Float32Array(U),b[g]},nn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},nn.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var p,v,g,b,M=-90,z=90,B=-180,U=180,Y=this.size,K=this._unmodified;if(this.latRange){var te=this.latRange;M=a.mercatorYfromLat(te[1])*this.worldSize,p=(z=a.mercatorYfromLat(te[0])*this.worldSize)-M<Y.y?Y.y/(z-M):0}if(this.lngRange){var ce=this.lngRange;B=a.mercatorXfromLng(ce[0])*this.worldSize,v=(U=a.mercatorXfromLng(ce[1])*this.worldSize)-B<Y.x?Y.x/(U-B):0}var me=this.point,pe=Math.max(v||0,p||0);if(pe)return this.center=this.unproject(new a.Point(v?(U+B)/2:me.x,p?(z+M)/2:me.y)),this.zoom+=this.scaleZoom(pe),this._unmodified=K,void(this._constraining=!1);if(this.latRange){var ye=me.y,ve=Y.y/2;ye-ve<M&&(b=M+ve),ye+ve>z&&(b=z-ve)}if(this.lngRange){var De=me.x,Oe=Y.x/2;De-Oe<B&&(g=B+Oe),De+Oe>U&&(g=U-Oe)}g===void 0&&b===void 0||(this.center=this.unproject(new a.Point(g!==void 0?g:me.x,b!==void 0?b:me.y))),this._unmodified=K,this._constraining=!1}},nn.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var p=this._fov/2,v=Math.PI/2+this._pitch,g=Math.sin(p)*this.cameraToCenterDistance/Math.sin(Math.PI-v-p),b=this.point,M=b.x,z=b.y,B=1.01*(Math.cos(Math.PI/2-this._pitch)*g+this.cameraToCenterDistance),U=this.height/50,Y=new Float64Array(16);a.perspective(Y,this._fov,this.width/this.height,U,B),a.scale(Y,Y,[1,-1,1]),a.translate(Y,Y,[0,0,-this.cameraToCenterDistance]),a.rotateX(Y,Y,this._pitch),a.rotateZ(Y,Y,this.angle),a.translate(Y,Y,[-M,-z,0]),this.mercatorMatrix=a.scale([],Y,[this.worldSize,this.worldSize,this.worldSize]),a.scale(Y,Y,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Y;var K=this.width%2/2,te=this.height%2/2,ce=Math.cos(this.angle),me=Math.sin(this.angle),pe=M-Math.round(M)+ce*K+me*te,ye=z-Math.round(z)+ce*te+me*K,ve=new Float64Array(Y);if(a.translate(ve,ve,[pe>.5?pe-1:pe,ye>.5?ye-1:ye,0]),this.alignedProjMatrix=ve,Y=a.create(),a.scale(Y,Y,[this.width/2,-this.height/2,1]),a.translate(Y,Y,[1,-1,0]),this.labelPlaneMatrix=Y,Y=a.create(),a.scale(Y,Y,[1,-1,1]),a.translate(Y,Y,[-1,-1,0]),a.scale(Y,Y,[2/this.width,2/this.height,1]),this.glCoordMatrix=Y,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(Y=a.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=Y,this._posMatrixCache={},this._alignedPosMatrixCache={}}},nn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var p=this.pointCoordinate(new a.Point(0,0)),v=[p.x*this.worldSize,p.y*this.worldSize,0,1];return a.transformMat4(v,v,this.pixelMatrix)[3]/this.cameraToCenterDistance},nn.prototype.getCameraPoint=function(){var p=this._pitch,v=Math.tan(p)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,v))},nn.prototype.getCameraQueryGeometry=function(p){var v=this.getCameraPoint();if(p.length===1)return[p[0],v];for(var g=v.x,b=v.y,M=v.x,z=v.y,B=0,U=p;B<U.length;B+=1){var Y=U[B];g=Math.min(g,Y.x),b=Math.min(b,Y.y),M=Math.max(M,Y.x),z=Math.max(z,Y.y)}return[new a.Point(g,b),new a.Point(M,b),new a.Point(M,z),new a.Point(g,z),new a.Point(g,b)]},Object.defineProperties(nn.prototype,ei);var _l=function(p){var v,g,b,M,z;this._hashName=p&&encodeURIComponent(p),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(v=this._updateHashUnthrottled.bind(this),g=300,b=!1,M=null,z=function(){M=null,b&&(v(),M=setTimeout(z,g),b=!1)},function(){return b=!0,M||z(),M})};_l.prototype.addTo=function(p){return this._map=p,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},_l.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},_l.prototype.getHashString=function(p){var v=this._map.getCenter(),g=Math.round(100*this._map.getZoom())/100,b=Math.ceil((g*Math.LN2+Math.log(512/360/.5))/Math.LN10),M=Math.pow(10,b),z=Math.round(v.lng*M)/M,B=Math.round(v.lat*M)/M,U=this._map.getBearing(),Y=this._map.getPitch(),K="";if(K+=p?"/"+z+"/"+B+"/"+g:g+"/"+B+"/"+z,(U||Y)&&(K+="/"+Math.round(10*U)/10),Y&&(K+="/"+Math.round(Y)),this._hashName){var te=this._hashName,ce=!1,me=a.window.location.hash.slice(1).split("&").map(function(pe){var ye=pe.split("=")[0];return ye===te?(ce=!0,ye+"="+K):pe}).filter(function(pe){return pe});return ce||me.push(te+"="+K),"#"+me.join("&")}return"#"+K},_l.prototype._getCurrentHash=function(){var p,v=this,g=a.window.location.hash.replace("#","");return this._hashName?(g.split("&").map(function(b){return b.split("=")}).forEach(function(b){b[0]===v._hashName&&(p=b)}),(p&&p[1]||"").split("/")):g.split("/")},_l.prototype._onHashChange=function(){var p=this._getCurrentHash();return p.length>=3&&!p.some(function(v){return isNaN(v)})&&(this._map.jumpTo({center:[+p[2],+p[1]],zoom:+p[0],bearing:+(p[3]||0),pitch:+(p[4]||0)}),!0)},_l.prototype._updateHashUnthrottled=function(){var p=this.getHashString();try{a.window.history.replaceState(a.window.history.state,"",p)}catch{}};var Na=function(p){function v(b,M,z,B){B===void 0&&(B={});var U=u.mousePos(M.getCanvasContainer(),z),Y=M.unproject(U);p.call(this,b,a.extend({point:U,lngLat:Y,originalEvent:z},B)),this._defaultPrevented=!1,this.target=M}p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v;var g={defaultPrevented:{configurable:!0}};return v.prototype.preventDefault=function(){this._defaultPrevented=!0},g.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(v.prototype,g),v}(a.Event),Kt=function(p){function v(b,M,z){var B=u.touchPos(M.getCanvasContainer(),z),U=B.map(function(te){return M.unproject(te)}),Y=B.reduce(function(te,ce,me,pe){return te.add(ce.div(pe.length))},new a.Point(0,0)),K=M.unproject(Y);p.call(this,b,{points:B,point:Y,lngLats:U,lngLat:K,originalEvent:z}),this._defaultPrevented=!1}p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v;var g={defaultPrevented:{configurable:!0}};return v.prototype.preventDefault=function(){this._defaultPrevented=!0},g.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(v.prototype,g),v}(a.Event),jm=function(p){function v(b,M,z){p.call(this,b,{originalEvent:z}),this._defaultPrevented=!1}p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v;var g={defaultPrevented:{configurable:!0}};return v.prototype.preventDefault=function(){this._defaultPrevented=!0},g.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(v.prototype,g),v}(a.Event),to=function(p){this._map=p,this._el=p.getCanvasContainer(),this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,a.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};to.prototype.setZoomRate=function(p){this._defaultZoomRate=p},to.prototype.setWheelZoomRate=function(p){this._wheelZoomRate=p},to.prototype.isEnabled=function(){return!!this._enabled},to.prototype.isActive=function(){return!!this._active},to.prototype.isZooming=function(){return!!this._zooming},to.prototype.enable=function(p){this.isEnabled()||(this._enabled=!0,this._aroundCenter=p&&p.around==="center")},to.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},to.prototype.onWheel=function(p){if(this.isEnabled()){var v=p.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?40*p.deltaY:p.deltaY,g=a.browser.now(),b=g-(this._lastWheelEventTime||0);this._lastWheelEventTime=g,v!==0&&v%4.000244140625==0?this._type="wheel":v!==0&&Math.abs(v)<4?this._type="trackpad":b>400?(this._type=null,this._lastValue=v,this._timeout=setTimeout(this._onTimeout,40,p)):this._type||(this._type=Math.abs(b*v)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,v+=this._lastValue)),p.shiftKey&&v&&(v/=4),this._type&&(this._lastWheelEvent=p,this._delta-=v,this.isActive()||this._start(p)),p.preventDefault()}},to.prototype._onTimeout=function(p){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(p)},to.prototype._start=function(p){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0,this._map.fire(new a.Event("movestart",{originalEvent:p})),this._map.fire(new a.Event("zoomstart",{originalEvent:p}))),this._finishTimeout&&clearTimeout(this._finishTimeout);var v=u.mousePos(this._el,p);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(v)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},to.prototype._onScrollFrame=function(){var p=this;if(this._frameId=null,this.isActive()){var v=this._map.transform;if(this._delta!==0){var g=this._type==="wheel"&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,b=2/(1+Math.exp(-Math.abs(this._delta*g)));this._delta<0&&b!==0&&(b=1/b);var M=typeof this._targetZoom=="number"?v.zoomScale(this._targetZoom):v.scale;this._targetZoom=Math.min(v.maxZoom,Math.max(v.minZoom,v.scaleZoom(M*b))),this._type==="wheel"&&(this._startZoom=v.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var z=typeof this._targetZoom=="number"?this._targetZoom:v.zoom,B=this._startZoom,U=this._easing,Y=!1;if(this._type==="wheel"&&B&&U){var K=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),te=U(K);v.zoom=a.number(B,z,te),K<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):Y=!0}else v.zoom=z,Y=!0;v.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new a.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new a.Event("zoom",{originalEvent:this._lastWheelEvent})),Y&&(this._active=!1,this._finishTimeout=setTimeout(function(){p._zooming=!1,p._map.fire(new a.Event("zoomend",{originalEvent:p._lastWheelEvent})),p._map.fire(new a.Event("moveend",{originalEvent:p._lastWheelEvent})),delete p._targetZoom},200))}},to.prototype._smoothOutEasing=function(p){var v=a.ease;if(this._prevEase){var g=this._prevEase,b=(a.browser.now()-g.start)/g.duration,M=g.easing(b+.01)-g.easing(b),z=.27/Math.sqrt(M*M+1e-4)*.01,B=Math.sqrt(.0729-z*z);v=a.bezier(z,B,.25,1)}return this._prevEase={start:a.browser.now(),duration:p,easing:v},v};var zo=function(p,v){this._map=p,this._el=p.getCanvasContainer(),this._container=p.getContainer(),this._clickTolerance=v.clickTolerance||1,a.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};zo.prototype.isEnabled=function(){return!!this._enabled},zo.prototype.isActive=function(){return!!this._active},zo.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},zo.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},zo.prototype.onMouseDown=function(p){this.isEnabled()&&p.shiftKey&&p.button===0&&(a.window.document.addEventListener("mousemove",this._onMouseMove,!1),a.window.document.addEventListener("keydown",this._onKeyDown,!1),a.window.document.addEventListener("mouseup",this._onMouseUp,!1),u.disableDrag(),this._startPos=this._lastPos=u.mousePos(this._el,p),this._active=!0)},zo.prototype._onMouseMove=function(p){var v=u.mousePos(this._el,p);if(!(this._lastPos.equals(v)||!this._box&&v.dist(this._startPos)<this._clickTolerance)){var g=this._startPos;this._lastPos=v,this._box||(this._box=u.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",p));var b=Math.min(g.x,v.x),M=Math.max(g.x,v.x),z=Math.min(g.y,v.y),B=Math.max(g.y,v.y);u.setTransform(this._box,"translate("+b+"px,"+z+"px)"),this._box.style.width=M-b+"px",this._box.style.height=B-z+"px"}},zo.prototype._onMouseUp=function(p){if(p.button===0){var v=this._startPos,g=u.mousePos(this._el,p);this._finish(),u.suppressClick(),v.x===g.x&&v.y===g.y?this._fireEvent("boxzoomcancel",p):this._map.fitScreenCoordinates(v,g,this._map.getBearing(),{linear:!0}).fire(new a.Event("boxzoomend",{originalEvent:p}))}},zo.prototype._onKeyDown=function(p){p.keyCode===27&&(this._finish(),this._fireEvent("boxzoomcancel",p))},zo.prototype._finish=function(){this._active=!1,a.window.document.removeEventListener("mousemove",this._onMouseMove,!1),a.window.document.removeEventListener("keydown",this._onKeyDown,!1),a.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(u.remove(this._box),this._box=null),u.enableDrag(),delete this._startPos,delete this._lastPos},zo.prototype._fireEvent=function(p,v){return this._map.fire(new a.Event(p,{originalEvent:v}))};var uu=a.bezier(0,0,.25,1),ji=function(p,v){this._map=p,this._el=v.element||p.getCanvasContainer(),this._state="disabled",this._button=v.button||"right",this._bearingSnap=v.bearingSnap||0,this._pitchWithRotate=v.pitchWithRotate!==!1,a.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};ji.prototype.isEnabled=function(){return this._state!=="disabled"},ji.prototype.isActive=function(){return this._state==="active"},ji.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},ji.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},ji.prototype.onMouseDown=function(p){if(this._state==="enabled"){var v=p.type==="touchstart";if(v)this._startTime=Date.now();else if(this._button==="right"){if(this._eventButton=u.mouseButton(p),this._eventButton!==(p.ctrlKey?0:2))return}else{if(p.ctrlKey||u.mouseButton(p)!==0)return;this._eventButton=0}u.disableDrag(),v?(a.window.document.addEventListener("touchmove",this._onMouseMove,{capture:!0}),a.window.document.addEventListener("touchend",this._onMouseUp)):(a.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),a.window.document.addEventListener("mouseup",this._onMouseUp)),a.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[a.browser.now(),this._map.getBearing()]],this._startPos=this._prevPos=this._lastPos=u.mousePos(this._el,p),this._center=this._map.transform.centerPoint,p.preventDefault()}},ji.prototype._onMouseMove=function(p){var v=u.mousePos(this._el,p);this._lastPos.equals(v)||(this._lastMoveEvent=p,this._lastPos=v,this._state==="pending"&&(this._state="active",this._fireEvent("rotatestart",p),this._fireEvent("movestart",p),this._pitchWithRotate&&this._fireEvent("pitchstart",p)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},ji.prototype._onDragFrame=function(){this._frameId=null;var p=this._lastMoveEvent;if(p){var v=this._map.transform,g=this._prevPos,b=this._lastPos,M=.8*(g.x-b.x),z=-.5*(g.y-b.y),B=v.bearing-M,U=v.pitch-z,Y=this._inertia,K=Y[Y.length-1];this._drainInertiaBuffer(),Y.push([a.browser.now(),this._map._normalizeBearing(B,K[1])]);var te=v.bearing;if(v.bearing=B,this._pitchWithRotate){var ce=v.pitch;v.pitch=U,v.pitch!==ce&&this._fireEvent("pitch",p)}v.bearing!==te&&this._fireEvent("rotate",p),this._fireEvent("move",p),delete this._lastMoveEvent,this._prevPos=this._lastPos}},ji.prototype._onMouseUp=function(p){var v=p.type==="touchend";if(v&&this._startPos===this._lastPos&&Date.now()-this._startTime<300&&this._el.click(),v||u.mouseButton(p)===this._eventButton)switch(this._state){case"active":this._state="enabled",u.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(p);break;case"pending":this._state="enabled",this._unbind()}},ji.prototype._onBlur=function(p){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",p),this._pitchWithRotate&&this._fireEvent("pitchend",p),this._fireEvent("moveend",p);break;case"pending":this._state="enabled",this._unbind()}},ji.prototype._unbind=function(){a.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),a.window.document.removeEventListener("mouseup",this._onMouseUp),a.window.document.removeEventListener("touchmove",this._onMouseMove,{capture:!0}),a.window.document.removeEventListener("touchend",this._onMouseUp),a.window.removeEventListener("blur",this._onBlur),u.enableDrag()},ji.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._lastPos},ji.prototype._inertialRotate=function(p){var v=this;this._fireEvent("rotateend",p),this._drainInertiaBuffer();var g=this._map,b=g.getBearing(),M=this._inertia,z=function(){Math.abs(b)<v._bearingSnap?g.resetNorth({noMoveStart:!0},{originalEvent:p}):v._fireEvent("moveend",p),v._pitchWithRotate&&v._fireEvent("pitchend",p)};if(M.length<2)z();else{var B=M[0],U=M[M.length-1],Y=M[M.length-2],K=g._normalizeBearing(b,Y[1]),te=U[1]-B[1],ce=te<0?-1:1,me=(U[0]-B[0])/1e3;if(te!==0&&me!==0){var pe=Math.abs(te*(.25/me));pe>180&&(pe=180);var ye=pe/180;K+=ce*pe*(ye/2),Math.abs(g._normalizeBearing(K,0))<this._bearingSnap&&(K=g._normalizeBearing(0,K)),g.rotateTo(K,{duration:1e3*ye,easing:uu,noMoveStart:!0},{originalEvent:p})}else z()}},ji.prototype._fireEvent=function(p,v){return this._map.fire(new a.Event(p,v?{originalEvent:v}:{}))},ji.prototype._drainInertiaBuffer=function(){for(var p=this._inertia,v=a.browser.now();p.length>0&&v-p[0][0]>160;)p.shift()};var Zd={linearity:.3,easing:a.bezier(0,0,.3,1),maxSpeed:1400,deceleration:2500},Tt=function(p,v){this._map=p,this._el=p.getCanvasContainer(),this._state="disabled",this._clickTolerance=v.clickTolerance||1,this._inertiaOptions=Zd,a.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};Tt.prototype.isEnabled=function(){return this._state!=="disabled"},Tt.prototype.isActive=function(){return this._state==="active"},Tt.prototype.enable=function(p){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled",this._inertiaOptions=a.extend(Zd,p))},Tt.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},Tt.prototype.onMouseDown=function(p){this._state==="enabled"&&(p.ctrlKey||u.mouseButton(p)!==0||(u.addEventListener(a.window.document,"mousemove",this._onMove,{capture:!0}),u.addEventListener(a.window.document,"mouseup",this._onMouseUp),this._start(p)))},Tt.prototype.onTouchStart=function(p){this.isEnabled()&&(p.touches&&p.touches.length>1&&(this._state==="pending"||this._state==="active")||(u.addEventListener(a.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),u.addEventListener(a.window.document,"touchend",this._onTouchEnd),this._start(p)))},Tt.prototype._start=function(p){a.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._prevPos=this._lastPos=u.mousePos(this._el,p),this._startTouch=this._lastTouch=a.window.TouchEvent&&p instanceof a.window.TouchEvent?u.touchPos(this._el,p):null,this._inertia=[[a.browser.now(),this._startPos]]},Tt.prototype._touchesMatch=function(p,v){return!(!p||!v||p.length!==v.length)&&p.every(function(g,b){return v[b]===g})},Tt.prototype._onMove=function(p){p.preventDefault();var v=a.window.TouchEvent&&p instanceof a.window.TouchEvent?u.touchPos(this._el,p):null,g=u.mousePos(this._el,p);(v?this._touchesMatch(this._lastTouch,v):this._lastPos.equals(g))||this._state==="pending"&&g.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=p,this._lastPos=g,this._lastTouch=v,this._drainInertiaBuffer(),this._inertia.push([a.browser.now(),this._lastPos]),this._state==="pending"&&(this._state="active",this._shouldStart=!0),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},Tt.prototype._onDragFrame=function(){this._frameId=null;var p=this._lastMoveEvent;if(p){if(this._map.touchZoomRotate.isActive())this._abort(p);else if(this._shouldStart&&(this._fireEvent("dragstart",p),this._fireEvent("movestart",p),this._shouldStart=!1),this.isActive()){var v=this._map.transform;v.setLocationAtPoint(v.pointLocation(this._prevPos),this._lastPos),this._fireEvent("drag",p),this._fireEvent("move",p),this._prevPos=this._lastPos,delete this._lastMoveEvent}}},Tt.prototype._onMouseUp=function(p){if(u.mouseButton(p)===0)switch(this._state){case"active":this._state="enabled",u.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(p);break;case"pending":this._state="enabled",this._unbind()}},Tt.prototype._onTouchEnd=function(p){if(p.touches&&p.touches.length!==0)switch(this._state){case"pending":case"active":break;case"enabled":this.onTouchStart(p)}else switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(p);break;case"pending":this._state="enabled",this._unbind();break;case"enabled":this._unbind()}},Tt.prototype._abort=function(p){switch(this._state){case"active":this._state="enabled",this._shouldStart||(this._fireEvent("dragend",p),this._fireEvent("moveend",p)),this._unbind(),this._deactivate(),a.window.TouchEvent&&p instanceof a.window.TouchEvent&&p.touches.length>1&&u.addEventListener(a.window.document,"touchend",this._onTouchEnd);break;case"pending":this._state="enabled",this._unbind();break;case"enabled":this._unbind()}},Tt.prototype._onBlur=function(p){this._abort(p)},Tt.prototype._unbind=function(){u.removeEventListener(a.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),u.removeEventListener(a.window.document,"touchend",this._onTouchEnd),u.removeEventListener(a.window.document,"mousemove",this._onMove,{capture:!0}),u.removeEventListener(a.window.document,"mouseup",this._onMouseUp),u.removeEventListener(a.window,"blur",this._onBlur)},Tt.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._mouseDownPos,delete this._lastPos,delete this._startTouch,delete this._lastTouch,delete this._shouldStart},Tt.prototype._inertialPan=function(p){this._fireEvent("dragend",p),this._drainInertiaBuffer();var v=this._inertia;if(v.length<2)this._fireEvent("moveend",p);else{var g=v[v.length-1],b=v[0],M=g[1].sub(b[1]),z=(g[0]-b[0])/1e3;if(z===0||g[1].equals(b[1]))this._fireEvent("moveend",p);else{var B=this._inertiaOptions,U=B.linearity,Y=B.easing,K=B.maxSpeed,te=B.deceleration,ce=M.mult(U/z),me=ce.mag();me>K&&(me=K,ce._unit()._mult(me));var pe=me/(te*U),ye=ce.mult(-pe/2);this._map.panBy(ye,{duration:1e3*pe,easing:Y,noMoveStart:!0},{originalEvent:p})}}},Tt.prototype._fireEvent=function(p,v){return this._map.fire(new a.Event(p,v?{originalEvent:v}:{}))},Tt.prototype._drainInertiaBuffer=function(){for(var p=this._inertia,v=a.browser.now();p.length>0&&v-p[0][0]>160;)p.shift()};var dc=function(p){this._map=p,this._el=p.getCanvasContainer(),a.bindAll(["_onKeyDown"],this)};function I_(p){return p*(2-p)}dc.prototype.isEnabled=function(){return!!this._enabled},dc.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},dc.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},dc.prototype._onKeyDown=function(p){if(!(p.altKey||p.ctrlKey||p.metaKey)){var v=0,g=0,b=0,M=0,z=0;switch(p.keyCode){case 61:case 107:case 171:case 187:v=1;break;case 189:case 109:case 173:v=-1;break;case 37:p.shiftKey?g=-1:(p.preventDefault(),M=-1);break;case 39:p.shiftKey?g=1:(p.preventDefault(),M=1);break;case 38:p.shiftKey?b=1:(p.preventDefault(),z=-1);break;case 40:p.shiftKey?b=-1:(z=1,p.preventDefault());break;default:return}var B=this._map,U=B.getZoom(),Y={duration:300,delayEndEvents:500,easing:I_,zoom:v?Math.round(U)+v*(p.shiftKey?2:1):U,bearing:B.getBearing()+15*g,pitch:B.getPitch()+10*b,offset:[100*-M,100*-z],center:B.getCenter()};B.easeTo(Y,{originalEvent:p})}};var Fo=function(p){this._map=p,a.bindAll(["_onDblClick","_onZoomEnd"],this)};Fo.prototype.isEnabled=function(){return!!this._enabled},Fo.prototype.isActive=function(){return!!this._active},Fo.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Fo.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Fo.prototype.onTouchStart=function(p){var v=this;if(this.isEnabled()&&!(p.points.length>1))if(this._tapped){var g=p.points[0],b=this._tappedPoint;if(b&&b.dist(g)<=30){p.originalEvent.preventDefault();var M=function(){v._tapped&&v._zoom(p),v._map.off("touchcancel",z),v._resetTapped()},z=function(){v._map.off("touchend",M),v._resetTapped()};this._map.once("touchend",M),this._map.once("touchcancel",z)}else this._resetTapped()}else this._tappedPoint=p.points[0],this._tapped=setTimeout(function(){v._tapped=null,v._tappedPoint=null},300)},Fo.prototype._resetTapped=function(){clearTimeout(this._tapped),this._tapped=null,this._tappedPoint=null},Fo.prototype.onDblClick=function(p){this.isEnabled()&&(p.originalEvent.preventDefault(),this._zoom(p))},Fo.prototype._zoom=function(p){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(p.originalEvent.shiftKey?-1:1),{around:p.lngLat},p)},Fo.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var Vy=a.bezier(0,0,.15,1),ro=function(p){this._map=p,this._el=p.getCanvasContainer(),a.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};ro.prototype.isEnabled=function(){return!!this._enabled},ro.prototype.enable=function(p){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!p&&p.around==="center")},ro.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},ro.prototype.disableRotation=function(){this._rotationDisabled=!0},ro.prototype.enableRotation=function(){this._rotationDisabled=!1},ro.prototype.isActive=function(){return this.isEnabled()&&!!this._gestureIntent},ro.prototype.onStart=function(p){if(this.isEnabled()&&p.touches.length===2){var v=u.mousePos(this._el,p.touches[0]),g=u.mousePos(this._el,p.touches[1]),b=v.add(g).div(2);this._startVec=v.sub(g),this._startAround=this._map.transform.pointLocation(b),this._gestureIntent=void 0,this._inertia=[],u.addEventListener(a.window.document,"touchmove",this._onMove,{passive:!1}),u.addEventListener(a.window.document,"touchend",this._onEnd)}},ro.prototype._getTouchEventData=function(p){var v=u.mousePos(this._el,p.touches[0]),g=u.mousePos(this._el,p.touches[1]),b=v.sub(g);return{vec:b,center:v.add(g).div(2),scale:b.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*b.angleWith(this._startVec)/Math.PI}},ro.prototype._onMove=function(p){if(p.touches.length===2){var v=this._getTouchEventData(p),g=v.vec,b=v.scale,M=v.bearing;if(!this._gestureIntent){var z=this._rotationDisabled&&b!==1||Math.abs(1-b)>.15;Math.abs(M)>10?this._gestureIntent="rotate":z&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new a.Event(this._gestureIntent+"start",{originalEvent:p})),this._map.fire(new a.Event("movestart",{originalEvent:p})),this._startVec=g)}this._lastTouchEvent=p,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),p.preventDefault()}},ro.prototype._onTouchFrame=function(){this._frameId=null;var p=this._gestureIntent;if(p){var v=this._map.transform;this._startScale||(this._startScale=v.scale,this._startBearing=v.bearing);var g=this._getTouchEventData(this._lastTouchEvent),b=g.center,M=g.bearing,z=g.scale,B=v.pointLocation(b),U=v.locationPoint(B);p==="rotate"&&(v.bearing=this._startBearing+M),v.zoom=v.scaleZoom(this._startScale*z),v.setLocationAtPoint(this._startAround,U),this._map.fire(new a.Event(p,{originalEvent:this._lastTouchEvent})),this._map.fire(new a.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([a.browser.now(),z,b])}},ro.prototype._onEnd=function(p){u.removeEventListener(a.window.document,"touchmove",this._onMove,{passive:!1}),u.removeEventListener(a.window.document,"touchend",this._onEnd);var v=this._gestureIntent,g=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,v){this._map.fire(new a.Event(v+"end",{originalEvent:p})),this._drainInertiaBuffer();var b=this._inertia,M=this._map;if(b.length<2)M.snapToNorth({},{originalEvent:p});else{var z=b[b.length-1],B=b[0],U=M.transform.scaleZoom(g*z[1]),Y=M.transform.scaleZoom(g*B[1]),K=U-Y,te=(z[0]-B[0])/1e3,ce=z[2];if(te!==0&&U!==Y){var me=.15*K/te;Math.abs(me)>2.5&&(me=me>0?2.5:-2.5);var pe=1e3*Math.abs(me/(12*.15)),ye=U+me*pe/2e3;M.easeTo({zoom:ye,duration:pe,easing:Vy,around:this._aroundCenter?M.getCenter():M.unproject(ce),noMoveStart:!0},{originalEvent:p})}else M.snapToNorth({},{originalEvent:p})}}},ro.prototype._drainInertiaBuffer=function(){for(var p=this._inertia,v=a.browser.now();p.length>2&&v-p[0][0]>160;)p.shift()};var Wy={scrollZoom:to,boxZoom:zo,dragRotate:ji,dragPan:Tt,keyboard:dc,doubleClickZoom:Fo,touchZoomRotate:ro},O_=function(p){function v(g,b){p.call(this),this._moving=!1,this._zooming=!1,this.transform=g,this._bearingSnap=b.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},v.prototype.setCenter=function(g,b){return this.jumpTo({center:g},b)},v.prototype.panBy=function(g,b,M){return g=a.Point.convert(g).mult(-1),this.panTo(this.transform.center,a.extend({offset:g},b),M)},v.prototype.panTo=function(g,b,M){return this.easeTo(a.extend({center:g},b),M)},v.prototype.getZoom=function(){return this.transform.zoom},v.prototype.setZoom=function(g,b){return this.jumpTo({zoom:g},b),this},v.prototype.zoomTo=function(g,b,M){return this.easeTo(a.extend({zoom:g},b),M)},v.prototype.zoomIn=function(g,b){return this.zoomTo(this.getZoom()+1,g,b),this},v.prototype.zoomOut=function(g,b){return this.zoomTo(this.getZoom()-1,g,b),this},v.prototype.getBearing=function(){return this.transform.bearing},v.prototype.setBearing=function(g,b){return this.jumpTo({bearing:g},b),this},v.prototype.rotateTo=function(g,b,M){return this.easeTo(a.extend({bearing:g},b),M)},v.prototype.resetNorth=function(g,b){return this.rotateTo(0,a.extend({duration:1e3},g),b),this},v.prototype.resetNorthPitch=function(g,b){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},g),b),this},v.prototype.snapToNorth=function(g,b){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(g,b):this},v.prototype.getPitch=function(){return this.transform.pitch},v.prototype.setPitch=function(g,b){return this.jumpTo({pitch:g},b),this},v.prototype.cameraForBounds=function(g,b){return g=a.LngLatBounds.convert(g),this._cameraForBoxAndBearing(g.getNorthWest(),g.getSouthEast(),0,b)},v.prototype._cameraForBoxAndBearing=function(g,b,M,z){if(typeof(z=a.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},z)).padding=="number"){var B=z.padding;z.padding={top:B,bottom:B,right:B,left:B}}if(a.deepEqual(Object.keys(z.padding).sort(function(st,gt){return st<gt?-1:st>gt?1:0}),["bottom","left","right","top"])){var U=this.transform,Y=U.project(a.LngLat.convert(g)),K=U.project(a.LngLat.convert(b)),te=Y.rotate(-M*Math.PI/180),ce=K.rotate(-M*Math.PI/180),me=new a.Point(Math.max(te.x,ce.x),Math.max(te.y,ce.y)),pe=new a.Point(Math.min(te.x,ce.x),Math.min(te.y,ce.y)),ye=me.sub(pe),ve=(U.width-z.padding.left-z.padding.right)/ye.x,De=(U.height-z.padding.top-z.padding.bottom)/ye.y;if(!(De<0||ve<0)){var Oe=Math.min(U.scaleZoom(U.scale*Math.min(ve,De)),z.maxZoom),Be=a.Point.convert(z.offset),Fe=(z.padding.left-z.padding.right)/2,$e=(z.padding.top-z.padding.bottom)/2,Qe=new a.Point(Be.x+Fe,Be.y+$e).mult(U.scale/U.zoomScale(Oe));return{center:U.unproject(Y.add(K).div(2).sub(Qe)),zoom:Oe,bearing:M}}a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else a.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},v.prototype.fitBounds=function(g,b,M){return this._fitInternal(this.cameraForBounds(g,b),b,M)},v.prototype.fitScreenCoordinates=function(g,b,M,z,B){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(g)),this.transform.pointLocation(a.Point.convert(b)),M,z),z,B)},v.prototype._fitInternal=function(g,b,M){return g?(b=a.extend(g,b)).linear?this.easeTo(b,M):this.flyTo(b,M):this},v.prototype.jumpTo=function(g,b){this.stop();var M=this.transform,z=!1,B=!1,U=!1;return"zoom"in g&&M.zoom!==+g.zoom&&(z=!0,M.zoom=+g.zoom),g.center!==void 0&&(M.center=a.LngLat.convert(g.center)),"bearing"in g&&M.bearing!==+g.bearing&&(B=!0,M.bearing=+g.bearing),"pitch"in g&&M.pitch!==+g.pitch&&(U=!0,M.pitch=+g.pitch),this.fire(new a.Event("movestart",b)).fire(new a.Event("move",b)),z&&this.fire(new a.Event("zoomstart",b)).fire(new a.Event("zoom",b)).fire(new a.Event("zoomend",b)),B&&this.fire(new a.Event("rotatestart",b)).fire(new a.Event("rotate",b)).fire(new a.Event("rotateend",b)),U&&this.fire(new a.Event("pitchstart",b)).fire(new a.Event("pitch",b)).fire(new a.Event("pitchend",b)),this.fire(new a.Event("moveend",b))},v.prototype.easeTo=function(g,b){var M=this;this.stop(),((g=a.extend({offset:[0,0],duration:500,easing:a.ease},g)).animate===!1||!g.essential&&a.browser.prefersReducedMotion)&&(g.duration=0);var z=this.transform,B=this.getZoom(),U=this.getBearing(),Y=this.getPitch(),K="zoom"in g?+g.zoom:B,te="bearing"in g?this._normalizeBearing(g.bearing,U):U,ce="pitch"in g?+g.pitch:Y,me=z.centerPoint.add(a.Point.convert(g.offset)),pe=z.pointLocation(me),ye=a.LngLat.convert(g.center||pe);this._normalizeCenter(ye);var ve,De,Oe=z.project(pe),Be=z.project(ye).sub(Oe),Fe=z.zoomScale(K-B);return g.around&&(ve=a.LngLat.convert(g.around),De=z.locationPoint(ve)),this._zooming=K!==B,this._rotating=U!==te,this._pitching=ce!==Y,this._prepareEase(b,g.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease(function($e){if(M._zooming&&(z.zoom=a.number(B,K,$e)),M._rotating&&(z.bearing=a.number(U,te,$e)),M._pitching&&(z.pitch=a.number(Y,ce,$e)),ve)z.setLocationAtPoint(ve,De);else{var Qe=z.zoomScale(z.zoom-B),st=K>B?Math.min(2,Fe):Math.max(.5,Fe),gt=Math.pow(st,1-$e),Bt=z.unproject(Oe.add(Be.mult($e*gt)).mult(Qe));z.setLocationAtPoint(z.renderWorldCopies?Bt.wrap():Bt,me)}M._fireMoveEvents(b)},function(){g.delayEndEvents?M._easeEndTimeoutID=setTimeout(function(){return M._afterEase(b)},g.delayEndEvents):M._afterEase(b)},g),this},v.prototype._prepareEase=function(g,b){this._moving=!0,b||this.fire(new a.Event("movestart",g)),this._zooming&&this.fire(new a.Event("zoomstart",g)),this._rotating&&this.fire(new a.Event("rotatestart",g)),this._pitching&&this.fire(new a.Event("pitchstart",g))},v.prototype._fireMoveEvents=function(g){this.fire(new a.Event("move",g)),this._zooming&&this.fire(new a.Event("zoom",g)),this._rotating&&this.fire(new a.Event("rotate",g)),this._pitching&&this.fire(new a.Event("pitch",g))},v.prototype._afterEase=function(g){var b=this._zooming,M=this._rotating,z=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,b&&this.fire(new a.Event("zoomend",g)),M&&this.fire(new a.Event("rotateend",g)),z&&this.fire(new a.Event("pitchend",g)),this.fire(new a.Event("moveend",g))},v.prototype.flyTo=function(g,b){var M=this;if(!g.essential&&a.browser.prefersReducedMotion){var z=a.pick(g,["center","zoom","bearing","pitch","around"]);return this.jumpTo(z,b)}this.stop(),g=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},g);var B=this.transform,U=this.getZoom(),Y=this.getBearing(),K=this.getPitch(),te="zoom"in g?a.clamp(+g.zoom,B.minZoom,B.maxZoom):U,ce="bearing"in g?this._normalizeBearing(g.bearing,Y):Y,me="pitch"in g?+g.pitch:K,pe=B.zoomScale(te-U),ye=B.centerPoint.add(a.Point.convert(g.offset)),ve=B.pointLocation(ye),De=a.LngLat.convert(g.center||ve);this._normalizeCenter(De);var Oe=B.project(ve),Be=B.project(De).sub(Oe),Fe=g.curve,$e=Math.max(B.width,B.height),Qe=$e/pe,st=Be.mag();if("minZoom"in g){var gt=a.clamp(Math.min(g.minZoom,U,te),B.minZoom,B.maxZoom),Bt=$e/B.zoomScale(gt-U);Fe=Math.sqrt(Bt/st*2)}var Nt=Fe*Fe;function Yt(jr){var Nr=(Qe*Qe-$e*$e+(jr?-1:1)*Nt*Nt*st*st)/(2*(jr?Qe:$e)*Nt*st);return Math.log(Math.sqrt(Nr*Nr+1)-Nr)}function Ot(jr){return(Math.exp(jr)-Math.exp(-jr))/2}function hr(jr){return(Math.exp(jr)+Math.exp(-jr))/2}var $t=Yt(0),br=function(jr){return hr($t)/hr($t+Fe*jr)},Tr=function(jr){return $e*((hr($t)*(Ot(Nr=$t+Fe*jr)/hr(Nr))-Ot($t))/Nt)/st;var Nr},vr=(Yt(1)-$t)/Fe;if(Math.abs(st)<1e-6||!isFinite(vr)){if(Math.abs($e-Qe)<1e-6)return this.easeTo(g,b);var _r=Qe<$e?-1:1;vr=Math.abs(Math.log(Qe/$e))/Fe,Tr=function(){return 0},br=function(jr){return Math.exp(_r*Fe*jr)}}if("duration"in g)g.duration=+g.duration;else{var _n="screenSpeed"in g?+g.screenSpeed/Fe:+g.speed;g.duration=1e3*vr/_n}return g.maxDuration&&g.duration>g.maxDuration&&(g.duration=0),this._zooming=!0,this._rotating=Y!==ce,this._pitching=me!==K,this._prepareEase(b,!1),this._ease(function(jr){var Nr=jr*vr,xi=1/br(Nr);B.zoom=jr===1?te:U+B.scaleZoom(xi),M._rotating&&(B.bearing=a.number(Y,ce,jr)),M._pitching&&(B.pitch=a.number(K,me,jr));var sn=jr===1?De:B.unproject(Oe.add(Be.mult(Tr(Nr))).mult(xi));B.setLocationAtPoint(B.renderWorldCopies?sn.wrap():sn,ye),M._fireMoveEvents(b)},function(){return M._afterEase(b)},g),this},v.prototype.isEasing=function(){return!!this._easeFrameId},v.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var g=this._onEaseEnd;delete this._onEaseEnd,g.call(this)}return this},v.prototype._ease=function(g,b,M){M.animate===!1||M.duration===0?(g(1),b()):(this._easeStart=a.browser.now(),this._easeOptions=M,this._onEaseFrame=g,this._onEaseEnd=b,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},v.prototype._renderFrameCallback=function(){var g=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(g)),g<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},v.prototype._normalizeBearing=function(g,b){g=a.wrap(g,-180,180);var M=Math.abs(g-b);return Math.abs(g-360-b)<M&&(g-=360),Math.abs(g+360-b)<M&&(g+=360),g},v.prototype._normalizeCenter=function(g){var b=this.transform;if(b.renderWorldCopies&&!b.lngRange){var M=g.lng-b.center.lng;g.lng+=M>180?-360:M<-180?360:0}},v}(a.Evented),ns=function(p){p===void 0&&(p={}),this.options=p,a.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};ns.prototype.getDefaultPosition=function(){return"bottom-right"},ns.prototype.onAdd=function(p){var v=this.options&&this.options.compact;return this._map=p,this._container=u.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=u.create("div","mapboxgl-ctrl-attrib-inner",this._container),v&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),v===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},ns.prototype.onRemove=function(){u.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},ns.prototype._updateEditLink=function(){var p=this._editLink;p||(p=this._editLink=this._container.querySelector(".mapbox-improve-map"));var v=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(p){var g=v.reduce(function(b,M,z){return M.value&&(b+=M.key+"="+M.value+(z<v.length-1?"&":"")),b},"?");p.href=a.config.FEEDBACK_URL+"/"+g+(this._map._hash?this._map._hash.getHashString(!0):""),p.rel="noopener nofollow"}},ns.prototype._updateData=function(p){!p||p.sourceDataType!=="metadata"&&p.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},ns.prototype._updateAttributions=function(){if(this._map.style){var p=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?p=p.concat(this.options.customAttribution.map(function(U){return typeof U!="string"?"":U})):typeof this.options.customAttribution=="string"&&p.push(this.options.customAttribution)),this._map.style.stylesheet){var v=this._map.style.stylesheet;this.styleOwner=v.owner,this.styleId=v.id}var g=this._map.style.sourceCaches;for(var b in g){var M=g[b];if(M.used){var z=M.getSource();z.attribution&&p.indexOf(z.attribution)<0&&p.push(z.attribution)}}p.sort(function(U,Y){return U.length-Y.length});var B=(p=p.filter(function(U,Y){for(var K=Y+1;K<p.length;K++)if(p[K].indexOf(U)>=0)return!1;return!0})).join(" | ");B!==this._attribHTML&&(this._attribHTML=B,p.length?(this._innerContainer.innerHTML=B,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},ns.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Us=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};Us.prototype.onAdd=function(p){this._map=p,this._container=u.create("div","mapboxgl-ctrl");var v=u.create("a","mapboxgl-ctrl-logo");return v.target="_blank",v.rel="noopener nofollow",v.href="https://goong.io/",v.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),v.setAttribute("rel","noopener nofollow"),this._container.appendChild(v),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Us.prototype.onRemove=function(){u.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Us.prototype.getDefaultPosition=function(){return"bottom-left"},Us.prototype._updateLogo=function(p){p&&p.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},Us.prototype._logoRequired=function(){return!0},Us.prototype._updateCompact=function(){var p=this._container.children;if(p.length){var v=p[0];this._map.getCanvasContainer().offsetWidth<250?v.classList.add("mapboxgl-compact"):v.classList.remove("mapboxgl-compact")}};var fc=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};fc.prototype.add=function(p){var v=++this._id;return this._queue.push({callback:p,id:v,cancelled:!1}),v},fc.prototype.remove=function(p){for(var v=this._currentlyRunning,g=0,b=v?this._queue.concat(v):this._queue;g<b.length;g+=1){var M=b[g];if(M.id===p)return void(M.cancelled=!0)}},fc.prototype.run=function(){var p=this._currentlyRunning=this._queue;this._queue=[];for(var v=0,g=p;v<g.length;v+=1){var b=g[v];if(!b.cancelled&&(b.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},fc.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var zm={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Goong logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Ua=a.window.HTMLImageElement,wl=a.window.HTMLElement,pc=a.window.ImageBitmap,Fm={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Bm=function(p){function v(b){var M=this;if((b=a.extend({},Fm,b)).minZoom!=null&&b.maxZoom!=null&&b.minZoom>b.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(b.minPitch!=null&&b.maxPitch!=null&&b.minPitch>b.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(b.minPitch!=null&&b.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(b.maxPitch!=null&&b.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var z=new nn(b.minZoom,b.maxZoom,b.minPitch,b.maxPitch,b.renderWorldCopies);if(p.call(this,z,b),this._interactive=b.interactive,this._maxTileCacheSize=b.maxTileCacheSize,this._failIfMajorPerformanceCaveat=b.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=b.preserveDrawingBuffer,this._antialias=b.antialias,this._trackResize=b.trackResize,this._bearingSnap=b.bearingSnap,this._refreshExpiredTiles=b.refreshExpiredTiles,this._fadeDuration=b.fadeDuration,this._crossSourceCollisions=b.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=b.collectResourceTiming,this._renderTaskQueue=new fc,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},zm,b.locale),this._requestManager=new a.RequestManager(b.transformRequest,b.accessToken),typeof b.container=="string"){if(this._container=a.window.document.getElementById(b.container),!this._container)throw new Error("Container '"+b.container+"' not found.")}else{if(!(b.container instanceof wl))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=b.container}if(b.maxBounds&&this.setMaxBounds(b.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return M._update(!1)}),this.on("moveend",function(){return M._update(!1)}),this.on("zoom",function(){return M._update(!0)}),a.window!==void 0&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1)),function(U,Y){var K=U.getCanvasContainer(),te=null,ce=!1,me=null;for(var pe in Wy)U[pe]=new Wy[pe](U,Y),Y.interactive&&Y[pe]&&U[pe].enable(Y[pe]);u.addEventListener(K,"mouseout",function(ye){U.fire(new Na("mouseout",U,ye))}),u.addEventListener(K,"mousedown",function(ye){ce=!0,me=u.mousePos(K,ye);var ve=new Na("mousedown",U,ye);U.fire(ve),!ve.defaultPrevented&&(Y.interactive&&!U.doubleClickZoom.isActive()&&U.stop(),U.boxZoom.onMouseDown(ye),U.boxZoom.isActive()||U.dragPan.isActive()||U.dragRotate.onMouseDown(ye),U.boxZoom.isActive()||U.dragRotate.isActive()||U.dragPan.onMouseDown(ye))}),u.addEventListener(K,"mouseup",function(ye){var ve=U.dragRotate.isActive();te&&!ve&&U.fire(new Na("contextmenu",U,te)),te=null,ce=!1,U.fire(new Na("mouseup",U,ye))}),u.addEventListener(K,"mousemove",function(ye){if(!U.dragPan.isActive()&&!U.dragRotate.isActive()){for(var ve=ye.target;ve&&ve!==K;)ve=ve.parentNode;ve===K&&U.fire(new Na("mousemove",U,ye))}}),u.addEventListener(K,"mouseover",function(ye){for(var ve=ye.target;ve&&ve!==K;)ve=ve.parentNode;ve===K&&U.fire(new Na("mouseover",U,ye))}),u.addEventListener(K,"touchstart",function(ye){var ve=new Kt("touchstart",U,ye);U.fire(ve),!ve.defaultPrevented&&(Y.interactive&&U.stop(),U.boxZoom.isActive()||U.dragRotate.isActive()||U.dragPan.onTouchStart(ye),U.touchZoomRotate.onStart(ye),U.doubleClickZoom.onTouchStart(ve))},{passive:!1}),u.addEventListener(K,"touchmove",function(ye){U.fire(new Kt("touchmove",U,ye))},{passive:!1}),u.addEventListener(K,"touchend",function(ye){U.fire(new Kt("touchend",U,ye))}),u.addEventListener(K,"touchcancel",function(ye){U.fire(new Kt("touchcancel",U,ye))}),u.addEventListener(K,"click",function(ye){var ve=u.mousePos(K,ye);(!me||ve.equals(me)||ve.dist(me)<Y.clickTolerance)&&U.fire(new Na("click",U,ye))}),u.addEventListener(K,"dblclick",function(ye){var ve=new Na("dblclick",U,ye);U.fire(ve),!ve.defaultPrevented&&U.doubleClickZoom.onDblClick(ve)}),u.addEventListener(K,"contextmenu",function(ye){var ve=U.dragRotate.isActive();ce||ve?ce&&(te=ye):U.fire(new Na("contextmenu",U,ye)),(U.dragRotate.isEnabled()||U.listens("contextmenu"))&&ye.preventDefault()}),u.addEventListener(K,"wheel",function(ye){Y.interactive&&U.stop();var ve=new jm("wheel",U,ye);U.fire(ve),!ve.defaultPrevented&&U.scrollZoom.onWheel(ye)},{passive:!1})}(this,b);var B=typeof b.hash=="string"&&b.hash||void 0;this._hash=b.hash&&new _l(B).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:b.center,zoom:b.zoom,bearing:b.bearing,pitch:b.pitch}),b.bounds&&(this.resize(),this.fitBounds(b.bounds,a.extend({},b.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=b.localIdeographFontFamily,b.style&&this.setStyle(b.style,{localIdeographFontFamily:b.localIdeographFontFamily}),b.attributionControl&&this.addControl(new ns({customAttribution:b.customAttribution})),this.addControl(new Us,b.logoPosition),this.on("style.load",function(){M.transform.unmodified&&M.jumpTo(M.style.stylesheet)}),this.on("data",function(U){M._update(U.dataType==="style"),M.fire(new a.Event(U.dataType+"data",U))}),this.on("dataloading",function(U){M.fire(new a.Event(U.dataType+"dataloading",U))})}p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v;var g={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return v.prototype._getMapId=function(){return this._mapId},v.prototype.addControl=function(b,M){if(M===void 0&&b.getDefaultPosition&&(M=b.getDefaultPosition()),M===void 0&&(M="top-right"),!b||!b.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var z=b.onAdd(this);this._controls.push(b);var B=this._controlPositions[M];return M.indexOf("bottom")!==-1?B.insertBefore(z,B.firstChild):B.appendChild(z),this},v.prototype.removeControl=function(b){if(!b||!b.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var M=this._controls.indexOf(b);return M>-1&&this._controls.splice(M,1),b.onRemove(this),this},v.prototype.resize=function(b){var M=this._containerDimensions(),z=M[0],B=M[1];return this._resizeCanvas(z,B),this.transform.resize(z,B),this.painter.resize(z,B),this.fire(new a.Event("movestart",b)).fire(new a.Event("move",b)).fire(new a.Event("resize",b)).fire(new a.Event("moveend",b)),this},v.prototype.getBounds=function(){return this.transform.getBounds()},v.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},v.prototype.setMaxBounds=function(b){return this.transform.setMaxBounds(a.LngLatBounds.convert(b)),this._update()},v.prototype.setMinZoom=function(b){if((b=b??-2)>=-2&&b<=this.transform.maxZoom)return this.transform.minZoom=b,this._update(),this.getZoom()<b&&this.setZoom(b),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},v.prototype.getMinZoom=function(){return this.transform.minZoom},v.prototype.setMaxZoom=function(b){if((b=b??22)>=this.transform.minZoom)return this.transform.maxZoom=b,this._update(),this.getZoom()>b&&this.setZoom(b),this;throw new Error("maxZoom must be greater than the current minZoom")},v.prototype.getMaxZoom=function(){return this.transform.maxZoom},v.prototype.setMinPitch=function(b){if((b=b??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(b>=0&&b<=this.transform.maxPitch)return this.transform.minPitch=b,this._update(),this.getPitch()<b&&this.setPitch(b),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},v.prototype.getMinPitch=function(){return this.transform.minPitch},v.prototype.setMaxPitch=function(b){if((b=b??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(b>=this.transform.minPitch)return this.transform.maxPitch=b,this._update(),this.getPitch()>b&&this.setPitch(b),this;throw new Error("maxPitch must be greater than the current minPitch")},v.prototype.getMaxPitch=function(){return this.transform.maxPitch},v.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},v.prototype.setRenderWorldCopies=function(b){return this.transform.renderWorldCopies=b,this._update()},v.prototype.project=function(b){return this.transform.locationPoint(a.LngLat.convert(b))},v.prototype.unproject=function(b){return this.transform.pointLocation(a.Point.convert(b))},v.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},v.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isZooming()},v.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},v.prototype.on=function(b,M,z){var B=this;if(z===void 0)return p.prototype.on.call(this,b,M);var U=function(){var K;if(b==="mouseenter"||b==="mouseover"){var te=!1;return{layer:M,listener:z,delegates:{mousemove:function(me){var pe=B.getLayer(M)?B.queryRenderedFeatures(me.point,{layers:[M]}):[];pe.length?te||(te=!0,z.call(B,new Na(b,B,me.originalEvent,{features:pe}))):te=!1},mouseout:function(){te=!1}}}}if(b==="mouseleave"||b==="mouseout"){var ce=!1;return{layer:M,listener:z,delegates:{mousemove:function(me){(B.getLayer(M)?B.queryRenderedFeatures(me.point,{layers:[M]}):[]).length?ce=!0:ce&&(ce=!1,z.call(B,new Na(b,B,me.originalEvent)))},mouseout:function(me){ce&&(ce=!1,z.call(B,new Na(b,B,me.originalEvent)))}}}}return{layer:M,listener:z,delegates:(K={},K[b]=function(me){var pe=B.getLayer(M)?B.queryRenderedFeatures(me.point,{layers:[M]}):[];pe.length&&(me.features=pe,z.call(B,me),delete me.features)},K)}}();for(var Y in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[b]=this._delegatedListeners[b]||[],this._delegatedListeners[b].push(U),U.delegates)this.on(Y,U.delegates[Y]);return this},v.prototype.off=function(b,M,z){if(z===void 0)return p.prototype.off.call(this,b,M);if(this._delegatedListeners&&this._delegatedListeners[b])for(var B=this._delegatedListeners[b],U=0;U<B.length;U++){var Y=B[U];if(Y.layer===M&&Y.listener===z){for(var K in Y.delegates)this.off(K,Y.delegates[K]);return B.splice(U,1),this}}return this},v.prototype.queryRenderedFeatures=function(b,M){if(!this.style)return[];var z;if(M!==void 0||b===void 0||b instanceof a.Point||Array.isArray(b)||(M=b,b=void 0),M=M||{},(b=b||[[0,0],[this.transform.width,this.transform.height]])instanceof a.Point||typeof b[0]=="number")z=[a.Point.convert(b)];else{var B=a.Point.convert(b[0]),U=a.Point.convert(b[1]);z=[B,new a.Point(U.x,B.y),U,new a.Point(B.x,U.y),B]}return this.style.queryRenderedFeatures(z,M,this.transform)},v.prototype.querySourceFeatures=function(b,M){return this.style.querySourceFeatures(b,M)},v.prototype.setStyle=function(b,M){return(M=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},M)).diff!==!1&&M.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&b?(this._diffStyle(b,M),this):(this._localIdeographFontFamily=M.localIdeographFontFamily,this._updateStyle(b,M))},v.prototype._getUIString=function(b){var M=this._locale[b];if(M==null)throw new Error("Missing UI string '"+b+"'");return M},v.prototype._updateStyle=function(b,M){return this.style&&(this.style.setEventedParent(null),this.style._remove()),b?(this.style=new ki(this,M||{}),this.style.setEventedParent(this,{style:this.style}),typeof b=="string"?this.style.loadURL(b):this.style.loadJSON(b),this):(delete this.style,this)},v.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new ki(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},v.prototype._diffStyle=function(b,M){var z=this;if(typeof b=="string"){var B=this._requestManager.normalizeStyleURL(b),U=this._requestManager.transformRequest(B,a.ResourceType.Style);a.getJSON(U,function(Y,K){Y?z.fire(new a.ErrorEvent(Y)):K&&z._updateDiff(K,M)})}else typeof b=="object"&&this._updateDiff(b,M)},v.prototype._updateDiff=function(b,M){try{this.style.setState(b)&&this._update(!0)}catch(z){a.warnOnce("Unable to perform style diff: "+(z.message||z.error||z)+".  Rebuilding the style from scratch."),this._updateStyle(b,M)}},v.prototype.getStyle=function(){if(this.style)return this.style.serialize()},v.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},v.prototype.addSource=function(b,M){return this._lazyInitEmptyStyle(),this.style.addSource(b,M),this._update(!0)},v.prototype.isSourceLoaded=function(b){var M=this.style&&this.style.sourceCaches[b];if(M!==void 0)return M.loaded();this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+b+"'")))},v.prototype.areTilesLoaded=function(){var b=this.style&&this.style.sourceCaches;for(var M in b){var z=b[M]._tiles;for(var B in z){var U=z[B];if(U.state!=="loaded"&&U.state!=="errored")return!1}}return!0},v.prototype.addSourceType=function(b,M,z){return this._lazyInitEmptyStyle(),this.style.addSourceType(b,M,z)},v.prototype.removeSource=function(b){return this.style.removeSource(b),this._update(!0)},v.prototype.getSource=function(b){return this.style.getSource(b)},v.prototype.addImage=function(b,M,z){z===void 0&&(z={});var B=z.pixelRatio;B===void 0&&(B=1);var U=z.sdf;U===void 0&&(U=!1);var Y=z.stretchX,K=z.stretchY,te=z.content;if(this._lazyInitEmptyStyle(),M instanceof Ua||pc&&M instanceof pc){var ce=a.browser.getImageData(M),me=ce.width,pe=ce.height,ye=ce.data;this.style.addImage(b,{data:new a.RGBAImage({width:me,height:pe},ye),pixelRatio:B,stretchX:Y,stretchY:K,content:te,sdf:U,version:0})}else{if(M.width===void 0||M.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var ve=M.width,De=M.height,Oe=M.data,Be=M;this.style.addImage(b,{data:new a.RGBAImage({width:ve,height:De},new Uint8Array(Oe)),pixelRatio:B,stretchX:Y,stretchY:K,content:te,sdf:U,version:0,userImage:Be}),Be.onAdd&&Be.onAdd(this,b)}},v.prototype.updateImage=function(b,M){var z=this.style.getImage(b);if(!z)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var B=M instanceof Ua||pc&&M instanceof pc?a.browser.getImageData(M):M,U=B.width,Y=B.height,K=B.data;if(U===void 0||Y===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(U!==z.data.width||Y!==z.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var te=!(M instanceof Ua||pc&&M instanceof pc);z.data.replace(K,te),this.style.updateImage(b,z)},v.prototype.hasImage=function(b){return b?!!this.style.getImage(b):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},v.prototype.removeImage=function(b){this.style.removeImage(b)},v.prototype.loadImage=function(b,M){a.getImage(this._requestManager.transformRequest(b,a.ResourceType.Image),M)},v.prototype.listImages=function(){return this.style.listImages()},v.prototype.addLayer=function(b,M){return this._lazyInitEmptyStyle(),this.style.addLayer(b,M),this._update(!0)},v.prototype.moveLayer=function(b,M){return this.style.moveLayer(b,M),this._update(!0)},v.prototype.removeLayer=function(b){return this.style.removeLayer(b),this._update(!0)},v.prototype.getLayer=function(b){return this.style.getLayer(b)},v.prototype.setLayerZoomRange=function(b,M,z){return this.style.setLayerZoomRange(b,M,z),this._update(!0)},v.prototype.setFilter=function(b,M,z){return z===void 0&&(z={}),this.style.setFilter(b,M,z),this._update(!0)},v.prototype.getFilter=function(b){return this.style.getFilter(b)},v.prototype.setPaintProperty=function(b,M,z,B){return B===void 0&&(B={}),this.style.setPaintProperty(b,M,z,B),this._update(!0)},v.prototype.getPaintProperty=function(b,M){return this.style.getPaintProperty(b,M)},v.prototype.setLayoutProperty=function(b,M,z,B){return B===void 0&&(B={}),this.style.setLayoutProperty(b,M,z,B),this._update(!0)},v.prototype.getLayoutProperty=function(b,M){return this.style.getLayoutProperty(b,M)},v.prototype.setLight=function(b,M){return M===void 0&&(M={}),this._lazyInitEmptyStyle(),this.style.setLight(b,M),this._update(!0)},v.prototype.getLight=function(){return this.style.getLight()},v.prototype.setFeatureState=function(b,M){return this.style.setFeatureState(b,M),this._update()},v.prototype.removeFeatureState=function(b,M){return this.style.removeFeatureState(b,M),this._update()},v.prototype.getFeatureState=function(b){return this.style.getFeatureState(b)},v.prototype.getContainer=function(){return this._container},v.prototype.getCanvasContainer=function(){return this._canvasContainer},v.prototype.getCanvas=function(){return this._canvas},v.prototype._containerDimensions=function(){var b=0,M=0;return this._container&&(b=this._container.clientWidth||400,M=this._container.clientHeight||300),[b,M]},v.prototype._detectMissingCSS=function(){a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Goong GL JS, which may cause the map to display incorrectly. Please ensure your page includes goong-js.css, as described in https://docs.goong.io/javascript/.")},v.prototype._setupContainer=function(){var b=this._container;b.classList.add("mapboxgl-map"),(this._missingCSSCanary=u.create("div","mapboxgl-canary",b)).style.visibility="hidden",this._detectMissingCSS();var M=this._canvasContainer=u.create("div","mapboxgl-canvas-container",b);this._interactive&&M.classList.add("mapboxgl-interactive"),this._canvas=u.create("canvas","mapboxgl-canvas",M),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var z=this._containerDimensions();this._resizeCanvas(z[0],z[1]);var B=this._controlContainer=u.create("div","mapboxgl-control-container",b),U=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(Y){U[Y]=u.create("div","mapboxgl-ctrl-"+Y,B)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},v.prototype._resizeCanvas=function(b,M){var z=a.browser.devicePixelRatio||1;this._canvas.width=z*b,this._canvas.height=z*M,this._canvas.style.width=b+"px",this._canvas.style.height=M+"px"},v.prototype._setupPainter=function(){var b=a.extend({},l.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),M=this._canvas.getContext("webgl",b)||this._canvas.getContext("experimental-webgl",b);M?(this.painter=new mi(M,this.transform),a.webpSupported.testSupport(M)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))},v.prototype._contextLost=function(b){b.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:b}))},v.prototype._contextRestored=function(b){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:b}))},v.prototype._onMapScroll=function(b){if(b.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},v.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},v.prototype._update=function(b){return this.style?(this._styleDirty=this._styleDirty||b,this._sourcesDirty=!0,this.triggerRepaint(),this):this},v.prototype._requestRenderFrame=function(b){return this._update(),this._renderTaskQueue.add(b)},v.prototype._cancelRenderFrame=function(b){this._renderTaskQueue.remove(b)},v.prototype._render=function(){var b,M=this,z=0,B=this.painter.context.extTimerQuery;this.listens("gpu-timing-frame")&&(b=B.createQueryEXT(),B.beginQueryEXT(B.TIME_ELAPSED_EXT,b),z=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var U=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Y=this.transform.zoom,K=a.browser.now();this.style.zoomHistory.update(Y,K);var te=new a.EvaluationParameters(Y,{now:K,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),ce=te.crossFadingFactor();ce===1&&ce===this._crossFadingFactor||(U=!0,this._crossFadingFactor=ce),this.style.update(te)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),gpuTiming:!!this.listens("gpu-timing-layer"),fadeDuration:this._fadeDuration}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||U)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var me=a.browser.now()-z;B.endQueryEXT(B.TIME_ELAPSED_EXT,b),setTimeout(function(){var ye=B.getQueryObjectEXT(b,B.QUERY_RESULT_EXT)/1e6;B.deleteQueryEXT(b),M.fire(new a.Event("gpu-timing-frame",{cpuTime:me,gpuTime:ye}))},50)}if(this.listens("gpu-timing-layer")){var pe=this.painter.collectGpuTimers();setTimeout(function(){var ye=M.painter.queryGpuTimers(pe);M.fire(new a.Event("gpu-timing-layer",{layerTimes:ye}))},50)}return this._sourcesDirty||this._styleDirty||this._placementDirty||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new a.Event("idle"))),this},v.prototype.remove=function(){this._hash&&this._hash.remove();for(var b=0,M=this._controls;b<M.length;b+=1)M[b].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),a.window!==void 0&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var z=this.painter.context.gl.getExtension("WEBGL_lose_context");z&&z.loseContext(),kh(this._canvasContainer),kh(this._controlContainer),kh(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new a.Event("remove"))},v.prototype.triggerRepaint=function(){var b=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(M){b._frame=null,b._render()}))},v.prototype._onWindowOnline=function(){this._update()},v.prototype._onWindowResize=function(b){this._trackResize&&this.resize({originalEvent:b})._update()},g.showTileBoundaries.get=function(){return!!this._showTileBoundaries},g.showTileBoundaries.set=function(b){this._showTileBoundaries!==b&&(this._showTileBoundaries=b,this._update())},g.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},g.showCollisionBoxes.set=function(b){this._showCollisionBoxes!==b&&(this._showCollisionBoxes=b,b?this.style._generateCollisionBoxes():this._update())},g.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},g.showOverdrawInspector.set=function(b){this._showOverdrawInspector!==b&&(this._showOverdrawInspector=b,this._update())},g.repaint.get=function(){return!!this._repaint},g.repaint.set=function(b){this._repaint!==b&&(this._repaint=b,this.triggerRepaint())},g.vertices.get=function(){return!!this._vertices},g.vertices.set=function(b){this._vertices=b,this._update()},v.prototype._setCacheLimits=function(b,M){a.setCacheLimits(b,M)},g.version.get=function(){return a.version},Object.defineProperties(v.prototype,g),v}(O_);function kh(p){p.parentNode&&p.parentNode.removeChild(p)}var Yy={showCompass:!0,showZoom:!0,visualizePitch:!1},ra=function(p){var v=this;this.options=a.extend({},Yy,p),this._container=u.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(g){return g.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(g){return v._map.zoomIn({},{originalEvent:g})}),u.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(g){return v._map.zoomOut({},{originalEvent:g})}),u.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(g){v.options.visualizePitch?v._map.resetNorthPitch({},{originalEvent:g}):v._map.resetNorth({},{originalEvent:g})}),this._compassIcon=u.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};function Fn(p,v,g){if(p=new a.LngLat(p.lng,p.lat),v){var b=new a.LngLat(p.lng-360,p.lat),M=new a.LngLat(p.lng+360,p.lat),z=g.locationPoint(p).distSqr(v);g.locationPoint(b).distSqr(v)<z?p=b:g.locationPoint(M).distSqr(v)<z&&(p=M)}for(;Math.abs(p.lng-g.center.lng)>180;){var B=g.locationPoint(p);if(B.x>=0&&B.y>=0&&B.x<=g.width&&B.y<=g.height)break;p.lng>g.center.lng?p.lng-=360:p.lng+=360}return p}ra.prototype._updateZoomButtons=function(){var p=this._map.getZoom();this._zoomInButton.disabled=p===this._map.getMaxZoom(),this._zoomOutButton.disabled=p===this._map.getMinZoom()},ra.prototype._rotateCompassArrow=function(){var p=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=p},ra.prototype.onAdd=function(p){return this._map=p,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ji(p,{button:"left",element:this._compass}),u.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),u.addEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.enable()),this._container},ra.prototype.onRemove=function(){u.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),u.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),u.removeEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.disable(),delete this._handler),delete this._map},ra.prototype._createButton=function(p,v){var g=u.create("button",p,this._container);return g.type="button",g.addEventListener("click",v),g},ra.prototype._setButtonTitle=function(p,v){var g=this._map._getUIString("NavigationControl."+v);p.title=g,p.setAttribute("aria-label",g)};var Sl={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function hu(p,v,g){var b=p.classList;for(var M in Sl)b.remove("mapboxgl-"+g+"-anchor-"+M);b.add("mapboxgl-"+g+"-anchor-"+v)}var no,Kd=function(p){function v(g,b){if(p.call(this),(g instanceof a.window.HTMLElement||b)&&(g=a.extend({element:g},b)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=g&&g.anchor||"center",this._color=g&&g.color||"#3FB1CE",this._scale=g&&g.scale||1,this._draggable=g&&g.draggable||!1,this._state="inactive",this._rotation=g&&g.rotation||0,this._rotationAlignment=g&&g.rotationAlignment||"auto",this._pitchAlignment=g&&g.pitchAlignment&&g.pitchAlignment!=="auto"?g.pitchAlignment:this._rotationAlignment,g&&g.element)this._element=g.element,this._offset=a.Point.convert(g&&g.offset||[0,0]);else{this._defaultMarker=!0,this._element=u.create("div"),this._element.setAttribute("aria-label","Map marker");var M=u.createNS("http://www.w3.org/2000/svg","svg");M.setAttributeNS(null,"display","block"),M.setAttributeNS(null,"height","41px"),M.setAttributeNS(null,"width","27px"),M.setAttributeNS(null,"viewBox","0 0 27 41");var z=u.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"stroke","none"),z.setAttributeNS(null,"stroke-width","1"),z.setAttributeNS(null,"fill","none"),z.setAttributeNS(null,"fill-rule","evenodd");var B=u.createNS("http://www.w3.org/2000/svg","g");B.setAttributeNS(null,"fill-rule","nonzero");var U=u.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"transform","translate(3.0, 29.0)"),U.setAttributeNS(null,"fill","#000000");for(var Y=0,K=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];Y<K.length;Y+=1){var te=K[Y],ce=u.createNS("http://www.w3.org/2000/svg","ellipse");ce.setAttributeNS(null,"opacity","0.04"),ce.setAttributeNS(null,"cx","10.5"),ce.setAttributeNS(null,"cy","5.80029008"),ce.setAttributeNS(null,"rx",te.rx),ce.setAttributeNS(null,"ry",te.ry),U.appendChild(ce)}var me=u.createNS("http://www.w3.org/2000/svg","g");me.setAttributeNS(null,"fill",this._color);var pe=u.createNS("http://www.w3.org/2000/svg","path");pe.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),me.appendChild(pe);var ye=u.createNS("http://www.w3.org/2000/svg","g");ye.setAttributeNS(null,"opacity","0.25"),ye.setAttributeNS(null,"fill","#000000");var ve=u.createNS("http://www.w3.org/2000/svg","path");ve.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),ye.appendChild(ve);var De=u.createNS("http://www.w3.org/2000/svg","g");De.setAttributeNS(null,"transform","translate(6.0, 7.0)"),De.setAttributeNS(null,"fill","#FFFFFF");var Oe=u.createNS("http://www.w3.org/2000/svg","g");Oe.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Be=u.createNS("http://www.w3.org/2000/svg","circle");Be.setAttributeNS(null,"fill","#000000"),Be.setAttributeNS(null,"opacity","0.25"),Be.setAttributeNS(null,"cx","5.5"),Be.setAttributeNS(null,"cy","5.5"),Be.setAttributeNS(null,"r","5.4999962");var Fe=u.createNS("http://www.w3.org/2000/svg","circle");Fe.setAttributeNS(null,"fill","#FFFFFF"),Fe.setAttributeNS(null,"cx","5.5"),Fe.setAttributeNS(null,"cy","5.5"),Fe.setAttributeNS(null,"r","5.4999962"),Oe.appendChild(Be),Oe.appendChild(Fe),B.appendChild(U),B.appendChild(me),B.appendChild(ye),B.appendChild(De),B.appendChild(Oe),M.appendChild(B),M.setAttributeNS(null,"height",41*this._scale+"px"),M.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(M),this._offset=a.Point.convert(g&&g.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function($e){$e.preventDefault()}),this._element.addEventListener("mousedown",function($e){$e.preventDefault()}),hu(this._element,this._anchor,"marker"),this._popup=null}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.addTo=function(g){return this.remove(),this._map=g,g.getCanvasContainer().appendChild(this._element),g.on("move",this._update),g.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},v.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),u.remove(this._element),this._popup&&this._popup.remove(),this},v.prototype.getLngLat=function(){return this._lngLat},v.prototype.setLngLat=function(g){return this._lngLat=a.LngLat.convert(g),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},v.prototype.getElement=function(){return this._element},v.prototype.setPopup=function(g){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),g){if(!("offset"in g.options)){var b=Math.sqrt(Math.pow(13.5,2)/2);g.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[b,-1*(24.6+b)],"bottom-right":[-b,-1*(24.6+b)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=g,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},v.prototype._onKeyPress=function(g){var b=g.code,M=g.charCode||g.keyCode;b!=="Space"&&b!=="Enter"&&M!==32&&M!==13||this.togglePopup()},v.prototype._onMapClick=function(g){var b=g.originalEvent.target,M=this._element;this._popup&&(b===M||M.contains(b))&&this.togglePopup()},v.prototype.getPopup=function(){return this._popup},v.prototype.togglePopup=function(){var g=this._popup;return g?(g.isOpen()?g.remove():g.addTo(this._map),this):this},v.prototype._update=function(g){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Fn(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var b="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?b="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(b="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var M="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?M="rotateX(0deg)":this._pitchAlignment==="map"&&(M="rotateX("+this._map.getPitch()+"deg)"),g&&g.type!=="moveend"||(this._pos=this._pos.round()),u.setTransform(this._element,Sl[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+M+" "+b)}},v.prototype.getOffset=function(){return this._offset},v.prototype.setOffset=function(g){return this._offset=a.Point.convert(g),this._update(),this},v.prototype._onMove=function(g){this._pos=g.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag"))},v.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},v.prototype._addDragHandler=function(g){this._element.contains(g.originalEvent.target)&&(g.preventDefault(),this._positionDelta=g.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},v.prototype.setDraggable=function(g){return this._draggable=!!g,this._map&&(g?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},v.prototype.isDraggable=function(){return this._draggable},v.prototype.setRotation=function(g){return this._rotation=g||0,this._update(),this},v.prototype.getRotation=function(){return this._rotation},v.prototype.setRotationAlignment=function(g){return this._rotationAlignment=g||"auto",this._update(),this},v.prototype.getRotationAlignment=function(){return this._rotationAlignment},v.prototype.setPitchAlignment=function(g){return this._pitchAlignment=g&&g!=="auto"?g:this._rotationAlignment,this._update(),this},v.prototype.getPitchAlignment=function(){return this._pitchAlignment},v}(a.Evented),Jd={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},Eh=function(p){function v(g){p.call(this),this.options=a.extend({},Jd,g),a.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.onAdd=function(g){var b;return this._map=g,this._container=u.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),b=this._setupUI,no!==void 0?b(no):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(M){no=M.state!=="denied",b(no)}):(no=!!a.window.navigator.geolocation,b(no)),this._container},v.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),u.remove(this._container),this._map=void 0},v.prototype._isOutOfMapMaxBounds=function(g){var b=this._map.getMaxBounds(),M=g.coords;return b&&(M.longitude<b.getWest()||M.longitude>b.getEast()||M.latitude<b.getSouth()||M.latitude>b.getNorth())},v.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},v.prototype._onSuccess=function(g){if(this._isOutOfMapMaxBounds(g))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",g)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=g,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(g),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(g),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",g)),this._finish()},v.prototype._updateCamera=function(g){var b=new a.LngLat(g.coords.longitude,g.coords.latitude),M=g.coords.accuracy,z=this._map.getBearing(),B=a.extend({bearing:z},this.options.fitBoundsOptions);this._map.fitBounds(b.toBounds(M),B,{geolocateSource:!0})},v.prototype._updateMarker=function(g){g?this._userLocationDotMarker.setLngLat([g.coords.longitude,g.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},v.prototype._onError=function(g){if(this.options.trackUserLocation)if(g.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var b=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=b,this._geolocateButton.setAttribute("aria-label",b),this._geolocationWatchID!==void 0&&this._clearWatch()}else this._setErrorState();this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",g)),this._finish()},v.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},v.prototype._setupUI=function(g){var b=this;if(this._container.addEventListener("contextmenu",function(B){return B.preventDefault()}),this._geolocateButton=u.create("button","mapboxgl-ctrl-geolocate",this._container),u.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",g===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var M=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=M,this._geolocateButton.setAttribute("aria-label",M)}else{var z=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=z,this._geolocateButton.setAttribute("aria-label",z)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=u.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Kd(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(B){var U=B.originalEvent&&B.originalEvent.type==="resize";B.geolocateSource||b._watchState!=="ACTIVE_LOCK"||U||(b._watchState="BACKGROUND",b._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),b._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),b.fire(new a.Event("trackuserlocationend")))})},v.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}this._watchState==="OFF"&&this._geolocationWatchID!==void 0?this._clearWatch():this._geolocationWatchID===void 0&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},v.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},v}(a.Evented),io={maxWidth:100,unit:"metric"},Cl=function(p){this.options=a.extend({},io,p),a.bindAll(["_onMove","setUnit"],this)};function ir(p,v,g){var b,M,z,B,U,Y,K=g&&g.maxWidth||100,te=p._container.clientHeight/2,ce=(b=p.unproject([0,te]),M=p.unproject([K,te]),z=Math.PI/180,B=b.lat*z,U=M.lat*z,Y=Math.sin(B)*Math.sin(U)+Math.cos(B)*Math.cos(U)*Math.cos((M.lng-b.lng)*z),6371e3*Math.acos(Math.min(Y,1)));if(g&&g.unit==="imperial"){var me=3.2808*ce;me>5280?lr(v,K,me/5280,p._getUIString("ScaleControl.Miles")):lr(v,K,me,p._getUIString("ScaleControl.Feet"))}else g&&g.unit==="nautical"?lr(v,K,ce/1852,p._getUIString("ScaleControl.NauticalMiles")):ce>=1e3?lr(v,K,ce/1e3,p._getUIString("ScaleControl.Kilometers")):lr(v,K,ce,p._getUIString("ScaleControl.Meters"))}function lr(p,v,g,b){var M,z,B,U=(M=g,z=Math.pow(10,(""+Math.floor(M)).length-1),B=(B=M/z)>=10?10:B>=5?5:B>=3?3:B>=2?2:B>=1?1:function(K){var te=Math.pow(10,Math.ceil(-Math.log(K)/Math.LN10));return Math.round(K*te)/te}(B),z*B),Y=U/g;p.style.width=v*Y+"px",p.innerHTML=U+b}Cl.prototype.getDefaultPosition=function(){return"bottom-left"},Cl.prototype._onMove=function(){ir(this._map,this._container,this.options)},Cl.prototype.onAdd=function(p){return this._map=p,this._container=u.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",p.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Cl.prototype.onRemove=function(){u.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Cl.prototype.setUnit=function(p){this.options.unit=p,ir(this._map,this._container,this.options)};var _o=function(p){this._fullscreen=!1,p&&p.container&&(p.container instanceof a.window.HTMLElement?this._container=p.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};_o.prototype.onAdd=function(p){return this._map=p,this._container||(this._container=this._map.getContainer()),this._controlContainer=u.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},_o.prototype.onRemove=function(){u.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},_o.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},_o.prototype._setupUI=function(){var p=this._fullscreenButton=u.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);u.create("span","mapboxgl-ctrl-icon",p).setAttribute("aria-hidden",!0),p.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},_o.prototype._updateTitle=function(){var p=this._getTitle();this._fullscreenButton.setAttribute("aria-label",p),this._fullscreenButton.title=p},_o.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},_o.prototype._isFullscreen=function(){return this._fullscreen},_o.prototype._changeIcon=function(){(a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},_o.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var du={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Th=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),ao=function(p){function v(g){p.call(this),this.options=a.extend(Object.create(du),g),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return p&&(v.__proto__=p),v.prototype=Object.create(p&&p.prototype),v.prototype.constructor=v,v.prototype.addTo=function(g){return this._map&&this.remove(),this._map=g,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},v.prototype.isOpen=function(){return!!this._map},v.prototype.remove=function(){return this._content&&u.remove(this._content),this._container&&(u.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},v.prototype.getLngLat=function(){return this._lngLat},v.prototype.setLngLat=function(g){return this._lngLat=a.LngLat.convert(g),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},v.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},v.prototype.getElement=function(){return this._container},v.prototype.setText=function(g){return this.setDOMContent(a.window.document.createTextNode(g))},v.prototype.setHTML=function(g){var b,M=a.window.document.createDocumentFragment(),z=a.window.document.createElement("body");for(z.innerHTML=g;b=z.firstChild;)M.appendChild(b);return this.setDOMContent(M)},v.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},v.prototype.setMaxWidth=function(g){return this.options.maxWidth=g,this._update(),this},v.prototype.setDOMContent=function(g){return this._createContent(),this._content.appendChild(g),this._createCloseButton(),this._update(),this._focusFirstElement(),this},v.prototype.addClassName=function(g){this._container&&this._container.classList.add(g)},v.prototype.removeClassName=function(g){this._container&&this._container.classList.remove(g)},v.prototype.setOffset=function(g){return this.options.offset=g,this._update(),this},v.prototype.toggleClassName=function(g){if(this._container)return this._container.classList.toggle(g)},v.prototype._createContent=function(){this._content&&u.remove(this._content),this._content=u.create("div","mapboxgl-popup-content",this._container)},v.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=u.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},v.prototype._onMouseUp=function(g){this._update(g.point)},v.prototype._onMouseMove=function(g){this._update(g.point)},v.prototype._onDrag=function(g){this._update(g.point)},v.prototype._update=function(g){var b=this,M=this._lngLat||this._trackPointer;if(this._map&&M&&this._content&&(this._container||(this._container=u.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=u.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(me){return b._container.classList.add(me)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Fn(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||g)){var z=this._pos=this._trackPointer&&g?g:this._map.project(this._lngLat),B=this.options.anchor,U=function me(pe){if(pe){if(typeof pe=="number"){var ye=Math.round(Math.sqrt(.5*Math.pow(pe,2)));return{center:new a.Point(0,0),top:new a.Point(0,pe),"top-left":new a.Point(ye,ye),"top-right":new a.Point(-ye,ye),bottom:new a.Point(0,-pe),"bottom-left":new a.Point(ye,-ye),"bottom-right":new a.Point(-ye,-ye),left:new a.Point(pe,0),right:new a.Point(-pe,0)}}if(pe instanceof a.Point||Array.isArray(pe)){var ve=a.Point.convert(pe);return{center:ve,top:ve,"top-left":ve,"top-right":ve,bottom:ve,"bottom-left":ve,"bottom-right":ve,left:ve,right:ve}}return{center:a.Point.convert(pe.center||[0,0]),top:a.Point.convert(pe.top||[0,0]),"top-left":a.Point.convert(pe["top-left"]||[0,0]),"top-right":a.Point.convert(pe["top-right"]||[0,0]),bottom:a.Point.convert(pe.bottom||[0,0]),"bottom-left":a.Point.convert(pe["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(pe["bottom-right"]||[0,0]),left:a.Point.convert(pe.left||[0,0]),right:a.Point.convert(pe.right||[0,0])}}return me(new a.Point(0,0))}(this.options.offset);if(!B){var Y,K=this._container.offsetWidth,te=this._container.offsetHeight;Y=z.y+U.bottom.y<te?["top"]:z.y>this._map.transform.height-te?["bottom"]:[],z.x<K/2?Y.push("left"):z.x>this._map.transform.width-K/2&&Y.push("right"),B=Y.length===0?"bottom":Y.join("-")}var ce=z.add(U[B]).round();u.setTransform(this._container,Sl[B]+" translate("+ce.x+"px,"+ce.y+"px)"),hu(this._container,B,"popup")}},v.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var g=this._container.querySelector(Th);g&&g.focus()}},v.prototype._onClose=function(){this.remove()},v}(a.Evented),is={version:a.version,supported:l,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:Bm,NavigationControl:ra,GeolocateControl:Eh,AttributionControl:ns,ScaleControl:Cl,FullscreenControl:_o,Popup:ao,Marker:Kd,Style:ki,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(p){a.config.ACCESS_TOKEN=p},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(p){a.config.API_URL=p},get workerCount(){return G.workerCount},set workerCount(p){G.workerCount=p},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(p){a.config.MAX_PARALLEL_IMAGE_REQUESTS=p},clearStorage:function(p){a.clearTileCache(p)},workerUrl:""};return is}),i})})(rj);var tq=rj.exports;const Zl=Qn(tq);var rq=1e-7;function _C(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function nj(t,e){if(t===e)return!0;if(_C(t)&&_C(e)){if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(!nj(t[r],e[r]))return!1;return!0}return Math.abs(t-e)<=rq}function K0(t,e,r){return Math.max(e,Math.min(r,t))}function B1(t,e,r){return _C(t)?t.map(function(n,i){return B1(n,e[i],r)}):r*e+(1-r)*t}function il(t,e){if(!t)throw new Error(e||"react-map-gl: assertion failed.")}function s4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function l4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s4(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var rd={minZoom:0,maxZoom:24,minPitch:0,maxPitch:85},t2={pitch:0,bearing:0,altitude:1.5},c4=5,nq=1.2,bp=function(){function t(e){var r=e.width,n=e.height,i=e.latitude,o=e.longitude,a=e.zoom,l=e.bearing,u=l===void 0?t2.bearing:l,h=e.pitch,f=h===void 0?t2.pitch:h,m=e.altitude,x=m===void 0?t2.altitude:m,w=e.maxZoom,S=w===void 0?rd.maxZoom:w,C=e.minZoom,A=C===void 0?rd.minZoom:C,E=e.maxPitch,P=E===void 0?rd.maxPitch:E,I=e.minPitch,N=I===void 0?rd.minPitch:I,D=e.transitionDuration,L=e.transitionEasing,R=e.transitionInterpolator,$=e.transitionInterruption,W=e.startPanLngLat,J=e.startZoomLngLat,q=e.startRotatePos,ee=e.startBearing,se=e.startPitch,he=e.startZoom;Zr(this,t),il(Number.isFinite(r),"`width` must be supplied"),il(Number.isFinite(n),"`height` must be supplied"),il(Number.isFinite(o),"`longitude` must be supplied"),il(Number.isFinite(i),"`latitude` must be supplied"),il(Number.isFinite(a),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:r,height:n,latitude:i,longitude:o,zoom:a,bearing:u,pitch:f,altitude:x,maxZoom:S,minZoom:A,maxPitch:P,minPitch:N,transitionDuration:D,transitionEasing:L,transitionInterpolator:R,transitionInterruption:$}),this._state={startPanLngLat:W,startZoomLngLat:J,startRotatePos:q,startBearing:ee,startPitch:se,startZoom:he}}return Kr(t,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getState",value:function(){return this._state}},{key:"panStart",value:function(r){var n=r.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(n)})}},{key:"pan",value:function(r){var n=r.pos,i=r.startPos,o=this._state.startPanLngLat||this._unproject(i);if(!o)return this;var a=this._calculateNewLngLat({startPanLngLat:o,pos:n}),l=Sa(a,2),u=l[0],h=l[1];return this._getUpdatedMapState({longitude:u,latitude:h})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(r){var n=r.pos;return this._getUpdatedMapState({startRotatePos:n,startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(r){var n=r.pos,i=r.deltaAngleX,o=i===void 0?0:i,a=r.deltaAngleY,l=a===void 0?0:a,u=this._state,h=u.startRotatePos,f=u.startBearing,m=u.startPitch;if(!Number.isFinite(f)||!Number.isFinite(m))return this;var x;return n?x=this._calculateNewPitchAndBearing(l4(l4({},this._getRotationParams(n,h)),{},{startBearing:f,startPitch:m})):x={bearing:f+o,pitch:m+l},this._getUpdatedMapState(x)}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(r){var n=r.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(n),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(r){var n=r.pos,i=r.startPos,o=r.scale;il(o>0,"`scale` must be a positive number");var a=this._state,l=a.startZoom,u=a.startZoomLngLat;Number.isFinite(l)||(l=this._viewportProps.zoom,u=this._unproject(i)||this._unproject(n)),il(u,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var h=this._calculateNewZoom({scale:o,startZoom:l||0}),f=new Xl(Object.assign({},this._viewportProps,{zoom:h})),m=f.getMapCenterByLngLatPosition({lngLat:u,pos:n}),x=Sa(m,2),w=x[0],S=x[1];return this._getUpdatedMapState({zoom:h,longitude:w,latitude:S})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(r){return new t(Object.assign({},this._viewportProps,this._state,r))}},{key:"_applyConstraints",value:function(r){var n=r.maxZoom,i=r.minZoom,o=r.zoom;r.zoom=K0(o,i,n);var a=r.maxPitch,l=r.minPitch,u=r.pitch;return r.pitch=K0(u,l,a),Object.assign(r,TG(r)),r}},{key:"_unproject",value:function(r){var n=new Xl(this._viewportProps);return r&&n.unproject(r)}},{key:"_calculateNewLngLat",value:function(r){var n=r.startPanLngLat,i=r.pos,o=new Xl(this._viewportProps);return o.getMapCenterByLngLatPosition({lngLat:n,pos:i})}},{key:"_calculateNewZoom",value:function(r){var n=r.scale,i=r.startZoom,o=this._viewportProps,a=o.maxZoom,l=o.minZoom,u=i+Math.log2(n);return K0(u,l,a)}},{key:"_calculateNewPitchAndBearing",value:function(r){var n=r.deltaScaleX,i=r.deltaScaleY,o=r.startBearing,a=r.startPitch;i=K0(i,-1,1);var l=this._viewportProps,u=l.minPitch,h=l.maxPitch,f=o+180*n,m=a;return i>0?m=a+i*(h-a):i<0&&(m=a-i*(u-a)),{pitch:m,bearing:f}}},{key:"_getRotationParams",value:function(r,n){var i=r[0]-n[0],o=r[1]-n[1],a=r[1],l=n[1],u=this._viewportProps,h=u.width,f=u.height,m=i/h,x=0;return o>0?Math.abs(f-l)>c4&&(x=o/(l-f)*nq):o<0&&l>c4&&(x=1-a/l),x=Math.min(1,Math.max(-1,x)),{deltaScaleX:m,deltaScaleY:x}}}]),t}();function iq(t){return t[0].toLowerCase()+t.slice(1)}function aq(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rd;for(var r in e){var n=r.slice(0,3),i=iq(r.slice(3));if(n==="min"&&t[i]<e[r]||n==="max"&&t[i]>e[r])return!1}return!0}function u4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function h4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u4(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var am=H.createContext({viewport:null,map:null,container:null,onViewportChange:null,onViewStateChange:null,eventManager:null}),IE=am.Provider;function oq(t){var e=t.value,r=t.children,n=H.useState(null),i=Sa(n,2),o=i[0],a=i[1],l=H.useContext(am);return e=h4(h4({setMap:a},l),{},{map:l&&l.map||o},e),H.createElement(IE,{value:e},r)}am.Provider=oq;var wC=typeof window<"u"?H.useLayoutEffect:H.useEffect;function Wb(t,e){var r=e.longitude,n=e.latitude;return t&&t.queryTerrainElevation&&t.queryTerrainElevation([r,n])||0}function d4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d4(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var sq="https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens",ij="A valid API access token is required to use Mapbox data";function lq(){}function aj(t){var e=t.map,r=t.props,n=t.width,i=t.height,o=rl(rl(rl({},r),r.viewState),{},{width:n,height:i});return o.position=[0,0,Wb(e,o)],new Xl(o)}var cq=401,f4={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},uq=Object.assign({},Od.propTypes,{width:Ze.oneOfType([Ze.number,Ze.string]),height:Ze.oneOfType([Ze.number,Ze.string]),onResize:Ze.func,disableTokenWarning:Ze.bool,visible:Ze.bool,className:Ze.string,style:Ze.object,visibilityConstraints:Ze.object}),hq=Object.assign({},Od.defaultProps,{disableTokenWarning:!1,visible:!0,onResize:lq,className:"",style:null,visibilityConstraints:rd});function dq(){var t={position:"absolute",left:0,top:0};return H.createElement("div",{key:"warning",id:"no-token-warning",style:t},H.createElement("h3",{key:"header"},ij),H.createElement("div",{key:"text"},"For information on setting up your basemap, read"),H.createElement("a",{key:"link",href:sq},"Note on Map Tokens"))}function fq(t){return{getMap:function(){return t.current&&t.current.getMap()},queryRenderedFeatures:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.current&&t.current.getMap();return i&&i.queryRenderedFeatures(r,n)}}}var gh=H.forwardRef(function(t,e){var r=H.useState(!0),n=Sa(r,2),i=n[0],o=n[1],a=H.useState({width:0,height:0}),l=Sa(a,2),u=l[0],h=l[1],f=H.useRef(null),m=H.useRef(null),x=H.useRef(null),w=H.useRef(null),S=H.useContext(am);wC(function(){if(gh.supported()){var J=new Od(rl(rl(rl({},t),u),{},{mapboxgl:Zl,container:m.current,onError:function(se){var he=se.error&&se.error.status||se.status;he===cq&&i&&(console.error(ij),o(!1)),t.onError(se)}}));f.current=J,S&&S.setMap&&S.setMap(J.getMap());var q=new GG(function(ee){if(ee[0].contentRect){var se=ee[0].contentRect,he=se.width,Se=se.height;h({width:he,height:Se}),t.onResize({width:he,height:Se})}});return q.observe(x.current),function(){J.finalize(),f.current=null,q.disconnect()}}},[]),wC(function(){f.current&&f.current.setProps(rl(rl({},t),u))});var C=f.current&&f.current.getMap();H.useImperativeHandle(e,function(){return fq(f)},[]);var A=H.useCallback(function(J){var q=J.target;q===w.current&&q.scrollTo(0,0)},[]),E=C&&H.createElement(IE,{value:rl(rl({},S),{},{viewport:S.viewport||aj(rl({map:C,props:t},u)),map:C,container:S.container||x.current})},H.createElement("div",{key:"map-overlays",className:"overlays",ref:w,style:f4,onScroll:A},t.children)),P=t.className,I=t.width,N=t.height,D=t.style,L=t.visibilityConstraints,R=Object.assign({position:"relative"},D,{width:I,height:N}),$=t.visible&&aq(t.viewState||t,L),W=Object.assign({},f4,{visibility:$?"inherit":"hidden"});return H.createElement("div",{key:"map-container",ref:x,style:R},H.createElement("div",{key:"map-mapbox",ref:m,style:W,className:P}),E,!i&&!t.disableTokenWarning&&H.createElement(dq,null))});gh.supported=function(){return Zl&&Zl.supported()};gh.propTypes=uq;gh.defaultProps=hq;function pq(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=mq(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(h){throw h},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,l;return{s:function(){r=r.call(t)},n:function(){var h=r.next();return o=h.done,h},e:function(h){a=!0,l=h},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(a)throw l}}}}function mq(t,e){if(t){if(typeof t=="string")return p4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p4(t,e)}}function p4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var oj=function(){function t(){Zr(this,t),lt(this,"propNames",[])}return Kr(t,[{key:"arePropsEqual",value:function(r,n){var i=pq(this.propNames||[]),o;try{for(i.s();!(o=i.n()).done;){var a=o.value;if(!nj(r[a],n[a]))return!1}}catch(l){i.e(l)}finally{i.f()}return!0}},{key:"initializeProps",value:function(r,n){return{start:r,end:n}}},{key:"interpolateProps",value:function(r,n,i){il(!1,"interpolateProps is not implemented")}},{key:"getDuration",value:function(r,n){return n.transitionDuration}}]),t}();function Zt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fp(t,e){return Fp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Fp(t,e)}function xn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fp(t,e)}function Yb(t,e){if(e&&(ql(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zt(t)}function ml(t){return ml=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ml(t)}var gq={longitude:1,bearing:1};function $1(t){return Number.isFinite(t)||Array.isArray(t)}function vq(t){return t in gq}function SC(t,e,r){return vq(t)&&Math.abs(r-e)>180&&(r=r<0?r+360:r-360),r}function yq(t){var e=xq();return function(){var n=ml(t),i;if(e){var o=ml(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Yb(this,i)}}function xq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var bq=["longitude","latitude","zoom","bearing","pitch"],_q=["latitude","longitude","zoom","width","height"],m4=["bearing","pitch"],wq={speed:1.2,curve:1.414};(function(t){xn(r,t);var e=yq(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Zr(this,r),n=e.call(this),lt(Zt(n),"propNames",bq),n.props=Object.assign({},wq,i),n}return Kr(r,[{key:"initializeProps",value:function(i,o){for(var a={},l={},u=0,h=_q;u<h.length;u++){var f=h[u],m=i[f],x=o[f];il($1(m)&&$1(x),"".concat(f," must be supplied for transition")),a[f]=m,l[f]=SC(f,m,x)}for(var w=0,S=m4;w<S.length;w++){var C=S[w],A=i[C]||0,E=o[C]||0;a[C]=A,l[C]=SC(C,A,E)}return{start:a,end:l}}},{key:"interpolateProps",value:function(i,o,a){for(var l=PG(i,o,a,this.props),u=0,h=m4;u<h.length;u++){var f=h[u];l[f]=B1(i[f],o[f],a)}return l}},{key:"getDuration",value:function(i,o){var a=o.transitionDuration;return a==="auto"&&(a=MG(i,o,this.props)),a}}]),r})(oj);function g4(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Sq(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(h){throw h},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,l;return{s:function(){r=r.call(t)},n:function(){var h=r.next();return o=h.done,h},e:function(h){a=!0,l=h},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(a)throw l}}}}function Sq(t,e){if(t){if(typeof t=="string")return v4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v4(t,e)}}function v4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cq(t){var e=kq();return function(){var n=ml(t),i;if(e){var o=ml(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Yb(this,i)}}function kq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Eq=["longitude","latitude","zoom","bearing","pitch"],ev=function(t){xn(r,t);var e=Cq(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Zr(this,r),n=e.call(this),Array.isArray(i)&&(i={transitionProps:i}),n.propNames=i.transitionProps||Eq,i.around&&(n.around=i.around),n}return Kr(r,[{key:"initializeProps",value:function(i,o){var a={},l={};if(this.around){a.around=this.around;var u=new Xl(i).unproject(this.around);Object.assign(l,o,{around:new Xl(o).project(u),aroundLngLat:u})}var h=g4(this.propNames),f;try{for(h.s();!(f=h.n()).done;){var m=f.value,x=i[m],w=o[m];il($1(x)&&$1(w),"".concat(m," must be supplied for transition")),a[m]=x,l[m]=SC(m,x,w)}}catch(S){h.e(S)}finally{h.f()}return{start:a,end:l}}},{key:"interpolateProps",value:function(i,o,a){var l={},u=g4(this.propNames),h;try{for(u.s();!(h=u.n()).done;){var f=h.value;l[f]=B1(i[f],o[f],a)}}catch(C){u.e(C)}finally{u.f()}if(o.around){var m=new Xl(Object.assign({},o,l)).getMapCenterByLngLatPosition({lngLat:o.aroundLngLat,pos:B1(i.around,o.around,a)}),x=Sa(m,2),w=x[0],S=x[1];l.longitude=w,l.latitude=S}return l}}]),r}(oj),tv=function(){};function Tq(t,e){var r=t(e);return function(n){return 1/(1-r)*(t(n*(1-e)+e)-r)}}var rv={BREAK:1,SNAP_TO_END:2,IGNORE:3,UPDATE:4},Aq={transitionDuration:0,transitionEasing:function(e){return e},transitionInterpolator:new ev,transitionInterruption:rv.BREAK,onTransitionStart:tv,onTransitionInterrupt:tv,onTransitionEnd:tv},OE=function(){function t(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Zr(this,t),lt(this,"_animationFrame",null),lt(this,"_onTransitionFrame",function(){e._animationFrame=requestAnimationFrame(e._onTransitionFrame),e._updateViewport()}),this.props=null,this.onViewportChange=r.onViewportChange||tv,this.onStateChange=r.onStateChange||tv,this.time=r.getTime||Date.now}return Kr(t,[{key:"getViewportInTransition",value:function(){return this._animationFrame?this.state.propsInTransition:null}},{key:"processViewportChange",value:function(r){var n=this.props;if(this.props=r,!n||this._shouldIgnoreViewportChange(n,r))return!1;if(this._isTransitionEnabled(r)){var i=Object.assign({},n),o=Object.assign({},r);if(this._isTransitionInProgress()&&(n.onTransitionInterrupt(),this.state.interruption===rv.SNAP_TO_END?Object.assign(i,this.state.endProps):Object.assign(i,this.state.propsInTransition),this.state.interruption===rv.UPDATE)){var a=this.time(),l=(a-this.state.startTime)/this.state.duration;o.transitionDuration=this.state.duration-(a-this.state.startTime),o.transitionEasing=Tq(this.state.easing,l),o.transitionInterpolator=i.transitionInterpolator}return o.onTransitionStart(),this._triggerTransition(i,o),!0}return this._isTransitionInProgress()&&(n.onTransitionInterrupt(),this._endTransition()),!1}},{key:"_isTransitionInProgress",value:function(){return!!this._animationFrame}},{key:"_isTransitionEnabled",value:function(r){var n=r.transitionDuration,i=r.transitionInterpolator;return(n>0||n==="auto")&&!!i}},{key:"_isUpdateDueToCurrentTransition",value:function(r){return this.state.propsInTransition?this.state.interpolator.arePropsEqual(r,this.state.propsInTransition):!1}},{key:"_shouldIgnoreViewportChange",value:function(r,n){return r?this._isTransitionInProgress()?this.state.interruption===rv.IGNORE||this._isUpdateDueToCurrentTransition(n):this._isTransitionEnabled(n)?n.transitionInterpolator.arePropsEqual(r,n):!0:!0}},{key:"_triggerTransition",value:function(r,n){il(this._isTransitionEnabled(n)),this._animationFrame&&cancelAnimationFrame(this._animationFrame);var i=n.transitionInterpolator,o=i.getDuration?i.getDuration(r,n):n.transitionDuration;if(o!==0){var a=n.transitionInterpolator.initializeProps(r,n),l={inTransition:!0,isZooming:r.zoom!==n.zoom,isPanning:r.longitude!==n.longitude||r.latitude!==n.latitude,isRotating:r.bearing!==n.bearing||r.pitch!==n.pitch};this.state={duration:o,easing:n.transitionEasing,interpolator:n.transitionInterpolator,interruption:n.transitionInterruption,startTime:this.time(),startProps:a.start,endProps:a.end,animation:null,propsInTransition:{}},this._onTransitionFrame(),this.onStateChange(l)}}},{key:"_endTransition",value:function(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1})}},{key:"_updateViewport",value:function(){var r=this.time(),n=this.state,i=n.startTime,o=n.duration,a=n.easing,l=n.interpolator,u=n.startProps,h=n.endProps,f=!1,m=(r-i)/o;m>=1&&(m=1,f=!0),m=a(m);var x=l.interpolateProps(u,h,m),w=new bp(Object.assign({},this.props,x));this.state.propsInTransition=w.getViewportProps(),this.onViewportChange(this.state.propsInTransition,this.props),f&&(this._endTransition(),this.props.onTransitionEnd())}}]),t}();lt(OE,"defaultProps",Aq);var sj={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(t){(function(e,r,n,i){var o=["","webkit","Moz","MS","ms","o"],a=r.createElement("div"),l="function",u=Math.round,h=Math.abs,f=Date.now;function m(le,fe,Me){return setTimeout(I(le,Me),fe)}function x(le,fe,Me){return Array.isArray(le)?(w(le,Me[fe],Me),!0):!1}function w(le,fe,Me){var Je;if(le)if(le.forEach)le.forEach(fe,Me);else if(le.length!==i)for(Je=0;Je<le.length;)fe.call(Me,le[Je],Je,le),Je++;else for(Je in le)le.hasOwnProperty(Je)&&fe.call(Me,le[Je],Je,le)}function S(le,fe,Me){var Je="DEPRECATED METHOD: "+fe+`
`+Me+` AT 
`;return function(){var wt=new Error("get-stack-trace"),Ut=wt&&wt.stack?wt.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",cr=e.console&&(e.console.warn||e.console.log);return cr&&cr.call(e.console,Je,Ut),le.apply(this,arguments)}}var C;typeof Object.assign!="function"?C=function(fe){if(fe===i||fe===null)throw new TypeError("Cannot convert undefined or null to object");for(var Me=Object(fe),Je=1;Je<arguments.length;Je++){var wt=arguments[Je];if(wt!==i&&wt!==null)for(var Ut in wt)wt.hasOwnProperty(Ut)&&(Me[Ut]=wt[Ut])}return Me}:C=Object.assign;var A=S(function(fe,Me,Je){for(var wt=Object.keys(Me),Ut=0;Ut<wt.length;)(!Je||Je&&fe[wt[Ut]]===i)&&(fe[wt[Ut]]=Me[wt[Ut]]),Ut++;return fe},"extend","Use `assign`."),E=S(function(fe,Me){return A(fe,Me,!0)},"merge","Use `assign`.");function P(le,fe,Me){var Je=fe.prototype,wt;wt=le.prototype=Object.create(Je),wt.constructor=le,wt._super=Je,Me&&C(wt,Me)}function I(le,fe){return function(){return le.apply(fe,arguments)}}function N(le,fe){return typeof le==l?le.apply(fe&&fe[0]||i,fe):le}function D(le,fe){return le===i?fe:le}function L(le,fe,Me){w(J(fe),function(Je){le.addEventListener(Je,Me,!1)})}function R(le,fe,Me){w(J(fe),function(Je){le.removeEventListener(Je,Me,!1)})}function $(le,fe){for(;le;){if(le==fe)return!0;le=le.parentNode}return!1}function W(le,fe){return le.indexOf(fe)>-1}function J(le){return le.trim().split(/\s+/g)}function q(le,fe,Me){if(le.indexOf&&!Me)return le.indexOf(fe);for(var Je=0;Je<le.length;){if(Me&&le[Je][Me]==fe||!Me&&le[Je]===fe)return Je;Je++}return-1}function ee(le){return Array.prototype.slice.call(le,0)}function se(le,fe,Me){for(var Je=[],wt=[],Ut=0;Ut<le.length;){var cr=le[Ut][fe];q(wt,cr)<0&&Je.push(le[Ut]),wt[Ut]=cr,Ut++}return Je=Je.sort(function(Ci,Di){return Ci[fe]>Di[fe]}),Je}function he(le,fe){for(var Me,Je,wt=fe[0].toUpperCase()+fe.slice(1),Ut=0;Ut<o.length;){if(Me=o[Ut],Je=Me?Me+wt:fe,Je in le)return Je;Ut++}return i}var Se=1;function oe(){return Se++}function _e(le){var fe=le.ownerDocument||le;return fe.defaultView||fe.parentWindow||e}var xe=/mobile|tablet|ip(ad|hone|od)|android/i,Ne="ontouchstart"in e,Re=he(e,"PointerEvent")!==i,He=Ne&&xe.test(navigator.userAgent),tt="touch",nt="pen",Ke="mouse",Ue="kinect",Xe=25,Ae=1,We=2,qe=4,pt=8,Pt=1,Ht=2,dt=4,yt=8,sr=16,kr=Ht|dt,rn=yt|sr,xt=kr|rn,qt=["x","y"],tr=["clientX","clientY"];function ct(le,fe){var Me=this;this.manager=le,this.callback=fe,this.element=le.element,this.target=le.options.inputTarget,this.domHandler=function(Je){N(le.options.enable,[le])&&Me.handler(Je)},this.init()}ct.prototype={handler:function(){},init:function(){this.evEl&&L(this.element,this.evEl,this.domHandler),this.evTarget&&L(this.target,this.evTarget,this.domHandler),this.evWin&&L(_e(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&R(this.element,this.evEl,this.domHandler),this.evTarget&&R(this.target,this.evTarget,this.domHandler),this.evWin&&R(_e(this.element),this.evWin,this.domHandler)}};function rr(le){var fe,Me=le.options.inputClass;return Me?fe=Me:Re?fe=Ja:He?fe=Jr:Ne?fe=Ha:fe=di,new fe(le,gr)}function gr(le,fe,Me){var Je=Me.pointers.length,wt=Me.changedPointers.length,Ut=fe&Ae&&Je-wt===0,cr=fe&(qe|pt)&&Je-wt===0;Me.isFirst=!!Ut,Me.isFinal=!!cr,Ut&&(le.session={}),Me.eventType=fe,Fr(le,Me),le.emit("hammer.input",Me),le.recognize(Me),le.session.prevInput=Me}function Fr(le,fe){var Me=le.session,Je=fe.pointers,wt=Je.length;Me.firstInput||(Me.firstInput=Xn(fe)),wt>1&&!Me.firstMultiple?Me.firstMultiple=Xn(fe):wt===1&&(Me.firstMultiple=!1);var Ut=Me.firstInput,cr=Me.firstMultiple,fi=cr?cr.center:Ut.center,Ci=fe.center=fn(Je);fe.timeStamp=f(),fe.deltaTime=fe.timeStamp-Ut.timeStamp,fe.angle=pn(fi,Ci),fe.distance=Sr(fi,Ci),en(Me,fe),fe.offsetDirection=Lt(fe.deltaX,fe.deltaY);var Di=Et(fe.deltaTime,fe.deltaX,fe.deltaY);fe.overallVelocityX=Di.x,fe.overallVelocityY=Di.y,fe.overallVelocity=h(Di.x)>h(Di.y)?Di.x:Di.y,fe.scale=cr?Cr(cr.pointers,Je):1,fe.rotation=cr?Xt(cr.pointers,Je):0,fe.maxPointers=Me.prevInput?fe.pointers.length>Me.prevInput.maxPointers?fe.pointers.length:Me.prevInput.maxPointers:fe.pointers.length,kn(Me,fe);var Gt=le.element;$(fe.srcEvent.target,Gt)&&(Gt=fe.srcEvent.target),fe.target=Gt}function en(le,fe){var Me=fe.center,Je=le.offsetDelta||{},wt=le.prevDelta||{},Ut=le.prevInput||{};(fe.eventType===Ae||Ut.eventType===qe)&&(wt=le.prevDelta={x:Ut.deltaX||0,y:Ut.deltaY||0},Je=le.offsetDelta={x:Me.x,y:Me.y}),fe.deltaX=wt.x+(Me.x-Je.x),fe.deltaY=wt.y+(Me.y-Je.y)}function kn(le,fe){var Me=le.lastInterval||fe,Je=fe.timeStamp-Me.timeStamp,wt,Ut,cr,fi;if(fe.eventType!=pt&&(Je>Xe||Me.velocity===i)){var Ci=fe.deltaX-Me.deltaX,Di=fe.deltaY-Me.deltaY,Gt=Et(Je,Ci,Di);Ut=Gt.x,cr=Gt.y,wt=h(Gt.x)>h(Gt.y)?Gt.x:Gt.y,fi=Lt(Ci,Di),le.lastInterval=fe}else wt=Me.velocity,Ut=Me.velocityX,cr=Me.velocityY,fi=Me.direction;fe.velocity=wt,fe.velocityX=Ut,fe.velocityY=cr,fe.direction=fi}function Xn(le){for(var fe=[],Me=0;Me<le.pointers.length;)fe[Me]={clientX:u(le.pointers[Me].clientX),clientY:u(le.pointers[Me].clientY)},Me++;return{timeStamp:f(),pointers:fe,center:fn(fe),deltaX:le.deltaX,deltaY:le.deltaY}}function fn(le){var fe=le.length;if(fe===1)return{x:u(le[0].clientX),y:u(le[0].clientY)};for(var Me=0,Je=0,wt=0;wt<fe;)Me+=le[wt].clientX,Je+=le[wt].clientY,wt++;return{x:u(Me/fe),y:u(Je/fe)}}function Et(le,fe,Me){return{x:fe/le||0,y:Me/le||0}}function Lt(le,fe){return le===fe?Pt:h(le)>=h(fe)?le<0?Ht:dt:fe<0?yt:sr}function Sr(le,fe,Me){Me||(Me=qt);var Je=fe[Me[0]]-le[Me[0]],wt=fe[Me[1]]-le[Me[1]];return Math.sqrt(Je*Je+wt*wt)}function pn(le,fe,Me){Me||(Me=qt);var Je=fe[Me[0]]-le[Me[0]],wt=fe[Me[1]]-le[Me[1]];return Math.atan2(wt,Je)*180/Math.PI}function Xt(le,fe){return pn(fe[1],fe[0],tr)+pn(le[1],le[0],tr)}function Cr(le,fe){return Sr(fe[0],fe[1],tr)/Sr(le[0],le[1],tr)}var mn={mousedown:Ae,mousemove:We,mouseup:qe},jn="mousedown",Rn="mousemove mouseup";function di(){this.evEl=jn,this.evWin=Rn,this.pressed=!1,ct.apply(this,arguments)}P(di,ct,{handler:function(fe){var Me=mn[fe.type];Me&Ae&&fe.button===0&&(this.pressed=!0),Me&We&&fe.which!==1&&(Me=qe),this.pressed&&(Me&qe&&(this.pressed=!1),this.callback(this.manager,Me,{pointers:[fe],changedPointers:[fe],pointerType:Ke,srcEvent:fe}))}});var jo={pointerdown:Ae,pointermove:We,pointerup:qe,pointercancel:pt,pointerout:pt},yo={2:tt,3:nt,4:Ke,5:Ue},Hs="pointerdown",Ca="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Hs="MSPointerDown",Ca="MSPointerMove MSPointerUp MSPointerCancel");function Ja(){this.evEl=Hs,this.evWin=Ca,ct.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}P(Ja,ct,{handler:function(fe){var Me=this.store,Je=!1,wt=fe.type.toLowerCase().replace("ms",""),Ut=jo[wt],cr=yo[fe.pointerType]||fe.pointerType,fi=cr==tt,Ci=q(Me,fe.pointerId,"pointerId");Ut&Ae&&(fe.button===0||fi)?Ci<0&&(Me.push(fe),Ci=Me.length-1):Ut&(qe|pt)&&(Je=!0),!(Ci<0)&&(Me[Ci]=fe,this.callback(this.manager,Ut,{pointers:Me,changedPointers:[fe],pointerType:cr,srcEvent:fe}),Je&&Me.splice(Ci,1))}});var es={touchstart:Ae,touchmove:We,touchend:qe,touchcancel:pt},Da="touchstart",_s="touchstart touchmove touchend touchcancel";function fa(){this.evTarget=Da,this.evWin=_s,this.started=!1,ct.apply(this,arguments)}P(fa,ct,{handler:function(fe){var Me=es[fe.type];if(Me===Ae&&(this.started=!0),!!this.started){var Je=ts.call(this,fe,Me);Me&(qe|pt)&&Je[0].length-Je[1].length===0&&(this.started=!1),this.callback(this.manager,Me,{pointers:Je[0],changedPointers:Je[1],pointerType:tt,srcEvent:fe})}}});function ts(le,fe){var Me=ee(le.touches),Je=ee(le.changedTouches);return fe&(qe|pt)&&(Me=se(Me.concat(Je),"identifier")),[Me,Je]}var Vr={touchstart:Ae,touchmove:We,touchend:qe,touchcancel:pt},un="touchstart touchmove touchend touchcancel";function Jr(){this.evTarget=un,this.targetIds={},ct.apply(this,arguments)}P(Jr,ct,{handler:function(fe){var Me=Vr[fe.type],Je=et.call(this,fe,Me);Je&&this.callback(this.manager,Me,{pointers:Je[0],changedPointers:Je[1],pointerType:tt,srcEvent:fe})}});function et(le,fe){var Me=ee(le.touches),Je=this.targetIds;if(fe&(Ae|We)&&Me.length===1)return Je[Me[0].identifier]=!0,[Me,Me];var wt,Ut,cr=ee(le.changedTouches),fi=[],Ci=this.target;if(Ut=Me.filter(function(Di){return $(Di.target,Ci)}),fe===Ae)for(wt=0;wt<Ut.length;)Je[Ut[wt].identifier]=!0,wt++;for(wt=0;wt<cr.length;)Je[cr[wt].identifier]&&fi.push(cr[wt]),fe&(qe|pt)&&delete Je[cr[wt].identifier],wt++;if(fi.length)return[se(Ut.concat(fi),"identifier"),fi]}var At=2500,$a=25;function Ha(){ct.apply(this,arguments);var le=I(this.handler,this);this.touch=new Jr(this.manager,le),this.mouse=new di(this.manager,le),this.primaryTouch=null,this.lastTouches=[]}P(Ha,ct,{handler:function(fe,Me,Je){var wt=Je.pointerType==tt,Ut=Je.pointerType==Ke;if(!(Ut&&Je.sourceCapabilities&&Je.sourceCapabilities.firesTouchEvents)){if(wt)Gn.call(this,Me,Je);else if(Ut&&G.call(this,Je))return;this.callback(fe,Me,Je)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Gn(le,fe){le&Ae?(this.primaryTouch=fe.changedPointers[0].identifier,bn.call(this,fe)):le&(qe|pt)&&bn.call(this,fe)}function bn(le){var fe=le.changedPointers[0];if(fe.identifier===this.primaryTouch){var Me={x:fe.clientX,y:fe.clientY};this.lastTouches.push(Me);var Je=this.lastTouches,wt=function(){var Ut=Je.indexOf(Me);Ut>-1&&Je.splice(Ut,1)};setTimeout(wt,At)}}function G(le){for(var fe=le.srcEvent.clientX,Me=le.srcEvent.clientY,Je=0;Je<this.lastTouches.length;Je++){var wt=this.lastTouches[Je],Ut=Math.abs(fe-wt.x),cr=Math.abs(Me-wt.y);if(Ut<=$a&&cr<=$a)return!0}return!1}var Q=he(a.style,"touchAction"),re=Q!==i,ie="compute",ge="auto",be="manipulation",Le="none",Pe="pan-x",Te="pan-y",je=rt();function at(le,fe){this.manager=le,this.set(fe)}at.prototype={set:function(le){le==ie&&(le=this.compute()),re&&this.manager.element.style&&je[le]&&(this.manager.element.style[Q]=le),this.actions=le.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var le=[];return w(this.manager.recognizers,function(fe){N(fe.options.enable,[fe])&&(le=le.concat(fe.getTouchAction()))}),vt(le.join(" "))},preventDefaults:function(le){var fe=le.srcEvent,Me=le.offsetDirection;if(this.manager.session.prevented){fe.preventDefault();return}var Je=this.actions,wt=W(Je,Le)&&!je[Le],Ut=W(Je,Te)&&!je[Te],cr=W(Je,Pe)&&!je[Pe];if(wt){var fi=le.pointers.length===1,Ci=le.distance<2,Di=le.deltaTime<250;if(fi&&Ci&&Di)return}if(!(cr&&Ut)&&(wt||Ut&&Me&kr||cr&&Me&rn))return this.preventSrc(fe)},preventSrc:function(le){this.manager.session.prevented=!0,le.preventDefault()}};function vt(le){if(W(le,Le))return Le;var fe=W(le,Pe),Me=W(le,Te);return fe&&Me?Le:fe||Me?fe?Pe:Te:W(le,be)?be:ge}function rt(){if(!re)return!1;var le={},fe=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Me){le[Me]=fe?e.CSS.supports("touch-action",Me):!0}),le}var mt=1,St=2,Dt=4,jt=8,_t=jt,dr=16,fr=32;function ar(le){this.options=C({},this.defaults,le||{}),this.id=oe(),this.manager=null,this.options.enable=D(this.options.enable,!0),this.state=mt,this.simultaneous={},this.requireFail=[]}ar.prototype={defaults:{},set:function(le){return C(this.options,le),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(le){if(x(le,"recognizeWith",this))return this;var fe=this.simultaneous;return le=pr(le,this),fe[le.id]||(fe[le.id]=le,le.recognizeWith(this)),this},dropRecognizeWith:function(le){return x(le,"dropRecognizeWith",this)?this:(le=pr(le,this),delete this.simultaneous[le.id],this)},requireFailure:function(le){if(x(le,"requireFailure",this))return this;var fe=this.requireFail;return le=pr(le,this),q(fe,le)===-1&&(fe.push(le),le.requireFailure(this)),this},dropRequireFailure:function(le){if(x(le,"dropRequireFailure",this))return this;le=pr(le,this);var fe=q(this.requireFail,le);return fe>-1&&this.requireFail.splice(fe,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(le){return!!this.simultaneous[le.id]},emit:function(le){var fe=this,Me=this.state;function Je(wt){fe.manager.emit(wt,le)}Me<jt&&Je(fe.options.event+ur(Me)),Je(fe.options.event),le.additionalEvent&&Je(le.additionalEvent),Me>=jt&&Je(fe.options.event+ur(Me))},tryEmit:function(le){if(this.canEmit())return this.emit(le);this.state=fr},canEmit:function(){for(var le=0;le<this.requireFail.length;){if(!(this.requireFail[le].state&(fr|mt)))return!1;le++}return!0},recognize:function(le){var fe=C({},le);if(!N(this.options.enable,[this,fe])){this.reset(),this.state=fr;return}this.state&(_t|dr|fr)&&(this.state=mt),this.state=this.process(fe),this.state&(St|Dt|jt|dr)&&this.tryEmit(fe)},process:function(le){},getTouchAction:function(){},reset:function(){}};function ur(le){return le&dr?"cancel":le&jt?"end":le&Dt?"move":le&St?"start":""}function on(le){return le==sr?"down":le==yt?"up":le==Ht?"left":le==dt?"right":""}function pr(le,fe){var Me=fe.manager;return Me?Me.get(le):le}function Lr(){ar.apply(this,arguments)}P(Lr,ar,{defaults:{pointers:1},attrTest:function(le){var fe=this.options.pointers;return fe===0||le.pointers.length===fe},process:function(le){var fe=this.state,Me=le.eventType,Je=fe&(St|Dt),wt=this.attrTest(le);return Je&&(Me&pt||!wt)?fe|dr:Je||wt?Me&qe?fe|jt:fe&St?fe|Dt:St:fr}});function hn(){Lr.apply(this,arguments),this.pX=null,this.pY=null}P(hn,Lr,{defaults:{event:"pan",threshold:10,pointers:1,direction:xt},getTouchAction:function(){var le=this.options.direction,fe=[];return le&kr&&fe.push(Te),le&rn&&fe.push(Pe),fe},directionTest:function(le){var fe=this.options,Me=!0,Je=le.distance,wt=le.direction,Ut=le.deltaX,cr=le.deltaY;return wt&fe.direction||(fe.direction&kr?(wt=Ut===0?Pt:Ut<0?Ht:dt,Me=Ut!=this.pX,Je=Math.abs(le.deltaX)):(wt=cr===0?Pt:cr<0?yt:sr,Me=cr!=this.pY,Je=Math.abs(le.deltaY))),le.direction=wt,Me&&Je>fe.threshold&&wt&fe.direction},attrTest:function(le){return Lr.prototype.attrTest.call(this,le)&&(this.state&St||!(this.state&St)&&this.directionTest(le))},emit:function(le){this.pX=le.deltaX,this.pY=le.deltaY;var fe=on(le.direction);fe&&(le.additionalEvent=this.options.event+fe),this._super.emit.call(this,le)}});function Br(){Lr.apply(this,arguments)}P(Br,Lr,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Le]},attrTest:function(le){return this._super.attrTest.call(this,le)&&(Math.abs(le.scale-1)>this.options.threshold||this.state&St)},emit:function(le){if(le.scale!==1){var fe=le.scale<1?"in":"out";le.additionalEvent=this.options.event+fe}this._super.emit.call(this,le)}});function vi(){ar.apply(this,arguments),this._timer=null,this._input=null}P(vi,ar,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ge]},process:function(le){var fe=this.options,Me=le.pointers.length===fe.pointers,Je=le.distance<fe.threshold,wt=le.deltaTime>fe.time;if(this._input=le,!Je||!Me||le.eventType&(qe|pt)&&!wt)this.reset();else if(le.eventType&Ae)this.reset(),this._timer=m(function(){this.state=_t,this.tryEmit()},fe.time,this);else if(le.eventType&qe)return _t;return fr},reset:function(){clearTimeout(this._timer)},emit:function(le){this.state===_t&&(le&&le.eventType&qe?this.manager.emit(this.options.event+"up",le):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}});function Dr(){Lr.apply(this,arguments)}P(Dr,Lr,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Le]},attrTest:function(le){return this._super.attrTest.call(this,le)&&(Math.abs(le.rotation)>this.options.threshold||this.state&St)}});function Pn(){Lr.apply(this,arguments)}P(Pn,Lr,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:kr|rn,pointers:1},getTouchAction:function(){return hn.prototype.getTouchAction.call(this)},attrTest:function(le){var fe=this.options.direction,Me;return fe&(kr|rn)?Me=le.overallVelocity:fe&kr?Me=le.overallVelocityX:fe&rn&&(Me=le.overallVelocityY),this._super.attrTest.call(this,le)&&fe&le.offsetDirection&&le.distance>this.options.threshold&&le.maxPointers==this.options.pointers&&h(Me)>this.options.velocity&&le.eventType&qe},emit:function(le){var fe=on(le.offsetDirection);fe&&this.manager.emit(this.options.event+fe,le),this.manager.emit(this.options.event,le)}});function Er(){ar.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}P(Er,ar,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[be]},process:function(le){var fe=this.options,Me=le.pointers.length===fe.pointers,Je=le.distance<fe.threshold,wt=le.deltaTime<fe.time;if(this.reset(),le.eventType&Ae&&this.count===0)return this.failTimeout();if(Je&&wt&&Me){if(le.eventType!=qe)return this.failTimeout();var Ut=this.pTime?le.timeStamp-this.pTime<fe.interval:!0,cr=!this.pCenter||Sr(this.pCenter,le.center)<fe.posThreshold;this.pTime=le.timeStamp,this.pCenter=le.center,!cr||!Ut?this.count=1:this.count+=1,this._input=le;var fi=this.count%fe.taps;if(fi===0)return this.hasRequireFailures()?(this._timer=m(function(){this.state=_t,this.tryEmit()},fe.interval,this),St):_t}return fr},failTimeout:function(){return this._timer=m(function(){this.state=fr},this.options.interval,this),fr},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==_t&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function zn(le,fe){return fe=fe||{},fe.recognizers=D(fe.recognizers,zn.defaults.preset),new Qa(le,fe)}zn.VERSION="2.0.7",zn.defaults={domEvents:!1,touchAction:ie,enable:!0,inputTarget:null,inputClass:null,preset:[[Dr,{enable:!1}],[Br,{enable:!1},["rotate"]],[Pn,{direction:kr}],[hn,{direction:kr},["swipe"]],[Er],[Er,{event:"doubletap",taps:2},["tap"]],[vi]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var yi=1,ka=2;function Qa(le,fe){this.options=C({},zn.defaults,fe||{}),this.options.inputTarget=this.options.inputTarget||le,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=le,this.input=rr(this),this.touchAction=new at(this,this.options.touchAction),Si(this,!0),w(this.options.recognizers,function(Me){var Je=this.add(new Me[0](Me[1]));Me[2]&&Je.recognizeWith(Me[2]),Me[3]&&Je.requireFailure(Me[3])},this)}Qa.prototype={set:function(le){return C(this.options,le),le.touchAction&&this.touchAction.update(),le.inputTarget&&(this.input.destroy(),this.input.target=le.inputTarget,this.input.init()),this},stop:function(le){this.session.stopped=le?ka:yi},recognize:function(le){var fe=this.session;if(!fe.stopped){this.touchAction.preventDefaults(le);var Me,Je=this.recognizers,wt=fe.curRecognizer;(!wt||wt&&wt.state&_t)&&(wt=fe.curRecognizer=null);for(var Ut=0;Ut<Je.length;)Me=Je[Ut],fe.stopped!==ka&&(!wt||Me==wt||Me.canRecognizeWith(wt))?Me.recognize(le):Me.reset(),!wt&&Me.state&(St|Dt|jt)&&(wt=fe.curRecognizer=Me),Ut++}},get:function(le){if(le instanceof ar)return le;for(var fe=this.recognizers,Me=0;Me<fe.length;Me++)if(fe[Me].options.event==le)return fe[Me];return null},add:function(le){if(x(le,"add",this))return this;var fe=this.get(le.options.event);return fe&&this.remove(fe),this.recognizers.push(le),le.manager=this,this.touchAction.update(),le},remove:function(le){if(x(le,"remove",this))return this;if(le=this.get(le),le){var fe=this.recognizers,Me=q(fe,le);Me!==-1&&(fe.splice(Me,1),this.touchAction.update())}return this},on:function(le,fe){if(le!==i&&fe!==i){var Me=this.handlers;return w(J(le),function(Je){Me[Je]=Me[Je]||[],Me[Je].push(fe)}),this}},off:function(le,fe){if(le!==i){var Me=this.handlers;return w(J(le),function(Je){fe?Me[Je]&&Me[Je].splice(q(Me[Je],fe),1):delete Me[Je]}),this}},emit:function(le,fe){this.options.domEvents&&xo(le,fe);var Me=this.handlers[le]&&this.handlers[le].slice();if(!(!Me||!Me.length)){fe.type=le,fe.preventDefault=function(){fe.srcEvent.preventDefault()};for(var Je=0;Je<Me.length;)Me[Je](fe),Je++}},destroy:function(){this.element&&Si(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Si(le,fe){var Me=le.element;if(Me.style){var Je;w(le.options.cssProps,function(wt,Ut){Je=he(Me.style,Ut),fe?(le.oldCssProps[Je]=Me.style[Je],Me.style[Je]=wt):Me.style[Je]=le.oldCssProps[Je]||""}),fe||(le.oldCssProps={})}}function xo(le,fe){var Me=r.createEvent("Event");Me.initEvent(le,!0,!0),Me.gesture=fe,fe.target.dispatchEvent(Me)}C(zn,{INPUT_START:Ae,INPUT_MOVE:We,INPUT_END:qe,INPUT_CANCEL:pt,STATE_POSSIBLE:mt,STATE_BEGAN:St,STATE_CHANGED:Dt,STATE_ENDED:jt,STATE_RECOGNIZED:_t,STATE_CANCELLED:dr,STATE_FAILED:fr,DIRECTION_NONE:Pt,DIRECTION_LEFT:Ht,DIRECTION_RIGHT:dt,DIRECTION_UP:yt,DIRECTION_DOWN:sr,DIRECTION_HORIZONTAL:kr,DIRECTION_VERTICAL:rn,DIRECTION_ALL:xt,Manager:Qa,Input:ct,TouchAction:at,TouchInput:Jr,MouseInput:di,PointerEventInput:Ja,TouchMouseInput:Ha,SingleTouchInput:fa,Recognizer:ar,AttrRecognizer:Lr,Tap:Er,Pan:hn,Swipe:Pn,Pinch:Br,Rotate:Dr,Press:vi,on:L,off:R,each:w,merge:E,extend:A,assign:C,inherit:P,bindFn:I,prefixed:he});var ws=typeof e<"u"?e:typeof self<"u"?self:{};ws.Hammer=zn,t.exports?t.exports=zn:e[n]=zn})(window,document,"Hammer")})(sj);var ay=sj.exports;const Pq=Qn(ay),Ml=YD({__proto__:null,default:Pq},[ay]),lj=1,cj=2,CC=4,Mq={mousedown:lj,mousemove:cj,mouseup:CC};function Iq(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return!0;return!1}function Oq(t){const e=t.prototype.handler;t.prototype.handler=function(n){const i=this.store;n.button>0&&n.type==="pointerdown"&&(Iq(i,o=>o.pointerId===n.pointerId)||i.push(n)),e.call(this,n)}}function Dq(t){t.prototype.handler=function(r){let n=Mq[r.type];n&lj&&r.button>=0&&(this.pressed=!0),n&cj&&r.buttons===0&&(n=CC),this.pressed&&(n&CC&&(this.pressed=!1),this.callback(this.manager,n,{pointers:[r],changedPointers:[r],pointerType:"mouse",srcEvent:r}))}}Oq(ay.PointerEventInput);Dq(ay.MouseInput);const Nq=ay.Manager;let Xb=class{constructor(e,r,n){this.element=e,this.callback=r,this.options={enable:!0,...n}}};const Lq=Ml?[[Ml.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[Ml.Rotate,{enable:!1}],[Ml.Pinch,{enable:!1}],[Ml.Swipe,{enable:!1}],[Ml.Pan,{threshold:0,enable:!1}],[Ml.Press,{enable:!1}],[Ml.Tap,{event:"doubletap",taps:2,enable:!1}],[Ml.Tap,{event:"anytap",enable:!1}],[Ml.Tap,{enable:!1}]]:null,y4={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},Rq={doubletap:["tap"]},jq={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},DE={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},zq={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},x4={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},Fq=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",cp=typeof window<"u"?window:global;let kC=!1;try{const t={get passive(){return kC=!0,!0}};cp.addEventListener("test",null,t),cp.removeEventListener("test",null)}catch{kC=!1}const Bq=Fq.indexOf("firefox")!==-1,{WHEEL_EVENTS:$q}=DE,b4="wheel",_4=4.000244140625,Hq=40,Uq=.25;class Vq extends Xb{constructor(e,r,n){super(e,r,n),this.handleEvent=i=>{if(!this.options.enable)return;let o=i.deltaY;cp.WheelEvent&&(Bq&&i.deltaMode===cp.WheelEvent.DOM_DELTA_PIXEL&&(o/=cp.devicePixelRatio),i.deltaMode===cp.WheelEvent.DOM_DELTA_LINE&&(o*=Hq)),o!==0&&o%_4===0&&(o=Math.floor(o/_4)),i.shiftKey&&o&&(o=o*Uq),this.callback({type:b4,center:{x:i.clientX,y:i.clientY},delta:-o,srcEvent:i,pointerType:"mouse",target:i.target})},this.events=(this.options.events||[]).concat($q),this.events.forEach(i=>e.addEventListener(i,this.handleEvent,kC?{passive:!1}:!1))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,r){e===b4&&(this.options.enable=r)}}const{MOUSE_EVENTS:Wq}=DE,w4="pointermove",S4="pointerover",C4="pointerout",k4="pointerenter",E4="pointerleave";class Yq extends Xb{constructor(e,r,n){super(e,r,n),this.handleEvent=o=>{this.handleOverEvent(o),this.handleOutEvent(o),this.handleEnterEvent(o),this.handleLeaveEvent(o),this.handleMoveEvent(o)},this.pressed=!1;const{enable:i}=this.options;this.enableMoveEvent=i,this.enableLeaveEvent=i,this.enableEnterEvent=i,this.enableOutEvent=i,this.enableOverEvent=i,this.events=(this.options.events||[]).concat(Wq),this.events.forEach(o=>e.addEventListener(o,this.handleEvent))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,r){e===w4&&(this.enableMoveEvent=r),e===S4&&(this.enableOverEvent=r),e===C4&&(this.enableOutEvent=r),e===k4&&(this.enableEnterEvent=r),e===E4&&(this.enableLeaveEvent=r)}handleOverEvent(e){this.enableOverEvent&&e.type==="mouseover"&&this._emit(S4,e)}handleOutEvent(e){this.enableOutEvent&&e.type==="mouseout"&&this._emit(C4,e)}handleEnterEvent(e){this.enableEnterEvent&&e.type==="mouseenter"&&this._emit(k4,e)}handleLeaveEvent(e){this.enableLeaveEvent&&e.type==="mouseleave"&&this._emit(E4,e)}handleMoveEvent(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":e.buttons===0&&(this.pressed=!1),this.pressed||this._emit(w4,e);break;case"mouseup":this.pressed=!1;break}}_emit(e,r){this.callback({type:e,center:{x:r.clientX,y:r.clientY},srcEvent:r,pointerType:"mouse",target:r.target})}}const{KEY_EVENTS:Xq}=DE,T4="keydown",A4="keyup";class Gq extends Xb{constructor(e,r,n){super(e,r,n),this.handleEvent=i=>{const o=i.target||i.srcElement;o.tagName==="INPUT"&&o.type==="text"||o.tagName==="TEXTAREA"||(this.enableDownEvent&&i.type==="keydown"&&this.callback({type:T4,srcEvent:i,key:i.key,target:i.target}),this.enableUpEvent&&i.type==="keyup"&&this.callback({type:A4,srcEvent:i,key:i.key,target:i.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(Xq),e.tabIndex=this.options.tabIndex||0,e.style.outline="none",this.events.forEach(i=>e.addEventListener(i,this.handleEvent))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,r){e===T4&&(this.enableDownEvent=r),e===A4&&(this.enableUpEvent=r)}}const P4="contextmenu";class qq extends Xb{constructor(e,r,n){super(e,r,n),this.handleEvent=i=>{this.options.enable&&this.callback({type:P4,center:{x:i.clientX,y:i.clientY},srcEvent:i,pointerType:"mouse",target:i.target})},e.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(e,r){e===P4&&(this.options.enable=r)}}const M4=1,EC=2,I4=4,Zq={pointerdown:M4,pointermove:EC,pointerup:I4,mousedown:M4,mousemove:EC,mouseup:I4},Kq=0,Jq=1,Qq=2,eZ=1,tZ=2,rZ=4;function nZ(t){const e=Zq[t.srcEvent.type];if(!e)return null;const{buttons:r,button:n}=t.srcEvent;let i=!1,o=!1,a=!1;return e===EC?(i=!!(r&eZ),o=!!(r&rZ),a=!!(r&tZ)):(i=n===Kq,o=n===Jq,a=n===Qq),{leftButton:i,middleButton:o,rightButton:a}}function iZ(t,e){const r=t.center;if(!r)return null;const n=e.getBoundingClientRect(),i=n.width/e.offsetWidth||1,o=n.height/e.offsetHeight||1,a={x:(r.x-n.left-e.clientLeft)/i,y:(r.y-n.top-e.clientTop)/o};return{center:r,offsetCenter:a}}const r2={srcElement:"root",priority:0};class aZ{constructor(e){this.handleEvent=r=>{if(this.isEmpty())return;const n=this._normalizeEvent(r);let i=r.srcEvent.target;for(;i&&i!==n.rootElement;){if(this._emit(n,i),n.handled)return;i=i.parentNode}this._emit(n,"root")},this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(e,r,n,i=!1,o=!1){const{handlers:a,handlersByElement:l}=this;let u=r2;typeof n=="string"||n&&n.addEventListener?u={...r2,srcElement:n}:n&&(u={...r2,...n});let h=l.get(u.srcElement);h||(h=[],l.set(u.srcElement,h));const f={type:e,handler:r,srcElement:u.srcElement,priority:u.priority};i&&(f.once=!0),o&&(f.passive=!0),a.push(f),this._active=this._active||!f.passive;let m=h.length-1;for(;m>=0&&!(h[m].priority>=f.priority);)m--;h.splice(m+1,0,f)}remove(e,r){const{handlers:n,handlersByElement:i}=this;for(let o=n.length-1;o>=0;o--){const a=n[o];if(a.type===e&&a.handler===r){n.splice(o,1);const l=i.get(a.srcElement);l.splice(l.indexOf(a),1),l.length===0&&i.delete(a.srcElement)}}this._active=n.some(o=>!o.passive)}_emit(e,r){const n=this.handlersByElement.get(r);if(n){let i=!1;const o=()=>{e.handled=!0},a=()=>{e.handled=!0,i=!0},l=[];for(let u=0;u<n.length;u++){const{type:h,handler:f,once:m}=n[u];if(f({...e,type:h,stopPropagation:o,stopImmediatePropagation:a}),m&&l.push(n[u]),i)break}for(let u=0;u<l.length;u++){const{type:h,handler:f}=l[u];this.remove(h,f)}}}_normalizeEvent(e){const r=this.eventManager.getElement();return{...e,...nZ(e),...iZ(e,r),preventDefault:()=>{e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:r}}}const oZ={events:null,recognizers:null,recognizerOptions:{},Manager:Nq,touchAction:"none",tabIndex:0};class sZ{constructor(e=null,r){this._onBasicInput=i=>{const{srcEvent:o}=i,a=jq[o.type];a&&this.manager.emit(a,i)},this._onOtherEvent=i=>{this.manager.emit(i.type,i)},this.options={...oZ,...r},this.events=new Map,this.setElement(e);const{events:n}=this.options;n&&this.on(n)}getElement(){return this.element}setElement(e){if(this.element&&this.destroy(),this.element=e,!e)return;const{options:r}=this,n=r.Manager;this.manager=new n(e,{touchAction:r.touchAction,recognizers:r.recognizers||Lq}).on("hammer.input",this._onBasicInput),r.recognizers||Object.keys(y4).forEach(i=>{const o=this.manager.get(i);o&&y4[i].forEach(a=>{o.recognizeWith(a)})});for(const i in r.recognizerOptions){const o=this.manager.get(i);if(o){const a=r.recognizerOptions[i];delete a.enable,o.set(a)}}this.wheelInput=new Vq(e,this._onOtherEvent,{enable:!1}),this.moveInput=new Yq(e,this._onOtherEvent,{enable:!1}),this.keyInput=new Gq(e,this._onOtherEvent,{enable:!1,tabIndex:r.tabIndex}),this.contextmenuInput=new qq(e,this._onOtherEvent,{enable:!1});for(const[i,o]of this.events)o.isEmpty()||(this._toggleRecognizer(o.recognizerName,!0),this.manager.on(i,o.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(e,r,n){this._addEventHandler(e,r,n,!1)}once(e,r,n){this._addEventHandler(e,r,n,!0)}watch(e,r,n){this._addEventHandler(e,r,n,!1,!0)}off(e,r){this._removeEventHandler(e,r)}_toggleRecognizer(e,r){const{manager:n}=this;if(!n)return;const i=n.get(e);if(i&&i.options.enable!==r){i.set({enable:r});const o=Rq[e];o&&!this.options.recognizers&&o.forEach(a=>{const l=n.get(a);r?(l.requireFailure(e),i.dropRequireFailure(a)):l.dropRequireFailure(e)})}this.wheelInput.enableEventType(e,r),this.moveInput.enableEventType(e,r),this.keyInput.enableEventType(e,r),this.contextmenuInput.enableEventType(e,r)}_addEventHandler(e,r,n,i,o){if(typeof e!="string"){n=r;for(const f in e)this._addEventHandler(f,e[f],n,i,o);return}const{manager:a,events:l}=this,u=x4[e]||e;let h=l.get(u);h||(h=new aZ(this),l.set(u,h),h.recognizerName=zq[u]||u,a&&a.on(u,h.handleEvent)),h.add(e,r,n,i,o),h.isEmpty()||this._toggleRecognizer(h.recognizerName,!0)}_removeEventHandler(e,r){if(typeof e!="string"){for(const a in e)this._removeEventHandler(a,e[a]);return}const{events:n}=this,i=x4[e]||e,o=n.get(i);if(o&&(o.remove(e,r),o.isEmpty())){const{recognizerName:a}=o;let l=!1;for(const u of n.values())if(u.recognizerName===a&&!u.isEmpty()){l=!0;break}l||this._toggleRecognizer(a,!1)}}}function O4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function To(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O4(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var zh={transitionDuration:0},Mc={transitionDuration:300,transitionEasing:function(e){return e},transitionInterpolator:new ev,transitionInterruption:rv.BREAK},J0=300,Q0=function(e){return 1-(1-e)*(1-e)},Af={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend"],TRIPLE_PAN:["tripanstart","tripanmove","tripanend"],DOUBLE_TAP:["doubletap"],KEYBOARD:["keydown"]},uj=function(){function t(){var e=this;Zr(this,t),lt(this,"events",[]),lt(this,"scrollZoom",!0),lt(this,"dragPan",!0),lt(this,"dragRotate",!0),lt(this,"doubleClickZoom",!0),lt(this,"touchZoom",!0),lt(this,"touchRotate",!1),lt(this,"keyboard",!0),lt(this,"_interactionState",{isDragging:!1}),lt(this,"_events",{}),lt(this,"_setInteractionState",function(r){Object.assign(e._interactionState,r),e.onStateChange&&e.onStateChange(e._interactionState)}),lt(this,"_onTransition",function(r,n){e.onViewportChange(r,e._interactionState,n)}),this.handleEvent=this.handleEvent.bind(this),this._transitionManager=new OE({onViewportChange:this._onTransition,onStateChange:this._setInteractionState})}return Kr(t,[{key:"handleEvent",value:function(r){this.mapState=this.getMapState();var n=this._eventStartBlocked;switch(r.type){case"panstart":return n?!1:this._onPanStart(r);case"panmove":return this._onPan(r);case"panend":return this._onPanEnd(r);case"pinchstart":return n?!1:this._onPinchStart(r);case"pinchmove":return this._onPinch(r);case"pinchend":return this._onPinchEnd(r);case"tripanstart":return n?!1:this._onTriplePanStart(r);case"tripanmove":return this._onTriplePan(r);case"tripanend":return this._onTriplePanEnd(r);case"doubletap":return this._onDoubleTap(r);case"wheel":return this._onWheel(r);case"keydown":return this._onKeyDown(r);default:return!1}}},{key:"getCenter",value:function(r){var n=r.offsetCenter,i=n.x,o=n.y;return[i,o]}},{key:"isFunctionKeyPressed",value:function(r){var n=r.srcEvent;return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}},{key:"blockEvents",value:function(r){var n=this,i=setTimeout(function(){n._eventStartBlocked===i&&(n._eventStartBlocked=null)},r);this._eventStartBlocked=i}},{key:"updateViewport",value:function(r,n,i){var o=this.mapState instanceof bp?this.mapState.getViewportProps():this.mapState,a=To(To({},r.getViewportProps()),n),l=Object.keys(a).some(function(u){return o[u]!==a[u]});this._state=r.getState(),this._setInteractionState(i),l&&this.onViewportChange(a,this._interactionState,o)}},{key:"getMapState",value:function(r){return new bp(To(To(To({},this.mapStateProps),this._state),r))}},{key:"isDragging",value:function(){return this._interactionState.isDragging}},{key:"setOptions",value:function(r){var n=r.onViewportChange,i=r.onStateChange,o=r.eventManager,a=o===void 0?this.eventManager:o,l=r.isInteractive,u=l===void 0?!0:l,h=r.scrollZoom,f=h===void 0?this.scrollZoom:h,m=r.dragPan,x=m===void 0?this.dragPan:m,w=r.dragRotate,S=w===void 0?this.dragRotate:w,C=r.doubleClickZoom,A=C===void 0?this.doubleClickZoom:C,E=r.touchZoom,P=E===void 0?this.touchZoom:E,I=r.touchRotate,N=I===void 0?this.touchRotate:I,D=r.keyboard,L=D===void 0?this.keyboard:D;this.onViewportChange=n,this.onStateChange=i;var R=this.mapStateProps||{},$=R.height!==r.height||R.width!==r.width;this.mapStateProps=r,$&&(this.mapState=R,this.updateViewport(new bp(r))),this._transitionManager.processViewportChange(r),this.eventManager!==a&&(this.eventManager=a,this._events={},this.toggleEvents(this.events,!0)),this.toggleEvents(Af.WHEEL,u&&!!f),this.toggleEvents(Af.PAN,u&&!!(x||S)),this.toggleEvents(Af.PINCH,u&&!!(P||N)),this.toggleEvents(Af.TRIPLE_PAN,u&&!!N),this.toggleEvents(Af.DOUBLE_TAP,u&&!!A),this.toggleEvents(Af.KEYBOARD,u&&!!L),this.scrollZoom=f,this.dragPan=x,this.dragRotate=S,this.doubleClickZoom=A,this.touchZoom=P,this.touchRotate=N,this.keyboard=L}},{key:"toggleEvents",value:function(r,n){var i=this;this.eventManager&&r.forEach(function(o){i._events[o]!==n&&(i._events[o]=n,n?i.eventManager.on(o,i.handleEvent):i.eventManager.off(o,i.handleEvent))})}},{key:"_onPanStart",value:function(r){var n=this.getCenter(r);this._panRotate=this.isFunctionKeyPressed(r)||r.rightButton;var i=this._panRotate?this.mapState.rotateStart({pos:n}):this.mapState.panStart({pos:n});return this.updateViewport(i,zh,{isDragging:!0}),!0}},{key:"_onPan",value:function(r){return this.isDragging()?this._panRotate?this._onPanRotate(r):this._onPanMove(r):!1}},{key:"_onPanEnd",value:function(r){return this.isDragging()?this._panRotate?this._onPanRotateEnd(r):this._onPanMoveEnd(r):!1}},{key:"_onPanMove",value:function(r){if(!this.dragPan)return!1;var n=this.getCenter(r),i=this.mapState.pan({pos:n});return this.updateViewport(i,zh,{isPanning:!0}),!0}},{key:"_onPanMoveEnd",value:function(r){if(this.dragPan){var n=this.dragPan.inertia,i=n===void 0?J0:n;if(i&&r.velocity){var o=this.getCenter(r),a=[o[0]+r.velocityX*i/2,o[1]+r.velocityY*i/2],l=this.mapState.pan({pos:a}).panEnd();return this.updateViewport(l,To(To({},Mc),{},{transitionDuration:i,transitionEasing:Q0}),{isDragging:!1,isPanning:!0}),!0}}var u=this.mapState.panEnd();return this.updateViewport(u,null,{isDragging:!1,isPanning:!1}),!0}},{key:"_onPanRotate",value:function(r){if(!this.dragRotate)return!1;var n=this.getCenter(r),i=this.mapState.rotate({pos:n});return this.updateViewport(i,zh,{isRotating:!0}),!0}},{key:"_onPanRotateEnd",value:function(r){if(this.dragRotate){var n=this.dragRotate.inertia,i=n===void 0?J0:n;if(i&&r.velocity){var o=this.getCenter(r),a=[o[0]+r.velocityX*i/2,o[1]+r.velocityY*i/2],l=this.mapState.rotate({pos:a}).rotateEnd();return this.updateViewport(l,To(To({},Mc),{},{transitionDuration:i,transitionEasing:Q0}),{isDragging:!1,isRotating:!0}),!0}}var u=this.mapState.panEnd();return this.updateViewport(u,null,{isDragging:!1,isRotating:!1}),!0}},{key:"_onWheel",value:function(r){if(!this.scrollZoom)return!1;var n=this.scrollZoom,i=n.speed,o=i===void 0?.01:i,a=n.smooth,l=a===void 0?!1:a;r.preventDefault();var u=this.getCenter(r),h=r.delta,f=2/(1+Math.exp(-Math.abs(h*o)));h<0&&f!==0&&(f=1/f);var m=this.mapState.zoom({pos:u,scale:f});return this.updateViewport(m,To(To({},Mc),{},{transitionInterpolator:new ev({around:u}),transitionDuration:l?250:1}),{isPanning:!0,isZooming:!0}),!0}},{key:"_onPinchStart",value:function(r){var n=this.getCenter(r),i=this.mapState.zoomStart({pos:n}).rotateStart({pos:n});return this._startPinchRotation=r.rotation,this._lastPinchEvent=r,this.updateViewport(i,zh,{isDragging:!0}),!0}},{key:"_onPinch",value:function(r){if(!this.isDragging()||!this.touchZoom&&!this.touchRotate)return!1;var n=this.mapState;if(this.touchZoom){var i=r.scale,o=this.getCenter(r);n=n.zoom({pos:o,scale:i})}if(this.touchRotate){var a=r.rotation;n=n.rotate({deltaAngleX:this._startPinchRotation-a})}return this.updateViewport(n,zh,{isDragging:!0,isPanning:!!this.touchZoom,isZooming:!!this.touchZoom,isRotating:!!this.touchRotate}),this._lastPinchEvent=r,!0}},{key:"_onPinchEnd",value:function(r){if(!this.isDragging())return!1;if(this.touchZoom){var n=this.touchZoom.inertia,i=n===void 0?J0:n,o=this._lastPinchEvent;if(i&&o&&r.scale!==o.scale){var a=this.getCenter(r),l=this.mapState.rotateEnd(),u=Math.log2(r.scale),h=(u-Math.log2(o.scale))/(r.deltaTime-o.deltaTime),f=Math.pow(2,u+h*i/2);return l=l.zoom({pos:a,scale:f}).zoomEnd(),this.updateViewport(l,To(To({},Mc),{},{transitionInterpolator:new ev({around:a}),transitionDuration:i,transitionEasing:Q0}),{isDragging:!1,isPanning:!!this.touchZoom,isZooming:!!this.touchZoom,isRotating:!1}),this.blockEvents(i),!0}}var m=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(m,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),this._startPinchRotation=null,this._lastPinchEvent=null,!0}},{key:"_onTriplePanStart",value:function(r){var n=this.getCenter(r),i=this.mapState.rotateStart({pos:n});return this.updateViewport(i,zh,{isDragging:!0}),!0}},{key:"_onTriplePan",value:function(r){if(!this.isDragging()||!this.touchRotate)return!1;var n=this.getCenter(r);n[0]-=r.deltaX;var i=this.mapState.rotate({pos:n});return this.updateViewport(i,zh,{isRotating:!0}),!0}},{key:"_onTriplePanEnd",value:function(r){if(!this.isDragging())return!1;if(this.touchRotate){var n=this.touchRotate.inertia,i=n===void 0?J0:n;if(i&&r.velocityY){var o=this.getCenter(r),a=[o[0],o[1]+=r.velocityY*i/2],l=this.mapState.rotate({pos:a});return this.updateViewport(l,To(To({},Mc),{},{transitionDuration:i,transitionEasing:Q0}),{isDragging:!1,isRotating:!0}),this.blockEvents(i),!1}}var u=this.mapState.rotateEnd();return this.updateViewport(u,null,{isDragging:!1,isRotating:!1}),!0}},{key:"_onDoubleTap",value:function(r){if(!this.doubleClickZoom)return!1;var n=this.getCenter(r),i=this.isFunctionKeyPressed(r),o=this.mapState.zoom({pos:n,scale:i?.5:2});return this.updateViewport(o,Object.assign({},Mc,{transitionInterpolator:new ev({around:n})}),{isZooming:!0}),!0}},{key:"_onKeyDown",value:function(r){if(!this.keyboard)return!1;var n=this.isFunctionKeyPressed(r),i=this.keyboard,o=i.zoomSpeed,a=o===void 0?2:o,l=i.moveSpeed,u=l===void 0?100:l,h=i.rotateSpeedX,f=h===void 0?15:h,m=i.rotateSpeedY,x=m===void 0?10:m,w=this.mapStateProps,S;switch(r.srcEvent.keyCode){case 189:n?S=this.getMapState({zoom:w.zoom-Math.log2(a)-1}):S=this.getMapState({zoom:w.zoom-Math.log2(a)});break;case 187:n?S=this.getMapState({zoom:w.zoom+Math.log2(a)+1}):S=this.getMapState({zoom:w.zoom+Math.log2(a)});break;case 37:n?S=this.getMapState({bearing:w.bearing-f}):S=this.mapState.pan({pos:[u,0],startPos:[0,0]});break;case 39:n?S=this.getMapState({bearing:w.bearing+f}):S=this.mapState.pan({pos:[-u,0],startPos:[0,0]});break;case 38:n?S=this.getMapState({pitch:w.pitch+x}):S=this.mapState.pan({pos:[0,u],startPos:[0,0]});break;case 40:n?S=this.getMapState({pitch:w.pitch-x}):S=this.mapState.pan({pos:[0,-u],startPos:[0,0]});break;default:return!1}return this.updateViewport(S,Mc)}}]),t}();function D4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D4(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var lZ=Object.assign({},gh.propTypes,{maxZoom:Ze.number,minZoom:Ze.number,maxPitch:Ze.number,minPitch:Ze.number,onViewStateChange:Ze.func,onViewportChange:Ze.func,onInteractionStateChange:Ze.func,transitionDuration:Ze.oneOfType([Ze.number,Ze.string]),transitionInterpolator:Ze.object,transitionInterruption:Ze.number,transitionEasing:Ze.func,onTransitionStart:Ze.func,onTransitionInterrupt:Ze.func,onTransitionEnd:Ze.func,scrollZoom:Ze.oneOfType([Ze.bool,Ze.object]),dragPan:Ze.oneOfType([Ze.bool,Ze.object]),dragRotate:Ze.oneOfType([Ze.bool,Ze.object]),doubleClickZoom:Ze.bool,touchZoom:Ze.oneOfType([Ze.bool,Ze.object]),touchRotate:Ze.oneOfType([Ze.bool,Ze.object]),keyboard:Ze.oneOfType([Ze.bool,Ze.object]),onHover:Ze.func,onClick:Ze.func,onDblClick:Ze.func,onContextMenu:Ze.func,onMouseDown:Ze.func,onMouseMove:Ze.func,onMouseUp:Ze.func,onTouchStart:Ze.func,onTouchMove:Ze.func,onTouchEnd:Ze.func,onMouseEnter:Ze.func,onMouseLeave:Ze.func,onMouseOut:Ze.func,onWheel:Ze.func,touchAction:Ze.string,eventRecognizerOptions:Ze.object,clickRadius:Ze.number,interactiveLayerIds:Ze.array,getCursor:Ze.func,controller:Ze.instanceOf(uj)}),cZ=function(e){var r=e.isDragging,n=e.isHovering;return r?"grabbing":n?"pointer":"grab"},uZ=Object.assign({},gh.defaultProps,rd,OE.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onNativeClick:null,onHover:null,onContextMenu:function(e){return e.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!1,keyboard:!0,touchAction:"none",eventRecognizerOptions:{},clickRadius:0,getCursor:cZ});function NE(t){if(t.lngLat||!t.offsetCenter)return t;var e=t.offsetCenter,r=e.x,n=e.y;if(!Number.isFinite(r)||!Number.isFinite(n))return t;var i=[r,n];t.point=i;var o=this.viewport,a=o.unproject(i,{targetZ:o.meterOffset[2]});return t.lngLat=[a[0],a[1]],t}function hj(t){var e=this.map;if(!e||!t)return null;var r={},n=this.props.clickRadius;this.props.interactiveLayerIds&&(r.layers=this.props.interactiveLayerIds);try{return e.queryRenderedFeatures(n?[[t[0]-n,t[1]+n],[t[0]+n,t[1]-n]]:t,r)}catch{return null}}function Rc(t,e){var r=this.props[t];r&&r(NE.call(this,e))}function hZ(t){Rc.call(this,t.pointerType==="touch"?"onTouchStart":"onMouseDown",t)}function dZ(t){Rc.call(this,t.pointerType==="touch"?"onTouchEnd":"onMouseUp",t)}function fZ(t){if(Rc.call(this,t.pointerType==="touch"?"onTouchMove":"onMouseMove",t),!this.state.isDragging){var e=this.props,r=e.onHover,n=e.interactiveLayerIds,i;t=NE.call(this,t),(n||r)&&(i=hj.call(this,t.point));var o=!!(n&&i&&i.length>0),a=o&&!this.state.isHovering,l=!o&&this.state.isHovering;(r||a)&&(t.features=i,r&&r(t)),a&&Rc.call(this,"onMouseEnter",t),l&&Rc.call(this,"onMouseLeave",t),(a||l)&&this.setState({isHovering:o})}}function N4(t){var e=this.props,r=e.onClick,n=e.onNativeClick,i=e.onDblClick,o=e.doubleClickZoom,a=[],l=i||o;switch(t.type){case"anyclick":a.push(n),l||a.push(r);break;case"click":l&&a.push(r);break}a=a.filter(Boolean),a.length&&(t=NE.call(this,t),t.features=hj.call(this,t.point),a.forEach(function(u){return u(t)}))}function pZ(t){return{getMap:t.current&&t.current.getMap,queryRenderedFeatures:t.current&&t.current.queryRenderedFeatures}}var Gb=H.forwardRef(function(t,e){var r=H.useContext(am),n=H.useMemo(function(){return t.controller||new uj},[]),i=H.useMemo(function(){return new sZ(null,{touchAction:t.touchAction,recognizerOptions:t.eventRecognizerOptions})},[]),o=H.useRef(null),a=H.useRef(null),l=H.useRef({width:0,height:0,state:{isHovering:!1,isDragging:!1}}),u=l.current;u.props=t,u.map=a.current&&a.current.getMap(),u.setState=function(L){u.state=wc(wc({},u.state),L),o.current.style.cursor=t.getCursor(u.state)};var h=!0,f,m,x=function(R,$,W){if(h){f=[R,$,W];return}var J=u.props,q=J.onViewStateChange,ee=J.onViewportChange;Object.defineProperty(R,"position",{get:function(){return[0,0,Wb(u.map,R)]}}),q&&q({viewState:R,interactionState:$,oldViewState:W}),ee&&ee(R,$,W)};H.useImperativeHandle(e,function(){return pZ(a)},[]);var w=H.useMemo(function(){return wc(wc({},r),{},{eventManager:i,container:r.container||o.current})},[r,o.current]);w.onViewportChange=x,w.viewport=r.viewport||aj(u),u.viewport=w.viewport;var S=function(R){var $=R.isDragging,W=$===void 0?!1:$;if(W!==u.state.isDragging&&u.setState({isDragging:W}),h){m=R;return}var J=u.props.onInteractionStateChange;J&&J(R)},C=function(){u.width&&u.height&&n.setOptions(wc(wc(wc({},u.props),u.props.viewState),{},{isInteractive:!!(u.props.onViewStateChange||u.props.onViewportChange),onViewportChange:x,onStateChange:S,eventManager:i,width:u.width,height:u.height}))},A=function(R){var $=R.width,W=R.height;u.width=$,u.height=W,C(),u.props.onResize({width:$,height:W})};H.useEffect(function(){return i.setElement(o.current),i.on({pointerdown:hZ.bind(u),pointermove:fZ.bind(u),pointerup:dZ.bind(u),pointerleave:Rc.bind(u,"onMouseOut"),click:N4.bind(u),anyclick:N4.bind(u),dblclick:Rc.bind(u,"onDblClick"),wheel:Rc.bind(u,"onWheel"),contextmenu:Rc.bind(u,"onContextMenu")}),function(){i.destroy()}},[]),wC(function(){f&&x.apply(void 0,YX(f)),m&&S(m)}),C();var E=t.width,P=t.height,I=t.style,N=t.getCursor,D=H.useMemo(function(){return wc(wc({position:"relative"},I),{},{width:E,height:P,cursor:N(u.state)})},[I,E,P,N,u.state]);return(!f||!u._child)&&(u._child=H.createElement(IE,{value:w},H.createElement("div",{key:"event-canvas",ref:o,style:D},H.createElement(gh,kt({},t,{width:"100%",height:"100%",style:null,onResize:A,ref:a}))))),h=!1,u._child});Gb.supported=gh.supported;Gb.propTypes=lZ;Gb.defaultProps=uZ;Ze.string.isRequired,Ze.string;function Xr(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}var mZ=["fill","line","symbol","circle","fill-extrusion","raster","background","heatmap","hillshade","sky"];Ze.oneOf(mZ).isRequired,Ze.string,Ze.string,Ze.string;var vh={captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0,capturePointerMove:!1},vl={captureScroll:Ze.bool,captureDrag:Ze.bool,captureClick:Ze.bool,captureDoubleClick:Ze.bool,capturePointerMove:Ze.bool};function gZ(t){var e=t.containerRef.current,r=t.context.eventManager;if(!(!e||!r)){var n={wheel:function(o){var a=t.props;a.captureScroll&&o.stopPropagation(),a.onScroll&&a.onScroll(o,t)},panstart:function(o){var a=t.props;a.captureDrag&&o.stopPropagation(),a.onDragStart&&a.onDragStart(o,t)},anyclick:function(o){var a=t.props;a.captureClick&&o.stopPropagation(),a.onClick&&a.onClick(o,t)},click:function(o){var a=t.props;a.captureClick&&o.stopPropagation(),a.onClick&&a.onClick(o,t)},dblclick:function(o){var a=t.props;a.captureDoubleClick&&o.stopPropagation(),a.onDoubleClick&&a.onDoubleClick(o,t)},pointermove:function(o){var a=t.props;a.capturePointerMove&&o.stopPropagation(),a.onPointerMove&&a.onPointerMove(o,t)}};return r.watch(n,e),function(){r.off(n)}}}function yh(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=H.useContext(am),r=H.useRef(null),n=H.useRef({props:t,state:{},context:e,containerRef:r}),i=n.current;return i.props=t,i.context=e,H.useEffect(function(){return gZ(i)},[e.eventManager]),i}function vZ(t){var e=yZ();return function(){var n=ml(t),i;if(e){var o=ml(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Yb(this,i)}}function yZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xZ(t){var e=t.instance,r=yh(t),n=r.context,i=r.containerRef;return e._context=n,e._containerRef=i,e._render()}var dj=function(t){xn(r,t);var e=vZ(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"_context",{}),lt(Zt(n),"_containerRef",H.createRef()),lt(Zt(n),"_onScroll",function(l){}),lt(Zt(n),"_onDragStart",function(l){}),lt(Zt(n),"_onDblClick",function(l){}),lt(Zt(n),"_onClick",function(l){}),lt(Zt(n),"_onPointerMove",function(l){}),n}return Kr(r,[{key:"_render",value:function(){throw new Error("_render() not implemented")}},{key:"render",value:function(){return H.createElement(xZ,kt({instance:this},this.props,{onScroll:this._onScroll,onDragStart:this._onDragStart,onDblClick:this._onDblClick,onClick:this._onClick,onPointerMove:this._onPointerMove}))}}]),r}(H.PureComponent);lt(dj,"propTypes",vl);lt(dj,"defaultProps",vh);function L4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function R4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L4(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var bZ=Object.assign({},vl,{draggable:Ze.bool,onDrag:Ze.func,onDragEnd:Ze.func,onDragStart:Ze.func,offsetLeft:Ze.number,offsetTop:Ze.number}),_Z=Object.assign({},vh,{draggable:!1,offsetLeft:0,offsetTop:0});function fj(t){var e=t.offsetCenter,r=e.x,n=e.y;return[r,n]}function wZ(t,e){var r=t.center,n=r.x,i=r.y;if(e){var o=e.getBoundingClientRect();return[o.left-n,o.top-i]}return null}function LE(t,e,r,n){var i=t[0]+e[0]-r.offsetLeft,o=t[1]+e[1]-r.offsetTop;return n.viewport.unproject([i,o])}function SZ(t,e){var r=e.props,n=e.callbacks,i=e.state,o=e.context,a=e.containerRef,l=r.draggable;if(l){t.stopPropagation();var u=fj(t),h=wZ(t,a.current);if(i.setDragPos(u),i.setDragOffset(h),n.onDragStart&&h){var f=Object.assign({},t);f.lngLat=LE(u,h,r,o),n.onDragStart(f)}}}function CZ(t,e){var r=e.props,n=e.callbacks,i=e.state,o=e.context;t.stopPropagation();var a=fj(t);i.setDragPos(a);var l=i.dragOffset;if(n.onDrag&&l){var u=Object.assign({},t);u.lngLat=LE(a,l,r,o),n.onDrag(u)}}function kZ(t,e){var r=e.props,n=e.callbacks,i=e.state,o=e.context;t.stopPropagation();var a=i.dragPos,l=i.dragOffset;if(i.setDragPos(null),i.setDragOffset(null),n.onDragEnd&&a&&l){var u=Object.assign({},t);u.lngLat=LE(a,l,r,o),n.onDragEnd(u)}}function EZ(t,e){var r=e.state;t.stopPropagation(),r.setDragPos(null),r.setDragOffset(null)}function TZ(t){var e=t.context.eventManager;if(!(!e||!t.state.dragPos)){var r={panmove:function(i){return CZ(i,t)},panend:function(i){return kZ(i,t)},pancancel:function(i){return EZ(i,t)}};return e.watch(r),function(){e.off(r)}}}function AZ(t){var e=H.useState(null),r=Sa(e,2),n=r[0],i=r[1],o=H.useState(null),a=Sa(o,2),l=a[0],u=a[1],h=yh(R4(R4({},t),{},{onDragStart:SZ}));return h.callbacks=t,h.state.dragPos=n,h.state.setDragPos=i,h.state.dragOffset=l,h.state.setDragOffset=u,H.useEffect(function(){return TZ(h)},[h.context.eventManager,!!n]),h}var j4=typeof window<"u"&&window.devicePixelRatio||1,Nv=function(e){return Math.round(e*j4)/j4},z4=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"x";if(e===null)return r;var i=n==="x"?e.offsetWidth:e.offsetHeight;return Nv(r/100*i)/i*100},PZ=Object.assign({},bZ,{className:Ze.string,longitude:Ze.number.isRequired,latitude:Ze.number.isRequired}),MZ=Object.assign({},_Z,{className:""});function IZ(t){var e=t.props,r=t.state,n=t.context,i=e.longitude,o=e.latitude,a=e.offsetLeft,l=e.offsetTop,u=r.dragPos,h=r.dragOffset,f=n.viewport,m=n.map;if(u&&h)return[u[0]+h[0],u[1]+h[1]];var x=Wb(m,{longitude:i,latitude:o}),w=f.project([i,o,x]),S=Sa(w,2),C=S[0],A=S[1];return C+=a,A+=l,[C,A]}function RE(t){var e=AZ(t),r=e.state,n=e.containerRef,i=t.children,o=t.className,a=t.draggable,l=r.dragPos,u=IZ(e),h=Sa(u,2),f=h[0],m=h[1],x="translate(".concat(Nv(f),"px, ").concat(Nv(m),"px)"),w=a?l?"grabbing":"grab":"auto",S=H.useMemo(function(){var A={position:"absolute",left:0,top:0,transform:x,cursor:w};return H.createElement("div",{className:"mapboxgl-marker ".concat(o),ref:e.containerRef,style:A},i)},[i,o]),C=n.current;return C&&(C.style.transform=x,C.style.cursor=w),S}RE.defaultProps=MZ;RE.propTypes=PZ;const OZ=H.memo(RE);var Lv={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},DZ=Object.keys(Lv);function NZ(t){var e=t.x,r=t.y,n=t.width,i=t.height,o=t.selfWidth,a=t.selfHeight,l=t.anchor,u=t.padding,h=u===void 0?0:u,f=Lv[l],m=f.x,x=f.y,w=r-x*a,S=w+a,C=Math.max(0,h-w)+Math.max(0,S-i+h);if(C>0){var A=x,E=C;for(x=0;x<=1;x+=.5)w=r-x*a,S=w+a,C=Math.max(0,h-w)+Math.max(0,S-i+h),C<E&&(E=C,A=x);x=A}var P=.5;x===.5&&(m=Math.floor(m),P=1);var I=e-m*o,N=I+o,D=Math.max(0,h-I)+Math.max(0,N-n+h);if(D>0){var L=m,R=D;for(m=0;m<=1;m+=P)I=e-m*o,N=I+o,D=Math.max(0,h-I)+Math.max(0,N-n+h),D<R&&(R=D,L=m);m=L}return DZ.find(function($){var W=Lv[$];return W.x===m&&W.y===x})||l}function F4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var LZ=Object.assign({},vl,{className:Ze.string,longitude:Ze.number.isRequired,latitude:Ze.number.isRequired,altitude:Ze.number,offsetLeft:Ze.number,offsetTop:Ze.number,tipSize:Ze.number,closeButton:Ze.bool,closeOnClick:Ze.bool,anchor:Ze.oneOf(Object.keys(Lv)),dynamicPosition:Ze.bool,sortByDepth:Ze.bool,onClose:Ze.func}),RZ=Object.assign({},vh,{className:"",offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}});function jZ(t,e,r,n){var i=Sa(n,2),o=i[0],a=i[1],l=t.anchor,u=t.dynamicPosition,h=t.tipSize;return r&&u?NZ({x:o,y:a,anchor:l,padding:h,width:e.width,height:e.height,selfWidth:r.clientWidth,selfHeight:r.clientHeight}):l}function zZ(t,e,r,n,i){var o=Sa(n,3),a=o[0],l=o[1],u=o[2],h=t.offsetLeft,f=t.offsetTop,m=t.sortByDepth,x=Lv[i],w=a+h,S=l+f,C=z4(r,-x.x*100),A=z4(r,-x.y*100,"y"),E={position:"absolute",transform:`
      translate(`.concat(C,"%, ").concat(A,`%)
      translate(`).concat(Nv(w),"px, ").concat(Nv(S),`px)
    `),display:void 0,zIndex:void 0};return m&&(u>1||u<-1||a<0||a>e.width||l<0||l>e.height?E.display="none":E.zIndex=Math.floor((1-u)/2*1e5)),E}function $4(t,e){var r=e.props,n=e.context;(r.closeOnClick||t.target.className==="mapboxgl-popup-close-button")&&(r.onClose(),n.eventManager&&n.eventManager.once("click",function(i){return i.stopPropagation()},t.target))}function jE(t){var e=H.useRef(null),r=yh(B4(B4({},t),{},{onClick:$4})),n=r.context,i=r.containerRef,o=H.useState(!1),a=Sa(o,2),l=a[1];H.useEffect(function(){l(!0)},[e.current]);var u=n.viewport,h=n.map,f=t.className,m=t.longitude,x=t.latitude,w=t.tipSize,S=t.closeButton,C=t.children,A=t.altitude;A===void 0&&(A=Wb(h,{longitude:m,latitude:x}));var E=u.project([m,x,A]),P=jZ(t,u,e.current,E),I=zZ(t,u,i.current,E,P),N=H.useCallback(function(D){return!n.eventManager&&$4(D,r)},[n.eventManager]);return H.createElement("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(P," ").concat(f),style:I,ref:i},H.createElement("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:w}}),H.createElement("div",{key:"content",ref:e,className:"mapboxgl-popup-content",onClick:N},S&&H.createElement("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button"},"×"),C))}jE.propTypes=LZ;jE.defaultProps=RZ;H.memo(jE);function H4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FZ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var BZ=Object.assign({},vl,{toggleLabel:Ze.string,className:Ze.string,style:Ze.object,compact:Ze.bool,customAttribution:Ze.oneOfType([Ze.string,Ze.arrayOf(Ze.string)])}),$Z=Object.assign({},vh,{className:"",toggleLabel:"Toggle Attribution"});function HZ(t,e,r,n){var i=new Zl.AttributionControl(t);return i._map=e,i._container=r,i._innerContainer=n,i._updateAttributions(),i._updateEditLink(),e.on("styledata",i._updateData),e.on("sourcedata",i._updateData),i}function UZ(t){t._map.off("styledata",t._updateData),t._map.off("sourcedata",t._updateData)}function zE(t){var e=yh(t),r=e.context,n=e.containerRef,i=H.useRef(null),o=H.useState(!1),a=Sa(o,2),l=a[0],u=a[1];H.useEffect(function(){var x;return r.map&&(x=HZ({customAttribution:t.customAttribution},r.map,n.current,i.current)),function(){return x&&UZ(x)}},[r.map]);var h=t.compact===void 0?r.viewport.width<=640:t.compact;H.useEffect(function(){!h&&l&&u(!1)},[h]);var f=H.useCallback(function(){return u(function(x){return!x})},[]),m=H.useMemo(function(){return FZ({position:"absolute"},t.style)},[t.style]);return H.createElement("div",{style:m,className:t.className},H.createElement("div",{ref:n,"aria-pressed":l,className:"mapboxgl-ctrl mapboxgl-ctrl-attrib ".concat(h?"mapboxgl-compact":""," ").concat(l?"mapboxgl-compact-show":"")},H.createElement("button",{type:"button",className:"mapboxgl-ctrl-attrib-button",title:t.toggleLabel,onClick:f}),H.createElement("div",{ref:i,className:"mapboxgl-ctrl-attrib-inner",role:"list"})))}zE.propTypes=BZ;zE.defaultProps=$Z;H.memo(zE);function U4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VZ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U4(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var WZ=Object.assign({},vl,{className:Ze.string,style:Ze.object,container:Ze.object,label:Ze.string}),YZ=Object.assign({},vh,{className:"",container:null,label:"Toggle fullscreen"});function FE(t){var e=yh(t),r=e.context,n=e.containerRef,i=H.useState(!1),o=Sa(i,2),a=o[0],l=o[1],u=H.useState(!1),h=Sa(u,2),f=h[0],m=h[1],x=H.useState(null),w=Sa(x,2),S=w[0],C=w[1];H.useEffect(function(){var D=new Zl.FullscreenControl;C(D),m(D._checkFullscreenSupport());var L=function(){var $=!D._fullscreen;D._fullscreen=$,l($)};return Dc.addEventListener(D._fullscreenchange,L),function(){Dc.removeEventListener(D._fullscreenchange,L)}},[]);var A=function(){S&&(S._container=t.container||r.container,S._onClickFullscreen())},E=H.useMemo(function(){return VZ({position:"absolute"},t.style)},[t.style]);if(!f)return null;var P=t.className,I=t.label,N=a?"shrink":"fullscreen";return H.createElement("div",{style:E,className:P},H.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:n},H.createElement("button",{key:N,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(N),type:"button",title:I,onClick:A},H.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))))}FE.propTypes=WZ;FE.defaultProps=YZ;H.memo(FE);var Pf;function XZ(){return Pf!==void 0?Promise.resolve(Pf):window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(function(t){return Pf=t.state!=="denied",Pf}):(Pf=!!window.navigator.geolocation,Promise.resolve(Pf))}function V4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GZ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V4(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var W4=function(){},qZ=Object.assign({},vl,{className:Ze.string,style:Ze.object,label:Ze.string,disabledLabel:Ze.string,auto:Ze.bool,positionOptions:Ze.object,fitBoundsOptions:Ze.object,trackUserLocation:Ze.bool,showUserLocation:Ze.bool,showAccuracyCircle:Ze.bool,onViewStateChange:Ze.func,onViewportChange:Ze.func,onGeolocate:Ze.func}),ZZ=Object.assign({},vh,{className:"",label:"Find My Location",disabledLabel:"Location Not Available",auto:!1,positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0,showAccuracyCircle:!0,onGeolocate:function(){}});function KZ(t){var e=new Zl.LngLat(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,n=e.toBounds(r);return[[n._ne.lng,n._ne.lat],[n._sw.lng,n._sw.lat]]}function JZ(t,e,r){var n=new Zl.GeolocateControl(e);n._container=Dc.createElement("div"),n._map={on:function(){},_getUIString:function(){return""}},n._setupUI(!0),n._map=t.map,n._geolocateButton=r;var i=t.eventManager;return n.options.trackUserLocation&&i&&i.on("panstart",function(){n._watchState==="ACTIVE_LOCK"&&(n._watchState="BACKGROUND",r.classList.add("mapboxgl-ctrl-geolocate-background"),r.classList.remove("mapboxgl-ctrl-geolocate-active"))}),n.on("geolocate",e.onGeolocate),n}function QZ(t,e){var r=e.context,n=e.props,i=KZ(t),o=r.viewport.fitBounds(i,n.fitBoundsOptions),a=o.longitude,l=o.latitude,u=o.zoom,h=Object.assign({},r.viewport,{longitude:a,latitude:l,zoom:u}),f=new bp(h),m=Object.assign({},f.getViewportProps(),Mc),x=n.onViewportChange||r.onViewportChange||W4,w=n.onViewStateChange||r.onViewStateChange||W4;w({viewState:m}),x(m)}function BE(t){var e=yh(t),r=e.context,n=e.containerRef,i=H.useRef(null),o=H.useState(null),a=Sa(o,2),l=a[0],u=a[1],h=H.useState(!1),f=Sa(h,2),m=f[0],x=f[1];H.useEffect(function(){var I;return r.map&&XZ().then(function(N){x(N),i.current&&(I=JZ(r,t,i.current),I._updateCamera=function(D){return QZ(D,e)},u(I))}),function(){I&&I._clearWatch()}},[r.map]);var w=H.useCallback(function(){l&&(l.options=e.props,l.trigger())},[l]);H.useEffect(function(){t.auto&&w()},[l,t.auto]),H.useEffect(function(){},[r.viewport.zoom]);var S=t.className,C=t.label,A=t.disabledLabel,E=t.trackUserLocation,P=H.useMemo(function(){return GZ({position:"absolute"},t.style)},[t.style]);return H.createElement("div",{style:P,className:S},H.createElement("div",{key:"geolocate-control",className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:n},H.createElement("button",{key:"geolocate",className:"mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",ref:i,disabled:!m,"aria-pressed":!E,type:"button",title:m?C:A,"aria-label":m?C:A,onClick:w},H.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))))}BE.propTypes=qZ;BE.defaultProps=ZZ;H.memo(BE);function Y4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y4(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var X4=function(){},tK=Object.assign({},vl,{className:Ze.string,style:Ze.object,onViewStateChange:Ze.func,onViewportChange:Ze.func,showCompass:Ze.bool,showZoom:Ze.bool,zoomInLabel:Ze.string,zoomOutLabel:Ze.string,compassLabel:Ze.string}),rK=Object.assign({},vh,{className:"",showCompass:!0,showZoom:!0,zoomInLabel:"Zoom In",zoomOutLabel:"Zoom Out",compassLabel:"Reset North"});function n2(t,e,r){var n=t.viewport,i=new bp(Object.assign({},n,r)),o=Object.assign({},i.getViewportProps(),Mc),a=e.onViewportChange||t.onViewportChange||X4,l=e.onViewStateChange||t.onViewStateChange||X4;l({viewState:o}),a(o)}function i2(t,e,r,n){return H.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),type:"button",title:e,onClick:r},n||H.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}function nK(t){var e=t.viewport.bearing,r={transform:"rotate(".concat(-e,"deg)")};return H.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true",style:r})}function $E(t){var e=yh(t),r=e.context,n=e.containerRef,i=function(){n2(r,t,{zoom:r.viewport.zoom+1})},o=function(){n2(r,t,{zoom:r.viewport.zoom-1})},a=function(){n2(r,t,{bearing:0,pitch:0})},l=t.className,u=t.showCompass,h=t.showZoom,f=t.zoomInLabel,m=t.zoomOutLabel,x=t.compassLabel,w=H.useMemo(function(){return eK({position:"absolute"},t.style)},[t.style]);return H.createElement("div",{style:w,className:l},H.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:n},h&&i2("zoom-in",f,i),h&&i2("zoom-out",m,o),u&&i2("compass",x,a,nK(r))))}$E.propTypes=tK;$E.defaultProps=rK;H.memo($E);function G4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G4(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var aK=Object.assign({},vl,{className:Ze.string,style:Ze.object,maxWidth:Ze.number,unit:Ze.oneOf(["imperial","metric","nautical"])}),oK=Object.assign({},vh,{className:"",maxWidth:100,unit:"metric"});function HE(t){var e=yh(t),r=e.context,n=e.containerRef,i=H.useState(null),o=Sa(i,2),a=o[0],l=o[1];H.useEffect(function(){if(r.map){var h=new Zl.ScaleControl;h._map=r.map,h._container=n.current,l(h)}},[r.map]),a&&(a.options=t,a._onMove());var u=H.useMemo(function(){return iK({position:"absolute"},t.style)},[t.style]);return H.createElement("div",{style:u,className:t.className},H.createElement("div",{ref:n,className:"mapboxgl-ctrl mapboxgl-ctrl-scale"}))}HE.propTypes=aK;HE.defaultProps=oK;H.memo(HE);Object.assign({},vl,{redraw:Ze.func.isRequired});Object.assign({},vl,{redraw:Ze.func.isRequired,style:Ze.object});Object.assign({},vl,{redraw:Ze.func.isRequired,style:Ze.object});Zl&&Zl.setRTLTextPlugin;function q4(t){return da({tag:"svg",attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"},child:[]}]})(t)}function sK(t){return da({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}const lK=({lat:t,long:e,title:r})=>{const n={zoom:14,width:"100%",height:"100%"};return _.jsx(Gb,{...n,goongApiAccessToken:"4dAgWahZ3jW5LsZCiYikMTvVUOYpd2jcmxz3kyLA",height:"100%",width:"100%",latitude:t,longitude:e,children:_.jsx(OZ,{latitude:t,longitude:e,offsetLeft:-20,offsetTop:-10,children:_.jsxs("div",{className:"text-3xl text-red-500",children:[_.jsx(sK,{}),_.jsx("p",{className:"text-xs",children:r})]})})})},cK=()=>{const t=Ka(),[e,r]=H.useState([]),[n,i]=H.useState(""),[o,a]=H.useState(""),[l,u]=H.useState([]),[h,f]=H.useState(null);H.useEffect(()=>{(async()=>{try{const S=await ea.get("https://fourfsalonserver.onrender.com/api/branches");r(S.data),u(S.data),f(S.data[0])}catch(S){console.error("Error fetching branches:",S)}})()},[]),H.useEffect(()=>{const w=e.filter(S=>(!n||S.address.includes(n))&&(!o||S.address.includes(o)));u(w)},[n,o,e]);const m=w=>{t(`/booking?branch_id=${w.id}`)},x=()=>{navigator.geolocation.getCurrentPosition(w=>{const S={lat:w.coords.latitude,lng:w.coords.longitude};let C=Number.MAX_SAFE_INTEGER,A=null;e.forEach(E=>{const P=Math.sqrt((E.lat-S.lat)**2+(E.long-S.lng)**2);P<C&&(C=P,A=E)}),A&&f(A)})};return _.jsx("div",{className:" bg-gray-100 flex items-center justify-center",children:_.jsx("div",{className:"w-3/4 bg-white p-4 rounded shadow-md",children:_.jsxs("div",{className:"flex flex-col md:flex-row gap-4 h-full",children:[_.jsxs("div",{className:"w-full md:w-1/2 p-4 flex flex-col",children:[_.jsx("h1",{className:"text-xl font-semibold mb-4 bg-blue-900 text-center text-white p-2 rounded hover:bg-blue-800 cursor-pointer",onClick:x,children:"TÌM SALON GẦN ANH"}),_.jsxs("div",{className:"overflow-y-auto flex-1 border rounded p-4 border-gray-200 border-solid max-h-[530px]",children:[h&&_.jsxs(_.Fragment,{children:[_.jsx("label",{className:"text-sm text-gray-500",children:"Đang xem"}),_.jsxs("div",{className:"flex items-center mb-4 p-4 border rounded hover:bg-gray-50",children:[_.jsx("img",{src:h.image?h.image:"https://media.licdn.com/dms/image/v2/D560BAQG8v1rzcEkGlQ/company-logo_200_200/company-logo_200_200/0/1689257900736/branch_metrics_logo?e=2147483647&v=beta&t=jsEr5o4XivwCgispjT_SyXMCED2QqtVl5Pa_qA8Zvxo",alt:"Salon",className:"w-16 h-16 object-cover rounded"}),_.jsxs("div",{className:"ml-4 flex-1",children:[_.jsx("p",{className:"font-semibold",children:h.address}),_.jsx("div",{className:"flex mt-2 space-x-2",children:_.jsx("button",{className:"bg-blue-500 text-white px-3 py-1 rounded text-xs cursor-pointer",onClick:()=>m(h),children:"📅 Đặt lịch"})})]})]}),_.jsx("hr",{className:"my-4"})]}),l.map(w=>_.jsxs("div",{className:"flex items-center mb-4 p-4 border rounded hover:bg-gray-50",children:[_.jsx("img",{src:w.image?w.image:"https://media.licdn.com/dms/image/v2/D560BAQG8v1rzcEkGlQ/company-logo_200_200/company-logo_200_200/0/1689257900736/branch_metrics_logo?e=2147483647&v=beta&t=jsEr5o4XivwCgispjT_SyXMCED2QqtVl5Pa_qA8Zvxo",alt:"Salon",className:"w-16 h-16 object-cover rounded"}),_.jsxs("div",{className:"ml-4 flex-1",children:[_.jsx("p",{className:"font-semibold",children:w.address}),_.jsxs("div",{className:"flex mt-2 space-x-2",children:[_.jsx("button",{className:"bg-green-500 text-white px-3 py-2 rounded text-xs cursor-pointer",onClick:()=>f(w),children:"Xem vị trí"}),_.jsx("button",{className:"bg-blue-500 text-white px-3 py-1 rounded text-xs cursor-pointer",onClick:()=>m(w),children:"📅 Đặt lịch"})]})]})]},w.id))]})]}),_.jsxs("div",{className:"w-full md:w-1/2 flex flex-col gap-1",children:[_.jsx("div",{className:"p-4 rounded",children:_.jsxs("div",{className:"flex space-x-4",children:[_.jsxs("select",{className:"p-2 rounded text-gray-700 flex-1",onChange:w=>i(w.target.value),children:[_.jsx("option",{value:"",children:"Tỉnh/Thành phố"}),_.jsx("option",{value:"Hà Nội",children:"Hà Nội"}),_.jsx("option",{value:"TP Hồ Chí Minh",children:"TP Hồ Chí Minh"}),_.jsx("option",{value:"Đà Nẵng",children:"Đà Nẵng"})]}),_.jsxs("select",{className:"p-2 rounded text-gray-700 flex-1",onChange:w=>a(w.target.value),children:[_.jsx("option",{value:"",children:"Quận huyện"}),_.jsx("option",{value:"Ba Đình",children:"Ba Đình"}),_.jsx("option",{value:"Hoàn Kiếm",children:"Hoàn Kiếm"}),_.jsx("option",{value:"Cầu Giấy",children:"Cầu Giấy"}),_.jsx("option",{value:"Hai Bà Trưng",children:"Hai Bà Trưng"})]})]})}),_.jsx("div",{className:"flex-1 bg-gray-50 rounded shadow-md overflow-hidden",children:h&&_.jsx(lK,{lat:Number(h.lat),long:Number(h.long),title:h.address})})]})]})})})},Fh="px-2 py-1 w-fit min-w-8 h-8 rounded-md items-center justify-center enabled:hover:bg-gray-300 focus:outline-none disabled:opacity-30 disabled:cursor-not-allowed",Bh=3,uK=({prev:t,last:e,next:r,first:n,total:i,limit:o,activePage:a,onChangePage:l})=>{const u=Math.ceil(i/o);if(u<=1)return null;const h=()=>n?_.jsx("button",{onClick:()=>l(1),disabled:a===1,className:Fh,children:_.jsx("svg",{fill:"none",width:"20px",height:"20px",viewBox:"0 0 24 24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:_.jsx("path",{id:"primary",d:"M 17 19 L 10 12.5 L 17 6 M 12 6 L 5 12.5 L 12 19"})})}):null,f=()=>e?_.jsx("button",{onClick:()=>l(u),disabled:a===u,className:Fh,children:_.jsx("svg",{fill:"none",width:"20px",height:"20px",viewBox:"0 0 24 24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"black",children:_.jsx("path",{id:"primary",d:"M 5.5 4 L 12.5 10.5 L 5.5 17 M 10.5 17 L 17.5 10.5 L 10.5 4"})})}):null,m=()=>t?_.jsx("button",{onClick:()=>l(a-1),disabled:a===1,className:Fh,children:_.jsx("svg",{fill:"none",width:"20px",height:"20px",viewBox:"0 0 24 24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"black",children:_.jsx("path",{id:"primary",d:"M 13.5 19 L 6.5 12.5 L 13.5 6"})})}):null,x=()=>r?_.jsx("button",{onClick:()=>{a!==u&&l(a+1)},disabled:a===u,className:Fh,children:_.jsx("svg",{fill:"none",width:"20px",height:"20px",viewBox:"0 0 24 24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"black",children:_.jsx("path",{id:"primary",d:"M 7.5 4 L 14.5 10.5 L 7.5 17"})})}):null,w=()=>a<=2?2:a>=u-Bh?u-Bh:a-1,S=()=>a<=Bh?Bh+2:a>=u-2?u:a+Bh-1,C=()=>_.jsxs("div",{className:"flex items-center justify-center gap-4",children:[_.jsx("button",{onClick:()=>l(1),className:`${Fh} ${a===1?"bg-gray-300":""}`,children:"1"}),_.jsx("span",{className:`text-gray-600 ${a>=Bh?"block":"hidden"}`,children:"..."}),[...Array(u)].slice(w(),S()).map((A,E)=>_.jsx("button",{onClick:()=>{a!==w()+E&&l(w()+E)},className:`${Fh} ${a===w()+E?"bg-gray-300":""}`,children:w()+E},w()+E)),_.jsx("span",{className:`text-gray-600 ${a<u-Bh?"block":"hidden"}`,children:"..."}),_.jsx("button",{onClick:()=>l(u),className:`${Fh} ${a===u?"bg-gray-300":""}`,children:u})]});return _.jsxs("div",{className:"flex items-center justify-center gap-4",children:[h(),m(),C(),x(),f()]})},hK=({isVisible:t})=>t?_.jsx("div",{className:"flex items-center justify-center",children:_.jsxs("div",{className:"inline-flex items-center h-12 w-fit px-4 py-2 font-semibold leading-6 text-sm text-black transition ease-in-out duration-150",children:[_.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-black",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đang tải..."]})}):null,dK=({fill:t,onClick:e,onHover:r,onLeave:n})=>_.jsx(_.Fragment,{children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:t?"currentColor":"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6 cursor-pointer text-amber-500 hover:text-amber-500",onClick:e,onMouseEnter:r,onMouseLeave:n,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})})}),a2=({totalStars:t=5,initialRating:e=0,changeable:r=!0,text:n,onRatingChange:i})=>{const[o,a]=H.useState(e),[l,u]=H.useState(0),h=m=>{r&&(a(m),i&&i(m))},f=m=>{r&&u(m)};return _.jsxs("div",{className:"flex items-center justify-center",children:[_.jsx("div",{className:"flex",children:[...Array(t)].map((m,x)=>_.jsx(dK,{fill:x<o||x<l,onClick:()=>h(x+1),onHover:()=>f(x+1),onLeave:()=>u(o)},x))}),_.jsx("span",{className:"ml-2 text-gray-600",children:n&&n})]})},ex=({label:t,checkable:e=!0,checked:r,onChange:n})=>{const i=()=>{e&&n()};return _.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full cursor-pointer transition-colors duration-300 ${r?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,onClick:i,children:[r&&_.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),!r&&_.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M 5 13 l 14 0 M 12 6 V 20"})}),_.jsx("input",{type:"checkbox",checked:r,onChange:i,className:"hidden"}),_.jsx("span",{className:"mx-2 select-none",children:t})]})},fK=t=>{if(!t.isOpen)return null;const e=()=>{t.onAccept()},r=()=>{t.onReject()};return _.jsx("div",{className:"absolute inset-0 bg-opacity-25 backdrop-blur-[1px] flex items-center justify-center",children:_.jsxs("div",{className:"flex bg-white p-6 border border-solid rounded-xl justify-center gap-2 shadow-lg",children:[_.jsx("div",{className:"p-2 bg-red-100 h-fit w-fit rounded-full items-center justify-center",children:_.jsxs("svg",{width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",className:"text-red-400",children:[_.jsx("path",{d:"M13 17.5a1 1 0 11-2 0 1 1 0 012 0zm-.25-8.25a.75.75 0 00-1.5 0v4.5a.75.75 0 001.5 0v-4.5z"}),_.jsx("path",{fillRule:"evenodd",d:"M9.836 3.244c.963-1.665 3.365-1.665 4.328 0l8.967 15.504c.963 1.667-.24 3.752-2.165 3.752H3.034c-1.926 0-3.128-2.085-2.165-3.752L9.836 3.244zm3.03.751a1 1 0 00-1.732 0L2.168 19.499A1 1 0 003.034 21h17.932a1 1 0 00.866-1.5L12.866 3.994z"})]})}),_.jsxs("div",{children:[_.jsx("h4",{className:"text-2xl font-semibold text-gray-800",children:t.title}),_.jsx("p",{className:"text-gray-600",children:t.message}),_.jsxs("div",{className:"flex justify-end mt-4",children:[_.jsx("button",{onClick:r,className:"px-2 py-1 bg-white-500 text-black border border-solid border-b-zinc-700 rounded-md mr-4 w-fit",children:"Hủy"}),_.jsx("button",{onClick:e,className:"px-2 py-1 bg-red-500 text-white rounded-md w-fit",children:"Xác nhận"})]})]})]})})},pK="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cg%20transform='translate(0%20-1028.4)'%3e%3cpath%20d='m12%200c-4.4183%202.3685e-15%20-8%203.5817-8%208%200%201.421%200.3816%202.75%201.0312%203.906%200.1079%200.192%200.221%200.381%200.3438%200.563l6.625%2011.531%206.625-11.531c0.102-0.151%200.19-0.311%200.281-0.469l0.063-0.094c0.649-1.156%201.031-2.485%201.031-3.906%200-4.4183-3.582-8-8-8zm0%204c2.209%200%204%201.7909%204%204%200%202.209-1.791%204-4%204-2.2091%200-4-1.791-4-4%200-2.2091%201.7909-4%204-4z'%20transform='translate(0%201028.4)'%20fill='%23e74c3c'/%3e%3cpath%20d='m12%203c-2.7614%200-5%202.2386-5%205%200%202.761%202.2386%205%205%205%202.761%200%205-2.239%205-5%200-2.7614-2.239-5-5-5zm0%202c1.657%200%203%201.3431%203%203s-1.343%203-3%203-3-1.3431-3-3%201.343-3%203-3z'%20transform='translate(0%201028.4)'%20fill='%23c0392b'/%3e%3c/g%3e%3c/svg%3e",mK="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20height='800px'%20width='800px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20503.467%20503.467'%20xml:space='preserve'%3e%3cpath%20style='fill:%23FFD0A1;'%20d='M321.707,256.853L498.347,396.8c-3.413,14.507-17.067,25.6-33.28,25.6H38.4%20c-15.36,0-28.16-10.24-32.427-23.893L181.76,256l0,0l45.227,35.84c0,0,12.8,11.093,25.6,11.093s25.6-11.093,25.6-11.093%20L321.707,256.853z%20M499.2,115.2L321.707,256.853l-43.52,34.987c0,0-12.8,11.093-25.6,11.093c-12.8,0-25.6-11.093-25.6-11.093%20L181.76,256l0,0L4.267,115.2c0-18.773,15.36-34.133,34.133-34.133h426.667C483.84,81.067,499.2,96.427,499.2,115.2%20M499.2,115.2%20v273.067c0,3.413,0,5.973-0.853,8.533l-176.64-139.947L499.2,115.2z%20M180.907,256L5.12,398.507%20c-0.853-3.413-1.707-6.827-1.707-10.24V115.2L180.907,256z'/%3e%3cpath%20style='fill:%2351565F;'%20d='M465.067,426.667H38.4c-21.333,0-38.4-17.067-38.4-38.4v-230.4c0-2.56,1.707-4.267,4.267-4.267%20s4.267,1.707,4.267,4.267v230.4c0,16.213,13.653,29.867,29.867,29.867h426.667c16.213,0,29.867-13.653,29.867-29.867v-230.4%20c0-2.56,1.707-4.267,4.267-4.267c2.56,0,4.267,1.707,4.267,4.267v230.4C503.467,409.6,486.4,426.667,465.067,426.667z%20M465.067,375.467c-0.853,0-1.707,0-2.56-0.853L343.04,280.747c-0.853-0.853-1.707-1.707-1.707-3.413c0-0.853,0-1.707,0.853-2.56%20c1.707-1.707,4.267-2.56,5.973-0.853l119.467,93.867c0.853,0.853,1.707,1.707,1.707,3.413c0,0.853,0,1.707-0.853,2.56%20C467.627,374.613,465.92,375.467,465.067,375.467z%20M38.4,375.467c-0.853,0-2.56-0.853-3.413-1.707s-0.853-1.707-0.853-2.56%20c0-0.853,0.853-2.56,1.707-3.413l119.467-93.867c1.707-1.707,4.267-0.853,5.973,0.853c0.853,0.853,0.853,1.707,0.853,2.56%20c0,0.853-0.853,2.56-1.707,3.413L40.96,374.613C40.107,375.467,39.253,375.467,38.4,375.467z%20M251.733,307.2%20c-13.653,0-28.16-11.947-28.16-11.947L1.707,118.613C0.853,117.76,0,116.907,0,115.2c0-21.333,17.067-38.4,38.4-38.4h426.667%20c21.333,0,38.4,17.067,38.4,38.4c0,1.707-0.853,2.56-1.707,3.413L279.893,296.107C279.893,296.107,266.24,307.2,251.733,307.2z%20M8.533,113.493l220.16,175.787c0,0,11.947,10.24,23.04,10.24s23.04-9.387,23.04-9.387l220.16-175.787%20c-0.853-15.36-13.653-28.16-29.867-28.16H38.4C22.187,85.333,9.387,97.28,8.533,113.493z'/%3e%3c/svg%3e",gK="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.5562%2012.9062L16.1007%2013.359C16.1007%2013.359%2015.0181%2014.4355%2012.0631%2011.4972C9.10812%208.55901%2010.1907%207.48257%2010.1907%207.48257L10.4775%207.19738C11.1841%206.49484%2011.2507%205.36691%2010.6342%204.54348L9.37326%202.85908C8.61028%201.83992%207.13596%201.70529%206.26145%202.57483L4.69185%204.13552C4.25823%204.56668%203.96765%205.12559%204.00289%205.74561C4.09304%207.33182%204.81071%2010.7447%208.81536%2014.7266C13.0621%2018.9492%2017.0468%2019.117%2018.6763%2018.9651C19.1917%2018.9171%2019.6399%2018.6546%2020.0011%2018.2954L21.4217%2016.883C22.3806%2015.9295%2022.1102%2014.2949%2020.8833%2013.628L18.9728%2012.5894C18.1672%2012.1515%2017.1858%2012.2801%2016.5562%2012.9062Z'%20fill='%231C274C'/%3e%3c/svg%3e",vK=["Sạch sẽ","Dễ tìm","Nhân viên thân thiện","Dịch vụ tốt","Giá cả hợp lý"],yK=["Không sạch sẽ","Khó tìm","Nhân viên không thân thiện","Dịch vụ không tốt","Giá cả không hợp lý"],xK=["Nhiệt tình","Nhanh nhẹn","Kỹ năng tốt","Tận tâm","Thân thiện"],bK=["Không nhiệt tình","Chậm chạp","Kỹ năng không tốt","Không tận tâm","Không thân thiện"],tx=5,_K=()=>{var kr,rn,xt,qt,tr,ct,rr,gr,Fr,en,kn,Xn,fn;const[t,e]=H.useState(!1),[r,n]=H.useState(!1),[i,o]=H.useState(!1),[a,l]=H.useState([]),[u,h]=H.useState(1),[f,m]=H.useState(!1),[x,w]=H.useState(!1),[S,C]=H.useState(null),[A,E]=H.useState(null),[P,I]=H.useState([]),[N,D]=H.useState([]),[L,R]=H.useState(!0),[$,W]=H.useState(""),[J,q]=H.useState(!1),{user:ee}=ry(),se=Ka();H.useEffect(()=>{e(!0),n(!1),ee&&(async()=>{try{const Lt=await Ix(`user_id=${ee==null?void 0:ee.id}&have_feedback=true&order=desc`);l(Lt)}catch{n(!0)}e(!1)})()},[i,ee]);const he=Et=>_.jsxs("div",{className:"flex flex-col gap-3 w-full h-fit items-center",children:[_.jsx("p",{className:"select-none",children:Et}),_.jsx("button",{className:"w-fit h-fit px-2 py-1 bg-gray-300 hover:bg-gray-200",onClick:()=>o(!i),children:"Thử lại"})]}),[Se]=dE(),oe=Se.get("id"),_e=Se.get("feedback");console.log(oe,_e),H.useEffect(()=>{oe==null&&_e==null&&(w(!1),m(!1))},[oe,_e]),H.useEffect(()=>{oe&&_e==null&&(w(!1),m(!0))}),H.useEffect(()=>{}),H.useEffect(()=>{oe&&S===null&&(w(!1),m(!0),console.log(f),(async()=>await Ix(`id= ${oe}&have_feedback=true`).then(Lt=>{C(Lt[0]),R(!Lt[0].feedback),E(Lt[0].feedback),_e&&((async()=>Lt[0].feedback&&(pt(Lt[0].feedback.branch_rating??0),Pt(Lt[0].feedback.employee_rating??0),Lt[0].feedback.branch_feedback&&I(Lt[0].feedback.branch_feedback.split(", ")),Lt[0].feedback.employee_feedback&&D(Lt[0].feedback.employee_feedback.split(", ")),R(!Lt[0].feedback)))(),w(!0),m(!1))}))())},[oe,_e,S,A]);const xe=Et=>{I(Lt=>Lt.includes(Et)?Lt.filter(Sr=>Sr!==Et):[...Lt,Et])},Ne=Et=>{D(Lt=>Lt.includes(Et)?Lt.filter(Sr=>Sr!==Et):[...Lt,Et])},Re=()=>{I([])},He=()=>{D([])},tt=Et=>{switch(YI(Et)){case"Completed":return"bg-green-100 text-green-600";case"Pending":return"bg-yellow-100 text-yellow-600";case"Cancelled":return"bg-red-100 text-red-600";case"Confirmed":return"bg-blue-100 text-blue-600";default:return"bg-gray-100 text-gray-600"}},nt=Et=>{switch(YI(Et)){case"Completed":return"Hoàn thành";case"Pending":return"Chờ xác nhận";case"Cancelled":return"Đã hủy";case"Confirmed":return"Đã xác nhận";default:return"Không xác định"}},Ke=Et=>{C(Et),Et.status==="completed"&&E(Et.feedback),Et.feedback&&R(!1),m(!0),Re(),He(),se("/appointment?id="+Et.id)},Ue=async()=>{if(S&&S.status!=="cancelled"&&S.status!=="completed")try{const Et={...S,status:"cancelled"};await vV(Et);const Lt=await Ix(`user_id=${ee==null?void 0:ee.id}&have_feedback=true&order=desc`);l(Lt),C({...S,status:"cancelled"}),q(!1)}catch(Et){console.log(Et)}},Xe=async()=>{S&&S.status!=="cancelled"&&S.status!=="completed"&&se("/booking?appointment_id="+S.id)},Ae=()=>{C(null),m(!1),w(!1),R(!0),se("/appointment")},We=()=>{S&&(m(!0),w(!1),se("/appointment?id="+S.id))},qe=()=>{S&&S.status==="completed"&&(m(!1),S.feedback?(E(S.feedback),S.feedback.branch_feedback&&I(S.feedback.branch_feedback.split(", ")),S.feedback.employee_feedback&&D(S.feedback.employee_feedback.split(", ")),R(!1)):(E({id:0,branch_rating:0,branch_feedback:"",employee_rating:0,employee_feedback:"",overall_rating:0,appointment_id:S.id}),S.feedback=A,R(!0)),w(!0),se("/appointment?id="+S.id+"&feedback=true"))},pt=Et=>{const Lt=(A==null?void 0:A.branch_rating)??0;(Et<4&&Lt>=4||Et>=4&&Lt<4)&&Re(),E(A&&{...A,branch_rating:Et})},Pt=Et=>{const Lt=(A==null?void 0:A.employee_rating)??0;(Et<4&&Lt>=4||Et>=4&&Lt<4)&&He(),E(A&&{...A,employee_rating:Et})},Ht=Et=>{E(A&&{...A,overall_rating:Et})},dt=()=>A?!(A.branch_rating===0||A.employee_rating===0||A.overall_rating===0):!1,yt=async()=>{if(A&&A.id===0){P.length!==0?A.branch_feedback=P.join(", "):delete A.branch_feedback,N.length!==0?A.employee_feedback=N.join(", "):delete A.employee_feedback,$.length!==0?A.suggestion=$:delete A.suggestion;try{await yV(A),w(!1),w(!0)}catch(Et){console.log(Et)}}else console.log("Cannot submit feedback")},sr=()=>{q(!0),console.log(J)};return _.jsx("div",{className:"relative flex min-h-screen flex-col justify-top items-center overflow-hidden bg-gray-50 py-6 sm:py-12 ",children:_.jsx("div",{className:"relative bg-white px-4 pt-8 pb-6 shadow-xl ring-1 ring-gray-900/5 sm:ml-0 w-full max-w-4xl mx-10 sm:rounded-lg sm:px-10 overflow-auto overscroll-auto",children:_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Lịch hẹn của bạn"}),_.jsxs("div",{className:"flex flex-row justify-start align-middle border-b-2 mb-3",children:[_.jsx("div",{className:"font-bold hover:underline cursor-pointer select-none",onClick:()=>Ae(),children:"Danh sách lịch hẹn"}),_.jsxs("div",{className:`flex flex-row justify-start align-middle ${f||x?"block":"hidden"}`,onClick:()=>We(),children:[_.jsx(q4,{className:"text-2xl mx-2"}),_.jsxs("div",{className:"font-bold hover:underline cursor-pointer",children:["Lịch hẹn #",S!==null?S.id:""]})]}),_.jsxs("div",{className:`flex flex-row justify-start align-middle ${x?"block":"hidden"}`,children:[_.jsx(q4,{className:"text-2xl mx-2"}),_.jsx("div",{className:"font-bold hover:underline cursor-pointer",children:"Đánh giá"})]})]}),t&&_.jsx(hK,{isVisible:t}),r&&he("Có lỗi đã xảy ra! Vui lòng thử lại"),_.jsxs("div",{className:"relative min-h-full",children:[_.jsxs("div",{className:`${!f&&!x?"block":"hidden"} space-y-4`,children:[a.slice((u-1)*tx,(u-1)*tx+tx).map(Et=>_.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 shadow-sm bg-white",children:[_.jsxs("div",{className:"flex justify-between items-center border-b pb-4 mb-6",children:[_.jsxs("h2",{className:"text-2xl font-semibold text-gray-800",children:["Lịch hẹn #",Et.id]}),_.jsx("span",{className:`text-sm ${tt(Et.status)} px-3 py-1 rounded-full`,children:nt(Et==null?void 0:Et.status)})]}),_.jsxs("p",{className:"text-gray-600",children:["Dịch vụ:"," ",_.jsx("span",{className:"font-semibold",children:Et.service?Et.service.title:"Không xác định"})]}),_.jsxs("p",{className:"text-gray-600",children:["Ngày hẹn:"," ",_.jsx("span",{className:"font-semibold",children:WI(Et.date)})]}),_.jsxs("p",{className:"text-gray-600",children:["Bắt đầu:"," ",_.jsx("span",{className:"font-semibold",children:td(Et.start_time)})]}),_.jsxs("p",{className:"text-gray-600",children:["Địa chỉ:"," ",_.jsx("span",{className:"font-semibold",children:Et.branch?Et.branch.address:"Không xác định"})]}),_.jsxs("p",{className:"text-gray-600",children:["Thanh toán:"," ",_.jsx("span",{className:"font-semibold",children:Qg(Et.final_price)})]}),_.jsx("div",{className:"flex justify-end",children:_.jsx("button",{className:"text-white bg-blue-600 hover:bg-blue-500 focus:ring-4 focus:ring-blue-300 rounded px-4 py-2 text-sm font-medium w-fit h-fit",onClick:()=>Ke(Et),children:"Chi tiết"})})]},Et.id)),_.jsx(uK,{prev:!0,last:!0,next:!0,first:!0,total:a.length,limit:tx,activePage:u,onChangePage:Et=>{h(Et),window.scrollTo(0,0)}})]}),_.jsx("div",{className:`${f?"block":"hidden"} min-h-96 relative`,children:f&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"container mx-auto p-1",children:S!==null&&_.jsxs("div",{className:"w-full mx-auto border border-gray-200 rounded-lg shadow-sm bg-white p-6",children:[_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center border-b pb-4 mb-6",children:[_.jsxs("h2",{className:"text-2xl font-semibold text-gray-800",children:["Lịch hẹn #",S.id]}),_.jsx("span",{className:`text-sm ${tt(S.status)} px-3 py-1 rounded-full`,children:nt(S==null?void 0:S.status)})]}),_.jsxs("div",{className:"grid sm:grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Thông tin lịch hẹn"}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-gray-600 font-medium",children:"Dịch vụ:"}),_.jsx("span",{className:"text-gray-800 font-semibold",children:S!=null&&S.service?(kr=S==null?void 0:S.service)==null?void 0:kr.title:"Không xác định"})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-gray-600 font-medium",children:"Ngày hẹn:"}),_.jsx("span",{className:"text-gray-800 font-semibold",children:WI(S.date)})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-gray-600 font-medium",children:"Thời gian:"}),_.jsx("span",{className:"text-gray-800 font-semibold",children:td(S.start_time)})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-gray-600 font-medium",children:"Ước tính kết thúc:"}),_.jsx("span",{className:"text-gray-800 font-semibold",children:td(S.estimated_end_time)})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-gray-600 font-medium",children:"Thanh toán:"}),_.jsx("span",{className:"text-gray-800 font-semibold",children:Qg(S.final_price)})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Thông tin nhân viên"}),_.jsx("div",{className:"flex items-center justify-center space-x-4",children:_.jsx("img",{src:`${(rn=S.employee)==null?void 0:rn.picture_url}`,alt:"Stylist Image",className:"w-10 h-10 rounded-full object-cover border border-gray-300"})}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-gray-600 font-medium",children:"Tên:"}),_.jsx("span",{className:"text-gray-800 font-semibold",children:(xt=S.employee)==null?void 0:xt.name})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-gray-600 font-medium",children:"Email:"}),_.jsx("span",{className:"text-gray-800 font-semibold",children:(qt=S.employee)==null?void 0:qt.email})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-gray-600 font-medium",children:"SĐT:"}),_.jsx("span",{className:"text-gray-800 font-semibold",children:(tr=S.employee)==null?void 0:tr.phone})]})]})]}),_.jsxs("div",{className:"container py-6",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Thông tin chi nhánh"}),_.jsxs("div",{className:"flex items-center space-x-4",children:[_.jsx("img",{src:`${(ct=S.branch)==null?void 0:ct.picture_url}`,alt:"Branch Image",className:"w-20 h-20 rounded-lg object-cover border border-gray-300"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-gray-800 font-semibold",children:(rr=S.branch)==null?void 0:rr.name}),_.jsxs("div",{className:"text-gray-600 text-sm flex flex-row gap-2 items-center",children:[_.jsx("img",{src:pK,className:"w-4 h-4"}),(gr=S.branch)==null?void 0:gr.address]}),_.jsxs("div",{className:"text-gray-600 text-sm flex flex-row gap-2 items-center",children:[_.jsx("img",{src:mK,className:"w-4 h-4"}),(Fr=S.branch)==null?void 0:Fr.email]}),_.jsxs("div",{className:"text-gray-600 text-sm flex flex-row gap-2 items-center",children:[_.jsx("img",{src:gK,className:"w-4 h-4"}),(en=S.branch)==null?void 0:en.phone]})]})]})]}),_.jsxs("div",{className:"flex items-end justify-end w-full gap-2",children:[_.jsx("button",{className:"text-white bg-blue-500 hover:bg-blue-600 focus:ring-4 focus:ring-blue-300 rounded px-4 py-2 text-sm font-medium w-fit h-fit",onClick:Ae,children:"Quay lại"}),_.jsx("button",{className:`text-white bg-red-500 hover:bg-red-600 focus:ring-4 focus:ring-red-300 rounded px-4 py-2 text-sm font-medium w-fit h-fit
											${S.status==="cancelled"||S.status==="completed"?"hidden":"block"}`,onClick:sr,children:"Hủy lịch"}),_.jsx("button",{className:`text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:ring-green-300 rounded px-4 py-2 text-sm font-medium w-fit h-fit
											${S.status==="cancelled"||S.status==="completed"?"hidden":"block"}`,onClick:Xe,children:"Đổi lịch"}),_.jsx("button",{className:`text-white bg-green-500 hover:bg-green-600 focus:ring-4 focus:ring-green-300 rounded px-4 py-2 text-sm font-medium w-fit h-fit
											${S.status!=="completed"?"hidden":"block"}`,onClick:qe,children:L?"Đánh giá":"Xem đánh giá"})]})]})}),_.jsx(fK,{isOpen:J,title:"Hủy lịch",message:"Bạn chắc chắn muốn hủy lịch hẹn này?",onAccept:Ue,onReject:()=>q(!1)})]})}),_.jsx("div",{className:`${x?"block":"hidden"} min-h-96 relative`,children:x&&_.jsx("div",{className:"bg-white flex flex-col rounded-lg shadow-md items-center justify-top w-full h-full",children:_.jsxs("div",{className:"relative flex flex-col items-start justify-top w-full h-full py-2 px-4 gap-3",children:[_.jsx("div",{className:"flex justify-between py-2 border-b-2 w-full",children:_.jsxs("h2",{className:"text-xl font-semibold",children:["Đánh giá lịch hẹn #",S==null?void 0:S.id]})}),_.jsxs("div",{className:"w-full flex flex-col gap-2",children:[_.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"feedback",children:"Đánh giá của bạn về chi nhánh"}),_.jsx(a2,{initialRating:(kn=S==null?void 0:S.feedback)==null?void 0:kn.branch_rating,onRatingChange:pt,changeable:L}),_.jsx("div",{className:"flex flex-wrap justify-center items-center gap-2 ",children:((A==null?void 0:A.branch_rating)??0)>=4?_.jsx(_.Fragment,{children:vK.map(Et=>_.jsx(ex,{label:Et,checkable:L,checked:P.includes(Et),onChange:()=>xe(Et)},Et))}):_.jsx(_.Fragment,{children:yK.map(Et=>_.jsx(ex,{label:Et,checkable:L,checked:P.includes(Et),onChange:()=>xe(Et)},Et))})}),_.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"feedback",children:"Đánh giá của bạn về nhân viên"}),_.jsx(a2,{initialRating:(Xn=S==null?void 0:S.feedback)==null?void 0:Xn.employee_rating,onRatingChange:Pt,changeable:L}),_.jsx("div",{className:"flex flex-wrap justify-center items-center gap-2",children:((A==null?void 0:A.employee_rating)??0)>=4?_.jsx(_.Fragment,{children:xK.map(Et=>_.jsx(ex,{label:Et,checkable:L,checked:N.includes(Et),onChange:()=>Ne(Et)},Et))}):_.jsx(_.Fragment,{children:bK.map(Et=>_.jsx(ex,{label:Et,checkable:L,checked:N.includes(Et),onChange:()=>Ne(Et)},Et))})}),_.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"feedback",children:"Đánh giá tổng thể lần hẹn này"}),_.jsx(a2,{initialRating:(fn=S==null?void 0:S.feedback)==null?void 0:fn.overall_rating,onRatingChange:Ht,changeable:L}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"feedback",children:"Nhận xét của bạn"}),_.jsx("textarea",{className:"w-full h-20 max-h-20 px-3 py-2 text-gray-700 border rounded-lg focus:outline-none",id:"feedback",name:"feedback",readOnly:!L,value:A==null?void 0:A.suggestion,onChange:Et=>W(Et.target.value)})]}),_.jsx("div",{className:"flex flex-row items-end w-full gap-2 justify-end py-3",children:L?_.jsxs(_.Fragment,{children:[_.jsx("button",{className:"text-white bg-blue-500 hover:bg-blue-600 focus:ring-4 focus:ring-blue-300 rounded px-4 py-2 text-sm font-medium w-fit h-fit",onClick:()=>{w(!1),m(!0),se("/appointment?id="+(S==null?void 0:S.id))},children:"Hủy"}),_.jsx("button",{className:`text-white bg-green-500 hover:bg-green-600 focus:ring-4 focus:ring-green-300 rounded px-4 py-2 text-sm font-medium w-fit h-fit ${dt()?"":"cursor-not-allowed opacity-50"}`,onClick:yt,children:"Gửi đánh giá"})]}):_.jsx(_.Fragment,{children:_.jsx("button",{className:"text-white bg-blue-500 hover:bg-blue-600 focus:ring-4 focus:ring-blue-300 rounded px-4 py-2 text-sm font-medium w-fit h-fit",onClick:()=>{w(!1),m(!0),se("/appointment?id="+(S==null?void 0:S.id))},children:"Quay lại"})})})]})]})})})]})]})})})},wK=()=>_.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:_.jsxs("div",{className:"text-center",children:[_.jsx("h1",{className:"text-6xl font-bold text-gray-800",children:"404"}),_.jsx("p",{className:"text-2xl text-gray-600 mt-4",children:"Page Not Found"}),_.jsx("a",{href:"/",className:"text-blue-500 mt-6 inline-block",children:"Go to Home"})]})}),SK=[{title:"Khai huyệt",image:"https://storage.30shine.com/web/v4/images/cat-goi-combo/CutThuongGia/1.png"},{title:"Rửa mặt & Massage mặt",image:"https://storage.30shine.com/web/v4/images/cat-goi-combo/CutThuongGia/2.png"},{title:"Hút mụn",image:"https://storage.30shine.com/web/v4/images/cat-goi-combo/CutThuongGia/3.png"},{title:"Phun Hoa Hồng",image:"https://storage.30shine.com/web/v4/images/cat-goi-combo/CutThuongGia/4.png"},{title:"Gội đầu & Massage đầu",image:"https://storage.30shine.com/web/v4/images/cat-goi-combo/CutThuongGia/5.png"},{title:"Rửa tai & Ngoáy tai",image:"https://storage.30shine.com/web/v4/images/cat-goi-combo/CutThuongGia/6.png"},{title:"Xối nước thác đổ",image:"https://storage.30shine.com/web/v4/images/cat-goi-combo/CutThuongGia/7.png"},{title:"Cắt tóc",image:"https://assets.zyrosite.com/cdn-cgi/image/format=auto,w=400,h=304,fit=crop,trim=748.8000000000001;0;316.8;0/mePnvZ15VEHy7n8p/phong-dWxbB07P2kf1aXLn.jpg"}],CK=()=>{H.useEffect(()=>{window.scrollTo(0,0)},[]);const t=Ka(),e=()=>{t("/booking")};return _.jsxs("div",{className:"container mx-auto px-4 py-8",children:[_.jsx("h2",{className:"text-3xl font-bold text-blue-800 text-center mb-4",children:"QUY TRÌNH DỊCH VỤ"}),_.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Dịch vụ Cắt Tóc Khoang Thương Gia - Mang đến trải nghiệm dịch vụ đỉnh cao lần đầu tiên xuất hiện tại Việt Nam"}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:SK.map((r,n)=>_.jsxs("div",{className:"text-center",children:[_.jsx("img",{src:r.image,alt:r.title,className:"rounded-lg shadow-lg mb-4 w-full h-48 object-cover"}),_.jsx("h3",{className:"font-semibold text-gray-800",children:r.title})]},n))}),_.jsx("div",{className:"text-center mt-8",children:_.jsx("button",{className:"bg-blue-600 text-white py-3 px-6 rounded-lg shadow-lg hover:bg-blue-700",onClick:e,children:"ĐẶT LỊCH NGAY"})})]})},kK=[{title:"Kiểm tra và đánh giá chất lượng tóc",image:"https://storage.30shine.com/web/v4/images/uon/uon-tieu-chuan/uon_tieu_chuan_quy_trinh_1.jpg"},{title:"Uốn tóc",image:"https://storage.30shine.com/web/v4/images/uon/uon-tieu-chuan/uon_tieu_chuan_quy_trinh_2.jpg"},{title:"Xả Tóc",image:"https://storage.30shine.com/web/v4/images/uon/uon-tieu-chuan/uon_tieu_chuan_quy_trinh_3.jpg"},{title:"Sấy vuốt tạo kiểu",image:"https://storage.30shine.com/web/v4/images/uon/uon-tieu-chuan/uon_tieu_chuan_quy_trinh_4.jpg"}],EK=()=>{H.useEffect(()=>{window.scrollTo(0,0)},[]);const t=Ka(),e=()=>{t("/booking")};return _.jsxs("div",{className:"container mx-auto px-4 py-8",children:[_.jsx("h2",{className:"text-3xl font-bold text-blue-800 text-center mb-4",children:"QUY TRÌNH DỊCH VỤ"}),_.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Dịch vụ Cắt Tóc Khoang Thương Gia - Mang đến trải nghiệm dịch vụ đỉnh cao lần đầu tiên xuất hiện tại Việt Nam"}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:kK.map((r,n)=>_.jsxs("div",{className:"text-center",children:[_.jsx("img",{src:r.image,alt:r.title,className:"rounded-lg shadow-lg mb-4 w-full h-48 object-cover"}),_.jsx("h3",{className:"font-semibold text-gray-800",children:r.title})]},n))}),_.jsx("div",{className:"text-center mt-8",children:_.jsx("button",{className:"bg-blue-600 text-white py-3 px-6 rounded-lg shadow-lg hover:bg-blue-700",onClick:e,children:"ĐẶT LỊCH NGAY"})})]})},TK=[{title:"Kiểm tra và đánh giá chất lượng tóc",image:"https://storage.30shine.com/web/v4/images/uon/uon-tieu-chuan/uon_tieu_chuan_quy_trinh_1.jpg"},{title:"Nhuộm Davines cao cấp",image:"https://storage.30shine.com/web/v4/images/dich-vu-nhuom/chi-tiet/quy_trinh_2.jpg"},{title:"Xả Tóc",image:"https://storage.30shine.com/web/v4/images/uon/uon-tieu-chuan/uon_tieu_chuan_quy_trinh_3.jpg"},{title:"Sấy vuốt tạo kiểu",image:"https://storage.30shine.com/web/v4/images/uon/uon-tieu-chuan/uon_tieu_chuan_quy_trinh_4.jpg"}],AK=()=>{H.useEffect(()=>{window.scrollTo(0,0)},[]);const t=Ka(),e=()=>{t("/booking")};return _.jsxs("div",{className:"container mx-auto px-4 py-8",children:[_.jsx("h2",{className:"text-3xl font-bold text-blue-800 text-center mb-4",children:"QUY TRÌNH DỊCH VỤ"}),_.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Dịch vụ Cắt Tóc Khoang Thương Gia - Mang đến trải nghiệm dịch vụ đỉnh cao lần đầu tiên xuất hiện tại Việt Nam"}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:TK.map((r,n)=>_.jsxs("div",{className:"text-center",children:[_.jsx("img",{src:r.image,alt:r.title,className:"rounded-lg shadow-lg mb-4 w-full h-48 object-cover"}),_.jsx("h3",{className:"font-semibold text-gray-800",children:r.title})]},n))}),_.jsx("div",{className:"text-center mt-8",children:_.jsx("button",{className:"bg-blue-600 text-white py-3 px-6 rounded-lg shadow-lg hover:bg-blue-700",onClick:e,children:"ĐẶT LỊCH NGAY"})})]})},PK=()=>{const[t,e]=H.useState(""),[r,n]=H.useState(""),i=async o=>{o.preventDefault();try{const a=await rh.forgotPassword(t);console.log(a),n("Hướng dẫn khôi phục mật khẩu đã được gửi đến email của bạn.")}catch{n("Đã xảy ra lỗi. Vui lòng thử lại.")}};return _.jsx("div",{className:"min-h-screen flex items-center justify-center",children:_.jsxs("form",{onSubmit:i,className:"w-full max-w-sm bg-white p-6 rounded shadow-md",children:[_.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Quên mật khẩu"}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),_.jsx("input",{type:"email",id:"email",className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",value:t,onChange:o=>e(o.target.value),required:!0})]}),_.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Gửi"}),r&&_.jsx("p",{className:"mt-4 text-sm text-green-600",children:r})]})})},MK=()=>{const[t]=dE(),e=t.get("token"),[r,n]=H.useState(""),[i,o]=H.useState(""),[a,l]=H.useState(""),u=Ka(),h=async f=>{if(f.preventDefault(),r!==i){l("Mật khẩu không khớp. Vui lòng thử lại.");return}try{console.log("token",e);const m=await rh.resetPassword(e||"",r);console.log(m),l("Mật khẩu của bạn đã được đặt lại thành công."),u("/login")}catch{l("Đã xảy ra lỗi. Vui lòng thử lại.")}};return _.jsx("div",{className:"min-h-screen flex items-center justify-center",children:_.jsxs("form",{onSubmit:h,className:"w-full max-w-sm bg-white p-6 rounded shadow-md",children:[_.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Đặt lại mật khẩu"}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mật khẩu mới"}),_.jsx("input",{type:"password",id:"password",className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",value:r,onChange:f=>n(f.target.value),required:!0})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Nhập lại mật khẩu"}),_.jsx("input",{type:"password",id:"confirmPassword",className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",value:i,onChange:f=>o(f.target.value),required:!0})]}),_.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Đặt lại mật khẩu"}),a&&_.jsx("p",{className:"mt-4 text-sm text-green-600",children:a})]})})},IK=()=>_.jsxs(_.Fragment,{children:[_.jsx(mX,{}),_.jsx(xV,{children:_.jsxs("div",{className:"flex flex-col min-h-screen",children:[_.jsx(bV,{}),_.jsx("main",{className:"flex-grow",children:_.jsxs(Ib,{children:[_.jsx(Un,{path:"/",element:_.jsx(rX,{})}),_.jsx(Un,{path:"/login",element:_.jsx(gX,{})}),_.jsx(Un,{path:"/register",element:_.jsx(BX,{})}),_.jsx(Un,{path:"/about-us",element:_.jsx(yX,{})}),_.jsx(Un,{path:"/booking",element:_.jsx(FX,{})}),_.jsx(Un,{path:"/find-nearest-shop",element:_.jsx(cK,{})}),_.jsx(Un,{path:"/profile",element:_.jsx($X,{})})," ",_.jsx(Un,{path:"/change-password",element:_.jsx(HX,{})})," ",_.jsx(Un,{path:"/appointment",element:_.jsx(_K,{})})," ",_.jsx(Un,{path:"*",element:_.jsx(wK,{})}),_.jsx(Un,{path:"/forgot-password",element:_.jsx(PK,{})}),_.jsx(Un,{path:"/reset-password",element:_.jsx(MK,{})}),_.jsx(Un,{path:"/servicesHairCut",element:_.jsx(CK,{})}),_.jsx(Un,{path:"/servicesCurlHair",element:_.jsx(EK,{})}),_.jsx(Un,{path:"/servicesHairDying",element:_.jsx(AK,{})})]})}),_.jsx(UY,{})]})})]}),OK="https://fourfsalonserver.onrender.com",cn=ea.create({baseURL:OK,headers:{"Content-Type":"application/json"}});cn.interceptors.request.use(t=>{const e=sessionStorage.getItem("token");return e&&t.headers&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));cn.interceptors.response.use(t=>t,t=>(t.response&&t.response.status===401&&(sessionStorage.removeItem("token"),window.location.href="/manager/login"),Promise.reject(t)));const qh=class qh{constructor(){gg(this,"token",sessionStorage.getItem("token"));this.setAxiosAuthToken(this.token)}static getInstance(){return qh.instance||(qh.instance=new qh),qh.instance}setAxiosAuthToken(e){e?(cn.defaults.headers.Authorization=`Bearer ${e}`,console.log("Set token",`Bearer ${e}`)):delete cn.defaults.headers.Authorization}isAuthenticated(){return!!this.token}async login(e,r){var n,i;try{const o=await cn.post("/auth/login-admin",{email:e,password:r});this.token=o.data.access_token,sessionStorage.setItem("token",this.token),this.setAxiosAuthToken(this.token)}catch(o){throw new Error(((i=(n=o.response)==null?void 0:n.data)==null?void 0:i.message)||"Đăng nhập thất bại")}}async logout(){try{window.location.href="/manager/login",await cn.post("/auth/logout")}catch(e){console.error("Logout failed:",e)}finally{this.token=null,sessionStorage.removeItem("token"),this.setAxiosAuthToken(this.token)}}};gg(qh,"instance");let TC=qh;const UE=TC.getInstance(),DK="_inputGroup_nmzjs_3",NK="_label_nmzjs_15",LK="_input_nmzjs_3",o2={inputGroup:DK,label:NK,input:LK},oi=({label:t,...e})=>_.jsxs("div",{className:o2.inputGroup,children:[t&&_.jsx("label",{className:o2.label,children:t}),_.jsx("input",{className:o2.input,...e})]}),RK="_button_pwair_7",jK="_edit_pwair_63",Z4={button:RK,edit:jK,delete:"_delete_pwair_87"},qc=({variant:t="primary",width:e,children:r,...n})=>_.jsx("button",{className:`${Z4.button} ${Z4[t]}`,style:{width:e},...n,children:r}),zK="_loginForm_1hcz9_3",FK="_error_1hcz9_31",K4={loginForm:zK,error:FK},BK=()=>{var x,w;const[t,e]=H.useState(""),[r,n]=H.useState(""),i=Ka(),o=Ql(),[a,l]=H.useState(null),[u,h]=H.useState(!1),f=((w=(x=o.state)==null?void 0:x.from)==null?void 0:w.pathname)||"/manager/dashboard",m=async S=>{S.preventDefault(),h(!0),l(null);try{await UE.login(t,r),i(f,{replace:!0})}catch(C){l(C.message||"Đăng nhập thất bại. Vui lòng kiểm tra lại thông tin.")}finally{h(!1)}};return _.jsxs("form",{onSubmit:m,className:K4.loginForm,children:[_.jsx("h2",{children:"Đăng nhập 4F MANAGER"}),a&&_.jsx("p",{className:K4.error,children:a}),_.jsx(oi,{label:"Email",type:"text",value:t,onChange:S=>e(S.target.value),required:!0}),_.jsx(oi,{label:"Mật khẩu",type:"password",value:r,onChange:S=>n(S.target.value),required:!0}),_.jsx(qc,{type:"submit",disabled:u,children:u?"Đang đăng nhập...":"Đăng nhập"})]})},$K="_loginContainer_10ujo_3",HK={loginContainer:$K},UK=()=>_.jsx("div",{className:HK.loginContainer,children:_.jsx(BK,{})}),VK="_sidebar_1gzmj_11",WK="_logobar_1gzmj_37",YK="_logo_1gzmj_37",XK="_menu_1gzmj_69",GK="_navLink_1gzmj_89",qK="_linkText_1gzmj_113",ZK="_nav_1gzmj_89",KK="_active_1gzmj_139",JK="_logout_1gzmj_189",QK="_loggouttext_1gzmj_223",la={sidebar:VK,logobar:WK,logo:YK,menu:XK,navLink:GK,linkText:qK,nav:ZK,active:KK,logout:JK,loggouttext:QK};function eJ(t){return da({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M427.84 380.67l-196.5 97.82a18.6 18.6 0 0 1-14.67 0L20.16 380.67c-4-2-4-5.28 0-7.29L67.22 350a18.65 18.65 0 0 1 14.69 0l134.76 67a18.51 18.51 0 0 0 14.67 0l134.76-67a18.62 18.62 0 0 1 14.68 0l47.06 23.43c4.05 1.96 4.05 5.24 0 7.24zm0-136.53l-47.06-23.43a18.62 18.62 0 0 0-14.68 0l-134.76 67.08a18.68 18.68 0 0 1-14.67 0L81.91 220.71a18.65 18.65 0 0 0-14.69 0l-47.06 23.43c-4 2-4 5.29 0 7.31l196.51 97.8a18.6 18.6 0 0 0 14.67 0l196.5-97.8c4.05-2.02 4.05-5.3 0-7.31zM20.16 130.42l196.5 90.29a20.08 20.08 0 0 0 14.67 0l196.51-90.29c4-1.86 4-4.89 0-6.74L231.33 33.4a19.88 19.88 0 0 0-14.67 0l-196.5 90.28c-4.05 1.85-4.05 4.88 0 6.74z"},child:[]}]})(t)}function tJ(t){return da({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"},child:[]}]})(t)}function rJ(t){return da({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"},child:[]}]})(t)}function kd(t){return da({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M160 112c0-35.3 28.7-64 64-64s64 28.7 64 64v48H160V112zm-48 48H48c-26.5 0-48 21.5-48 48V416c0 53 43 96 96 96H352c53 0 96-43 96-96V208c0-26.5-21.5-48-48-48H336V112C336 50.1 285.9 0 224 0S112 50.1 112 112v48zm24 48a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm152 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"},child:[]}]})(t)}function nJ(t){return da({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M48 0C21.5 0 0 21.5 0 48V464c0 26.5 21.5 48 48 48h96V432c0-26.5 21.5-48 48-48s48 21.5 48 48v80h96c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48H48zM64 240c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V240zm112-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V240c0-8.8 7.2-16 16-16zm80 16c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H272c-8.8 0-16-7.2-16-16V240zM80 96h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16zm80 16c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V112zM272 96h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H272c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16z"},child:[]}]})(t)}function iJ(t){return da({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zM329 305c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-95 95-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L329 305z"},child:[]}]})(t)}function H1(t){return da({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"},child:[]}]})(t)}function aJ(t){return da({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 32c17.7 0 32 14.3 32 32V400c0 8.8 7.2 16 16 16H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H80c-44.2 0-80-35.8-80-80V64C0 46.3 14.3 32 32 32zM160 224c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V256c0-17.7 14.3-32 32-32zm128-64V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V160c0-17.7 14.3-32 32-32s32 14.3 32 32zm64 32c17.7 0 32 14.3 32 32v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V224c0-17.7 14.3-32 32-32zM480 96V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V96c0-17.7 14.3-32 32-32s32 14.3 32 32z"},child:[]}]})(t)}function $h(t){return da({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"},child:[]}]})(t)}function oJ(t){return da({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c114.9 0 208-78.8 208-176S322.9 0 208 0S0 78.8 0 176c0 38.6 14.7 74.3 39.6 103.4c-3.5 9.4-8.7 17.7-14.2 24.7c-4.8 6.2-9.7 11-13.3 14.3c-1.8 1.6-3.3 2.9-4.3 3.7c-.5 .4-.9 .7-1.1 .8l-.2 .2 0 0 0 0C1 327.2-1.4 334.4 .8 340.9S9.1 352 16 352c21.8 0 43.8-5.6 62.1-12.5c9.2-3.5 17.8-7.4 25.3-11.4C134.1 343.3 169.8 352 208 352zM448 176c0 112.3-99.1 196.9-216.5 207C255.8 457.4 336.4 512 432 512c38.2 0 73.9-8.7 104.7-23.9c7.5 4 16 7.9 25.2 11.4c18.3 6.9 40.3 12.5 62.1 12.5c6.9 0 13.1-4.5 15.2-11.1c2.1-6.6-.2-13.8-5.8-17.9l0 0 0 0-.2-.2c-.2-.2-.6-.4-1.1-.8c-1-.8-2.5-2-4.3-3.7c-3.6-3.3-8.5-8.1-13.3-14.3c-5.5-7-10.7-15.4-14.2-24.7c24.9-29 39.6-64.7 39.6-103.4c0-92.8-84.9-168.9-192.6-175.5c.4 5.1 .6 10.3 .6 15.5z"},child:[]}]})(t)}function sJ(t){return da({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M320 32c0-9.9-4.5-19.2-12.3-25.2S289.8-1.4 280.2 1l-179.9 45C79 51.3 64 70.5 64 92.5V448H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H96 288h32V480 32zM256 256c0 17.7-10.7 32-24 32s-24-14.3-24-32s10.7-32 24-32s24 14.3 24 32zm96-128h96V480c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H512V128c0-35.3-28.7-64-64-64H352v64z"},child:[]}]})(t)}function om(t){return da({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"},child:[]}]})(t)}function lJ(t){return da({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"},child:[]}]})(t)}function cJ(t){return da({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"},child:[]}]})(t)}function Rv(t){return da({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M144 0a80 80 0 1 1 0 160A80 80 0 1 1 144 0zM512 0a80 80 0 1 1 0 160A80 80 0 1 1 512 0zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM224 224a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"},child:[]}]})(t)}function Tc(t){return da({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z"},child:[]}]})(t)}function sm(t){return da({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},child:[]}]})(t)}const uJ="/assets/logo-BplKUmWX.png",hJ=[{to:"/manager/dashboard",linkText:"Dashboard",icon:_.jsx(eJ,{className:la.icon})},{to:"/manager/accounts",linkText:"Tài Khoản",icon:_.jsx(cJ,{className:la.icon})},{to:"/manager/branches",linkText:"Chi Nhánh",icon:_.jsx(nJ,{className:la.icon})},{to:"/manager/schedules",linkText:"Lịch Làm Việc",icon:_.jsx(H1,{className:la.icon})},{to:"/manager/appointments",linkText:"Lịch Hẹn",icon:_.jsx(iJ,{className:la.icon})},{to:"/manager/feedbacks",linkText:"Phản Hồi",icon:_.jsx(oJ,{className:la.icon})},{to:"/manager/employees",linkText:"Nhân Viên",icon:_.jsx(Rv,{className:la.icon})},{to:"/manager/services",linkText:"Dịch Vụ",icon:_.jsx(kd,{className:la.icon})},{to:"/manager/statistics",linkText:"Thống kê",icon:_.jsx(aJ,{className:la.icon})}],dJ=()=>{const t=()=>{UE.logout()};return _.jsxs("div",{className:la.sidebar,children:[_.jsxs("div",{className:la.logobar,children:[_.jsx("img",{src:uJ,className:la.logo,alt:"logo"}),"MANAGER"]}),_.jsx("div",{className:la.menu,children:_.jsx("nav",{className:la.nav,children:hJ.map((e,r)=>_.jsxs(zH,{to:e.to,className:({isActive:n})=>`${la.navLink} ${n?la.active:""}`,children:[_.jsx("div",{className:la.iconWrapper,children:e.icon}),_.jsx("span",{className:la.linkText,children:e.linkText})]},r))})}),_.jsxs("div",{className:la.logout,onClick:t,children:[_.jsx(sJ,{className:la.logouticon}),_.jsx("span",{className:la.loggouttext,children:"Đăng Xuất"})]})]})},fJ="_content_fy6qr_7",pJ="_container_fy6qr_19",mJ="_main_fy6qr_69",J4={content:fJ,container:pJ,main:mJ},gJ=({children:t})=>_.jsxs("div",{className:J4.container,children:[_.jsx(dJ,{}),_.jsx("div",{className:J4.main,children:t})]}),vJ="_table_hs4ez_3",yJ="_actionList_hs4ez_33",xJ="_actionEdit_hs4ez_43",bJ="_actionDelete_hs4ez_63",_J="_completed_hs4ez_81",wJ="_confirmed_hs4ez_137",SJ="_pending_hs4ez_193",CJ="_cancelled_hs4ez_249",Ru={table:vJ,actionList:yJ,actionEdit:xJ,actionDelete:bJ,completed:_J,confirmed:wJ,pending:SJ,cancelled:CJ},kJ="_header_m9w3x_7",EJ="_iconWrapper_m9w3x_23",TJ="_addButton_m9w3x_49",AJ="_page_m9w3x_77",PJ="_actionList_m9w3x_133",MJ="_actionEdit_m9w3x_143",IJ="_actionDelete_m9w3x_163",OJ="_main_m9w3x_181",DJ="_selectPage_m9w3x_215",NJ="_allPage_m9w3x_231",LJ="_activePage_m9w3x_275",RJ="_fadeInUp_m9w3x_1",jJ="_tableContainer_m9w3x_357",zJ="_searchField_m9w3x_423",FJ="_searchInput_m9w3x_437",BJ="_historyContainer_m9w3x_451",$J="_historyItem_m9w3x_473",HJ="_slideIn_m9w3x_1",UJ="_historyItemError_m9w3x_503",VJ="_progressBar_m9w3x_533",WJ="_progressFadeOut_m9w3x_1",YJ="_completed_m9w3x_593",XJ="_confirmed_m9w3x_657",GJ="_pending_m9w3x_719",qJ="_cancelled_m9w3x_781",it={header:kJ,iconWrapper:EJ,addButton:TJ,page:AJ,actionList:PJ,actionEdit:MJ,actionDelete:IJ,main:OJ,selectPage:DJ,allPage:NJ,activePage:LJ,fadeInUp:RJ,tableContainer:jJ,searchField:zJ,searchInput:FJ,historyContainer:BJ,historyItem:$J,slideIn:HJ,historyItemError:UJ,progressBar:VJ,progressFadeOut:WJ,completed:YJ,confirmed:XJ,pending:GJ,cancelled:qJ},pj=({appointments:t,onDelete:e,onEdit:r})=>{const[n,i]=H.useState({key:"id",direction:"asc"}),o=[...t].sort((u,h)=>{if(n.key){const f=n.key,m=n.direction==="asc"?1:-1;if(u[f]!=null&&h[f]!=null&&u[f]<h[f])return-m;if(u[f]!=null&&h[f]!=null&&u[f]>h[f])return m}return 0}),a=u=>{i(h=>{const f=h.key===u&&h.direction==="asc"?"desc":"asc";return{key:u,direction:f}})},l=u=>n.key!==u?ph:n.direction==="asc"?mh:fh;return _.jsx("div",{className:it.tableContainer,children:_.jsxs("table",{children:[_.jsxs("colgroup",{children:[_.jsx("col",{style:{width:"5%"}}),_.jsx("col",{style:{width:"20%"}}),_.jsx("col",{style:{width:"10%"}}),_.jsx("col",{style:{width:"20%"}}),_.jsx("col",{style:{width:"20%"}}),_.jsx("col",{style:{width:"15%"}}),_.jsx("col",{style:{width:"10%"}}),_.jsx("col",{style:{width:"10%"}})]}),_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsxs("th",{onClick:()=>a("id"),children:["ID ",_.jsx(mr,{icon:l("id")})]}),_.jsxs("th",{onClick:()=>a("customer"),children:["Tên khách hàng ",_.jsx(mr,{icon:l("customer")})]}),_.jsxs("th",{onClick:()=>a("status"),children:["Status ",_.jsx(mr,{icon:l("status")})]}),_.jsxs("th",{onClick:()=>a("employee"),children:["Nhân viên ",_.jsx(mr,{icon:l("employee")})]}),_.jsxs("th",{onClick:()=>a("service"),children:["Dịch vụ ",_.jsx(mr,{icon:l("service")})]}),_.jsxs("th",{onClick:()=>a("date"),children:["Ngày hẹn ",_.jsx(mr,{icon:l("date")})]}),_.jsxs("th",{onClick:()=>a("start_time"),children:["Thời gian ",_.jsx(mr,{icon:l("start_time")})]}),_.jsx("th",{children:"Hành động"})]})}),_.jsx("tbody",{children:o.map(u=>{var h,f;return _.jsxs("tr",{children:[_.jsx("td",{children:u.id}),_.jsx("td",{children:u.customer.name}),_.jsx("td",{className:u.status==="confirmed"?Ru.confirmed:u.status==="pending"?Ru.pending:u.status==="cancelled"?Ru.cancelled:u.status==="completed"?Ru.completed:"",children:u.status}),_.jsx("td",{children:(h=u.employee)==null?void 0:h.name}),_.jsx("td",{children:(f=u.service)==null?void 0:f.title}),_.jsx("td",{children:new Date(u.date).toLocaleDateString()}),_.jsx("td",{children:new Date(u.start_time).toLocaleTimeString()}),_.jsxs("td",{className:it.actionList,children:[_.jsx(om,{className:it.actionEdit,onClick:()=>r(u)}),_.jsx(sm,{className:it.actionDelete,onClick:()=>e(u)})]})]},u.id)})})]})})},ZJ=async()=>(await cn.get("api/appointments")).data,KJ=async t=>{const e=new URLSearchParams(t).toString();return(await cn.get(`api/appointments/search?${e}`)).data},JJ=async t=>(await cn.post("api/appointments",t)).data,QJ=async(t,e)=>{try{return(await cn.put(`api/appointments/${t}`,e)).data}catch{console.log(e)}return e},eQ=async t=>{await cn.delete(`api/appointments/${t}`)},tQ=async(t,e)=>(await cn.put(`api/customers/${t}`,e)).data,rQ=async()=>await ZJ(),nQ=async t=>await KJ(t),iQ=async t=>await JJ(t),aQ=async(t,e)=>await QJ(t,e),oQ=async t=>await eQ(t),Q4=async(t,e)=>await tQ(t,e),sQ=async t=>{const e=new URLSearchParams(t).toString();return(await cn.get("api/stats?"+e)).data},Dd=async t=>await sQ(t),jv=t=>t?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t):"0đ",lQ=()=>{const[t,e]=H.useState([]),r=Ka(),[n,i]=H.useState({totalRevenue:0,comparedToYesterday:0}),[o,a]=H.useState({totalGuests:0,comparedToYesterday:0}),[l,u]=H.useState({newCustomers:0,comparedToYesterday:0}),[h,f]=H.useState(!1),[m,x]=H.useState(null);H.useEffect(()=>{(async()=>{f(!0);try{const P=await nQ({date:new Date(Date.now()-36e5).toISOString(),have_feedback:!1,take:20,order:"desc"});e(P),console.log(P);const I=new Date(new Date(Date.now()-1e3*24*60*60).setHours(0,0,0,0)),N=new Date,D=await Dd({start_date:I.toISOString(),end_date:N.toISOString(),status:"completed",group_by:"day",new_customer:!0,new_customer_group_by:"day"});console.log(D);const L=w(D.appointment,I,N),R=S(D.new_customer||[],I,N);i({totalRevenue:L[1].total_revenue,comparedToYesterday:L[0].total_revenue!==0?Math.round((L[1].total_revenue-L[0].total_revenue)/L[0].total_revenue*100):0}),a({totalGuests:L[1].number_of_appointments,comparedToYesterday:L[0].number_of_appointments!==0?Math.round((L[1].number_of_appointments-L[0].number_of_appointments)/L[0].number_of_appointments*100):0}),u({newCustomers:R[1].number_of_customers_user,comparedToYesterday:R[0].number_of_customers_user!==0?Math.round((R[1].number_of_customers_user-R[0].number_of_customers_user)/R[0].number_of_customers_user*100):0})}catch{x("Failed to fetch data.")}finally{f(!1)}})()},[]);const w=(E,P,I)=>{const N=[];let D=new Date(P);const L=new Date(I);for(;D<=L;){const R=E.find($=>$.appointment_date&&new Date($.appointment_date).getDate()===D.getDate());N.push({appointment_date:D.toISOString(),total_revenue:R?R.total_revenue:0,average_revenue:R?R.average_revenue:0,number_of_appointments:R?R.number_of_appointments:0,employee_id:R?R.employee_id:0,employee_name:R?R.employee_name:"",branch_id:R?R.branch_id:0,branch_name:R?R.branch_name:"",service_id:R?R.service_id:0,service_title:R?R.service_title:""}),D.setDate(D.getDate()+1)}return N},S=(E,P,I)=>{const N=[];let D=new Date(P);const L=new Date(I);for(;D<=L;){const R=E.find($=>$.created_at&&new Date($.created_at).getDate()===D.getDate());N.push({created_at:D.toISOString(),number_of_customers_user:R?R.number_of_customers_user:0}),D.setDate(D.getDate()+1)}return N},C=E=>E.comparedToYesterday>0?_.jsxs("span",{className:"text-green-500 font-medium",children:["+",E.comparedToYesterday,"%"]}):_.jsxs("span",{className:"text-red-500 font-medium",children:[E.comparedToYesterday,"%"]}),A=()=>{r("/manager/statistics")};return h?_.jsx("p",{children:"Loading..."}):m?_.jsx("p",{children:m}):_.jsx("div",{className:"flex flex-col bg-white p-5 rounded-lg overflow-y-auto h-full shadow-md",children:_.jsxs("div",{className:"container mx-auto p-6",children:[_.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Dashboard"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[_.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg shadow-sm bg-white",children:[_.jsx("h2",{className:"text-lg font-medium text-gray-800 mb-2",children:" Doanh thu hôm nay"}),_.jsx("p",{className:"text-2xl font-bold text-green-600",children:jv(n.totalRevenue)}),_.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:["So với hôm qua: ",C(n)]})]}),_.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg shadow-sm bg-white",children:[_.jsx("h2",{className:"text-lg font-medium text-gray-800 mb-2",children:"Số lịch hẹn hôm nay"}),_.jsx("p",{className:"text-2xl font-bold text-blue-600",children:o.totalGuests}),_.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:["So với hôm qua: ",C(o)]})]}),_.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg shadow-sm bg-white",children:[_.jsx("h2",{className:"text-lg font-medium text-gray-800 mb-2",children:"Khách hàng mới"}),_.jsx("p",{className:"text-2xl font-bold text-purple-600",children:l.newCustomers}),_.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:["So với hôm qua: ",C(l)]})]}),_.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg shadow-sm bg-white",children:[_.jsx("h2",{className:"text-lg font-medium text-gray-800 mb-2",children:"Lịch hẹn gần"}),_.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:t.length}),_.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Trong giờ tiếp theo."})]}),_.jsx("button",{className:"mt-2 bg-blue-500 text-white px-4 py-2 rounded w-fit",onClick:A,children:"Xem thống kê"})]}),_.jsxs("div",{className:"mt-6",children:[_.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Lịch hẹn sắp tới"}),_.jsx("div",{className:"overflow-x-auto",children:_.jsx(pj,{appointments:t,onDelete:()=>{},onEdit:()=>{}})})]})]})})},cQ=({accounts:t,onDelete:e,onEdit:r})=>{const[n,i]=H.useState({key:"id",direction:"asc"}),o=[...t].sort((u,h)=>{if(n.key){const f=n.key,m=n.direction==="asc"?1:-1;if(u[f]!=null&&h[f]!=null&&u[f]<h[f])return-m;if(u[f]!=null&&h[f]!=null&&u[f]>h[f])return m}return 0}),a=u=>{i(h=>{const f=h.key===u&&h.direction==="asc"?"desc":"asc";return{key:u,direction:f}})},l=u=>n.key!==u?ph:n.direction==="asc"?mh:fh;return _.jsx("div",{className:it.tableContainer,children:_.jsxs("table",{children:[_.jsxs("colgroup",{children:[_.jsx("col",{style:{width:"5%"}}),_.jsx("col",{style:{width:"20%"}}),_.jsx("col",{style:{width:"10%"}}),_.jsx("col",{style:{width:"10%"}})]}),_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsxs("th",{onClick:()=>a("id"),children:["ID ",_.jsx(mr,{icon:l("id")})]}),_.jsxs("th",{onClick:()=>a("email"),children:["Email ",_.jsx(mr,{icon:l("email")})]}),_.jsxs("th",{onClick:()=>a("role"),children:["Role ",_.jsx(mr,{icon:l("role")})]}),_.jsx("th",{onClick:()=>a("id"),children:"Hành động"})]})}),_.jsx("tbody",{children:o.map(u=>_.jsxs("tr",{children:[_.jsx("td",{children:u.id}),_.jsx("td",{children:u.email}),_.jsx("td",{children:u.role}),_.jsxs("td",{className:it.actionList,children:[_.jsx(om,{className:it.actionEdit,onClick:()=>r(u)}),_.jsx(sm,{className:it.actionDelete,onClick:()=>e(u)})]})]},u.id))})]})})},uQ="_modalOverlay_1w0ku_3",hQ="_modal_1w0ku_3",dQ="_fadeIn_1w0ku_1",fQ="_modalHeader_1w0ku_73",pQ="_title_1w0ku_91",mQ="_actionDelete_1w0ku_105",gQ="_modalContent_1w0ku_129",vQ="_expandOverlay_1w0ku_1",Mf={modalOverlay:uQ,modal:hQ,fadeIn:dQ,modalHeader:fQ,title:pQ,actionDelete:mQ,modalContent:gQ,expandOverlay:vQ},Kl=({isOpen:t,onClose:e,title:r,children:n})=>(H.useEffect(()=>{const i=o=>{o.key==="Escape"&&e()};return t&&window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[t,e]),t?_.jsx("div",{className:Mf.modalOverlay,children:_.jsxs("div",{className:Mf.modal,children:[_.jsxs("div",{className:Mf.modalHeader,children:[_.jsx("p",{className:Mf.title,children:r}),_.jsx("button",{onClick:e,className:Mf.actionDelete,children:"×"})]}),_.jsx("div",{className:Mf.modalContent,children:n})]})}):null),yQ="_modalOverlay_1xa9z_3",xQ="_spinner_1xa9z_31",bQ="_spin_1xa9z_31",_Q="_modalContent_1xa9z_61",rx={modalOverlay:yQ,spinner:xQ,spin:bQ,modalContent:_Q},Jl=({isOpen:t})=>t?_.jsx("div",{className:rx.modalOverlay,children:_.jsx("div",{className:rx.modal,children:_.jsx("div",{className:rx.modalContent,children:_.jsx("div",{className:rx.spinner})})})}):null,wQ="_form_15q7m_1",SQ="_submitButton_15q7m_9",CQ="_label_15q7m_49",Xu={form:wQ,submitButton:SQ,label:CQ},kQ=({initialData:t,onSubmit:e,type:r})=>{const[n,i]=H.useState((t==null?void 0:t.id)||0),[o,a]=H.useState("");H.useState((t==null?void 0:t.google_id)||"");const[l,u]=H.useState((t==null?void 0:t.email)||""),[h,f]=H.useState((t==null?void 0:t.role)||""),m=x=>{x.preventDefault(),e({id:n,email:l,role:h,password:o})};return _.jsxs("form",{onSubmit:m,className:Xu.accountForm,children:[_.jsx("label",{className:Xu.label,children:"Loại tài khoản"}),_.jsx("br",{}),_.jsxs("select",{value:h,onChange:x=>f(x.target.value),required:!0,children:[_.jsx("option",{value:"manager",children:"manager"}),_.jsx("option",{value:"customer",children:"customer"})]}),_.jsx(oi,{label:"Email",type:"email",value:l,onChange:x=>u(x.target.value),required:!0}),_.jsx(oi,{label:"Password",type:"password",value:o,onChange:x=>a(x.target.value),required:!0}),_.jsx(qc,{type:"submit",className:Xu.submitButton,children:r})]})},EQ=async()=>{const t=await cn.get("api/users");return console.log(t.data),t.data},TQ=async t=>(await cn.post("api/users",t)).data,AQ=async(t,e)=>(await cn.put(`api/users/${t}`,e)).data,PQ=async t=>{await cn.delete(`api/users/${t}`)},MQ=async()=>await EQ(),IQ=async t=>await TQ(t),OQ=async(t,e)=>await AQ(t,e),DQ=async t=>await PQ(t),NQ=()=>{const[t,e]=H.useState([]),[r,n]=H.useState(""),[i,o]=H.useState(!1),[a,l]=H.useState(null),[u,h]=H.useState(!1),[f,m]=H.useState(!1),[x,w]=H.useState(!1),[S,C]=H.useState(null),[A,E]=H.useState(1);H.useState(1);const[P,I]=H.useState(10),[N,D]=H.useState(""),[L,R]=H.useState([]),$=(Ae,We)=>{const qe={id:Date.now(),message:Ae,type:We};R(pt=>[...pt,qe]),setTimeout(()=>{R(pt=>pt.filter(Pt=>Pt.id!==qe.id))},5e3)},W=t.filter(Ae=>Ae.email.toLowerCase().includes(r.toLowerCase())&&Ae.role.toString().includes(N));H.useEffect(()=>{(async()=>{o(!0);try{const qe=(await MQ()).map(pt=>({...pt,created_at:new Date(pt.created_at).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"})}));e(qe)}catch{l("Failed to fetch accounts.")}finally{o(!1)}})()},[]);const J=Ae=>{C(Ae),m(!0)},q=()=>{C(null),h(!0)},ee=Ae=>{C(Ae),h(!0)},se=async Ae=>{try{await DQ(Ae),e(t.filter(We=>We.id!==Ae)),$(`Đã xóa ${S==null?void 0:S.email}`,"deleted")}catch{l("Failed to delete account.")}m(!1)},he=async Ae=>{try{if(w(!0),S){const We=await OQ(S.id,Ae);e(t.map(qe=>qe.id===We.id?We:qe)),$(`Đã cập nhật ${Ae.email}`,"edited")}else{const We=await IQ(Ae);e([...t,We]),$(`Đã thêm ${Ae.email}`,"added")}h(!1),w(!1)}catch{l("Failed to save account."),$("Đã có lỗi khi thao tác.","error"),w(!1)}},Se=Ae=>{E(Ae)},oe=Ae=>{I(Ae),E(1)},_e=()=>{E(A+1)},xe=()=>{E(A-1)},Ne=()=>{const Ae=Math.ceil(W.length/P);let We=Math.max(1,Math.min(A-2,Ae-4));return A<=3&&(We=1),[...Array(Math.min(5,Ae-We+1))].map((qe,pt)=>{const Pt=We+pt;return _.jsx("button",{onClick:()=>Se(Pt),className:A===Pt?it.activePage:"",children:Pt},Pt)})},Re=()=>_.jsx("div",{className:it.header,children:_.jsx("div",{className:it.headerTitle,children:_.jsxs("div",{className:it.iconWrapper,children:[_.jsx(Rv,{})," ",_.jsx("p",{children:"Quản lý tài khoản"})]})})}),He=()=>_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:it.selectPage,children:[_.jsxs("select",{value:P,onChange:Ae=>oe(Number(Ae.target.value)),className:it.rowPerPage,children:[_.jsx("option",{value:5,children:"5"}),_.jsx("option",{value:10,children:"10"}),_.jsx("option",{value:20,children:"20"}),_.jsx("option",{value:50,children:"50"})]}),_.jsxs("span",{children:["Showing ",(A-1)*P+1," - ",Math.min(A*P,W.length)," of ",W.length," entries"]})]}),_.jsxs("div",{className:it.allPage,children:[_.jsx("button",{onClick:()=>xe(),disabled:A===1,children:" Previous "}),Ne(),_.jsx("button",{onClick:()=>_e(),disabled:A>=Math.ceil(W.length/P),children:" Next "}),_.jsx("div",{className:it.searchField,children:_.jsx("div",{children:_.jsx("input",{className:it.searchInput,type:"text",value:r,onChange:Ae=>n(Ae.target.value),placeholder:"Nhập email tài khoản"})})}),_.jsx("div",{className:it.addButton,onClick:q,children:"+ Thêm tài khoản"})]})]}),tt=()=>_.jsx(cQ,{accounts:W.slice(A*P-P,A*P),onDelete:J,onEdit:ee}),nt=()=>_.jsx(Kl,{isOpen:u,onClose:()=>h(!1),title:S?"Chỉnh sửa tài khoản":"Thêm tài khoản",children:_.jsx(kQ,{initialData:S||void 0,onSubmit:he,type:S?"Xác nhận Sửa":"Xác nhận Thêm"})}),Ke=()=>_.jsx(Kl,{isOpen:f,onClose:()=>m(!1),title:"Xác nhận xóa tài khoản",children:_.jsx("div",{className:it.modalActions,children:_.jsx("button",{onClick:()=>S&&se(S.id),children:"Xóa"})})}),Ue=()=>_.jsx(Jl,{isOpen:x}),Xe=()=>_.jsx("div",{className:it.historyContainer,children:L.map(Ae=>Ae.type==="error"?_.jsxs("div",{className:it.historyItemError,children:[_.jsx("span",{children:Ae.message}),_.jsx("div",{className:it.progressBarError})]},Ae.id):_.jsxs("div",{className:it.historyItem,children:[_.jsx("span",{children:Ae.message}),_.jsx("div",{className:it.progressBar})]},Ae.id))});return i?_.jsxs("div",{className:it.page,children:[_.jsxs("div",{className:it.header,children:[_.jsx("div",{className:it.headerTitle,children:_.jsxs("div",{className:it.iconWrapper,children:[_.jsx(Rv,{})," ",_.jsx("p",{children:"Quản lý tài khoản"})]})}),_.jsx("div",{className:it.addButton,onClick:q,children:"+ Thêm tài khoản"})]}),_.jsx(Jl,{isOpen:i})]}):_.jsxs("div",{className:it.page,children:[Re(),He(),nt(),Ue(),Ke(),tt(),Xe()]})},LQ="_AppointmentForm_aafns_1",RQ="_container_aafns_13",jQ="_label_aafns_35",zQ="_leftSection_aafns_47",FQ="_rightSection_aafns_49",BQ="_stickySearchBar_aafns_95",$Q="_rightSectionList_aafns_141",HQ="_selectedEmployeesItem_aafns_279",UQ="_employeeItem_aafns_281",VQ="_branchButton_aafns_299",WQ="_addButton_aafns_327",YQ="_addIcon_aafns_363",XQ="_searchBar_aafns_375",GQ="_reasonInput_aafns_405",qQ="_removeButton_aafns_443",ZQ="_removeIcon_aafns_479",KQ="_absentForm_aafns_491",JQ="_switchWrapper_aafns_537",QQ="_slider_aafns_583",eee="_sliderRound_aafns_661",tee="_disabled_aafns_679",ya={AppointmentForm:LQ,container:RQ,label:jQ,leftSection:zQ,rightSection:FQ,stickySearchBar:BQ,rightSectionList:$Q,selectedEmployeesItem:HQ,employeeItem:UQ,branchButton:VQ,addButton:WQ,addIcon:YQ,searchBar:XQ,reasonInput:GQ,removeButton:qQ,removeIcon:ZQ,absentForm:KQ,switchWrapper:JQ,switch:"_switch_aafns_537",slider:QQ,sliderRound:eee,disabled:tee};var mj={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var o="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(o=i(o,n(l)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var l in o)e.call(o,l)&&o[l]&&(a=i(a,l));return a}function i(o,a){return a?o?o+" "+a:o+a:o}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(mj);var ree=mj.exports;const Gl=Qn(ree);function nee(t){return t}var oy=nee,iee=typeof Gf=="object"&&Gf&&Gf.Object===Object&&Gf,gj=iee,aee=gj,oee=typeof self=="object"&&self&&self.Object===Object&&self,see=aee||oee||Function("return this")(),Qo=see,lee=Qo,cee=lee.Symbol,lm=cee,e3=lm,vj=Object.prototype,uee=vj.hasOwnProperty,hee=vj.toString,Eg=e3?e3.toStringTag:void 0;function dee(t){var e=uee.call(t,Eg),r=t[Eg];try{t[Eg]=void 0;var n=!0}catch{}var i=hee.call(t);return n&&(e?t[Eg]=r:delete t[Eg]),i}var fee=dee,pee=Object.prototype,mee=pee.toString;function gee(t){return mee.call(t)}var vee=gee,t3=lm,yee=fee,xee=vee,bee="[object Null]",_ee="[object Undefined]",r3=t3?t3.toStringTag:void 0;function wee(t){return t==null?t===void 0?_ee:bee:r3&&r3 in Object(t)?yee(t):xee(t)}var xh=wee;function See(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ec=See,Cee=xh,kee=ec,Eee="[object AsyncFunction]",Tee="[object Function]",Aee="[object GeneratorFunction]",Pee="[object Proxy]";function Mee(t){if(!kee(t))return!1;var e=Cee(t);return e==Tee||e==Aee||e==Eee||e==Pee}var VE=Mee;const Iee=Qn(VE);var Oee=Qo,Dee=Oee["__core-js_shared__"],Nee=Dee,s2=Nee,n3=function(){var t=/[^.]+$/.exec(s2&&s2.keys&&s2.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Lee(t){return!!n3&&n3 in t}var Ree=Lee,jee=Function.prototype,zee=jee.toString;function Fee(t){if(t!=null){try{return zee.call(t)}catch{}try{return t+""}catch{}}return""}var yj=Fee,Bee=VE,$ee=Ree,Hee=ec,Uee=yj,Vee=/[\\^$.*+?()[\]{}|]/g,Wee=/^\[object .+?Constructor\]$/,Yee=Function.prototype,Xee=Object.prototype,Gee=Yee.toString,qee=Xee.hasOwnProperty,Zee=RegExp("^"+Gee.call(qee).replace(Vee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Kee(t){if(!Hee(t)||$ee(t))return!1;var e=Bee(t)?Zee:Wee;return e.test(Uee(t))}var Jee=Kee;function Qee(t,e){return t==null?void 0:t[e]}var ete=Qee,tte=Jee,rte=ete;function nte(t,e){var r=rte(t,e);return tte(r)?r:void 0}var Nd=nte,ite=Nd,ate=Qo,ote=ite(ate,"WeakMap"),xj=ote,i3=xj,ste=i3&&new i3,bj=ste,lte=oy,a3=bj,cte=a3?function(t,e){return a3.set(t,e),t}:lte,_j=cte,ute=ec,o3=Object.create,hte=function(){function t(){}return function(e){if(!ute(e))return{};if(o3)return o3(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),qb=hte,dte=qb,fte=ec;function pte(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=dte(t.prototype),n=t.apply(r,e);return fte(n)?n:r}}var Zb=pte,mte=Zb,gte=Qo,vte=1;function yte(t,e,r){var n=e&vte,i=mte(t);function o(){var a=this&&this!==gte&&this instanceof o?i:t;return a.apply(n?r:this,arguments)}return o}var xte=yte;function bte(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var WE=bte,_te=Math.max;function wte(t,e,r,n){for(var i=-1,o=t.length,a=r.length,l=-1,u=e.length,h=_te(o-a,0),f=Array(u+h),m=!n;++l<u;)f[l]=e[l];for(;++i<a;)(m||i<o)&&(f[r[i]]=t[i]);for(;h--;)f[l++]=t[i++];return f}var wj=wte,Ste=Math.max;function Cte(t,e,r,n){for(var i=-1,o=t.length,a=-1,l=r.length,u=-1,h=e.length,f=Ste(o-l,0),m=Array(f+h),x=!n;++i<f;)m[i]=t[i];for(var w=i;++u<h;)m[w+u]=e[u];for(;++a<l;)(x||i<o)&&(m[w+r[a]]=t[i++]);return m}var Sj=Cte;function kte(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}var Ete=kte;function Tte(){}var YE=Tte,Ate=qb,Pte=YE,Mte=4294967295;function U1(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Mte,this.__views__=[]}U1.prototype=Ate(Pte.prototype);U1.prototype.constructor=U1;var XE=U1;function Ite(){}var Ote=Ite,s3=bj,Dte=Ote,Nte=s3?function(t){return s3.get(t)}:Dte,Cj=Nte,Lte={},Rte=Lte,l3=Rte,jte=Object.prototype,zte=jte.hasOwnProperty;function Fte(t){for(var e=t.name+"",r=l3[e],n=zte.call(l3,e)?r.length:0;n--;){var i=r[n],o=i.func;if(o==null||o==t)return i.name}return e}var Bte=Fte,$te=qb,Hte=YE;function V1(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}V1.prototype=$te(Hte.prototype);V1.prototype.constructor=V1;var kj=V1,Ute=Array.isArray,xs=Ute;function Vte(t){return t!=null&&typeof t=="object"}var yl=Vte;function Wte(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var GE=Wte,Yte=XE,Xte=kj,Gte=GE;function qte(t){if(t instanceof Yte)return t.clone();var e=new Xte(t.__wrapped__,t.__chain__);return e.__actions__=Gte(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Zte=qte,Kte=XE,c3=kj,Jte=YE,Qte=xs,ere=yl,tre=Zte,rre=Object.prototype,nre=rre.hasOwnProperty;function W1(t){if(ere(t)&&!Qte(t)&&!(t instanceof Kte)){if(t instanceof c3)return t;if(nre.call(t,"__wrapped__"))return tre(t)}return new c3(t)}W1.prototype=Jte.prototype;W1.prototype.constructor=W1;var ire=W1,are=XE,ore=Cj,sre=Bte,lre=ire;function cre(t){var e=sre(t),r=lre[e];if(typeof r!="function"||!(e in are.prototype))return!1;if(t===r)return!0;var n=ore(r);return!!n&&t===n[0]}var ure=cre,hre=800,dre=16,fre=Date.now;function pre(t){var e=0,r=0;return function(){var n=fre(),i=dre-(n-r);if(r=n,i>0){if(++e>=hre)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Ej=pre,mre=_j,gre=Ej,vre=gre(mre),Tj=vre,yre=/\{\n\/\* \[wrapped with (.+)\] \*/,xre=/,? & /;function bre(t){var e=t.match(yre);return e?e[1].split(xre):[]}var _re=bre,wre=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Sre(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(wre,`{
/* [wrapped with `+e+`] */
`)}var Cre=Sre;function kre(t){return function(){return t}}var Ere=kre,Tre=Nd,Are=function(){try{var t=Tre(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Aj=Are,Pre=Ere,u3=Aj,Mre=oy,Ire=u3?function(t,e){return u3(t,"toString",{configurable:!0,enumerable:!1,value:Pre(e),writable:!0})}:Mre,Ore=Ire,Dre=Ore,Nre=Ej,Lre=Nre(Dre),qE=Lre;function Rre(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var ZE=Rre;function jre(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var zre=jre;function Fre(t){return t!==t}var Bre=Fre;function $re(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var Hre=$re,Ure=zre,Vre=Bre,Wre=Hre;function Yre(t,e,r){return e===e?Wre(t,e,r):Ure(t,Vre,r)}var Pj=Yre,Xre=Pj;function Gre(t,e){var r=t==null?0:t.length;return!!r&&Xre(t,e,0)>-1}var qre=Gre,Zre=ZE,Kre=qre,Jre=1,Qre=2,ene=8,tne=16,rne=32,nne=64,ine=128,ane=256,one=512,sne=[["ary",ine],["bind",Jre],["bindKey",Qre],["curry",ene],["curryRight",tne],["flip",one],["partial",rne],["partialRight",nne],["rearg",ane]];function lne(t,e){return Zre(sne,function(r){var n="_."+r[0];e&r[1]&&!Kre(t,n)&&t.push(n)}),t.sort()}var cne=lne,une=_re,hne=Cre,dne=qE,fne=cne;function pne(t,e,r){var n=e+"";return dne(t,hne(n,fne(une(n),r)))}var Mj=pne,mne=ure,gne=Tj,vne=Mj,yne=1,xne=2,bne=4,_ne=8,h3=32,d3=64;function wne(t,e,r,n,i,o,a,l,u,h){var f=e&_ne,m=f?a:void 0,x=f?void 0:a,w=f?o:void 0,S=f?void 0:o;e|=f?h3:d3,e&=~(f?d3:h3),e&bne||(e&=~(yne|xne));var C=[t,e,i,w,m,S,x,l,u,h],A=r.apply(void 0,C);return mne(t)&&gne(A,C),A.placeholder=n,vne(A,t,e)}var Ij=wne;function Sne(t){var e=t;return e.placeholder}var KE=Sne,Cne=9007199254740991,kne=/^(?:0|[1-9]\d*)$/;function Ene(t,e){var r=typeof t;return e=e??Cne,!!e&&(r=="number"||r!="symbol"&&kne.test(t))&&t>-1&&t%1==0&&t<e}var sy=Ene,Tne=GE,Ane=sy,Pne=Math.min;function Mne(t,e){for(var r=t.length,n=Pne(e.length,r),i=Tne(t);n--;){var o=e[n];t[n]=Ane(o,r)?i[o]:void 0}return t}var Ine=Mne,f3="__lodash_placeholder__";function One(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var a=t[r];(a===e||a===f3)&&(t[r]=f3,o[i++]=r)}return o}var Kb=One,Dne=wj,Nne=Sj,Lne=Ete,p3=Zb,Rne=Ij,jne=KE,zne=Ine,Fne=Kb,Bne=Qo,$ne=1,Hne=2,Une=8,Vne=16,Wne=128,Yne=512;function Oj(t,e,r,n,i,o,a,l,u,h){var f=e&Wne,m=e&$ne,x=e&Hne,w=e&(Une|Vne),S=e&Yne,C=x?void 0:p3(t);function A(){for(var E=arguments.length,P=Array(E),I=E;I--;)P[I]=arguments[I];if(w)var N=jne(A),D=Lne(P,N);if(n&&(P=Dne(P,n,i,w)),o&&(P=Nne(P,o,a,w)),E-=D,w&&E<h){var L=Fne(P,N);return Rne(t,e,Oj,A.placeholder,r,P,L,l,u,h-E)}var R=m?r:this,$=x?R[t]:t;return E=P.length,l?P=zne(P,l):S&&E>1&&P.reverse(),f&&u<E&&(P.length=u),this&&this!==Bne&&this instanceof A&&($=C||p3($)),$.apply(R,P)}return A}var Dj=Oj,Xne=WE,Gne=Zb,qne=Dj,Zne=Ij,Kne=KE,Jne=Kb,Qne=Qo;function eie(t,e,r){var n=Gne(t);function i(){for(var o=arguments.length,a=Array(o),l=o,u=Kne(i);l--;)a[l]=arguments[l];var h=o<3&&a[0]!==u&&a[o-1]!==u?[]:Jne(a,u);if(o-=h.length,o<r)return Zne(t,e,qne,i.placeholder,void 0,a,h,void 0,void 0,r-o);var f=this&&this!==Qne&&this instanceof i?n:t;return Xne(f,this,a)}return i}var tie=eie,rie=WE,nie=Zb,iie=Qo,aie=1;function oie(t,e,r,n){var i=e&aie,o=nie(t);function a(){for(var l=-1,u=arguments.length,h=-1,f=n.length,m=Array(f+u),x=this&&this!==iie&&this instanceof a?o:t;++h<f;)m[h]=n[h];for(;u--;)m[h++]=arguments[++l];return rie(x,i?r:this,m)}return a}var sie=oie,lie=wj,cie=Sj,m3=Kb,g3="__lodash_placeholder__",l2=1,uie=2,hie=4,v3=8,Tg=128,y3=256,die=Math.min;function fie(t,e){var r=t[1],n=e[1],i=r|n,o=i<(l2|uie|Tg),a=n==Tg&&r==v3||n==Tg&&r==y3&&t[7].length<=e[8]||n==(Tg|y3)&&e[7].length<=e[8]&&r==v3;if(!(o||a))return t;n&l2&&(t[2]=e[2],i|=r&l2?0:hie);var l=e[3];if(l){var u=t[3];t[3]=u?lie(u,l,e[4]):l,t[4]=u?m3(t[3],g3):e[4]}return l=e[5],l&&(u=t[5],t[5]=u?cie(u,l,e[6]):l,t[6]=u?m3(t[5],g3):e[6]),l=e[7],l&&(t[7]=l),n&Tg&&(t[8]=t[8]==null?e[8]:die(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}var pie=fie,mie=/\s/;function gie(t){for(var e=t.length;e--&&mie.test(t.charAt(e)););return e}var vie=gie,yie=vie,xie=/^\s+/;function bie(t){return t&&t.slice(0,yie(t)+1).replace(xie,"")}var _ie=bie,wie=xh,Sie=yl,Cie="[object Symbol]";function kie(t){return typeof t=="symbol"||Sie(t)&&wie(t)==Cie}var ly=kie,Eie=_ie,x3=ec,Tie=ly,b3=NaN,Aie=/^[-+]0x[0-9a-f]+$/i,Pie=/^0b[01]+$/i,Mie=/^0o[0-7]+$/i,Iie=parseInt;function Oie(t){if(typeof t=="number")return t;if(Tie(t))return b3;if(x3(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=x3(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Eie(t);var r=Pie.test(t);return r||Mie.test(t)?Iie(t.slice(2),r?2:8):Aie.test(t)?b3:+t}var Nj=Oie,Die=Nj,_3=1/0,Nie=17976931348623157e292;function Lie(t){if(!t)return t===0?t:0;if(t=Die(t),t===_3||t===-_3){var e=t<0?-1:1;return e*Nie}return t===t?t:0}var Rie=Lie,jie=Rie;function zie(t){var e=jie(t),r=e%1;return e===e?r?e-r:e:0}var Lj=zie,Fie=_j,Bie=xte,$ie=tie,Hie=Dj,Uie=sie,Vie=Cj,Wie=pie,Yie=Tj,Xie=Mj,w3=Lj,Gie="Expected a function",S3=1,qie=2,c2=8,u2=16,h2=32,C3=64,k3=Math.max;function Zie(t,e,r,n,i,o,a,l){var u=e&qie;if(!u&&typeof t!="function")throw new TypeError(Gie);var h=n?n.length:0;if(h||(e&=~(h2|C3),n=i=void 0),a=a===void 0?a:k3(w3(a),0),l=l===void 0?l:w3(l),h-=i?i.length:0,e&C3){var f=n,m=i;n=i=void 0}var x=u?void 0:Vie(t),w=[t,e,r,n,i,f,m,o,a,l];if(x&&Wie(w,x),t=w[0],e=w[1],r=w[2],n=w[3],i=w[4],l=w[9]=w[9]===void 0?u?0:t.length:k3(w[9]-h,0),!l&&e&(c2|u2)&&(e&=~(c2|u2)),!e||e==S3)var S=Bie(t,e,r);else e==c2||e==u2?S=$ie(t,e,l):(e==h2||e==(S3|h2))&&!i.length?S=Uie(t,e,r,n):S=Hie.apply(void 0,w);var C=x?Fie:Yie;return Xie(C(S,w),t,e)}var Rj=Zie,Kie=Rj,Jie=8;function JE(t,e,r){e=r?void 0:e;var n=Kie(t,Jie,void 0,void 0,void 0,void 0,void 0,e);return n.placeholder=JE.placeholder,n}JE.placeholder={};var Qie=JE;const eae=Qn(Qie);function jx(t,e){return!t||!e?"":Array.isArray(e)?Gl(e.filter(function(r){return!!r}).map(function(r){return t+"-"+r})):t[t.length-1]==="-"?""+t+e:t+"-"+e}eae(jx);var jj=H.createContext({});jj.Provider;function Bp(t,e,r,n){return n===void 0&&(n=!1),t.addEventListener(e,r,n),{off:function(){t.removeEventListener(e,r,n)}}}var Ld=!!(typeof window<"u"&&window.document&&window.document.createElement);function tae(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")!==-1}function rae(t,e){return e&&(t.classList?t.classList.add(e):tae(t,e)||(t.className=t.className+" "+e)),t}function nae(t,e){return e&&(t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")),t}function $p(t){return t&&t.ownerDocument||document}function Jb(t){return t===(t==null?void 0:t.window)?t:(t==null?void 0:t.nodeType)===9?(t==null?void 0:t.defaultView)||(t==null?void 0:t.parentWindow):null}function iae(t,e){return t=typeof t=="function"?t():t,t||e}var zj=function(e,r){if(!r)return!1;do if(r===e)return!0;while(r.parentNode&&(r=r.parentNode));return!1},aae=function(e,r){return r?e.contains?e.contains(r):e.compareDocumentPosition?e===r||!!(e.compareDocumentPosition(r)&16):zj(e,r):!1};const Y1=function(){return Ld?aae:zj}();function _p(t,e){var r=Jb(t),n=t.scrollTop,i=0;return r&&(n=r.pageYOffset,i=r.pageXOffset),e!==void 0&&(r?r.scrollTo(i,e):t.scrollTop=e),n}function nv(t,e){var r=Jb(t),n=t.scrollLeft;return r&&(n=r.pageXOffset,r.pageYOffset),n}function Gu(t){var e=$p(t),r=Jb(e),n=e&&e.documentElement,i={top:0,left:0,height:0,width:0};return e?(Y1(n,t)&&((t==null?void 0:t.getBoundingClientRect)!==void 0&&(i=t.getBoundingClientRect()),(i.width||i.height)&&n&&r&&(i={top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0),width:(i.width===null?t.offsetWidth:i.width)||0,height:(i.height===null?t.offsetHeight:i.height)||0})),i):null}function QE(t){var e;return(t==null?void 0:t.nodeName)&&(t==null||(e=t.nodeName)===null||e===void 0?void 0:e.toLowerCase())}function oae(t){return t.replace(/\-(\w)/g,function(e){return e.slice(1).toUpperCase()})}function sae(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}var lae=/^-ms-/;function cae(t){return oae(t.replace(lae,"ms-"))}const E3=function(t){if(!t)throw new TypeError("No Element passed to `getComputedStyle()`");var e=t.ownerDocument;return"defaultView"in e?e.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):window.getComputedStyle(t,null):null};var uae=/^ms-/;const AC=function(t){return sae(t).replace(uae,"-ms-")};function zl(t,e){if(e){var r=t.style[cae(e)];if(r)return r;var n=E3(t);if(n)return n.getPropertyValue(AC(e))}return t.style||E3(t)}function hae(t){for(var e=$p(t),r=t==null?void 0:t.offsetParent;r&&QE(t)!=="html"&&zl(r,"position")==="static";)r=r.offsetParent;return r||e.documentElement}function Fj(t,e,r){r===void 0&&(r=!0);var n={top:0,left:0},i=null;if(zl(t,"position")==="fixed")i=t.getBoundingClientRect();else{if(e=e||hae(t),i=Gu(t),QE(e)!=="html"){var o=Gu(e);o&&(n.top=o.top,n.left=o.left)}n.top+=parseInt(zl(e,"borderTopWidth"),10)-_p(e)||0,n.left+=parseInt(zl(e,"borderLeftWidth"),10)-nv(e)||0}if(i){var a=r&&parseInt(zl(t,"marginTop"),10)||0,l=r&&parseInt(zl(t,"marginLeft"),10)||0;return kt({},i,{top:i.top-n.top-a,left:i.left-n.left-l})}return null}function dae(t,e){var r=Jb(t);if(r)return r.innerWidth;var n=Gu(t);return n?n.width:0}function T3(t,e){var r,n;(r=t.style)===null||r===void 0||(n=r.removeProperty)===null||n===void 0||n.call(r,e)}function fae(t,e){typeof e=="string"?T3(t,e):Array.isArray(e)&&e.forEach(function(r){return T3(t,r)})}function Bj(t,e,r){var n="",i=e;if(typeof e=="string"){if(r===void 0)throw new Error("value is undefined");(i={})[e]=r}if(typeof i=="object")for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(!i[o]&&i[o]!==0?fae(t,AC(o)):n+=AC(o)+":"+i[o]+";");t.style.cssText+=";"+n}var pae=function(e){return(e==null?void 0:e.nodeType)===1&&typeof(e==null?void 0:e.nodeName)=="string"};function mae(t,e,r,n){var i=-1,o=t==null?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}var gae=mae;function vae(t){return function(e){return t==null?void 0:t[e]}}var yae=vae,xae=yae,bae={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},_ae=xae(bae),wae=_ae;function Sae(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Qb=Sae,A3=lm,Cae=Qb,kae=xs,Eae=ly,Tae=1/0,P3=A3?A3.prototype:void 0,M3=P3?P3.toString:void 0;function $j(t){if(typeof t=="string")return t;if(kae(t))return Cae(t,$j)+"";if(Eae(t))return M3?M3.call(t):"";var e=t+"";return e=="0"&&1/t==-Tae?"-0":e}var Aae=$j,Pae=Aae;function Mae(t){return t==null?"":Pae(t)}var cm=Mae,Iae=wae,Oae=cm,Dae=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Nae="\\u0300-\\u036f",Lae="\\ufe20-\\ufe2f",Rae="\\u20d0-\\u20ff",jae=Nae+Lae+Rae,zae="["+jae+"]",Fae=RegExp(zae,"g");function Bae(t){return t=Oae(t),t&&t.replace(Dae,Iae).replace(Fae,"")}var $ae=Bae,Hae=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Uae(t){return t.match(Hae)||[]}var Vae=Uae,Wae=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Yae(t){return Wae.test(t)}var Xae=Yae,Hj="\\ud800-\\udfff",Gae="\\u0300-\\u036f",qae="\\ufe20-\\ufe2f",Zae="\\u20d0-\\u20ff",Kae=Gae+qae+Zae,Uj="\\u2700-\\u27bf",Vj="a-z\\xdf-\\xf6\\xf8-\\xff",Jae="\\xac\\xb1\\xd7\\xf7",Qae="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",eoe="\\u2000-\\u206f",toe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Wj="A-Z\\xc0-\\xd6\\xd8-\\xde",roe="\\ufe0e\\ufe0f",Yj=Jae+Qae+eoe+toe,Xj="['’]",I3="["+Yj+"]",noe="["+Kae+"]",Gj="\\d+",ioe="["+Uj+"]",qj="["+Vj+"]",Zj="[^"+Hj+Yj+Gj+Uj+Vj+Wj+"]",aoe="\\ud83c[\\udffb-\\udfff]",ooe="(?:"+noe+"|"+aoe+")",soe="[^"+Hj+"]",Kj="(?:\\ud83c[\\udde6-\\uddff]){2}",Jj="[\\ud800-\\udbff][\\udc00-\\udfff]",Xf="["+Wj+"]",loe="\\u200d",O3="(?:"+qj+"|"+Zj+")",coe="(?:"+Xf+"|"+Zj+")",D3="(?:"+Xj+"(?:d|ll|m|re|s|t|ve))?",N3="(?:"+Xj+"(?:D|LL|M|RE|S|T|VE))?",Qj=ooe+"?",e6="["+roe+"]?",uoe="(?:"+loe+"(?:"+[soe,Kj,Jj].join("|")+")"+e6+Qj+")*",hoe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",doe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",foe=e6+Qj+uoe,poe="(?:"+[ioe,Kj,Jj].join("|")+")"+foe,moe=RegExp([Xf+"?"+qj+"+"+D3+"(?="+[I3,Xf,"$"].join("|")+")",coe+"+"+N3+"(?="+[I3,Xf+O3,"$"].join("|")+")",Xf+"?"+O3+"+"+D3,Xf+"+"+N3,doe,hoe,Gj,poe].join("|"),"g");function goe(t){return t.match(moe)||[]}var voe=goe,yoe=Vae,xoe=Xae,boe=cm,_oe=voe;function woe(t,e,r){return t=boe(t),e=r?void 0:e,e===void 0?xoe(t)?_oe(t):yoe(t):t.match(e)||[]}var Soe=woe,Coe=gae,koe=$ae,Eoe=Soe,Toe="['’]",Aoe=RegExp(Toe,"g");function Poe(t){return function(e){return Coe(Eoe(koe(e).replace(Aoe,"")),t,"")}}var eT=Poe,Moe=eT,Ioe=Moe(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),Ooe=Ioe;const t6=Qn(Ooe);function tT(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Fp(t,e)}function Doe(){if(!Ld)return{};for(var t={O:function(h){return"o"+h.toLowerCase()},Moz:function(h){return h.toLowerCase()},Webkit:function(h){return"webkit"+h},ms:function(h){return"MS"+h}},e=Object.keys(t),r=document.createElement("div").style,n,i="",o=0;o<e.length;o+=1){var a=e[o];if(a+"TransitionProperty"in r){i="-"+a.toLowerCase(),n=t[a]("TransitionEnd");break}}!n&&"transitionProperty"in r&&(n="transitionend"),r=null;var l=function(h){return i+"-"+h};return{end:n,backfaceVisibility:l("backface-visibility"),transform:l("transform"),property:l("transition-property"),timing:l("transition-timing-function"),delay:l("transition-delay"),duration:l("transition-duration")}}function Noe(){return Doe().end}function Loe(){this.__data__=[],this.size=0}var Roe=Loe;function joe(t,e){return t===e||t!==t&&e!==e}var e_=joe,zoe=e_;function Foe(t,e){for(var r=t.length;r--;)if(zoe(t[r][0],e))return r;return-1}var t_=Foe,Boe=t_,$oe=Array.prototype,Hoe=$oe.splice;function Uoe(t){var e=this.__data__,r=Boe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Hoe.call(e,r,1),--this.size,!0}var Voe=Uoe,Woe=t_;function Yoe(t){var e=this.__data__,r=Woe(e,t);return r<0?void 0:e[r][1]}var Xoe=Yoe,Goe=t_;function qoe(t){return Goe(this.__data__,t)>-1}var Zoe=qoe,Koe=t_;function Joe(t,e){var r=this.__data__,n=Koe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Qoe=Joe,ese=Roe,tse=Voe,rse=Xoe,nse=Zoe,ise=Qoe;function um(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}um.prototype.clear=ese;um.prototype.delete=tse;um.prototype.get=rse;um.prototype.has=nse;um.prototype.set=ise;var r_=um,ase=r_;function ose(){this.__data__=new ase,this.size=0}var sse=ose;function lse(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var cse=lse;function use(t){return this.__data__.get(t)}var hse=use;function dse(t){return this.__data__.has(t)}var fse=dse,pse=Nd,mse=Qo,gse=pse(mse,"Map"),rT=gse,vse=Nd,yse=vse(Object,"create"),n_=yse,L3=n_;function xse(){this.__data__=L3?L3(null):{},this.size=0}var bse=xse;function _se(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var wse=_se,Sse=n_,Cse="__lodash_hash_undefined__",kse=Object.prototype,Ese=kse.hasOwnProperty;function Tse(t){var e=this.__data__;if(Sse){var r=e[t];return r===Cse?void 0:r}return Ese.call(e,t)?e[t]:void 0}var Ase=Tse,Pse=n_,Mse=Object.prototype,Ise=Mse.hasOwnProperty;function Ose(t){var e=this.__data__;return Pse?e[t]!==void 0:Ise.call(e,t)}var Dse=Ose,Nse=n_,Lse="__lodash_hash_undefined__";function Rse(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Nse&&e===void 0?Lse:e,this}var jse=Rse,zse=bse,Fse=wse,Bse=Ase,$se=Dse,Hse=jse;function hm(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}hm.prototype.clear=zse;hm.prototype.delete=Fse;hm.prototype.get=Bse;hm.prototype.has=$se;hm.prototype.set=Hse;var Use=hm,R3=Use,Vse=r_,Wse=rT;function Yse(){this.size=0,this.__data__={hash:new R3,map:new(Wse||Vse),string:new R3}}var Xse=Yse;function Gse(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var qse=Gse,Zse=qse;function Kse(t,e){var r=t.__data__;return Zse(e)?r[typeof e=="string"?"string":"hash"]:r.map}var i_=Kse,Jse=i_;function Qse(t){var e=Jse(this,t).delete(t);return this.size-=e?1:0,e}var ele=Qse,tle=i_;function rle(t){return tle(this,t).get(t)}var nle=rle,ile=i_;function ale(t){return ile(this,t).has(t)}var ole=ale,sle=i_;function lle(t,e){var r=sle(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var cle=lle,ule=Xse,hle=ele,dle=nle,fle=ole,ple=cle;function dm(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}dm.prototype.clear=ule;dm.prototype.delete=hle;dm.prototype.get=dle;dm.prototype.has=fle;dm.prototype.set=ple;var nT=dm,mle=r_,gle=rT,vle=nT,yle=200;function xle(t,e){var r=this.__data__;if(r instanceof mle){var n=r.__data__;if(!gle||n.length<yle-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new vle(n)}return r.set(t,e),this.size=r.size,this}var ble=xle,_le=r_,wle=sse,Sle=cse,Cle=hse,kle=fse,Ele=ble;function fm(t){var e=this.__data__=new _le(t);this.size=e.size}fm.prototype.clear=wle;fm.prototype.delete=Sle;fm.prototype.get=Cle;fm.prototype.has=kle;fm.prototype.set=Ele;var iT=fm,j3=Aj;function Tle(t,e,r){e=="__proto__"&&j3?j3(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var aT=Tle,Ale=aT,Ple=e_,Mle=Object.prototype,Ile=Mle.hasOwnProperty;function Ole(t,e,r){var n=t[e];(!(Ile.call(t,e)&&Ple(n,r))||r===void 0&&!(e in t))&&Ale(t,e,r)}var a_=Ole,Dle=a_,Nle=aT;function Lle(t,e,r,n){var i=!r;r||(r={});for(var o=-1,a=e.length;++o<a;){var l=e[o],u=n?n(r[l],t[l],l,r,t):void 0;u===void 0&&(u=t[l]),i?Nle(r,l,u):Dle(r,l,u)}return r}var pm=Lle;function Rle(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var jle=Rle,zle=xh,Fle=yl,Ble="[object Arguments]";function $le(t){return Fle(t)&&zle(t)==Ble}var Hle=$le,z3=Hle,Ule=yl,r6=Object.prototype,Vle=r6.hasOwnProperty,Wle=r6.propertyIsEnumerable,Yle=z3(function(){return arguments}())?z3:function(t){return Ule(t)&&Vle.call(t,"callee")&&!Wle.call(t,"callee")},oT=Yle,X1={exports:{}};function Xle(){return!1}var Gle=Xle;X1.exports;(function(t,e){var r=Qo,n=Gle,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,l=a?r.Buffer:void 0,u=l?l.isBuffer:void 0,h=u||n;t.exports=h})(X1,X1.exports);var sT=X1.exports,qle=9007199254740991;function Zle(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=qle}var lT=Zle,Kle=xh,Jle=lT,Qle=yl,ece="[object Arguments]",tce="[object Array]",rce="[object Boolean]",nce="[object Date]",ice="[object Error]",ace="[object Function]",oce="[object Map]",sce="[object Number]",lce="[object Object]",cce="[object RegExp]",uce="[object Set]",hce="[object String]",dce="[object WeakMap]",fce="[object ArrayBuffer]",pce="[object DataView]",mce="[object Float32Array]",gce="[object Float64Array]",vce="[object Int8Array]",yce="[object Int16Array]",xce="[object Int32Array]",bce="[object Uint8Array]",_ce="[object Uint8ClampedArray]",wce="[object Uint16Array]",Sce="[object Uint32Array]",Mi={};Mi[mce]=Mi[gce]=Mi[vce]=Mi[yce]=Mi[xce]=Mi[bce]=Mi[_ce]=Mi[wce]=Mi[Sce]=!0;Mi[ece]=Mi[tce]=Mi[fce]=Mi[rce]=Mi[pce]=Mi[nce]=Mi[ice]=Mi[ace]=Mi[oce]=Mi[sce]=Mi[lce]=Mi[cce]=Mi[uce]=Mi[hce]=Mi[dce]=!1;function Cce(t){return Qle(t)&&Jle(t.length)&&!!Mi[Kle(t)]}var kce=Cce;function Ece(t){return function(e){return t(e)}}var cT=Ece,G1={exports:{}};G1.exports;(function(t,e){var r=gj,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,a=o&&r.process,l=function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();t.exports=l})(G1,G1.exports);var uT=G1.exports,Tce=kce,Ace=cT,F3=uT,B3=F3&&F3.isTypedArray,Pce=B3?Ace(B3):Tce,n6=Pce,Mce=jle,Ice=oT,Oce=xs,Dce=sT,Nce=sy,Lce=n6,Rce=Object.prototype,jce=Rce.hasOwnProperty;function zce(t,e){var r=Oce(t),n=!r&&Ice(t),i=!r&&!n&&Dce(t),o=!r&&!n&&!i&&Lce(t),a=r||n||i||o,l=a?Mce(t.length,String):[],u=l.length;for(var h in t)(e||jce.call(t,h))&&!(a&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||Nce(h,u)))&&l.push(h);return l}var i6=zce,Fce=Object.prototype;function Bce(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Fce;return t===r}var o_=Bce;function $ce(t,e){return function(r){return t(e(r))}}var a6=$ce,Hce=a6,Uce=Hce(Object.keys,Object),Vce=Uce,Wce=o_,Yce=Vce,Xce=Object.prototype,Gce=Xce.hasOwnProperty;function qce(t){if(!Wce(t))return Yce(t);var e=[];for(var r in Object(t))Gce.call(t,r)&&r!="constructor"&&e.push(r);return e}var Zce=qce,Kce=VE,Jce=lT;function Qce(t){return t!=null&&Jce(t.length)&&!Kce(t)}var mm=Qce,eue=i6,tue=Zce,rue=mm;function nue(t){return rue(t)?eue(t):tue(t)}var Rd=nue,iue=pm,aue=Rd;function oue(t,e){return t&&iue(e,aue(e),t)}var sue=oue;function lue(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var cue=lue,uue=ec,hue=o_,due=cue,fue=Object.prototype,pue=fue.hasOwnProperty;function mue(t){if(!uue(t))return due(t);var e=hue(t),r=[];for(var n in t)n=="constructor"&&(e||!pue.call(t,n))||r.push(n);return r}var gue=mue,vue=i6,yue=gue,xue=mm;function bue(t){return xue(t)?vue(t,!0):yue(t)}var hT=bue,_ue=pm,wue=hT;function Sue(t,e){return t&&_ue(e,wue(e),t)}var Cue=Sue,q1={exports:{}};q1.exports;(function(t,e){var r=Qo,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,a=o?r.Buffer:void 0,l=a?a.allocUnsafe:void 0;function u(h,f){if(f)return h.slice();var m=h.length,x=l?l(m):new h.constructor(m);return h.copy(x),x}t.exports=u})(q1,q1.exports);var kue=q1.exports;function Eue(t,e){for(var r=-1,n=t==null?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}var Tue=Eue;function Aue(){return[]}var o6=Aue,Pue=Tue,Mue=o6,Iue=Object.prototype,Oue=Iue.propertyIsEnumerable,$3=Object.getOwnPropertySymbols,Due=$3?function(t){return t==null?[]:(t=Object(t),Pue($3(t),function(e){return Oue.call(t,e)}))}:Mue,dT=Due,Nue=pm,Lue=dT;function Rue(t,e){return Nue(t,Lue(t),e)}var jue=Rue;function zue(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var fT=zue,Fue=a6,Bue=Fue(Object.getPrototypeOf,Object),pT=Bue,$ue=fT,Hue=pT,Uue=dT,Vue=o6,Wue=Object.getOwnPropertySymbols,Yue=Wue?function(t){for(var e=[];t;)$ue(e,Uue(t)),t=Hue(t);return e}:Vue,s6=Yue,Xue=pm,Gue=s6;function que(t,e){return Xue(t,Gue(t),e)}var Zue=que,Kue=fT,Jue=xs;function Que(t,e,r){var n=e(t);return Jue(t)?n:Kue(n,r(t))}var l6=Que,ehe=l6,the=dT,rhe=Rd;function nhe(t){return ehe(t,rhe,the)}var c6=nhe,ihe=l6,ahe=s6,ohe=hT;function she(t){return ihe(t,ohe,ahe)}var mT=she,lhe=Nd,che=Qo,uhe=lhe(che,"DataView"),hhe=uhe,dhe=Nd,fhe=Qo,phe=dhe(fhe,"Promise"),mhe=phe,ghe=Nd,vhe=Qo,yhe=ghe(vhe,"Set"),xhe=yhe,PC=hhe,MC=rT,IC=mhe,OC=xhe,DC=xj,u6=xh,gm=yj,H3="[object Map]",bhe="[object Object]",U3="[object Promise]",V3="[object Set]",W3="[object WeakMap]",Y3="[object DataView]",_he=gm(PC),whe=gm(MC),She=gm(IC),Che=gm(OC),khe=gm(DC),Vh=u6;(PC&&Vh(new PC(new ArrayBuffer(1)))!=Y3||MC&&Vh(new MC)!=H3||IC&&Vh(IC.resolve())!=U3||OC&&Vh(new OC)!=V3||DC&&Vh(new DC)!=W3)&&(Vh=function(t){var e=u6(t),r=e==bhe?t.constructor:void 0,n=r?gm(r):"";if(n)switch(n){case _he:return Y3;case whe:return H3;case She:return U3;case Che:return V3;case khe:return W3}return e});var s_=Vh,Ehe=Object.prototype,The=Ehe.hasOwnProperty;function Ahe(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&The.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Phe=Ahe,Mhe=Qo,Ihe=Mhe.Uint8Array,h6=Ihe,X3=h6;function Ohe(t){var e=new t.constructor(t.byteLength);return new X3(e).set(new X3(t)),e}var gT=Ohe,Dhe=gT;function Nhe(t,e){var r=e?Dhe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Lhe=Nhe,Rhe=/\w*$/;function jhe(t){var e=new t.constructor(t.source,Rhe.exec(t));return e.lastIndex=t.lastIndex,e}var zhe=jhe,G3=lm,q3=G3?G3.prototype:void 0,Z3=q3?q3.valueOf:void 0;function Fhe(t){return Z3?Object(Z3.call(t)):{}}var Bhe=Fhe,$he=gT;function Hhe(t,e){var r=e?$he(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Uhe=Hhe,Vhe=gT,Whe=Lhe,Yhe=zhe,Xhe=Bhe,Ghe=Uhe,qhe="[object Boolean]",Zhe="[object Date]",Khe="[object Map]",Jhe="[object Number]",Qhe="[object RegExp]",ede="[object Set]",tde="[object String]",rde="[object Symbol]",nde="[object ArrayBuffer]",ide="[object DataView]",ade="[object Float32Array]",ode="[object Float64Array]",sde="[object Int8Array]",lde="[object Int16Array]",cde="[object Int32Array]",ude="[object Uint8Array]",hde="[object Uint8ClampedArray]",dde="[object Uint16Array]",fde="[object Uint32Array]";function pde(t,e,r){var n=t.constructor;switch(e){case nde:return Vhe(t);case qhe:case Zhe:return new n(+t);case ide:return Whe(t,r);case ade:case ode:case sde:case lde:case cde:case ude:case hde:case dde:case fde:return Ghe(t,r);case Khe:return new n;case Jhe:case tde:return new n(t);case Qhe:return Yhe(t);case ede:return new n;case rde:return Xhe(t)}}var mde=pde,gde=qb,vde=pT,yde=o_;function xde(t){return typeof t.constructor=="function"&&!yde(t)?gde(vde(t)):{}}var bde=xde,_de=s_,wde=yl,Sde="[object Map]";function Cde(t){return wde(t)&&_de(t)==Sde}var kde=Cde,Ede=kde,Tde=cT,K3=uT,J3=K3&&K3.isMap,Ade=J3?Tde(J3):Ede,Pde=Ade,Mde=s_,Ide=yl,Ode="[object Set]";function Dde(t){return Ide(t)&&Mde(t)==Ode}var Nde=Dde,Lde=Nde,Rde=cT,Q3=uT,eO=Q3&&Q3.isSet,jde=eO?Rde(eO):Lde,zde=jde,Fde=iT,Bde=ZE,$de=a_,Hde=sue,Ude=Cue,Vde=kue,Wde=GE,Yde=jue,Xde=Zue,Gde=c6,qde=mT,Zde=s_,Kde=Phe,Jde=mde,Qde=bde,efe=xs,tfe=sT,rfe=Pde,nfe=ec,ife=zde,afe=Rd,ofe=hT,sfe=1,lfe=2,cfe=4,d6="[object Arguments]",ufe="[object Array]",hfe="[object Boolean]",dfe="[object Date]",ffe="[object Error]",f6="[object Function]",pfe="[object GeneratorFunction]",mfe="[object Map]",gfe="[object Number]",p6="[object Object]",vfe="[object RegExp]",yfe="[object Set]",xfe="[object String]",bfe="[object Symbol]",_fe="[object WeakMap]",wfe="[object ArrayBuffer]",Sfe="[object DataView]",Cfe="[object Float32Array]",kfe="[object Float64Array]",Efe="[object Int8Array]",Tfe="[object Int16Array]",Afe="[object Int32Array]",Pfe="[object Uint8Array]",Mfe="[object Uint8ClampedArray]",Ife="[object Uint16Array]",Ofe="[object Uint32Array]",bi={};bi[d6]=bi[ufe]=bi[wfe]=bi[Sfe]=bi[hfe]=bi[dfe]=bi[Cfe]=bi[kfe]=bi[Efe]=bi[Tfe]=bi[Afe]=bi[mfe]=bi[gfe]=bi[p6]=bi[vfe]=bi[yfe]=bi[xfe]=bi[bfe]=bi[Pfe]=bi[Mfe]=bi[Ife]=bi[Ofe]=!0;bi[ffe]=bi[f6]=bi[_fe]=!1;function zx(t,e,r,n,i,o){var a,l=e&sfe,u=e&lfe,h=e&cfe;if(r&&(a=i?r(t,n,i,o):r(t)),a!==void 0)return a;if(!nfe(t))return t;var f=efe(t);if(f){if(a=Kde(t),!l)return Wde(t,a)}else{var m=Zde(t),x=m==f6||m==pfe;if(tfe(t))return Vde(t,l);if(m==p6||m==d6||x&&!i){if(a=u||x?{}:Qde(t),!l)return u?Xde(t,Ude(a,t)):Yde(t,Hde(a,t))}else{if(!bi[m])return i?t:{};a=Jde(t,m,l)}}o||(o=new Fde);var w=o.get(t);if(w)return w;o.set(t,a),ife(t)?t.forEach(function(A){a.add(zx(A,e,r,A,t,o))}):rfe(t)&&t.forEach(function(A,E){a.set(E,zx(A,e,r,E,t,o))});var S=h?u?qde:Gde:u?ofe:afe,C=f?void 0:S(t);return Bde(C||t,function(A,E){C&&(E=A,A=t[E]),$de(a,E,zx(A,e,r,E,t,o))}),a}var Dfe=zx,Nfe=xs,Lfe=ly,Rfe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jfe=/^\w*$/;function zfe(t,e){if(Nfe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Lfe(t)?!0:jfe.test(t)||!Rfe.test(t)||e!=null&&t in Object(e)}var vT=zfe,m6=nT,Ffe="Expected a function";function yT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ffe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(yT.Cache||m6),r}yT.Cache=m6;var Bfe=yT,$fe=Bfe,Hfe=500;function Ufe(t){var e=$fe(t,function(n){return r.size===Hfe&&r.clear(),n}),r=e.cache;return e}var Vfe=Ufe,Wfe=Vfe,Yfe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xfe=/\\(\\)?/g,Gfe=Wfe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Yfe,function(r,n,i,o){e.push(i?o.replace(Xfe,"$1"):n||r)}),e}),qfe=Gfe,Zfe=xs,Kfe=vT,Jfe=qfe,Qfe=cm;function epe(t,e){return Zfe(t)?t:Kfe(t,e)?[t]:Jfe(Qfe(t))}var vm=epe;function tpe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var rpe=tpe,npe=ly,ipe=1/0;function ape(t){if(typeof t=="string"||npe(t))return t;var e=t+"";return e=="0"&&1/t==-ipe?"-0":e}var ym=ape,ope=vm,spe=ym;function lpe(t,e){e=ope(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[spe(e[r++])];return r&&r==n?t:void 0}var l_=lpe;function cpe(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}var g6=cpe,upe=l_,hpe=g6;function dpe(t,e){return e.length<2?t:upe(t,hpe(e,0,-1))}var fpe=dpe,ppe=vm,mpe=rpe,gpe=fpe,vpe=ym;function ype(t,e){return e=ppe(e,t),t=gpe(t,e),t==null||delete t[vpe(mpe(e))]}var xpe=ype,bpe=xh,_pe=pT,wpe=yl,Spe="[object Object]",Cpe=Function.prototype,kpe=Object.prototype,v6=Cpe.toString,Epe=kpe.hasOwnProperty,Tpe=v6.call(Object);function Ape(t){if(!wpe(t)||bpe(t)!=Spe)return!1;var e=_pe(t);if(e===null)return!0;var r=Epe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&v6.call(r)==Tpe}var Ppe=Ape,Mpe=Ppe;function Ipe(t){return Mpe(t)?void 0:t}var Ope=Ipe,tO=lm,Dpe=oT,Npe=xs,rO=tO?tO.isConcatSpreadable:void 0;function Lpe(t){return Npe(t)||Dpe(t)||!!(rO&&t&&t[rO])}var Rpe=Lpe,jpe=fT,zpe=Rpe;function y6(t,e,r,n,i){var o=-1,a=t.length;for(r||(r=zpe),i||(i=[]);++o<a;){var l=t[o];e>0&&r(l)?e>1?y6(l,e-1,r,n,i):jpe(i,l):n||(i[i.length]=l)}return i}var Fpe=y6,Bpe=Fpe;function $pe(t){var e=t==null?0:t.length;return e?Bpe(t,1):[]}var Hpe=$pe,Upe=WE,nO=Math.max;function Vpe(t,e,r){return e=nO(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=nO(n.length-e,0),a=Array(o);++i<o;)a[i]=n[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=n[i];return l[e]=r(a),Upe(t,this,l)}}var x6=Vpe,Wpe=Hpe,Ype=x6,Xpe=qE;function Gpe(t){return Xpe(Ype(t,void 0,Wpe),t+"")}var b6=Gpe,qpe=Qb,Zpe=Dfe,Kpe=xpe,Jpe=vm,Qpe=pm,eme=Ope,tme=b6,rme=mT,nme=1,ime=2,ame=4,ome=tme(function(t,e){var r={};if(t==null)return r;var n=!1;e=qpe(e,function(o){return o=Jpe(o,t),n||(n=o.length>1),o}),Qpe(t,rme(t),r),n&&(r=Zpe(r,nme|ime|ame,eme));for(var i=e.length;i--;)Kpe(r,e[i]);return r}),sme=ome;const c_=Qn(sme);var lme=function(){return Ld&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent)},cme=function(){return Ld&&/Android/i.test(navigator.userAgent)},ume=function(){if(Ld){var e=window.navigator.userAgent.match(/Chrom(e|ium)\/([\d\.]+)\./);return e?parseFloat(e[2]):!1}return!1},hme=function(){if(Ld){var e=window.navigator.userAgent.match(/Version\/([\d\.]+).*Safari/);return e?parseFloat(e[1]):!1}return!1},dme=function(){if(typeof CSS<"u"&&typeof CSS.supports<"u")return CSS.supports("(gap: 1px)");if(lme())return!1;var e=ume(),r=hme();return e?e>=84:r?r>=14.1:!0};function fme(t){return function(e,r,n){for(var i=-1,o=Object(e),a=n(e),l=a.length;l--;){var u=a[t?l:++i];if(r(o[u],u,o)===!1)break}return e}}var pme=fme,mme=pme,gme=mme(),vme=gme,yme=vme,xme=Rd;function bme(t,e){return t&&yme(t,e,xme)}var _6=bme,_me=mm;function wme(t,e){return function(r,n){if(r==null)return r;if(!_me(r))return t(r,n);for(var i=r.length,o=e?i:-1,a=Object(r);(e?o--:++o<i)&&n(a[o],o,a)!==!1;);return r}}var Sme=wme,Cme=_6,kme=Sme,Eme=kme(Cme),Tme=Eme,Ame=oy;function Pme(t){return typeof t=="function"?t:Ame}var Mme=Pme,Ime=ZE,Ome=Tme,Dme=Mme,Nme=xs;function Lme(t,e){var r=Nme(t)?Ime:Ome;return r(t,Dme(e))}var Rme=Lme;const jme=Qn(Rme);var zme=xh,Fme=xs,Bme=yl,$me="[object String]";function Hme(t){return typeof t=="string"||!Fme(t)&&Bme(t)&&zme(t)==$me}var Ume=Hme,Vme=Qb;function Wme(t,e){return Vme(e,function(r){return t[r]})}var Yme=Wme,Xme=Yme,Gme=Rd;function qme(t){return t==null?[]:Xme(t,Gme(t))}var Zme=qme,Kme=Pj,Jme=mm,Qme=Ume,ege=Lj,tge=Zme,rge=Math.max;function nge(t,e,r,n){t=Jme(t)?t:tge(t),r=r&&!n?ege(r):0;var i=t.length;return r<0&&(r=rge(i+r,0)),Qme(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&Kme(t,e,r)>-1}var ige=nge;const age=Qn(ige);var oge=["selected","defaultValue","defaultChecked","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","form","id","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","type","value"],sge=["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],lge=[].concat(oge,sge),cge=function(e,r){r===void 0&&(r={});var n=r,i=n.htmlProps,o=i===void 0?lge:i,a=n.includeAria,l=a===void 0?!0:a,u={},h={};return jme(e,function(f,m){var x=l&&(/^aria-.*$/.test(m)||m==="role"),w=age(o,m)||x?u:h;w[m]=f}),[u,h]};function uge(t){return t&&"setState"in t?F9.findDOMNode(t):t??null}var hge=function(e){return e&&("current"in e?e.current:e)};function Fc(t){var e=(t==null?void 0:t.root)||(t==null?void 0:t.child)||hge(t);return e!=null&&e.nodeType&&typeof(e==null?void 0:e.nodeName)=="string"?e:uge(e)}function Po(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.filter(function(n){return n!==null&&typeof n<"u"}).reduce(function(n,i){if(typeof i!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return n===void 0?i:function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];n.apply(this,l),i.apply(this,l)}},void 0)}function Ac(t,e){return Array.isArray(e)?e.indexOf(t)>=0:t===e}function dge(t){if(typeof t=="object"&&t!==null)return t.type||t.$$typeof}function w6(t){return ke.Children.count(t)===1&&dge(t)===Symbol.for("react.fragment")}function cy(t){return ke.Children.toArray(ke.Children.map(t,function(e){if(w6(e)){var r;return ke.Children.toArray(((r=e.props)===null||r===void 0?void 0:r.children)||[])}return e}))}function fge(t,e,r){var n=0,i;return ke.Children.forEach(cy(t),function(o){i||(n+=1,e.call(r,o,n)&&(i=o))}),i}function S6(t,e,r){var n=0;return ke.Children.map(cy(t),function(i){if(!ke.isValidElement(i))return i;var o=e.call(r,i,n);return n+=1,o})}function pge(t,e,r){return S6(t,function(n,i){return ke.cloneElement(n,kt({key:i},e(n,i)))},r)}function mge(t,e,r){var n=0;ke.Children.forEach(cy(t),function(i){ke.isValidElement(i)&&(e.call(r,i,n),n+=1)})}function gge(t){return ke.Children.count(cy(t))}function vge(t,e,r){var n=0,i=!1;return ke.Children.forEach(cy(t),function(o){i||ke.isValidElement(o)&&e.call(r,o,n+=1)&&(i=!0)}),i}var iO={mapCloneElement:pge,count:gge,some:vge,map:S6,forEach:mge,find:fge};function C6(t,e){return e===void 0&&(e=!1),typeof t=="string"?(e&&(t=t.replace(/left|right/,function(r){return r==="left"?"right":"left"})),t.replace(/Left|Top/,"Start").replace(/Right|Bottom/,"End")):t}var aO=function(e){return!e||typeof e=="function"?e:function(r){e.current=r}};function hl(t,e){var r=aO(t),n=aO(e);return function(i){typeof r=="function"&&r(i),typeof n=="function"&&n(i)}}function yge(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return e.reduce(function(i,o){return o(i)},n)}}var oO="none";function sO(t,e,r){document.activeElement===t&&(cme()?requestAnimationFrame(function(){return t.setSelectionRange(e,r,oO)}):t.setSelectionRange(e,r,oO))}var xge="__lodash_hash_undefined__";function bge(t){return this.__data__.set(t,xge),this}var _ge=bge;function wge(t){return this.__data__.has(t)}var Sge=wge,Cge=nT,kge=_ge,Ege=Sge;function Z1(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Cge;++e<r;)this.add(t[e])}Z1.prototype.add=Z1.prototype.push=kge;Z1.prototype.has=Ege;var Tge=Z1;function Age(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Pge=Age;function Mge(t,e){return t.has(e)}var Ige=Mge,Oge=Tge,Dge=Pge,Nge=Ige,Lge=1,Rge=2;function jge(t,e,r,n,i,o){var a=r&Lge,l=t.length,u=e.length;if(l!=u&&!(a&&u>l))return!1;var h=o.get(t),f=o.get(e);if(h&&f)return h==e&&f==t;var m=-1,x=!0,w=r&Rge?new Oge:void 0;for(o.set(t,e),o.set(e,t);++m<l;){var S=t[m],C=e[m];if(n)var A=a?n(C,S,m,e,t,o):n(S,C,m,t,e,o);if(A!==void 0){if(A)continue;x=!1;break}if(w){if(!Dge(e,function(E,P){if(!Nge(w,P)&&(S===E||i(S,E,r,n,o)))return w.push(P)})){x=!1;break}}else if(!(S===C||i(S,C,r,n,o))){x=!1;break}}return o.delete(t),o.delete(e),x}var k6=jge;function zge(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var Fge=zge;function Bge(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var $ge=Bge,lO=lm,cO=h6,Hge=e_,Uge=k6,Vge=Fge,Wge=$ge,Yge=1,Xge=2,Gge="[object Boolean]",qge="[object Date]",Zge="[object Error]",Kge="[object Map]",Jge="[object Number]",Qge="[object RegExp]",eve="[object Set]",tve="[object String]",rve="[object Symbol]",nve="[object ArrayBuffer]",ive="[object DataView]",uO=lO?lO.prototype:void 0,d2=uO?uO.valueOf:void 0;function ave(t,e,r,n,i,o,a){switch(r){case ive:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case nve:return!(t.byteLength!=e.byteLength||!o(new cO(t),new cO(e)));case Gge:case qge:case Jge:return Hge(+t,+e);case Zge:return t.name==e.name&&t.message==e.message;case Qge:case tve:return t==e+"";case Kge:var l=Vge;case eve:var u=n&Yge;if(l||(l=Wge),t.size!=e.size&&!u)return!1;var h=a.get(t);if(h)return h==e;n|=Xge,a.set(t,e);var f=Uge(l(t),l(e),n,i,o,a);return a.delete(t),f;case rve:if(d2)return d2.call(t)==d2.call(e)}return!1}var ove=ave,hO=c6,sve=1,lve=Object.prototype,cve=lve.hasOwnProperty;function uve(t,e,r,n,i,o){var a=r&sve,l=hO(t),u=l.length,h=hO(e),f=h.length;if(u!=f&&!a)return!1;for(var m=u;m--;){var x=l[m];if(!(a?x in e:cve.call(e,x)))return!1}var w=o.get(t),S=o.get(e);if(w&&S)return w==e&&S==t;var C=!0;o.set(t,e),o.set(e,t);for(var A=a;++m<u;){x=l[m];var E=t[x],P=e[x];if(n)var I=a?n(P,E,x,e,t,o):n(E,P,x,t,e,o);if(!(I===void 0?E===P||i(E,P,r,n,o):I)){C=!1;break}A||(A=x=="constructor")}if(C&&!A){var N=t.constructor,D=e.constructor;N!=D&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof D=="function"&&D instanceof D)&&(C=!1)}return o.delete(t),o.delete(e),C}var hve=uve,f2=iT,dve=k6,fve=ove,pve=hve,dO=s_,fO=xs,pO=sT,mve=n6,gve=1,mO="[object Arguments]",gO="[object Array]",nx="[object Object]",vve=Object.prototype,vO=vve.hasOwnProperty;function yve(t,e,r,n,i,o){var a=fO(t),l=fO(e),u=a?gO:dO(t),h=l?gO:dO(e);u=u==mO?nx:u,h=h==mO?nx:h;var f=u==nx,m=h==nx,x=u==h;if(x&&pO(t)){if(!pO(e))return!1;a=!0,f=!1}if(x&&!f)return o||(o=new f2),a||mve(t)?dve(t,e,r,n,i,o):fve(t,e,u,r,n,i,o);if(!(r&gve)){var w=f&&vO.call(t,"__wrapped__"),S=m&&vO.call(e,"__wrapped__");if(w||S){var C=w?t.value():t,A=S?e.value():e;return o||(o=new f2),i(C,A,r,n,o)}}return x?(o||(o=new f2),pve(t,e,r,n,i,o)):!1}var xve=yve,bve=xve,yO=yl;function E6(t,e,r,n,i){return t===e?!0:t==null||e==null||!yO(t)&&!yO(e)?t!==t&&e!==e:bve(t,e,r,n,E6,i)}var T6=E6,_ve=iT,wve=T6,Sve=1,Cve=2;function kve(t,e,r,n){var i=r.length,o=i,a=!n;if(t==null)return!o;for(t=Object(t);i--;){var l=r[i];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<o;){l=r[i];var u=l[0],h=t[u],f=l[1];if(a&&l[2]){if(h===void 0&&!(u in t))return!1}else{var m=new _ve;if(n)var x=n(h,f,u,t,e,m);if(!(x===void 0?wve(f,h,Sve|Cve,n,m):x))return!1}}return!0}var Eve=kve,Tve=ec;function Ave(t){return t===t&&!Tve(t)}var A6=Ave,Pve=A6,Mve=Rd;function Ive(t){for(var e=Mve(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Pve(i)]}return e}var Ove=Ive;function Dve(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var P6=Dve,Nve=Eve,Lve=Ove,Rve=P6;function jve(t){var e=Lve(t);return e.length==1&&e[0][2]?Rve(e[0][0],e[0][1]):function(r){return r===t||Nve(r,t,e)}}var zve=jve,Fve=l_;function Bve(t,e,r){var n=t==null?void 0:Fve(t,e);return n===void 0?r:n}var M6=Bve;const $ve=Qn(M6);function Hve(t,e){return t!=null&&e in Object(t)}var Uve=Hve,Vve=vm,Wve=oT,Yve=xs,Xve=sy,Gve=lT,qve=ym;function Zve(t,e,r){e=Vve(e,t);for(var n=-1,i=e.length,o=!1;++n<i;){var a=qve(e[n]);if(!(o=t!=null&&r(t,a)))break;t=t[a]}return o||++n!=i?o:(i=t==null?0:t.length,!!i&&Gve(i)&&Xve(a,i)&&(Yve(t)||Wve(t)))}var Kve=Zve,Jve=Uve,Qve=Kve;function eye(t,e){return t!=null&&Qve(t,e,Jve)}var I6=eye,tye=T6,rye=M6,nye=I6,iye=vT,aye=A6,oye=P6,sye=ym,lye=1,cye=2;function uye(t,e){return iye(t)&&aye(e)?oye(sye(t),e):function(r){var n=rye(r,t);return n===void 0&&n===e?nye(r,t):tye(e,n,lye|cye)}}var hye=uye;function dye(t){return function(e){return e==null?void 0:e[t]}}var fye=dye,pye=l_;function mye(t){return function(e){return pye(e,t)}}var gye=mye,vye=fye,yye=gye,xye=vT,bye=ym;function _ye(t){return xye(t)?vye(bye(t)):yye(t)}var wye=_ye,Sye=zve,Cye=hye,kye=oy,Eye=xs,Tye=wye;function Aye(t){return typeof t=="function"?t:t==null?kye:typeof t=="object"?Eye(t)?Cye(t[0],t[1]):Sye(t):Tye(t)}var uy=Aye,Pye=Symbol.for("rsuite.picker"),K1={};function O6(t){K1[t]||(console.warn(t),K1[t]=!0)}O6._resetWarned=function(){for(var t in K1)delete K1[t]};var Mye=oy,Iye=x6,Oye=qE;function Dye(t,e){return Oye(Iye(t,e,Mye),t+"")}var xT=Dye,Nye=e_,Lye=mm,Rye=sy,jye=ec;function zye(t,e,r){if(!jye(r))return!1;var n=typeof e;return(n=="number"?Lye(r)&&Rye(e,r.length):n=="string"&&e in r)?Nye(r[e],t):!1}var Fye=zye,Bye=xT,$ye=Fye;function Hye(t){return Bye(function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&$ye(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++n<i;){var l=r[n];l&&t(e,l,n,o)}return e})}var Uye=Hye,Vye=a_,Wye=pm,Yye=Uye,Xye=mm,Gye=o_,qye=Rd,Zye=Object.prototype,Kye=Zye.hasOwnProperty,Jye=Yye(function(t,e){if(Gye(e)||Xye(e)){Wye(e,qye(e),t);return}for(var r in e)Kye.call(e,r)&&Vye(t,r,e[r])}),Qye=Jye;const p2=Qn(Qye);var e0e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},D6=function(e,r,n){var i,o=e0e[e];return typeof o=="string"?i=o:r===1?i=o.one:i=o.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i},t0e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},N6=function(e,r,n,i){return t0e[e]};function Ag(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{var l=t.defaultWidth,u=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[u]||t.values[l]}var h=t.argumentCallback?t.argumentCallback(e):e;return i[h]}}var r0e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},n0e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},i0e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},a0e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},o0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},s0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},l0e=function(e,r){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},L6={ordinalNumber:l0e,era:Ag({values:r0e,defaultWidth:"wide"}),quarter:Ag({values:n0e,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ag({values:i0e,defaultWidth:"wide"}),day:Ag({values:a0e,defaultWidth:"wide"}),dayPeriod:Ag({values:o0e,defaultWidth:"wide",formattingValues:s0e,defaultFormattingWidth:"wide"})};function Pg(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var a=o[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?u0e(l,function(m){return m.test(a)}):c0e(l,function(m){return m.test(a)}),h;h=t.valueCallback?t.valueCallback(u):u,h=r.valueCallback?r.valueCallback(h):h;var f=e.slice(a.length);return{value:h,rest:f}}}function c0e(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function u0e(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function h0e(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var i=n[0],o=e.match(t.parsePattern);if(!o)return null;var a=t.valueCallback?t.valueCallback(o[0]):o[0];a=r.valueCallback?r.valueCallback(a):a;var l=e.slice(i.length);return{value:a,rest:l}}}var d0e=/^(\d+)(th|st|nd|rd)?/i,f0e=/\d+/i,p0e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},m0e={any:[/^b/i,/^(a|c)/i]},g0e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},v0e={any:[/1/i,/2/i,/3/i,/4/i]},y0e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},x0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},b0e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_0e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},w0e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},S0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},R6={ordinalNumber:h0e({matchPattern:d0e,parsePattern:f0e,valueCallback:function(e){return parseInt(e,10)}}),era:Pg({matchPatterns:p0e,defaultMatchWidth:"wide",parsePatterns:m0e,defaultParseWidth:"any"}),quarter:Pg({matchPatterns:g0e,defaultMatchWidth:"wide",parsePatterns:v0e,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Pg({matchPatterns:y0e,defaultMatchWidth:"wide",parsePatterns:x0e,defaultParseWidth:"any"}),day:Pg({matchPatterns:b0e,defaultMatchWidth:"wide",parsePatterns:_0e,defaultParseWidth:"any"}),dayPeriod:Pg({matchPatterns:w0e,defaultMatchWidth:"any",parsePatterns:S0e,defaultParseWidth:"any"})};function wp(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var C0e={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"dd/MM/yyyy"},k0e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},E0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},T0e={date:wp({formats:C0e,defaultWidth:"full"}),time:wp({formats:k0e,defaultWidth:"full"}),dateTime:wp({formats:E0e,defaultWidth:"full"})},A0e={code:"en-GB",formatDistance:D6,formatLong:T0e,formatRelative:N6,localize:L6,match:R6,options:{weekStartsOn:1,firstWeekContainsDate:4}},ix={sunday:"Su",monday:"Mo",tuesday:"Tu",wednesday:"We",thursday:"Th",friday:"Fr",saturday:"Sa",ok:"OK",today:"Today",yesterday:"Yesterday",now:"Now",hours:"Hours",minutes:"Minutes",seconds:"Seconds",formattedMonthPattern:"MMM yyyy",formattedDayPattern:"dd MMM yyyy",shortDateFormat:"dd/MM/yyyy",shortTimeFormat:"HH:mm",dateLocale:A0e},j6={noResultsText:"No results found",placeholder:"Select",searchPlaceholder:"Search",checkAll:"All"},xO=kt({},j6,{newItem:"New item",createOption:'Create option "{0}"'});const bO={code:"en-GB",common:{loading:"Loading...",emptyMessage:"No data found",remove:"Remove",clear:"Clear"},Plaintext:{unfilled:"Unfilled",notSelected:"Not selected",notUploaded:"Not uploaded"},Pagination:{more:"More",prev:"Previous",next:"Next",first:"First",last:"Last",limit:"{0} / page",total:"Total Rows: {0}",skip:"Go to{0}"},DateTimeFormats:ix,Calendar:ix,DatePicker:ix,DateRangePicker:kt({},ix,{last7Days:"Last 7 Days"}),Combobox:j6,InputPicker:xO,TagPicker:xO,Uploader:{inited:"Initial",progress:"Uploading",error:"Error",complete:"Finished",emptyFile:"Empty",upload:"Upload",removeFile:"Remove file"},CloseButton:{closeLabel:"Close"},Breadcrumb:{expandText:"Show path"},Toggle:{on:"Open",off:"Close"}};function Nn(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Or(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Gr(t){Or(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||ql(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function hy(t,e){Or(2,arguments);var r=Gr(t),n=Nn(e);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function zv(t,e){Or(2,arguments);var r=Gr(t),n=Nn(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var i=r.getDate(),o=new Date(r.getTime());o.setMonth(r.getMonth()+n+1,0);var a=o.getDate();return i>=a?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}function P0e(t,e){Or(2,arguments);var r=Nn(e);return zv(t,r*12)}function u_(t,e){Or(2,arguments);var r=Gr(t).getTime(),n=Nn(e);return new Date(r+n)}function M0e(t,e){Or(2,arguments);var r=Nn(e);return u_(t,r*1e3)}var I0e=6e4;function O0e(t,e){Or(2,arguments);var r=Nn(e);return u_(t,r*I0e)}var D0e=36e5;function N0e(t,e){Or(2,arguments);var r=Nn(e);return u_(t,r*D0e)}function Fx(t){Or(1,arguments);var e=Gr(t);return e.setHours(23,59,59,999),e}var L0e={};function jd(){return L0e}function R0e(t){Or(1,arguments);var e=Gr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function j0e(t){return Or(1,arguments),t instanceof Date||ql(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function mo(t){if(Or(1,arguments),!j0e(t)&&typeof t!="number")return!1;var e=Gr(t);return!isNaN(Number(e))}function z6(t,e){Or(2,arguments);var r=Nn(e);return u_(t,-r)}var z0e=864e5;function F0e(t){Or(1,arguments);var e=Gr(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=r-n;return Math.floor(i/z0e)+1}function Hp(t){Or(1,arguments);var e=1,r=Gr(t),n=r.getUTCDay(),i=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function F6(t){Or(1,arguments);var e=Gr(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=Hp(n),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var a=Hp(o);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function B0e(t){Or(1,arguments);var e=F6(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=Hp(r);return n}var $0e=6048e5;function B6(t){Or(1,arguments);var e=Gr(t),r=Hp(e).getTime()-B0e(e).getTime();return Math.round(r/$0e)+1}function Ed(t,e){var r,n,i,o,a,l,u,h;Or(1,arguments);var f=jd(),m=Nn((r=(n=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&n!==void 0?n:(u=f.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&r!==void 0?r:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=Gr(t),w=x.getUTCDay(),S=(w<m?7:0)+w-m;return x.setUTCDate(x.getUTCDate()-S),x.setUTCHours(0,0,0,0),x}function bT(t,e){var r,n,i,o,a,l,u,h;Or(1,arguments);var f=Gr(t),m=f.getUTCFullYear(),x=jd(),w=Nn((r=(n=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:x.firstWeekContainsDate)!==null&&n!==void 0?n:(u=x.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(w>=1&&w<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=new Date(0);S.setUTCFullYear(m+1,0,w),S.setUTCHours(0,0,0,0);var C=Ed(S,e),A=new Date(0);A.setUTCFullYear(m,0,w),A.setUTCHours(0,0,0,0);var E=Ed(A,e);return f.getTime()>=C.getTime()?m+1:f.getTime()>=E.getTime()?m:m-1}function H0e(t,e){var r,n,i,o,a,l,u,h;Or(1,arguments);var f=jd(),m=Nn((r=(n=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&n!==void 0?n:(u=f.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&r!==void 0?r:1),x=bT(t,e),w=new Date(0);w.setUTCFullYear(x,0,m),w.setUTCHours(0,0,0,0);var S=Ed(w,e);return S}var U0e=6048e5;function $6(t,e){Or(1,arguments);var r=Gr(t),n=Ed(r,e).getTime()-H0e(r,e).getTime();return Math.round(n/U0e)+1}function ai(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var wu={y:function(e,r){var n=e.getUTCFullYear(),i=n>0?n:1-n;return ai(r==="yy"?i%100:i,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):ai(n+1,2)},d:function(e,r){return ai(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return ai(e.getUTCHours()%12||12,r.length)},H:function(e,r){return ai(e.getUTCHours(),r.length)},m:function(e,r){return ai(e.getUTCMinutes(),r.length)},s:function(e,r){return ai(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,n-3));return ai(o,r.length)}},If={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},V0e={G:function(e,r,n){var i=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return n.ordinalNumber(o,{unit:"year"})}return wu.y(e,r)},Y:function(e,r,n,i){var o=bT(e,i),a=o>0?o:1-o;if(r==="YY"){var l=a%100;return ai(l,2)}return r==="Yo"?n.ordinalNumber(a,{unit:"year"}):ai(a,r.length)},R:function(e,r){var n=F6(e);return ai(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return ai(n,r.length)},Q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return ai(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return ai(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,r,n){var i=e.getUTCMonth();switch(r){case"M":case"MM":return wu.M(e,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,r,n){var i=e.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return ai(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,r,n,i){var o=$6(e,i);return r==="wo"?n.ordinalNumber(o,{unit:"week"}):ai(o,r.length)},I:function(e,r,n){var i=B6(e);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):ai(i,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):wu.d(e,r)},D:function(e,r,n){var i=F0e(e);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):ai(i,r.length)},E:function(e,r,n){var i=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,r,n,i){var o=e.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(a);case"ee":return ai(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,r,n,i){var o=e.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(a);case"cc":return ai(a,r.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,r,n){var i=e.getUTCDay(),o=i===0?7:i;switch(r){case"i":return String(o);case"ii":return ai(o,r.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,r,n){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,r,n){var i=e.getUTCHours(),o;switch(i===12?o=If.noon:i===0?o=If.midnight:o=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,r,n){var i=e.getUTCHours(),o;switch(i>=17?o=If.evening:i>=12?o=If.afternoon:i>=4?o=If.morning:o=If.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return wu.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):wu.H(e,r)},K:function(e,r,n){var i=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):ai(i,r.length)},k:function(e,r,n){var i=e.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):ai(i,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):wu.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):wu.s(e,r)},S:function(e,r){return wu.S(e,r)},X:function(e,r,n,i){var o=i._originalDate||e,a=o.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return wO(a);case"XXXX":case"XX":return Wh(a);case"XXXXX":case"XXX":default:return Wh(a,":")}},x:function(e,r,n,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(r){case"x":return wO(a);case"xxxx":case"xx":return Wh(a);case"xxxxx":case"xxx":default:return Wh(a,":")}},O:function(e,r,n,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+_O(a,":");case"OOOO":default:return"GMT"+Wh(a,":")}},z:function(e,r,n,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+_O(a,":");case"zzzz":default:return"GMT"+Wh(a,":")}},t:function(e,r,n,i){var o=i._originalDate||e,a=Math.floor(o.getTime()/1e3);return ai(a,r.length)},T:function(e,r,n,i){var o=i._originalDate||e,a=o.getTime();return ai(a,r.length)}};function _O(t,e){var r=t>0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),o=n%60;if(o===0)return r+String(i);var a=e;return r+String(i)+a+ai(o,2)}function wO(t,e){if(t%60===0){var r=t>0?"-":"+";return r+ai(Math.abs(t)/60,2)}return Wh(t,e)}function Wh(t,e){var r=e||"",n=t>0?"-":"+",i=Math.abs(t),o=ai(Math.floor(i/60),2),a=ai(i%60,2);return n+o+r+a}var SO=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},H6=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},W0e=function(e,r){var n=e.match(/(P+)(p+)?/)||[],i=n[1],o=n[2];if(!o)return SO(e,r);var a;switch(i){case"P":a=r.dateTime({width:"short"});break;case"PP":a=r.dateTime({width:"medium"});break;case"PPP":a=r.dateTime({width:"long"});break;case"PPPP":default:a=r.dateTime({width:"full"});break}return a.replace("{{date}}",SO(i,r)).replace("{{time}}",H6(o,r))},NC={p:H6,P:W0e};function U6(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var Y0e=["D","DD"],X0e=["YY","YYYY"];function V6(t){return Y0e.indexOf(t)!==-1}function W6(t){return X0e.indexOf(t)!==-1}function J1(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var G0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},q0e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Z0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},K0e={date:wp({formats:G0e,defaultWidth:"full"}),time:wp({formats:q0e,defaultWidth:"full"}),dateTime:wp({formats:Z0e,defaultWidth:"full"})},Y6={code:"en-US",formatDistance:D6,formatLong:K0e,formatRelative:N6,localize:L6,match:R6,options:{weekStartsOn:0,firstWeekContainsDate:1}},J0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Q0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,exe=/^'([^]*?)'?$/,txe=/''/g,rxe=/[a-zA-Z]/;function Q1(t,e,r){var n,i,o,a,l,u,h,f,m,x,w,S,C,A,E,P,I,N;Or(2,arguments);var D=String(e),L=jd(),R=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:L.locale)!==null&&n!==void 0?n:Y6,$=Nn((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(h=r.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:L.firstWeekContainsDate)!==null&&a!==void 0?a:(m=L.locale)===null||m===void 0||(x=m.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!($>=1&&$<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var W=Nn((w=(S=(C=(A=r==null?void 0:r.weekStartsOn)!==null&&A!==void 0?A:r==null||(E=r.locale)===null||E===void 0||(P=E.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&C!==void 0?C:L.weekStartsOn)!==null&&S!==void 0?S:(I=L.locale)===null||I===void 0||(N=I.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&w!==void 0?w:0);if(!(W>=0&&W<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!R.localize)throw new RangeError("locale must contain localize property");if(!R.formatLong)throw new RangeError("locale must contain formatLong property");var J=Gr(t);if(!mo(J))throw new RangeError("Invalid time value");var q=U6(J),ee=z6(J,q),se={firstWeekContainsDate:$,weekStartsOn:W,locale:R,_originalDate:J},he=D.match(Q0e).map(function(Se){var oe=Se[0];if(oe==="p"||oe==="P"){var _e=NC[oe];return _e(Se,R.formatLong)}return Se}).join("").match(J0e).map(function(Se){if(Se==="''")return"'";var oe=Se[0];if(oe==="'")return nxe(Se);var _e=V0e[oe];if(_e)return!(r!=null&&r.useAdditionalWeekYearTokens)&&W6(Se)&&J1(Se,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&V6(Se)&&J1(Se,e,String(t)),_e(ee,Se,R.localize,se);if(oe.match(rxe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+oe+"`");return Se}).join("");return he}function nxe(t){var e=t.match(exe);return e?e[1].replace(txe,"'"):t}function ixe(t){Or(1,arguments);var e=Gr(t),r=e.getDate();return r}function X6(t){Or(1,arguments);var e=Gr(t),r=e.getFullYear(),n=e.getMonth(),i=new Date(0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function Sp(t){Or(1,arguments);var e=Gr(t),r=e.getHours();return r}function _T(t){Or(1,arguments);var e=Gr(t),r=e.getMinutes();return r}function axe(t){Or(1,arguments);var e=Gr(t),r=e.getMonth();return r}function wT(t){Or(1,arguments);var e=Gr(t),r=e.getSeconds();return r}function m2(t){return Or(1,arguments),Gr(t).getFullYear()}function ax(t,e){Or(2,arguments);var r=Gr(t),n=Gr(e);return r.getTime()>n.getTime()}function ox(t,e){Or(2,arguments);var r=Gr(t),n=Gr(e);return r.getTime()<n.getTime()}function Cp(t){Or(1,arguments);var e=Gr(t);return e.setHours(0,0,0,0),e}function Bx(t,e){Or(2,arguments);var r=Cp(t),n=Cp(e);return r.getTime()===n.getTime()}function oxe(t,e){Or(2,arguments);var r=Gr(t),n=Gr(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function CO(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=PE(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(h){throw h},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var h=r.next();return a=h.done,h},e:function(h){l=!0,o=h},f:function(){try{a||r.return==null||r.return()}finally{if(l)throw o}}}}function sxe(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function ST(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ST=function(){return!!t})()}function Ln(t){var e=ST();return function(){var r,n=ml(t);if(e){var i=ml(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Yb(this,r)}}var lxe=10,G6=function(){function t(){Zr(this,t),lt(this,"priority",void 0),lt(this,"subPriority",0)}return Kr(t,[{key:"validate",value:function(r,n){return!0}}]),t}(),cxe=function(t){xn(r,t);var e=Ln(r);function r(n,i,o,a,l){var u;return Zr(this,r),u=e.call(this),u.value=n,u.validateValue=i,u.setValue=o,u.priority=a,l&&(u.subPriority=l),u}return Kr(r,[{key:"validate",value:function(i,o){return this.validateValue(i,this.value,o)}},{key:"set",value:function(i,o,a){return this.setValue(i,o,this.value,a)}}]),r}(G6),uxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",lxe),lt(Zt(n),"subPriority",-1),n}return Kr(r,[{key:"set",value:function(i,o){if(o.timestampIsSet)return i;var a=new Date(0);return a.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),a.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),a}}]),r}(G6),Yn=function(){function t(){Zr(this,t),lt(this,"incompatibleTokens",void 0),lt(this,"priority",void 0),lt(this,"subPriority",void 0)}return Kr(t,[{key:"run",value:function(r,n,i,o){var a=this.parse(r,n,i,o);return a?{setter:new cxe(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(r,n,i){return!0}}]),t}(),hxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",140),lt(Zt(n),"incompatibleTokens",["R","u","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){switch(o){case"G":case"GG":case"GGG":return a.era(i,{width:"abbreviated"})||a.era(i,{width:"narrow"});case"GGGGG":return a.era(i,{width:"narrow"});case"GGGG":default:return a.era(i,{width:"wide"})||a.era(i,{width:"abbreviated"})||a.era(i,{width:"narrow"})}}},{key:"set",value:function(i,o,a){return o.era=a,i.setUTCFullYear(a,0,1),i.setUTCHours(0,0,0,0),i}}]),r}(Yn),dxe=6e4,fxe=36e5,pxe=1e3,ua={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Fl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ha(t,e){return t&&{value:e(t.value),rest:t.rest}}function Ui(t,e){var r=e.match(t);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function Bl(t,e){var r=e.match(t);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};var n=r[1]==="+"?1:-1,i=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,a=r[5]?parseInt(r[5],10):0;return{value:n*(i*fxe+o*dxe+a*pxe),rest:e.slice(r[0].length)}}function q6(t){return Ui(ua.anyDigitsSigned,t)}function ta(t,e){switch(t){case 1:return Ui(ua.singleDigit,e);case 2:return Ui(ua.twoDigits,e);case 3:return Ui(ua.threeDigits,e);case 4:return Ui(ua.fourDigits,e);default:return Ui(new RegExp("^\\d{1,"+t+"}"),e)}}function eb(t,e){switch(t){case 1:return Ui(ua.singleDigitSigned,e);case 2:return Ui(ua.twoDigitsSigned,e);case 3:return Ui(ua.threeDigitsSigned,e);case 4:return Ui(ua.fourDigitsSigned,e);default:return Ui(new RegExp("^-?\\d{1,"+t+"}"),e)}}function CT(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Z6(t,e){var r=e>0,n=r?e:1-e,i;if(n<=50)i=t||100;else{var o=n+50,a=Math.floor(o/100)*100,l=t>=o%100;i=t+a-(l?100:0)}return r?i:1-i}function K6(t){return t%400===0||t%4===0&&t%100!==0}var mxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",130),lt(Zt(n),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){var l=function(h){return{year:h,isTwoDigitYear:o==="yy"}};switch(o){case"y":return ha(ta(4,i),l);case"yo":return ha(a.ordinalNumber(i,{unit:"year"}),l);default:return ha(ta(o.length,i),l)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,a){var l=i.getUTCFullYear();if(a.isTwoDigitYear){var u=Z6(a.year,l);return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}var h=!("era"in o)||o.era===1?a.year:1-a.year;return i.setUTCFullYear(h,0,1),i.setUTCHours(0,0,0,0),i}}]),r}(Yn),gxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",130),lt(Zt(n),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){var l=function(h){return{year:h,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return ha(ta(4,i),l);case"Yo":return ha(a.ordinalNumber(i,{unit:"year"}),l);default:return ha(ta(o.length,i),l)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,a,l){var u=bT(i,l);if(a.isTwoDigitYear){var h=Z6(a.year,u);return i.setUTCFullYear(h,0,l.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Ed(i,l)}var f=!("era"in o)||o.era===1?a.year:1-a.year;return i.setUTCFullYear(f,0,l.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Ed(i,l)}}]),r}(Yn),vxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",130),lt(Zt(n),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o){return eb(o==="R"?4:o.length,i)}},{key:"set",value:function(i,o,a){var l=new Date(0);return l.setUTCFullYear(a,0,4),l.setUTCHours(0,0,0,0),Hp(l)}}]),r}(Yn),yxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",130),lt(Zt(n),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o){return eb(o==="u"?4:o.length,i)}},{key:"set",value:function(i,o,a){return i.setUTCFullYear(a,0,1),i.setUTCHours(0,0,0,0),i}}]),r}(Yn),xxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",120),lt(Zt(n),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){switch(o){case"Q":case"QQ":return ta(o.length,i);case"Qo":return a.ordinalNumber(i,{unit:"quarter"});case"QQQ":return a.quarter(i,{width:"abbreviated",context:"formatting"})||a.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(i,{width:"wide",context:"formatting"})||a.quarter(i,{width:"abbreviated",context:"formatting"})||a.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,a){return i.setUTCMonth((a-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),r}(Yn),bxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",120),lt(Zt(n),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){switch(o){case"q":case"qq":return ta(o.length,i);case"qo":return a.ordinalNumber(i,{unit:"quarter"});case"qqq":return a.quarter(i,{width:"abbreviated",context:"standalone"})||a.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(i,{width:"wide",context:"standalone"})||a.quarter(i,{width:"abbreviated",context:"standalone"})||a.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,a){return i.setUTCMonth((a-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),r}(Yn),_xe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),lt(Zt(n),"priority",110),n}return Kr(r,[{key:"parse",value:function(i,o,a){var l=function(h){return h-1};switch(o){case"M":return ha(Ui(ua.month,i),l);case"MM":return ha(ta(2,i),l);case"Mo":return ha(a.ordinalNumber(i,{unit:"month"}),l);case"MMM":return a.month(i,{width:"abbreviated",context:"formatting"})||a.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(i,{width:"wide",context:"formatting"})||a.month(i,{width:"abbreviated",context:"formatting"})||a.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,a){return i.setUTCMonth(a,1),i.setUTCHours(0,0,0,0),i}}]),r}(Yn),wxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",110),lt(Zt(n),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){var l=function(h){return h-1};switch(o){case"L":return ha(Ui(ua.month,i),l);case"LL":return ha(ta(2,i),l);case"Lo":return ha(a.ordinalNumber(i,{unit:"month"}),l);case"LLL":return a.month(i,{width:"abbreviated",context:"standalone"})||a.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(i,{width:"wide",context:"standalone"})||a.month(i,{width:"abbreviated",context:"standalone"})||a.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,a){return i.setUTCMonth(a,1),i.setUTCHours(0,0,0,0),i}}]),r}(Yn);function Sxe(t,e,r){Or(2,arguments);var n=Gr(t),i=Nn(e),o=$6(n,r)-i;return n.setUTCDate(n.getUTCDate()-o*7),n}var Cxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",100),lt(Zt(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){switch(o){case"w":return Ui(ua.week,i);case"wo":return a.ordinalNumber(i,{unit:"week"});default:return ta(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,a,l){return Ed(Sxe(i,a,l),l)}}]),r}(Yn);function kxe(t,e){Or(2,arguments);var r=Gr(t),n=Nn(e),i=B6(r)-n;return r.setUTCDate(r.getUTCDate()-i*7),r}var Exe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",100),lt(Zt(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){switch(o){case"I":return Ui(ua.week,i);case"Io":return a.ordinalNumber(i,{unit:"week"});default:return ta(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,a){return Hp(kxe(i,a))}}]),r}(Yn),Txe=[31,28,31,30,31,30,31,31,30,31,30,31],Axe=[31,29,31,30,31,30,31,31,30,31,30,31],Pxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",90),lt(Zt(n),"subPriority",1),lt(Zt(n),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){switch(o){case"d":return Ui(ua.date,i);case"do":return a.ordinalNumber(i,{unit:"date"});default:return ta(o.length,i)}}},{key:"validate",value:function(i,o){var a=i.getUTCFullYear(),l=K6(a),u=i.getUTCMonth();return l?o>=1&&o<=Axe[u]:o>=1&&o<=Txe[u]}},{key:"set",value:function(i,o,a){return i.setUTCDate(a),i.setUTCHours(0,0,0,0),i}}]),r}(Yn),Mxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",90),lt(Zt(n),"subpriority",1),lt(Zt(n),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){switch(o){case"D":case"DD":return Ui(ua.dayOfYear,i);case"Do":return a.ordinalNumber(i,{unit:"date"});default:return ta(o.length,i)}}},{key:"validate",value:function(i,o){var a=i.getUTCFullYear(),l=K6(a);return l?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(i,o,a){return i.setUTCMonth(0,a),i.setUTCHours(0,0,0,0),i}}]),r}(Yn);function kT(t,e,r){var n,i,o,a,l,u,h,f;Or(2,arguments);var m=jd(),x=Nn((n=(i=(o=(a=r==null?void 0:r.weekStartsOn)!==null&&a!==void 0?a:r==null||(l=r.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:m.weekStartsOn)!==null&&i!==void 0?i:(h=m.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&n!==void 0?n:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=Gr(t),S=Nn(e),C=w.getUTCDay(),A=S%7,E=(A+7)%7,P=(E<x?7:0)+S-C;return w.setUTCDate(w.getUTCDate()+P),w}var Ixe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",90),lt(Zt(n),"incompatibleTokens",["D","i","e","c","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){switch(o){case"E":case"EE":case"EEE":return a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(i,{width:"wide",context:"formatting"})||a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,a,l){return i=kT(i,a,l),i.setUTCHours(0,0,0,0),i}}]),r}(Yn),Oxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",90),lt(Zt(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a,l){var u=function(f){var m=Math.floor((f-1)/7)*7;return(f+l.weekStartsOn+6)%7+m};switch(o){case"e":case"ee":return ha(ta(o.length,i),u);case"eo":return ha(a.ordinalNumber(i,{unit:"day"}),u);case"eee":return a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"eeeee":return a.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(i,{width:"wide",context:"formatting"})||a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,a,l){return i=kT(i,a,l),i.setUTCHours(0,0,0,0),i}}]),r}(Yn),Dxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",90),lt(Zt(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a,l){var u=function(f){var m=Math.floor((f-1)/7)*7;return(f+l.weekStartsOn+6)%7+m};switch(o){case"c":case"cc":return ha(ta(o.length,i),u);case"co":return ha(a.ordinalNumber(i,{unit:"day"}),u);case"ccc":return a.day(i,{width:"abbreviated",context:"standalone"})||a.day(i,{width:"short",context:"standalone"})||a.day(i,{width:"narrow",context:"standalone"});case"ccccc":return a.day(i,{width:"narrow",context:"standalone"});case"cccccc":return a.day(i,{width:"short",context:"standalone"})||a.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(i,{width:"wide",context:"standalone"})||a.day(i,{width:"abbreviated",context:"standalone"})||a.day(i,{width:"short",context:"standalone"})||a.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,a,l){return i=kT(i,a,l),i.setUTCHours(0,0,0,0),i}}]),r}(Yn);function Nxe(t,e){Or(2,arguments);var r=Nn(e);r%7===0&&(r=r-7);var n=1,i=Gr(t),o=i.getUTCDay(),a=r%7,l=(a+7)%7,u=(l<n?7:0)+r-o;return i.setUTCDate(i.getUTCDate()+u),i}var Lxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",90),lt(Zt(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){var l=function(h){return h===0?7:h};switch(o){case"i":case"ii":return ta(o.length,i);case"io":return a.ordinalNumber(i,{unit:"day"});case"iii":return ha(a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"}),l);case"iiiii":return ha(a.day(i,{width:"narrow",context:"formatting"}),l);case"iiiiii":return ha(a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"}),l);case"iiii":default:return ha(a.day(i,{width:"wide",context:"formatting"})||a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"}),l)}}},{key:"validate",value:function(i,o){return o>=1&&o<=7}},{key:"set",value:function(i,o,a){return i=Nxe(i,a),i.setUTCHours(0,0,0,0),i}}]),r}(Yn),Rxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",80),lt(Zt(n),"incompatibleTokens",["b","B","H","k","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){switch(o){case"a":case"aa":case"aaa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})||a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,a){return i.setUTCHours(CT(a),0,0,0),i}}]),r}(Yn),jxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",80),lt(Zt(n),"incompatibleTokens",["a","B","H","k","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){switch(o){case"b":case"bb":case"bbb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})||a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,a){return i.setUTCHours(CT(a),0,0,0),i}}]),r}(Yn),zxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",80),lt(Zt(n),"incompatibleTokens",["a","b","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){switch(o){case"B":case"BB":case"BBB":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})||a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,a){return i.setUTCHours(CT(a),0,0,0),i}}]),r}(Yn),Fxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",70),lt(Zt(n),"incompatibleTokens",["H","K","k","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){switch(o){case"h":return Ui(ua.hour12h,i);case"ho":return a.ordinalNumber(i,{unit:"hour"});default:return ta(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=12}},{key:"set",value:function(i,o,a){var l=i.getUTCHours()>=12;return l&&a<12?i.setUTCHours(a+12,0,0,0):!l&&a===12?i.setUTCHours(0,0,0,0):i.setUTCHours(a,0,0,0),i}}]),r}(Yn),Bxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",70),lt(Zt(n),"incompatibleTokens",["a","b","h","K","k","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){switch(o){case"H":return Ui(ua.hour23h,i);case"Ho":return a.ordinalNumber(i,{unit:"hour"});default:return ta(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=23}},{key:"set",value:function(i,o,a){return i.setUTCHours(a,0,0,0),i}}]),r}(Yn),$xe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",70),lt(Zt(n),"incompatibleTokens",["h","H","k","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){switch(o){case"K":return Ui(ua.hour11h,i);case"Ko":return a.ordinalNumber(i,{unit:"hour"});default:return ta(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,a){var l=i.getUTCHours()>=12;return l&&a<12?i.setUTCHours(a+12,0,0,0):i.setUTCHours(a,0,0,0),i}}]),r}(Yn),Hxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",70),lt(Zt(n),"incompatibleTokens",["a","b","h","H","K","t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){switch(o){case"k":return Ui(ua.hour24h,i);case"ko":return a.ordinalNumber(i,{unit:"hour"});default:return ta(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=24}},{key:"set",value:function(i,o,a){var l=a<=24?a%24:a;return i.setUTCHours(l,0,0,0),i}}]),r}(Yn),Uxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",60),lt(Zt(n),"incompatibleTokens",["t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){switch(o){case"m":return Ui(ua.minute,i);case"mo":return a.ordinalNumber(i,{unit:"minute"});default:return ta(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,a){return i.setUTCMinutes(a,0,0),i}}]),r}(Yn),Vxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",50),lt(Zt(n),"incompatibleTokens",["t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o,a){switch(o){case"s":return Ui(ua.second,i);case"so":return a.ordinalNumber(i,{unit:"second"});default:return ta(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,a){return i.setUTCSeconds(a,0),i}}]),r}(Yn),Wxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",30),lt(Zt(n),"incompatibleTokens",["t","T"]),n}return Kr(r,[{key:"parse",value:function(i,o){var a=function(u){return Math.floor(u*Math.pow(10,-o.length+3))};return ha(ta(o.length,i),a)}},{key:"set",value:function(i,o,a){return i.setUTCMilliseconds(a),i}}]),r}(Yn),Yxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",10),lt(Zt(n),"incompatibleTokens",["t","T","x"]),n}return Kr(r,[{key:"parse",value:function(i,o){switch(o){case"X":return Bl(Fl.basicOptionalMinutes,i);case"XX":return Bl(Fl.basic,i);case"XXXX":return Bl(Fl.basicOptionalSeconds,i);case"XXXXX":return Bl(Fl.extendedOptionalSeconds,i);case"XXX":default:return Bl(Fl.extended,i)}}},{key:"set",value:function(i,o,a){return o.timestampIsSet?i:new Date(i.getTime()-a)}}]),r}(Yn),Xxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",10),lt(Zt(n),"incompatibleTokens",["t","T","X"]),n}return Kr(r,[{key:"parse",value:function(i,o){switch(o){case"x":return Bl(Fl.basicOptionalMinutes,i);case"xx":return Bl(Fl.basic,i);case"xxxx":return Bl(Fl.basicOptionalSeconds,i);case"xxxxx":return Bl(Fl.extendedOptionalSeconds,i);case"xxx":default:return Bl(Fl.extended,i)}}},{key:"set",value:function(i,o,a){return o.timestampIsSet?i:new Date(i.getTime()-a)}}]),r}(Yn),Gxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",40),lt(Zt(n),"incompatibleTokens","*"),n}return Kr(r,[{key:"parse",value:function(i){return q6(i)}},{key:"set",value:function(i,o,a){return[new Date(a*1e3),{timestampIsSet:!0}]}}]),r}(Yn),qxe=function(t){xn(r,t);var e=Ln(r);function r(){var n;Zr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lt(Zt(n),"priority",20),lt(Zt(n),"incompatibleTokens","*"),n}return Kr(r,[{key:"parse",value:function(i){return q6(i)}},{key:"set",value:function(i,o,a){return[new Date(a),{timestampIsSet:!0}]}}]),r}(Yn),Zxe={G:new hxe,y:new mxe,Y:new gxe,R:new vxe,u:new yxe,Q:new xxe,q:new bxe,M:new _xe,L:new wxe,w:new Cxe,I:new Exe,d:new Pxe,D:new Mxe,E:new Ixe,e:new Oxe,c:new Dxe,i:new Lxe,a:new Rxe,b:new jxe,B:new zxe,h:new Fxe,H:new Bxe,K:new $xe,k:new Hxe,m:new Uxe,s:new Vxe,S:new Wxe,X:new Yxe,x:new Xxe,t:new Gxe,T:new qxe},Kxe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jxe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Qxe=/^'([^]*?)'?$/,e1e=/''/g,t1e=/\S/,r1e=/[a-zA-Z]/;function n1e(t,e,r,n){var i,o,a,l,u,h,f,m,x,w,S,C,A,E,P,I,N,D;Or(3,arguments);var L=String(t),R=String(e),$=jd(),W=(i=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:$.locale)!==null&&i!==void 0?i:Y6;if(!W.match)throw new RangeError("locale must contain match property");var J=Nn((a=(l=(u=(h=n==null?void 0:n.firstWeekContainsDate)!==null&&h!==void 0?h:n==null||(f=n.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&u!==void 0?u:$.firstWeekContainsDate)!==null&&l!==void 0?l:(x=$.locale)===null||x===void 0||(w=x.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(J>=1&&J<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var q=Nn((S=(C=(A=(E=n==null?void 0:n.weekStartsOn)!==null&&E!==void 0?E:n==null||(P=n.locale)===null||P===void 0||(I=P.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&A!==void 0?A:$.weekStartsOn)!==null&&C!==void 0?C:(N=$.locale)===null||N===void 0||(D=N.options)===null||D===void 0?void 0:D.weekStartsOn)!==null&&S!==void 0?S:0);if(!(q>=0&&q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(R==="")return L===""?Gr(r):new Date(NaN);var ee={firstWeekContainsDate:J,weekStartsOn:q,locale:W},se=[new uxe],he=R.match(Jxe).map(function(We){var qe=We[0];if(qe in NC){var pt=NC[qe];return pt(We,W.formatLong)}return We}).join("").match(Kxe),Se=[],oe=CO(he),_e;try{var xe=function(){var qe=_e.value;!(n!=null&&n.useAdditionalWeekYearTokens)&&W6(qe)&&J1(qe,R,t),!(n!=null&&n.useAdditionalDayOfYearTokens)&&V6(qe)&&J1(qe,R,t);var pt=qe[0],Pt=Zxe[pt];if(Pt){var Ht=Pt.incompatibleTokens;if(Array.isArray(Ht)){var dt=Se.find(function(sr){return Ht.includes(sr.token)||sr.token===pt});if(dt)throw new RangeError("The format string mustn't contain `".concat(dt.fullToken,"` and `").concat(qe,"` at the same time"))}else if(Pt.incompatibleTokens==="*"&&Se.length>0)throw new RangeError("The format string mustn't contain `".concat(qe,"` and any other token at the same time"));Se.push({token:pt,fullToken:qe});var yt=Pt.run(L,qe,W.match,ee);if(!yt)return{v:new Date(NaN)};se.push(yt.setter),L=yt.rest}else{if(pt.match(r1e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+pt+"`");if(qe==="''"?qe="'":pt==="'"&&(qe=i1e(qe)),L.indexOf(qe)===0)L=L.slice(qe.length);else return{v:new Date(NaN)}}};for(oe.s();!(_e=oe.n()).done;){var Ne=xe();if(ql(Ne)==="object")return Ne.v}}catch(We){oe.e(We)}finally{oe.f()}if(L.length>0&&t1e.test(L))return new Date(NaN);var Re=se.map(function(We){return We.priority}).sort(function(We,qe){return qe-We}).filter(function(We,qe,pt){return pt.indexOf(We)===qe}).map(function(We){return se.filter(function(qe){return qe.priority===We}).sort(function(qe,pt){return pt.subPriority-qe.subPriority})}).map(function(We){return We[0]}),He=Gr(r);if(isNaN(He.getTime()))return new Date(NaN);var tt=z6(He,U6(He)),nt={},Ke=CO(Re),Ue;try{for(Ke.s();!(Ue=Ke.n()).done;){var Xe=Ue.value;if(!Xe.validate(tt,ee))return new Date(NaN);var Ae=Xe.set(tt,nt,ee);Array.isArray(Ae)?(tt=Ae[0],sxe(nt,Ae[1])):tt=Ae}}catch(We){Ke.e(We)}finally{Ke.f()}return tt}function i1e(t){return t.match(Qxe)[1].replace(e1e,"'")}function J6(t,e){Or(2,arguments);var r=Gr(t),n=Nn(e);return r.setDate(n),r}function LC(t,e){Or(2,arguments);var r=Gr(t),n=Nn(e);return r.setHours(n),r}function Q6(t,e){Or(2,arguments);var r=Gr(t),n=Nn(e);return r.setMinutes(n),r}function ET(t,e){Or(2,arguments);var r=Gr(t),n=Nn(e),i=r.getFullYear(),o=r.getDate(),a=new Date(0);a.setFullYear(i,n,15),a.setHours(0,0,0,0);var l=X6(a);return r.setMonth(n,Math.min(o,l)),r}function ez(t,e){Or(2,arguments);var r=Gr(t),n=Nn(e);return r.setSeconds(n),r}function tz(t,e){Or(2,arguments);var r=Gr(t),n=Nn(e);return isNaN(r.getTime())?new Date(NaN):(r.setFullYear(n),r)}function a1e(t,e){var r,n,i,o,a,l,u,h;Or(1,arguments);var f=jd(),m=Nn((r=(n=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&n!==void 0?n:(u=f.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&r!==void 0?r:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=Gr(t),w=x.getDay(),S=(w<m?7:0)+w-m;return x.setDate(x.getDate()-S),x.setHours(0,0,0,0),x}function sx(t,e){Or(2,arguments);var r=Nn(e);return hy(t,-r)}function o1e(t,e){if(Or(2,arguments),ql(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var r=Gr(t);return isNaN(r.getTime())?new Date(NaN):(e.year!=null&&r.setFullYear(e.year),e.month!=null&&(r=ET(r,e.month)),e.date!=null&&r.setDate(Nn(e.date)),e.hours!=null&&r.setHours(Nn(e.hours)),e.minutes!=null&&r.setMinutes(Nn(e.minutes)),e.seconds!=null&&r.setSeconds(Nn(e.seconds)),e.milliseconds!=null&&r.setMilliseconds(Nn(e.milliseconds)),r)}function s1e(t){Or(1,arguments);var e=Gr(t);return Fx(e).getTime()===R0e(e).getTime()}function l1e(t){Or(1,arguments);var e=Gr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function qu(){return Cp(Date.now())}function c1e(t,e){for(var r=e.weekStart,n=r===void 0?0:r,i=e.isoWeek,o=e.locale,a=i?1:n,l=a1e(t,{weekStartsOn:a,locale:o}),u=[l],h=1;h<6;h++)u.push(hy(l,h*7));return u}function u1e(t){var e=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];return typeof t>"u"?e:e.slice(t).concat(e.slice(0,t))}function h1e(t){var e=t.from,r=t.to;return!mo(e)||!mo(r)?r:o1e(r,{hours:Sp(e),minutes:_T(e),seconds:wT(e)})}var d1e="Expected a function";function f1e(t){if(typeof t!="function")throw new TypeError(d1e);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var p1e=f1e,m1e=a_,g1e=vm,v1e=sy,kO=ec,y1e=ym;function x1e(t,e,r,n){if(!kO(t))return t;e=g1e(e,t);for(var i=-1,o=e.length,a=o-1,l=t;l!=null&&++i<o;){var u=y1e(e[i]),h=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(i!=a){var f=l[u];h=n?n(f,u,l):void 0,h===void 0&&(h=kO(f)?f:v1e(e[i+1])?[]:{})}m1e(l,u,h),l=l[u]}return t}var b1e=x1e,_1e=l_,w1e=b1e,S1e=vm;function C1e(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var a=e[n],l=_1e(t,a);r(l,a)&&w1e(o,S1e(a,t),l)}return o}var rz=C1e,k1e=Qb,E1e=uy,T1e=rz,A1e=mT;function P1e(t,e){if(t==null)return{};var r=k1e(A1e(t),function(n){return[n]});return e=E1e(e),T1e(t,r,function(n,i){return e(n,i[0])})}var M1e=P1e,I1e=uy,O1e=p1e,D1e=M1e;function N1e(t,e){return D1e(t,O1e(I1e(e)))}var L1e=N1e;const R1e=Qn(L1e);var nz=function(e){return R1e(e,function(r,n){return n.startsWith("disabled")||n.startsWith("hide")||n.startsWith("shouldDisable")})},j1e=rz,z1e=I6;function F1e(t,e){return j1e(t,e,function(r,n){return z1e(t,n)})}var B1e=F1e,$1e=B1e,H1e=b6,U1e=H1e(function(t,e){return t==null?{}:$1e(t,e)}),V1e=U1e;const Fv=Qn(V1e);var Ds=function(t){return t.DisabledHours="disabledHours",t.DisabledMinutes="disabledMinutes",t.DisabledSeconds="disabledSeconds",t.ShouldDisableHour="shouldDisableHour",t.ShouldDisableMinute="shouldDisableMinute",t.ShouldDisableSecond="shouldDisableSecond",t.HideHours="hideHours",t.HideMinutes="hideMinutes",t.HideSeconds="hideSeconds",t}({}),TT=[Ds.DisabledHours,Ds.DisabledMinutes,Ds.DisabledSeconds,Ds.HideHours,Ds.HideMinutes,Ds.HideSeconds],W1e=/(Hours?)/,Y1e=/(Minutes?)/,X1e=/(Seconds?)/;function iz(t,e){if(!e)return!1;var r=[Ds.DisabledHours,Ds.DisabledMinutes,Ds.DisabledSeconds,Ds.ShouldDisableHour,Ds.ShouldDisableMinute,Ds.ShouldDisableSecond],n=Fv(t,r),i=new Map(Object.entries(n));return Array.from(i.keys()).some(function(o){if(W1e.test(o)){var a;return(a=i.get(o))===null||a===void 0?void 0:a(Sp(e),e)}if(Y1e.test(o)){var l;return(l=i.get(o))===null||l===void 0?void 0:l(_T(e),e)}if(X1e.test(o)){var u;return(u=i.get(o))===null||u===void 0?void 0:u(wT(e),e)}return!1})}var G1e=function(e){return/([Hhms])/.test(e)},q1e=function(e){return/[Yy]/.test(e)&&/[ML]/.test(e)},RC=function(e){return/[Yy]/.test(e)&&/[ML]/.test(e)&&/[Dd]/.test(e)},Z1e=function(e){return/([Hhms])/.test(e)&&!/([YyMDd])/.test(e)},K1e=function(e){return q1e(e)&&!RC(e)},cs=function(t){return t.Date="date",t.Month="month",t.Time="time",t.DateTime="datetime",t}({}),az=function(e){var r=H.useMemo(function(){return RC(e)&&G1e(e)?cs.DateTime:K1e(e)?cs.Month:Z1e(e)?cs.Time:(RC(e),cs.Date)},[e]),n=H.useCallback(function(i){switch(i){case"year":return/[Yy]/.test(e);case"month":return/[ML]/.test(e);case"day":return/[Dd]/.test(e);case"time":return/([Hhms])/.test(e);default:return!1}},[e]);return{mode:r,has:n}};function J1e(t){var e=t.match(/([hH]{1,2}[:.]mm(?:[:.]ss)?(?: ?aa)?|(?:aa )?[hH]{1,2}[:.]mm(?:[:.]ss)?)/);return e?e[0]:null}var Q1e=["locale"];function ebe(){return typeof document<"u"&&(document.body.getAttribute("dir")||document.dir)==="rtl"}function tbe(t){var e=["Cascader","CheckTreePicker","MultiCascader","SelectPicker","TreePicker","CheckPicker","CheckTreePicker"];return e.includes(t)?"Combobox":t}function Xi(t,e){var r,n=H.useContext(lz),i=n.components,o=i===void 0?{}:i,a=n.locale,l=a===void 0?bO:a,u=n.rtl,h=u===void 0?ebe():u,f=n.formatDate,m=n.parseDate,x=n.classPrefix,w=n.toasters,S=n.disableRipple,C=e||{},A=C.locale,E=Xr(C,Q1e),P=l==null||(r=l.DateTimeFormats)===null||r===void 0?void 0:r.dateLocale,I=H.useCallback(function(R,$){var W=(l==null?void 0:l.common)||{},J=typeof R=="string"?l==null?void 0:l[R]:Array.isArray(R)?p2.apply(void 0,[{}].concat(R.map(function(q){return l==null?void 0:l[q]}))):{};return p2({},W,J,A,$)},[l,A]),N=H.useMemo(function(){var R;if(t){var $=((R=o[t])===null||R===void 0?void 0:R.defaultProps)||{},W=p2({},$,E),J=tbe(t);return Object.keys(bO).includes(J)?kt({},W,{locale:I(J)}):W}},[t,o,I,E]),D=H.useCallback(function(R,$,W){try{return f?f(R,$,W):Q1(mo(R)?R:new Date,$,kt({locale:P},W))}catch{return"Error: Invalid date format"}},[P,f]),L=H.useCallback(function(R,$,W,J){return m?m(R,$,W,J):n1e(R,$,W||new Date,kt({locale:P},J))},[m,P]);return{rtl:h,toasters:w,disableRipple:S,classPrefix:x,propsWithDefaults:N,getLocale:I,formatDate:D,parseDate:L}}function EO(t){var e=t.date,r=t.formatStr,n=Xi("Calendar"),i=n.formatDate;return ke.createElement(ke.Fragment,null,i(e,r))}function rbe(){var t=document.createElement("div").style;return"webkitAnimation"in t?"webkitAnimationEnd":"animationend"}var oz={onEnter:Ee.func,onEntering:Ee.func,onEntered:Ee.func,onExit:Ee.func,onExiting:Ee.func,onExited:Ee.func},nbe=["children","className","exitedClassName","enteringClassName","enteredClassName","exitingClassName"],sa=function(t){return t[t.UNMOUNTED=0]="UNMOUNTED",t[t.EXITED=1]="EXITED",t[t.ENTERING=2]="ENTERING",t[t.ENTERED=3]="ENTERED",t[t.EXITING=4]="EXITING",t}({}),sz=kt({},oz,{animation:Ee.bool,children:Ee.oneOfType([Ee.node,Ee.func]),className:Ee.string,in:Ee.bool,unmountOnExit:Ee.bool,transitionAppear:Ee.bool,timeout:Ee.number,exitedClassName:Ee.string,exitingClassName:Ee.string,enteredClassName:Ee.string,enteringClassName:Ee.string}),dy=function(t){function e(n){var i;i=t.call(this,n)||this,i.animationEventListener=null,i.instanceElement=null,i.nextCallback=null,i.needsUpdate=null,i.childRef=void 0;var o;return n.in?o=n.transitionAppear?sa.EXITED:sa.ENTERED:o=n.unmountOnExit?sa.UNMOUNTED:sa.EXITED,i.state={status:o},i.nextCallback=null,i.childRef=ke.createRef(),i}tT(e,t),e.getDerivedStateFromProps=function(i,o){return i.in&&i.unmountOnExit&&o.status===sa.UNMOUNTED?{status:sa.EXITED}:null};var r=e.prototype;return r.getSnapshotBeforeUpdate=function(){return(!this.props.in||!this.props.unmountOnExit)&&(this.needsUpdate=!0),null},r.componentDidMount=function(){this.props.transitionAppear&&this.props.in&&this.performEnter(this.props)},r.componentDidUpdate=function(){var i=this.state.status,o=this.props.unmountOnExit;if(o&&i===sa.EXITED){this.props.in?this.performEnter(this.props):this.instanceElement&&this.setState({status:sa.UNMOUNTED});return}this.needsUpdate&&(this.needsUpdate=!1,this.props.in?(i===sa.EXITING||i===sa.EXITED)&&this.performEnter(this.props):(i===sa.ENTERING||i===sa.ENTERED)&&this.performExit(this.props))},r.componentWillUnmount=function(){this.cancelNextCallback(),this.instanceElement=null},r.onTransitionEnd=function(i,o){var a;if(this.setNextCallback(o),(a=this.animationEventListener)===null||a===void 0||a.off(),!!this.nextCallback)if(i){var l=this.props,u=l.timeout,h=l.animation;this.animationEventListener=Bp(i,h?rbe():Noe(),this.nextCallback),u!==null&&setTimeout(this.nextCallback,u)}else setTimeout(this.nextCallback,0)},r.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(l){if(a){if(l){o.instanceElement===l.target&&(i(l),a=!1,o.nextCallback=null);return}i(l),a=!1,o.nextCallback=null}},this.nextCallback&&(this.nextCallback.cancel=function(){a=!1}),this.nextCallback},r.getChildElement=function(){return this.childRef.current?Fc(this.childRef.current):Fc(this)},r.performEnter=function(i){var o=this,a=i||this.props,l=a.onEnter,u=a.onEntering,h=a.onEntered;this.cancelNextCallback();var f=this.getChildElement();this.instanceElement=f,l==null||l(f),this.safeSetState({status:sa.ENTERING},function(){u==null||u(f),o.onTransitionEnd(f,function(){o.safeSetState({status:sa.ENTERED},function(){h==null||h(f)})})})},r.performExit=function(i){var o=this,a=i||this.props,l=a.onExit,u=a.onExiting,h=a.onExited;this.cancelNextCallback();var f=this.getChildElement();this.instanceElement=f,l==null||l(f),this.safeSetState({status:sa.EXITING},function(){u==null||u(f),o.onTransitionEnd(f,function(){o.safeSetState({status:sa.EXITED},function(){h==null||h(f)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){if(this.instanceElement){var a=this.setNextCallback(o);this.setState(i,function(){return a==null?void 0:a()})}},r.render=function(){var i,o=this.state.status;if(o===sa.UNMOUNTED)return null;var a=this.props,l=a.children,u=a.className,h=a.exitedClassName,f=a.enteringClassName,m=a.enteredClassName,x=a.exitingClassName,w=Xr(a,nbe),S=c_(w,Object.keys(sz)),C;if(o===sa.EXITED?C=h:o===sa.ENTERING?C=f:o===sa.ENTERED?C=m:o===sa.EXITING&&(C=x),Iee(l))return S.className=Gl(u,C),l(S,this.childRef);var A=ke.Children.only(l);return ke.cloneElement(A,kt({},S,{ref:this.childRef,className:Gl(u,(i=A.props)===null||i===void 0?void 0:i.className,C)}))},e}(ke.Component);dy.propTypes=sz;dy.displayName="Transition";dy.defaultProps={timeout:1e3};var lz=ke.createContext({});function Wn(t){var e=H.useContext(lz)||{},r=e.classPrefix,n=r===void 0?"rs":r,i=jx(n,t),o=H.useCallback(function(){var u=arguments.length?Gl.apply(void 0,arguments).split(" ").map(function(h){return jx(i,h)}):[];return u.filter(function(h){return h}).join(" ")},[i]),a=H.useCallback(function(){for(var u=arguments.length,h=new Array(u),f=0;f<u;f++)h[f]=arguments[f];var m=o(h);return m?i+" "+m:i},[i,o]),l=function(){var h=arguments.length?Gl.apply(void 0,arguments).split(" ").map(function(f){return jx(n,f)}):[];return h.filter(function(f){return f}).join(" ")};return{withClassPrefix:a,merge:Gl,prefix:o,rootPrefix:l}}function h_(t,e){var r=H.useRef(!1);r.current=t!==void 0;var n=H.useState(e),i=n[0],o=n[1],a=r.current?t:i,l=H.useCallback(function(u){r.current||o(u)},[r]);return[a,l,r.current]}var hd=[],ibe=function(){return hd.some(function(t){return t.activeTargets.length>0})},abe=function(){return hd.some(function(t){return t.skippedTargets.length>0})},TO="ResizeObserver loop completed with undelivered notifications.",obe=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:TO}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=TO),window.dispatchEvent(t)},Bv;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Bv||(Bv={}));var dd=function(t){return Object.freeze(t)},sbe=function(){function t(e,r){this.inlineSize=e,this.blockSize=r,dd(this)}return t}(),cz=function(){function t(e,r,n,i){return this.x=e,this.y=r,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,dd(this)}return t.prototype.toJSON=function(){var e=this,r=e.x,n=e.y,i=e.top,o=e.right,a=e.bottom,l=e.left,u=e.width,h=e.height;return{x:r,y:n,top:i,right:o,bottom:a,left:l,width:u,height:h}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),AT=function(t){return t instanceof SVGElement&&"getBBox"in t},uz=function(t){if(AT(t)){var e=t.getBBox(),r=e.width,n=e.height;return!r&&!n}var i=t,o=i.offsetWidth,a=i.offsetHeight;return!(o||a||t.getClientRects().length)},AO=function(t){var e;if(t instanceof Element)return!0;var r=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(r&&t instanceof r.Element)},lbe=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},iv=typeof window<"u"?window:{},lx=new WeakMap,PO=/auto|scroll/,cbe=/^tb|vertical/,ube=/msie|trident/i.test(iv.navigator&&iv.navigator.userAgent),Il=function(t){return parseFloat(t||"0")},kp=function(t,e,r){return t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=!1),new sbe((r?e:t)||0,(r?t:e)||0)},MO=dd({devicePixelContentBoxSize:kp(),borderBoxSize:kp(),contentBoxSize:kp(),contentRect:new cz(0,0,0,0)}),hz=function(t,e){if(e===void 0&&(e=!1),lx.has(t)&&!e)return lx.get(t);if(uz(t))return lx.set(t,MO),MO;var r=getComputedStyle(t),n=AT(t)&&t.ownerSVGElement&&t.getBBox(),i=!ube&&r.boxSizing==="border-box",o=cbe.test(r.writingMode||""),a=!n&&PO.test(r.overflowY||""),l=!n&&PO.test(r.overflowX||""),u=n?0:Il(r.paddingTop),h=n?0:Il(r.paddingRight),f=n?0:Il(r.paddingBottom),m=n?0:Il(r.paddingLeft),x=n?0:Il(r.borderTopWidth),w=n?0:Il(r.borderRightWidth),S=n?0:Il(r.borderBottomWidth),C=n?0:Il(r.borderLeftWidth),A=m+h,E=u+f,P=C+w,I=x+S,N=l?t.offsetHeight-I-t.clientHeight:0,D=a?t.offsetWidth-P-t.clientWidth:0,L=i?A+P:0,R=i?E+I:0,$=n?n.width:Il(r.width)-L-D,W=n?n.height:Il(r.height)-R-N,J=$+A+D+P,q=W+E+N+I,ee=dd({devicePixelContentBoxSize:kp(Math.round($*devicePixelRatio),Math.round(W*devicePixelRatio),o),borderBoxSize:kp(J,q,o),contentBoxSize:kp($,W,o),contentRect:new cz(m,u,$,W)});return lx.set(t,ee),ee},dz=function(t,e,r){var n=hz(t,r),i=n.borderBoxSize,o=n.contentBoxSize,a=n.devicePixelContentBoxSize;switch(e){case Bv.DEVICE_PIXEL_CONTENT_BOX:return a;case Bv.BORDER_BOX:return i;default:return o}},hbe=function(){function t(e){var r=hz(e);this.target=e,this.contentRect=r.contentRect,this.borderBoxSize=dd([r.borderBoxSize]),this.contentBoxSize=dd([r.contentBoxSize]),this.devicePixelContentBoxSize=dd([r.devicePixelContentBoxSize])}return t}(),fz=function(t){if(uz(t))return 1/0;for(var e=0,r=t.parentNode;r;)e+=1,r=r.parentNode;return e},dbe=function(){var t=1/0,e=[];hd.forEach(function(a){if(a.activeTargets.length!==0){var l=[];a.activeTargets.forEach(function(h){var f=new hbe(h.target),m=fz(h.target);l.push(f),h.lastReportedSize=dz(h.target,h.observedBox),m<t&&(t=m)}),e.push(function(){a.callback.call(a.observer,l,a.observer)}),a.activeTargets.splice(0,a.activeTargets.length)}});for(var r=0,n=e;r<n.length;r++){var i=n[r];i()}return t},IO=function(t){hd.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(i){i.isActive()&&(fz(i.target)>t?r.activeTargets.push(i):r.skippedTargets.push(i))})})},fbe=function(){var t=0;for(IO(t);ibe();)t=dbe(),IO(t);return abe()&&obe(),t>0},g2,pz=[],pbe=function(){return pz.splice(0).forEach(function(t){return t()})},mbe=function(t){if(!g2){var e=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return pbe()}).observe(r,n),g2=function(){r.textContent="".concat(e?e--:e++)}}pz.push(t),g2()},gbe=function(t){mbe(function(){requestAnimationFrame(t)})},$x=0,vbe=function(){return!!$x},ybe=250,xbe={attributes:!0,characterData:!0,childList:!0,subtree:!0},OO=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],DO=function(t){return t===void 0&&(t=0),Date.now()+t},v2=!1,bbe=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var r=this;if(e===void 0&&(e=ybe),!v2){v2=!0;var n=DO(e);gbe(function(){var i=!1;try{i=fbe()}finally{if(v2=!1,e=n-DO(),!vbe())return;i?r.run(1e3):e>0?r.run(e):r.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,r=function(){return e.observer&&e.observer.observe(document.body,xbe)};document.body?r():iv.addEventListener("DOMContentLoaded",r)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),OO.forEach(function(r){return iv.addEventListener(r,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),OO.forEach(function(r){return iv.removeEventListener(r,e.listener,!0)}),this.stopped=!0)},t}(),jC=new bbe,NO=function(t){!$x&&t>0&&jC.start(),$x+=t,!$x&&jC.stop()},_be=function(t){return!AT(t)&&!lbe(t)&&getComputedStyle(t).display==="inline"},wbe=function(){function t(e,r){this.target=e,this.observedBox=r||Bv.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=dz(this.target,this.observedBox,!0);return _be(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),Sbe=function(){function t(e,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=r}return t}(),cx=new WeakMap,LO=function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].target===e)return r;return-1},ux=function(){function t(){}return t.connect=function(e,r){var n=new Sbe(e,r);cx.set(e,n)},t.observe=function(e,r,n){var i=cx.get(e),o=i.observationTargets.length===0;LO(i.observationTargets,r)<0&&(o&&hd.push(i),i.observationTargets.push(new wbe(r,n&&n.box)),NO(1),jC.schedule())},t.unobserve=function(e,r){var n=cx.get(e),i=LO(n.observationTargets,r),o=n.observationTargets.length===1;i>=0&&(o&&hd.splice(hd.indexOf(n),1),n.observationTargets.splice(i,1),NO(-1))},t.disconnect=function(e){var r=this,n=cx.get(e);n.observationTargets.slice().forEach(function(i){return r.unobserve(e,i.target)}),n.activeTargets.splice(0,n.activeTargets.length)},t}(),mz=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ux.connect(this,e)}return t.prototype.observe=function(e,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!AO(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ux.observe(this,e,r)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!AO(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ux.unobserve(this,e)},t.prototype.disconnect=function(){ux.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();function gz(t,e){var r=H.useRef();H.useEffect(function(){if(!r.current){var n=typeof t=="function"?t():t;n&&(r.current=new mz(e),r.current.observe(n))}return function(){var i;(i=r.current)===null||i===void 0||i.disconnect()}},[t,e])}var Cbe=typeof document<"u"?H.useLayoutEffect:H.useEffect;function zr(t){var e=H.useRef(t);return Cbe(function(){e.current=t}),H.useCallback(function(){for(var r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(i))},[])}var kbe=cm,Ebe=0;function Tbe(t){var e=++Ebe;return kbe(t)+e}var Abe=Tbe;const Pbe=Qn(Abe);var vz=function(e){var r=H.useRef(e);r.current=e,H.useEffect(function(){var n;(n=r.current)===null||n===void 0||n.call(r)},[])},Mbe=ke.memo(function(t){var e=t.children,r=t.container,n=H.useState(!1),i=n[0],o=n[1];return H.useEffect(function(){return o(!0)},[]),r&&i?Tb.createPortal(e,r):null});function Ibe(t){t===void 0&&(t={});var e=t,r=e.container,n=e.waitMount,i=n===void 0?!1:n,o=typeof r=="function"?r():r,a=H.useMemo(function(){return Ld?o||document.body:null},[o]),l=H.useCallback(function(h){var f=h.children;return a!=null?Tb.createPortal(f,a):null},[a]),u=H.useCallback(function(h){return ke.createElement(Mbe,kt({container:a},h))},[a]);return{target:a,Portal:i?u:l}}var Obe=["top","bottom","right","left"],Dbe=["bottomStart","bottomEnd","topStart","topEnd","leftStart","rightStart","leftEnd","rightEnd"],Nbe=["auto","autoVertical","autoVerticalStart","autoVerticalEnd","autoHorizontal","autoHorizontalStart","autoHorizontalEnd"],Lbe=[].concat(Obe,Dbe,Nbe),Dl={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",END:"End",HOME:"Home",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",ENTER:"Enter",TAB:"Tab",SPACE:" ",BACKSPACE:"Backspace",DELETE:"Delete",COMMA:",",ESC:"Escape"},Rbe=function(t){return t.CALENDAR="CALENDAR",t.TOOLBAR_BUTTON_OK="TOOLBAR_BUTTON_OK",t.TOOLBAR_SHORTCUT="TOOLBAR_SHORTCUT",t.INPUT="INPUT",t}({});function jbe(t){return(t==null?void 0:t.button)===0}function zbe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t!=null&&t.shiftKey)}function Fbe(t,e){var r=e.disabled,n=e.triggerTarget,i=e.overlayTarget,o=e.listenEscape,a=o===void 0?!0:o,l=H.useCallback(function(h){a&&h.key===Dl.ESC&&(t==null||t(h))},[a,t]),u=H.useCallback(function(h){var f=Fc(n),m=Fc(i);f&&Y1(f,h.target)||m&&Y1(m,h.target)||zbe(h)||!jbe(h)||t==null||t(h)},[t,n,i]);H.useEffect(function(){var h=Fc(n);if(!(r||!h)){var f=$p(h),m=Bp(f,"mousedown",u,!0),x=Bp(f,"keyup",l);return function(){m==null||m.off(),x==null||x.off()}}},[n,r,t,u,l])}var Bbe=function(t){return function(e){return!t||!e?"":Array.isArray(e)?Gl(e.filter(function(r){return!!r}).map(function(r){return"".concat(t,"-").concat(r)})):"".concat(t,"-").concat(e)}};function yz(){var t=H.useContext(jj)||{},e=t.classPrefix,r=e===void 0?"rs-":e,n=t.csp,i=t.disableInlineStyles,o=i===void 0?!1:i;return{classPrefix:r,csp:n,disableInlineStyles:o}}function $be(){var t=yz().classPrefix,e="".concat(t,"icon");return[e,Bbe(e)]}var RO=[],hx=[];function Hbe(t){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.setAttribute("data-insert-css","rsuite-icons"),t&&e.setAttribute("nonce",t),e}function Ube(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.prepend===!0?"prepend":"append",n=e.container||document.querySelector("head");if(!n)throw new Error("No container found to insert CSS.");var i=RO.indexOf(n);i===-1&&(i=RO.push(n)-1,hx[i]={});var o;return hx[i][r]?o=hx[i][r]:(o=Hbe(e.nonce),hx[i][r]=o,r==="prepend"?n.insertBefore(o,n.firstChild):n.appendChild(o)),t.charCodeAt(0)===65279&&(t=t.slice(1)),o.styleSheet?o.styleSheet.cssText+=t:o.textContent+=t,o}var Vbe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"rs-";return".".concat(t,`icon {
  display: -webkit-inline-box;
  display: -ms-inline-flexbox;
  display: inline-flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  vertical-align: middle;
}
.`).concat(t,`icon[tabindex] {
  cursor: pointer;
}
.`).concat(t,`icon-spin {
  -webkit-animation: icon-spin 2s infinite linear;
          animation: icon-spin 2s infinite linear;
}
.`).concat(t,`icon-pulse {
  -webkit-animation: icon-spin 1s infinite steps(8);
          animation: icon-spin 1s infinite steps(8);
}
.`).concat(t,`icon-flip-horizontal {
  -webkit-transform: scaleX(-1);
      -ms-transform: scaleX(-1);
          transform: scaleX(-1);
}
.`).concat(t,`icon-flip-vertical {
  -webkit-transform: scaleY(-1);
      -ms-transform: scaleY(-1);
          transform: scaleY(-1);
}
@-webkit-keyframes icon-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(359deg);
            transform: rotate(359deg);
  }
}
@keyframes icon-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(359deg);
            transform: rotate(359deg);
  }
}`)},jO=!1,Wbe=function(){var t=yz(),e=t.csp,r=t.classPrefix,n=t.disableInlineStyles;H.useEffect(function(){!jO&&!n&&(Ube(Vbe(r),{prepend:!0,nonce:e==null?void 0:e.nonce}),jO=!0)},[])};function zO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ybe(t){if(Array.isArray(t))return t}function Hx(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,l;try{for(r=r.call(t);!(i=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(u){o=!0,l=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw l}}return n}}function Gbe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function FO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Hx(t,i,r[i])})}return t}function qbe(t,e){if(t==null)return{};var r=Zbe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zbe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function xz(t,e){return Ybe(t)||Xbe(t,e)||Kbe(t,e)||Gbe()}function Kbe(t,e){if(t){if(typeof t=="string")return zO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zO(t,e)}}var Jbe={as:"svg",fill:"currentColor",width:"1em",height:"1em"};function Qbe(t){var e={};return Object.entries(t).forEach(function(r){var n=xz(r,2),i=n[0],o=n[1];typeof o<"u"&&(e[i]=o)}),e}var fy=ke.forwardRef(function(t,e){var r=t.as,n=t.spin,i=t.pulse,o=t.flip,a=t.fill,l=t.className,u=t.rotate,h=t.children,f=t.viewBox,m=t.width,x=t.height,w=t.style,S=qbe(t,["as","spin","pulse","flip","fill","className","rotate","children","viewBox","width","height","style"]),C=xz($be(),2),A=C[0],E=C[1],P,I=Gl(l,A,(P={},Hx(P,E("spin"),n),Hx(P,E("pulse"),i),Hx(P,E("flip-".concat(o)),!!o),P)),N={msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")};Wbe();var D=Qbe({width:m,height:x,fill:a,viewBox:f,className:I,style:u?FO({},N,w):w});return ke.createElement(r,FO({"aria-hidden":!0,focusable:!1,ref:e},D,S),h)});fy.displayName="Icon";fy.defaultProps=Jbe;fy.propTypes={spin:Ee.bool,pulse:Ee.bool,rotate:Ee.number,viewBox:Ee.string,as:Ee.oneOfType([Ee.elementType,Ee.string]),flip:Ee.oneOf(["horizontal","vertical"]),fill:Ee.string};function e_e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t_e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){e_e(t,i,r[i])})}return t}function xm(t){var e=t.as,r=t.ariaLabel,n=t.displayName,i=t.category,o=ke.forwardRef(function(a,l){return ke.createElement(fy,t_e({"aria-label":r,"data-category":i,ref:l,as:e},a))});return o.displayName=n,o}var BO=n5.useId;function py(t,e){var r=H.useRef();return BO!==void 0?e??""+t+BO():(r.current||(r.current=Pbe(t)),e??r.current)}var d_=function(e,r){var n=H.useRef(!0);H.useEffect(function(){if(n.current){n.current=!1;return}e()},r)},Oo=function(e){var r=Ee.oneOf(e);return r._argType_={type:"oneOf",value:e},r};function dx(t,e){return function(n,i,o){if(n[i]!=null){var a='[rsuite] "'+i+'" property of '+o+` component has been deprecated.
`+e;O6(a)}for(var l=arguments.length,u=new Array(l>3?l-3:0),h=3;h<l;h++)u[h-3]=arguments[h];return t.apply(void 0,[n,i,o].concat(u))}}var r_e=Ee.oneOfType([Ee.func,Ee.any]),n_e=["as","href","disabled","onClick"];function $O(t){return!t||t.trim()==="#"}var PT=ke.forwardRef(function(t,e){var r=Xi("SafeAnchor",t),n=r.propsWithDefaults,i=n.as,o=i===void 0?"a":i,a=n.href,l=n.disabled,u=n.onClick,h=Xr(n,n_e),f=H.useCallback(function(x){if((l||$O(a))&&x.preventDefault(),l){x.stopPropagation();return}u==null||u(x)},[l,a,u]),m=$O(a)?{role:"button",href:"#"}:null;return l&&(h.tabIndex=-1,h["aria-disabled"]=!0),ke.createElement(o,kt({ref:e,href:a},m,h,{onClick:f}))});PT.displayName="SafeAnchor";PT.propTypes={href:Ee.string,disabled:Ee.bool,as:Ee.elementType};function av(t,e){return e||(e=t.slice(0)),t.raw=e,t}var i_e=["as","className","classPrefix","onMouseDown"],a_e=["className"],o_e=function(e,r){var n=Gu(e),i=(r.pageX||0)-n.left,o=(r.pageY||0)-n.top,a=Math.max(n.width-i,i),l=Math.max(n.height-o,o),u=Math.sqrt(Math.pow(a,2)+Math.pow(l,2));return{width:u*2,height:u*2,left:i-u,top:o-u}},MT=ke.forwardRef(function(t,e){var r=Xi(),n=r.disableRipple,i=t.as,o=i===void 0?"span":i,a=t.className,l=t.classPrefix,u=l===void 0?"ripple":l,h=t.onMouseDown,f=Xr(t,i_e),m=Wn(u),x=m.merge,w=m.prefix,S=m.withClassPrefix,C=x(a,w("pond")),A=H.useRef(null),E=H.useState(!1),P=E[0],I=E[1],N=H.useState(),D=N[0],L=N[1],R=function(){I(!1)},$=H.useCallback(function(W){if(A.current){var J=o_e(A.current,W);I(!0),L(J),h==null||h(J,W)}},[h]);return H.useEffect(function(){var W,J=(W=A.current)===null||W===void 0?void 0:W.parentNode;if(J){var q=Bp(J,"mousedown",$);return function(){q==null||q.off()}}},[$]),n?null:ke.createElement(o,kt({},f,{className:C,ref:hl(A,e)}),ke.createElement(dy,{in:P,enteringClassName:w("rippling"),onEntered:R},function(W,J){var q=W.className,ee=Xr(W,a_e);return ke.createElement("span",kt({},ee,{ref:J,className:x(S(),q),style:D}))}))});MT.displayName="Ripple";MT.propTypes={classPrefix:Ee.string,className:Ee.string,onMouseDown:Ee.func};var s_e=ke.createContext(null),HO,UO,VO,l_e=["as","active","appearance","block","className","children","classPrefix","color","disabled","loading","ripple","size","startIcon","endIcon","type"],ih=ke.forwardRef(function(t,e){var r=Xi("Button",t),n=r.propsWithDefaults,i=n.as,o=n.active,a=n.appearance,l=a===void 0?"default":a,u=n.block,h=n.className,f=n.children,m=n.classPrefix,x=m===void 0?"btn":m,w=n.color,S=n.disabled,C=n.loading,A=n.ripple,E=A===void 0?!0:A,P=n.size,I=n.startIcon,N=n.endIcon,D=n.type,L=Xr(n,l_e),R=H.useContext(s_e),$=P??(R==null?void 0:R.size),W=Wn(x),J=W.withClassPrefix,q=W.prefix,ee=W.merge,se=ee(h,J(l,w,$,{active:o,disabled:S,loading:C,block:u})),he=H.useMemo(function(){var xe=ke.createElement("span",{className:q(HO||(HO=av(["spin"])))}),Ne=E&&!Ac(l,["link","ghost"])?ke.createElement(MT,null):null;return ke.createElement(ke.Fragment,null,C&&xe,I?ke.createElement("span",{className:q(UO||(UO=av(["start-icon"])))},I):null,f,N?ke.createElement("span",{className:q(VO||(VO=av(["end-icon"])))},N):null,Ne)},[l,f,N,C,q,E,I]);if(L.href)return ke.createElement(PT,kt({},L,{as:i,ref:e,"aria-disabled":S,disabled:S,className:se}),he);var Se=i||"button",oe=D||(Se==="button"?"button":void 0),_e=L.role||(Se!=="button"?"button":void 0);return ke.createElement(Se,kt({},L,{role:_e,type:oe,ref:e,disabled:S,"aria-disabled":S,className:se}),he)});ih.displayName="Button";ih.propTypes={as:Ee.elementType,active:Ee.bool,appearance:Oo(["default","primary","link","subtle","ghost"]),block:Ee.bool,children:Ee.node,color:Oo(["red","orange","yellow","green","cyan","blue","violet"]),disabled:Ee.bool,href:Ee.string,loading:Ee.bool,ripple:Ee.bool,size:Oo(["lg","md","sm","xs"]),type:Oo(["button","reset","submit"])};var c_e=["icon","placement","children","circle","classPrefix","className"],tb=ke.forwardRef(function(t,e){var r=Xi("IconButton",t),n=r.propsWithDefaults,i=n.icon,o=n.placement,a=o===void 0?"left":o,l=n.children,u=n.circle,h=n.classPrefix,f=h===void 0?"btn-icon":h,m=n.className,x=Xr(n,c_e),w=Wn(f),S=w.merge,C=w.withClassPrefix,A=S(m,C("placement-"+a,{circle:u,"with-text":typeof l<"u"}));return ke.createElement(ih,kt({},x,{ref:e,className:A}),i,l)});tb.displayName="IconButton";tb.propTypes={className:Ee.string,icon:Ee.any,classPrefix:Ee.string,circle:Ee.bool,children:Ee.node,placement:Oo(["left","right"])};var u_e=["as","style","className","alignSelf","flex","grow","shrink","order","basis"];function my(t){var e=t.as,r=e===void 0?"div":e,n=t.style,i=t.className,o=t.alignSelf,a=t.flex,l=t.grow,u=t.shrink,h=t.order,f=t.basis,m=Xr(t,u_e);return ke.createElement(r,kt({className:i,style:kt({alignSelf:o,order:h},a?{flex:a}:{flexGrow:l,flexShrink:u,flexBasis:f},n)},m))}my.displayName="StackItem";my.propTypes={className:Ee.string,children:Ee.node,alignSelf:Oo(["flex-start","flex-end","center","baseline","stretch"]),flex:Ee.oneOfType([Ee.string,Ee.number]),grow:Ee.number,shrink:Ee.number,order:Ee.number,basis:Ee.string};var h_e=["as","alignItems","classPrefix","childrenRenderMode","className","children","direction","justifyContent","spacing","divider","style","wrap"];function d_e(t){var e;return t.type===my||((e=t.type)===null||e===void 0?void 0:e.displayName)==="StackItem"}var Td=ke.forwardRef(function(t,e){var r,n=Xi("Stack",t),i=n.propsWithDefaults,o=n.rtl,a=i.as,l=a===void 0?"div":a,u=i.alignItems,h=u===void 0?"center":u,f=i.classPrefix,m=f===void 0?"stack":f,x=i.childrenRenderMode,w=x===void 0?"wrap":x,S=i.className,C=i.children,A=i.direction,E=i.justifyContent,P=i.spacing,I=i.divider,N=i.style,D=i.wrap,L=Xr(i,h_e),R=Wn(m),$=R.withClassPrefix,W=R.merge,J=R.prefix,q=W(S,$()),ee=dme(),se=Array.isArray(P)?P:[P,P],he=(r={},r[o?"marginLeft":"marginRight"]=se[0],r.marginBottom=se[1],r),Se=kt({alignItems:h,justifyContent:E,flexDirection:A,flexWrap:D?"wrap":void 0,gap:ee?P:void 0},N),oe=ke.Children.toArray(C),_e=iO.count(oe);return ke.createElement(l,kt({},L,{ref:e,className:q,style:Se}),iO.map(oe,function(xe,Ne){var Re=w==="wrap"&&!d_e(xe)?ke.createElement(my,{key:Ne,className:J("item"),style:ee?void 0:he},xe):ke.cloneElement(xe,{className:W(J("item"),xe.props.className),style:ee?xe.props.style:kt({},he,xe.props.style)});return[Re,Ne<_e-1?I:null]}))});Td.Item=my;Td.displayName="Stack";Td.propTypes={className:Ee.string,children:Ee.node,classPrefix:Ee.string,direction:Oo(["row","row-reverse","column","column-reverse"]),alignItems:Oo(["flex-start","center","flex-end","stretch","baseline"]),justifyContent:Oo(["flex-start","center","flex-end","space-between","space-around"]),spacing:Ee.oneOfType([Ee.number,Ee.string,Ee.array]),divider:Ee.node,wrap:Ee.bool};function f_e(t){return t==null}var p_e=f_e;const Su=Qn(p_e);function m_e(t){return t===void 0}var g_e=m_e;const WO=Qn(g_e);var IT=ke.createContext({});IT.displayName="OverlayContext";var v_e=ly;function y_e(t,e,r){for(var n=-1,i=t.length;++n<i;){var o=t[n],a=e(o);if(a!=null&&(l===void 0?a===a&&!v_e(a):r(a,l)))var l=a,u=o}return u}var bz=y_e;function x_e(t,e){return t>e}var b_e=x_e,__e=bz,w_e=b_e,S_e=uy;function C_e(t,e){return t&&t.length?__e(t,S_e(e),w_e):void 0}var k_e=C_e;const y2=Qn(k_e);function E_e(t,e){return t<e}var T_e=E_e,A_e=bz,P_e=uy,M_e=T_e;function I_e(t,e){return t&&t.length?A_e(t,P_e(e),M_e):void 0}var O_e=I_e;const YO=Qn(O_e);var D_e={left:"Start",right:"End",top:"Start",bottom:"End"};function Of(t){var e,r,n,i;if(t.tagName==="BODY")e=window.innerWidth,r=window.innerHeight,i=_p($p(t).documentElement)||_p(t),n=nv($p(t).documentElement)||nv(t);else{var o=Gu(t);e=o.width,r=o.height,i=_p(t),n=nv(t)}return{width:e,height:r,scrollX:n,scrollY:i}}const N_e=function(t){var e=t.placement,r=t.preventOverflow,n=t.padding;function i(u,h,f){if(!r)return 0;var m=Of(f),x=m.height,w=m.scrollY,S=u-n-w,C=u+n+h-w;return S<0?-S:C>x?x-C:0}function o(u,h,f){if(!r)return 0;var m=Of(f),x=m.scrollX,w=m.width,S=u-n-x,C=u+n+h-x;return S<0?-S:C>w?w-C:0}function a(u,h,f){if(!r)return f;var m=Of(u),x=m.scrollY,w=m.height;return h+f>w+x?w-h+x:Math.max(x,f)}function l(u,h,f){if(!r)return f;var m=Of(u),x=m.scrollX,w=m.width;return h+f>w+x?w-h+x:Math.max(x,f)}return{getPosition:function(h,f){var m=f.tagName==="BODY"?Gu(h):Fj(h,f,!1);return m},getCursorOffsetPosition:function(h,f,m){var x=m.left,w=m.top,S=m.clientLeft,C=m.clientTop,A={left:x,top:w,width:10,height:10};if(zl(h,"position")==="fixed")return A.left=S,A.top=C,A;if(f.tagName==="BODY")return A;var E={top:0,left:0};if(QE(f)!=="html"){var P=Gu(f);P&&(E.top=P.top,E.left=P.left)}return E.top+=parseInt(zl(f,"borderTopWidth"),10)-_p(f)||0,E.left+=parseInt(zl(f,"borderLeftWidth"),10)-nv(f)||0,A.left=x-E.left,A.top=w-E.top,A},calcAutoPlacement:function(h,f,m){var x=Of(f),w=x.width,S=x.height,C=x.scrollX,A=x.scrollY,E=h.left-C-m.width,P=h.top-A-m.height,I=w-h.left-h.width+C-m.width,N=S-h.top-h.height+A-m.height,D=[{key:"left",value:E},{key:"right",value:I}],L=[{key:"top",value:P},{key:"bottom",value:N}],R="autoVertical",$="autoHorizontal",W,J;return e.indexOf(R)!==-1?(W=y2(L,function(q){return q.value}),e===R?W.key:""+W.key+e.replace(R,"")):e.indexOf($)!==-1?(W=y2(D,function(q){return q.value}),e===$?W.key:""+W.key+e.replace($,"")):(W=y2([].concat(L,D),function(q){return q.value}),W.key==="left"||W.key==="right"?J=YO(L,function(q){return q.value}):J=YO(D,function(q){return q.value}),""+W.key+D_e[J.key])},calcOverlayPosition:function(h,f,m,x){var w=x?this.getCursorOffsetPosition(f,m,x):this.getPosition(f,m),S=Gu(h),C=S.height,A=S.width,E=w.top,P=w.left,I=e;e&&e.indexOf("auto")>=0&&(I=this.calcAutoPlacement(w,m,{height:C,width:A}));var N,D,L,R;if(I==="left"||I==="right"){D=w.top+(w.height-C)/2;var $=i(D,C,m);D+=$,R=50*(1-2*$/C)+"%",L=void 0}else if(I==="top"||I==="bottom"){N=P+(w.width-A)/2;var W=o(N,A,m);N+=W,L=50*(1-2*W/A)+"%",R=void 0}if((I==="top"||I==="topStart"||I==="topEnd")&&(D=a(m,C,w.top-C)),(I==="bottom"||I==="bottomStart"||I==="bottomEnd")&&(D=a(m,C,w.top+w.height)),(I==="left"||I==="leftStart"||I==="leftEnd")&&(N=l(m,A,w.left-A)),(I==="right"||I==="rightStart"||I==="rightEnd")&&(N=l(m,A,w.left+w.width)),document.dir==="rtl"&&(I==="left"||I==="leftStart"||I==="leftEnd"||I==="right"||I==="rightStart"||I==="rightEnd")){var J=Of(m),q=J.width;m.scrollWidth>q&&(N=q+N-m.scrollWidth)}if(I==="topStart"||I==="bottomStart")if(document.dir==="rtl"){var ee=P+(w.width-A);N=ee+o(ee,A,m)}else N=P+o(P,A,m);if(I==="topEnd"||I==="bottomEnd")if(document.dir==="rtl")N=P+o(P,A,m);else{var se=P+(w.width-A);N=se+o(se,A,m)}if((I==="leftStart"||I==="rightStart")&&(D=E+i(E,C,m)),I==="leftEnd"||I==="rightEnd"){var he=E+(w.height-C);D=he+i(he,C,m)}return{positionLeft:N,positionTop:D,arrowOffsetLeft:L,arrowOffsetTop:R,positionClassName:"placement-"+t6(I)}}}};var L_e=function(e,r){var n=e.placement,i=n===void 0?"right":n,o=e.preventOverflow,a=o===void 0?!1:o,l=e.containerPadding,u=l===void 0?0:l,h=e.container,f=e.triggerTarget,m=e.followCursor,x=e.cursorPosition,w=H.useRef(null),S=H.useRef(null),C=H.useRef(),A={positionLeft:0,positionTop:0,arrowOffsetLeft:void 0,arrowOffsetTop:void 0},E=H.useState(A),P=E[0],I=E[1],N=H.useMemo(function(){return N_e({placement:i,preventOverflow:a,padding:u})},[i,a,u]),D=H.useCallback(function(L,R){if(L===void 0&&(L=!0),!!(f!=null&&f.current)){var $=Fc(f);if(!pae($))throw new Error("`target` should return an HTMLElement");if(!($===S.current&&!L)){var W=Fc(r.current),J=iae(typeof h=="function"?h():h??null,$p(r.current).body),q=N.calcOverlayPosition(W,$,J,m?x:void 0);if(R&&W){var ee,se,he=W==null||(ee=W.className)===null||ee===void 0||(se=ee.match(/(placement-\S+)/))===null||se===void 0?void 0:se[0];nae(W,he),q.positionClassName&&rae(W,q.positionClassName),Bj(W,{left:q.positionLeft+"px",top:q.positionTop+"px"})}else I(q);w.current=J,S.current=$}}},[h,r,f,N,m,x]);return H.useEffect(function(){D(!1);var L=Fc(r.current),R;if(w.current&&a){var $;R=Bp((($=w.current)===null||$===void 0?void 0:$.tagName)==="BODY"?window:w.current,"scroll",function(){return D(!0,!0)})}var W=Bp(window,"resize",function(){return D(!0,!0)});return L&&(C.current=new mz(function(){return D(!0,!0)}),C.current.observe(L)),function(){var J,q;S.current=null,(J=R)===null||J===void 0||J.off(),W==null||W.off(),(q=C.current)===null||q===void 0||q.disconnect()}},[a,r,D]),d_(function(){return D()},[D,i]),[P,D]},OT=ke.forwardRef(function(t,e){var r=t.children,n=t.className,i=t.followCursor,o=t.cursorPosition,a=ke.useRef(null),l=L_e(t,a),u=l[0],h=l[1],f=u.positionClassName,m=u.arrowOffsetLeft,x=u.arrowOffsetTop,w=u.positionLeft,S=u.positionTop;if(H.useImperativeHandle(e,function(){return{get child(){return a.current},updatePosition:h}}),H.useEffect(function(){!i||!o||h()},[i,o,h]),typeof r=="function"){var C={className:Gl(n,f),arrowOffsetLeft:m,arrowOffsetTop:x,left:w,top:S};return r(C,a)}return r});OT.displayName="Position";OT.propTypes={className:Ee.string,children:Ee.func.isRequired,container:Ee.oneOfType([Ee.func,Ee.any]),containerPadding:Ee.number,placement:Ee.any,preventOverflow:Ee.bool,triggerTarget:Ee.any};var R_e=["timeout","className"],_z=ke.forwardRef(function(t,e){var r=t.timeout,n=r===void 0?300:r,i=t.className,o=Xr(t,R_e),a=Wn("anim"),l=a.prefix,u=a.merge,h=Xi("Fade",o),f=h.propsWithDefaults;return ke.createElement(dy,kt({},f,{ref:e,timeout:n,className:u(i,l("fade")),enteredClassName:l("in"),enteringClassName:l("in")}))});_z.displayName="Fade";var j_e={container:Ee.any,children:Ee.any,childrenProps:Ee.object,className:Ee.string,containerPadding:Ee.number,placement:Ee.any,preventOverflow:Ee.bool,open:Ee.bool,rootClose:Ee.bool,transition:Ee.any,triggerTarget:Ee.any,onClose:Ee.func,onEnter:Ee.func,onEntering:Ee.func,onEntered:Ee.func,onExit:Ee.func,onExiting:Ee.func,onExited:Ee.func},DT=ke.forwardRef(function(t,e){var r=H.useContext(IT),n=r.overlayContainer,i=t.container,o=i===void 0?n:i,a=t.containerPadding,l=t.placement,u=t.rootClose,h=t.children,f=t.childrenProps,m=t.transition,x=m===void 0?_z:m,w=t.open,S=t.preventOverflow,C=t.triggerTarget,A=t.onClose,E=t.onExited,P=t.onExit,I=t.onExiting,N=t.onEnter,D=t.onEntering,L=t.onEntered,R=t.followCursor,$=t.cursorPosition,W=H.useState(!w),J=W[0],q=W[1],ee=H.useRef(null);w?J&&q(!1):!x&&!J&&q(!0);var se=w||x&&!J,he=H.useCallback(function(_e){q(!0),E==null||E(_e)},[E]);if(Fbe(A,{triggerTarget:C,overlayTarget:ee,disabled:!u||!se}),!se)return null;var Se={container:o,containerPadding:a,triggerTarget:C,placement:l,preventOverflow:S,followCursor:R,cursorPosition:$},oe=function(xe,Ne){return ke.createElement(OT,kt({},Se,xe,{ref:hl(e,Ne)}),function(Re,He){if(typeof h=="function")return h(Object.assign(Re,f),hl(He,ee));var tt=Re.left,nt=Re.top,Ke=Re.className;return ke.cloneElement(h,kt({},f,h.props,{className:Gl(Ke,h.props.className),style:kt({left:tt,top:nt},h.props.style),ref:hl(He,ee)}))})};return x?ke.createElement(x,{in:w,transitionAppear:!0,onExit:P,onExiting:I,onExited:he,onEnter:N,onEntering:D,onEntered:L},oe):oe()});DT.displayName="Overlay";DT.propTypes=j_e;var z_e=["children","container","controlId","defaultOpen","trigger","disabled","followCursor","readOnly","plaintext","open","delay","delayOpen","delayClose","enterable","placement","speaker","rootClose","onClick","onMouseOver","onMouseMove","onMouseOut","onContextMenu","onFocus","onBlur","onOpen","onClose","onExited"];function F_e(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r={};return Object.keys(t).forEach(function(n){if(t[n]){var i;r[n]=Po(t[n],(i=e)===null||i===void 0?void 0:i[n])}}),r}var Ux=function(t){return t[t.ClickOutside=0]="ClickOutside",t[t.ImperativeHandle=1]="ImperativeHandle",t}({});function XO(t,e,r){var n=e.currentTarget,i=e.relatedTarget||$ve(e,["nativeEvent","toElement"]);(!i||i!==n)&&!Y1(n,i)&&t(e,r)}var B_e=["hover","focus"],wz=ke.forwardRef(function(t,e){var r=H.useContext(IT),n=r.overlayContainer,i=t.children,o=t.container,a=o===void 0?n:o,l=t.controlId,u=t.defaultOpen,h=t.trigger,f=h===void 0?B_e:h,m=t.disabled,x=t.followCursor,w=t.readOnly,S=t.plaintext,C=t.open,A=t.delay,E=t.delayOpen,P=t.delayClose,I=t.enterable,N=t.placement,D=N===void 0?"bottomStart":N,L=t.speaker,R=t.rootClose,$=R===void 0?!0:R,W=t.onClick,J=t.onMouseOver,q=t.onMouseMove,ee=t.onMouseOut,se=t.onContextMenu,he=t.onFocus,Se=t.onBlur,oe=t.onOpen,_e=t.onClose,xe=t.onExited,Ne=Xr(t,z_e),Re=Ibe({container:a}),He=Re.Portal,tt=Re.target,nt=H.useRef(null),Ke=H.useRef(),Ue=h_(C,u),Xe=Ue[0],Ae=Ue[1],We=H.useState(null),qe=We[0],pt=We[1],Pt=H.useRef(null),Ht=H.useRef(null),dt=Su(E)?A:E,yt=Su(P)?A:P,sr=H.useRef(!1),kr=H.useRef(!1);H.useEffect(function(){return function(){Su(Pt.current)||clearTimeout(Pt.current),Su(Ht.current)||clearTimeout(Ht.current)}},[]);var rn=H.useRef(!1),xt=H.useCallback(function(Xt,Cr){Xt!==Xe&&(Xt?oe==null||oe():_e==null||_e(Cr),Ae(Xt))},[Xe,oe,_e,Ae]),qt=H.useCallback(function(Xt){var Cr=WO(Xt)?dt:Xt;if(Cr&&typeof Cr=="number")return Pt.current=setTimeout(function(){Pt.current=null,rn.current&&xt(!0)},Cr);xt(!0)},[dt,xt]),tr=H.useCallback(function(Xt,Cr){var mn=WO(Xt)?yt:Xt;if(mn&&typeof mn=="number")return Ht.current=setTimeout(function(){Ht.current=null,xt(!1,Cr)},mn);xt(!1,Cr)},[yt,xt]),ct=H.useCallback(function(){pt(null)},[]);H.useImperativeHandle(e,function(){return{get root(){return nt.current},get overlay(){var Xt;return(Xt=Ke.current)===null||Xt===void 0?void 0:Xt.child},getState:function(){return{open:Xe}},open:qt,close:function(Cr){return tr(Cr,Ux.ImperativeHandle)},updatePosition:function(){var Cr,mn;(Cr=Ke.current)===null||Cr===void 0||(mn=Cr.updatePosition)===null||mn===void 0||mn.call(Cr)}}});var rr=H.useCallback(function(){!sr.current&&!kr.current&&tr(void 0,Ux.ClickOutside)},[tr]),gr=H.useCallback(function(){if(rn.current=!0,!I)return qt();if(kr.current=!0,!Su(Ht.current))return clearTimeout(Ht.current),Ht.current=null,qt();Xe||qt()},[I,Xe,qt]),Fr=H.useCallback(function(){Xe?rr():gr()},[Xe,rr,gr]),en=H.useCallback(function(){if(rn.current=!1,!I)return tr();if(kr.current=!1,!Su(Pt.current)){clearTimeout(Pt.current),Pt.current=null;return}!Xe||!Su(Ht.current)||(Ht.current=setTimeout(function(){Su(Ht.current)||(clearTimeout(Ht.current),Ht.current=null),rr()},200))},[I,Xe,tr,rr]),kn=H.useCallback(function(){sr.current=!0},[]),Xn=H.useCallback(function(){sr.current=!1,!Ac("click",f)&&!Ac("contextMenu",f)&&!Ac("active",f)&&rr()},[rr,f]),fn=H.useCallback(function(Xt){pt(function(){return{top:Xt.pageY,left:Xt.pageX,clientTop:Xt.clientX,clientLeft:Xt.clientY}})},[]),Et=H.useCallback(function(Xt){Xt.preventDefault()},[]),Lt=H.useMemo(function(){var Xt={onClick:W,onContextMenu:se,onMouseOver:J,onMouseOut:ee,onFocus:he,onBlur:Se,onMouseMove:q};if(m||w||S||f==="none")return Xt;if(x&&(Xt.onMouseMove=Po(fn,q)),Ac("click",f))return Xt.onClick=Po(Fr,Xt.onClick),Xt;if(Ac("active",f))return Xt.onClick=Po(gr,Xt.onClick),Xt;if(Ac("hover",f)){var Cr=function(Rn){return XO(gr,Rn)},mn=function(Rn){return XO(en,Rn)};Xt.onMouseOver=Po(Cr,Xt.onMouseOver),Xt.onMouseOut=Po(mn,Xt.onMouseOut)}return Ac("focus",f)&&(Xt.onFocus=Po(gr,Xt.onFocus),Xt.onBlur=Po(en,Xt.onBlur)),Ac("contextMenu",f)&&(Xt.onContextMenu=Po(Et,Fr,Xt.onContextMenu)),Xt},[m,x,en,gr,Fr,fn,Se,W,se,he,q,ee,J,S,Et,w,f]),Sr=function(){var Cr=kt({},Ne,{rootClose:$,triggerTarget:nt,onClose:f!=="none"?function(){return tr(void 0,Ux.ClickOutside)}:void 0,onExited:Po(x?ct:void 0,xe),placement:D,container:tt,open:Xe}),mn={id:l};return f!=="none"&&I&&(mn.onMouseEnter=kn,mn.onMouseLeave=Xn),ke.createElement(DT,kt({},Cr,{ref:Ke,childrenProps:mn,followCursor:x,cursorPosition:qe}),typeof L=="function"?function(jn,Rn){return L(kt({},jn,{onClose:tr}),Rn)}:L)},pn=H.useMemo(function(){return typeof i=="function"?i(Lt,nt):w6(i)||!H.isValidElement(i)?ke.createElement("span",kt({ref:nt,"aria-describedby":l},Lt),i):H.cloneElement(i,kt({ref:nt,"aria-describedby":l},F_e(Lt,i.props)))},[i,l,Lt]);return ke.createElement(ke.Fragment,null,pn,ke.createElement(He,null,Sr()))});wz.displayName="OverlayTrigger";function $_e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H_e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){$_e(t,i,r[i])})}return t}var U_e=function(t,e){return H.createElement("svg",H_e({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:e},t),H.createElement("path",{d:"m2.784 2.089.069.058 5.146 5.147 5.146-5.147a.5.5 0 0 1 .765.638l-.058.069L8.705 8l5.147 5.146a.5.5 0 0 1-.638.765l-.069-.058-5.146-5.147-5.146 5.147a.5.5 0 0 1-.765-.638l.058-.069L7.293 8 2.146 2.854a.5.5 0 0 1 .638-.765"}))},V_e=H.forwardRef(U_e),W_e=xm({as:V_e,ariaLabel:"close",category:"application",displayName:"Close"}),Y_e=["as","classPrefix","className","locale"],Sz=ke.forwardRef(function(t,e){var r=t.as,n=r===void 0?"button":r,i=t.classPrefix,o=i===void 0?"btn-close":i,a=t.className,l=t.locale,u=Xr(t,Y_e),h=Xi(),f=h.getLocale,m=Wn(o),x=m.withClassPrefix,w=m.merge,S=f("CloseButton",l),C=S.closeLabel,A=w(a,x());return ke.createElement(n,kt({type:"button",ref:e,className:A,"aria-label":C},u),ke.createElement(W_e,null))});Sz.displayName="CloseButton";function X_e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G_e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){X_e(t,i,r[i])})}return t}var q_e=function(t,e){return H.createElement("svg",G_e({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:e},t),H.createElement("path",{d:"M10.872 3.166a.5.5 0 0 0-.634-.091l-.072.054-5 4.5a.5.5 0 0 0-.065.672l.065.071 5 4.5a.5.5 0 0 0 .73-.677l-.061-.066L6.249 8l4.586-4.127a.5.5 0 0 0 .091-.634z"}))},Z_e=H.forwardRef(q_e),K_e=xm({as:Z_e,ariaLabel:"page previous",category:"direction",displayName:"PagePrevious"});function J_e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q_e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){J_e(t,i,r[i])})}return t}var ewe=function(t,e){return H.createElement("svg",Q_e({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:e},t),H.createElement("path",{d:"M5.128 3.166a.5.5 0 0 1 .634-.091l.072.054 5 4.5a.5.5 0 0 1 .065.672l-.065.071-5 4.5a.5.5 0 0 1-.73-.677l.061-.066L9.751 8 5.165 3.873a.5.5 0 0 1-.091-.634z"}))},twe=H.forwardRef(ewe),rwe=xm({as:twe,ariaLabel:"page next",category:"direction",displayName:"PageNext"}),nwe=g6;function iwe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:nwe(t,e,r)}var awe=iwe,owe="\\ud800-\\udfff",swe="\\u0300-\\u036f",lwe="\\ufe20-\\ufe2f",cwe="\\u20d0-\\u20ff",uwe=swe+lwe+cwe,hwe="\\ufe0e\\ufe0f",dwe="\\u200d",fwe=RegExp("["+dwe+owe+uwe+hwe+"]");function pwe(t){return fwe.test(t)}var Cz=pwe;function mwe(t){return t.split("")}var gwe=mwe,kz="\\ud800-\\udfff",vwe="\\u0300-\\u036f",ywe="\\ufe20-\\ufe2f",xwe="\\u20d0-\\u20ff",bwe=vwe+ywe+xwe,_we="\\ufe0e\\ufe0f",wwe="["+kz+"]",zC="["+bwe+"]",FC="\\ud83c[\\udffb-\\udfff]",Swe="(?:"+zC+"|"+FC+")",Ez="[^"+kz+"]",Tz="(?:\\ud83c[\\udde6-\\uddff]){2}",Az="[\\ud800-\\udbff][\\udc00-\\udfff]",Cwe="\\u200d",Pz=Swe+"?",Mz="["+_we+"]?",kwe="(?:"+Cwe+"(?:"+[Ez,Tz,Az].join("|")+")"+Mz+Pz+")*",Ewe=Mz+Pz+kwe,Twe="(?:"+[Ez+zC+"?",zC,Tz,Az,wwe].join("|")+")",Awe=RegExp(FC+"(?="+FC+")|"+Twe+Ewe,"g");function Pwe(t){return t.match(Awe)||[]}var Mwe=Pwe,Iwe=gwe,Owe=Cz,Dwe=Mwe;function Nwe(t){return Owe(t)?Dwe(t):Iwe(t)}var Lwe=Nwe,Rwe=awe,jwe=Cz,zwe=Lwe,Fwe=cm;function Bwe(t){return function(e){e=Fwe(e);var r=jwe(e)?zwe(e):void 0,n=r?r[0]:e.charAt(0),i=r?Rwe(r,1).join(""):e.slice(1);return n[t]()+i}}var $we=Bwe,Hwe=$we,Uwe=Hwe("toUpperCase"),NT=Uwe;const Vwe=Qn(NT);var Wwe=cm,Ywe=NT;function Xwe(t){return Ywe(Wwe(t).toLowerCase())}var Gwe=Xwe,qwe=["as","classPrefix","className","inverse","backdrop","speed","center","vertical","content","size"],LT=ke.forwardRef(function(t,e){var r=Xi("Loader",t),n=r.propsWithDefaults,i=n.as,o=i===void 0?"div":i,a=n.classPrefix,l=a===void 0?"loader":a,u=n.className,h=n.inverse,f=n.backdrop,m=n.speed,x=m===void 0?"normal":m,w=n.center,S=n.vertical,C=n.content,A=n.size,E=Xr(n,qwe),P=Wn(l),I=P.merge,N=P.withClassPrefix,D=P.prefix,L=py("loader-label-"),R=I(u,D("wrapper","speed-"+x,A,{"backdrop-wrapper":f,vertical:S,inverse:h,center:w}));return ke.createElement(o,kt({role:"status","aria-labelledby":C?L:void 0},E,{ref:e,className:R}),f&&ke.createElement("div",{className:D("backdrop")}),ke.createElement("div",{className:N()},ke.createElement("span",{className:D("spin")}),C&&ke.createElement("span",{id:L,className:D("content")},C)))});LT.displayName="Loader";LT.propTypes={as:Ee.elementType,className:Ee.string,classPrefix:Ee.string,center:Ee.bool,backdrop:Ee.bool,inverse:Ee.bool,vertical:Ee.bool,content:Ee.node,size:Oo(["lg","md","sm","xs"]),speed:Oo(["normal","fast","slow","paused"])};var Zwe=["as","classPrefix","controlId","className"],Iz=ke.createContext({}),Kwe=function(e){var r=ke.useContext(Iz),n=py("rs-"),i=r.controlId||n,o=i+"-help-text",a=i+"-label",l=i+"-error-message";return{controlId:i,helpTextId:o,labelId:a,errorMessageId:l}},Oz=ke.forwardRef(function(t,e){var r=Xi("FormGroup",t),n=r.propsWithDefaults,i=n.as,o=i===void 0?"div":i,a=n.classPrefix,l=a===void 0?"form-group":a,u=n.controlId,h=n.className,f=Xr(n,Zwe),m=Wn(l),x=m.withClassPrefix,w=m.merge,S=w(h,x()),C=py("rs-",u),A=H.useMemo(function(){return{controlId:C}},[C]);return ke.createElement(Iz.Provider,{value:A},ke.createElement(o,kt({},f,{ref:e,className:S,role:"group"})))});Oz.displayName="FormGroup";Oz.propTypes={controlId:Ee.string,className:Ee.string,classPrefix:Ee.string};var Jwe=["as","classPrefix","className","disabled"],RT=ke.forwardRef(function(t,e){var r=t.as,n=r===void 0?"span":r,i=t.classPrefix,o=i===void 0?"input-group-addon":i,a=t.className,l=t.disabled,u=Xr(t,Jwe),h=Wn(o),f=h.withClassPrefix,m=h.merge,x=m(a,f({disabled:l}));return ke.createElement(n,kt({},u,{ref:e,className:x}))});RT.displayName="InputGroupAddon";RT.propTypes={className:Ee.string,classPrefix:Ee.string,disabled:Ee.bool};var Qwe=["classPrefix","className"],Dz=ke.forwardRef(function(t,e){var r=t.classPrefix,n=r===void 0?"input-group-btn":r,i=t.className,o=Xr(t,Qwe),a=Wn(n),l=a.withClassPrefix,u=a.merge,h=Wn("input-group-addon"),f=h.withClassPrefix,m=u(f(),i,l());return ke.createElement(ih,kt({},o,{ref:e,className:m}))});Dz.displayName="InputGroupButton";var e2e=["as","classPrefix","className","disabled","inside","size","children"],Nz=ke.createContext(null),ah=ke.forwardRef(function(t,e){var r=Xi("InputGroup",t),n=r.propsWithDefaults,i=n.as,o=i===void 0?"div":i,a=n.classPrefix,l=a===void 0?"input-group":a,u=n.className,h=n.disabled,f=n.inside,m=n.size,x=n.children,w=Xr(n,e2e),S=H.useState(!1),C=S[0],A=S[1],E=H.useCallback(function(){A(!0)},[]),P=H.useCallback(function(){A(!1)},[]),I=Wn(l),N=I.withClassPrefix,D=I.merge,L=D(u,N(m,{inside:f,focus:C,disabled:h})),R=H.useCallback(function(){return ke.Children.map(x,function(W){return ke.isValidElement(W)&&ke.isValidElement(W)&&h?ke.cloneElement(W,{disabled:h}):W})},[x,h]),$=H.useMemo(function(){return{onFocus:E,onBlur:P}},[E,P]);return ke.createElement(Nz.Provider,{value:$},ke.createElement(o,kt({},w,{ref:e,className:L}),R()))});ah.displayName="InputGroup";ah.propTypes={className:Ee.string,classPrefix:Ee.string,children:Ee.node,disabled:Ee.bool,inside:Ee.bool,size:Oo(["lg","md","sm","xs"])};ah.Addon=RT;ah.Button=Dz;var t2e=["as","classPrefix","className","children","localeKey","placeholder"],Lz=ke.forwardRef(function(t,e){var r=Xi(),n=r.getLocale,i=t.as,o=i===void 0?"div":i,a=t.classPrefix,l=a===void 0?"plaintext":a,u=t.className,h=t.children,f=t.localeKey,m=f===void 0?"":f,x=t.placeholder,w=x===void 0?n("Plaintext")[m]||"":x,S=Xr(t,t2e),C=Wn(l),A=C.withClassPrefix,E=C.merge,P=E(u,A({empty:!h}));return ke.createElement(o,kt({role:"text"},S,{ref:e,className:P}),h||w)});Lz.displayName="Plaintext";var r2e=["className","classPrefix","as","type","disabled","value","defaultValue","inputRef","id","size","htmlSize","plaintext","placeholder","readOnly","onPressEnter","onFocus","onBlur","onKeyDown","onChange"],gy=ke.forwardRef(function(t,e){var r=Xi("Input",t),n=r.propsWithDefaults,i=n.className,o=n.classPrefix,a=o===void 0?"input":o,l=n.as,u=l===void 0?"input":l,h=n.type,f=h===void 0?"text":h,m=n.disabled,x=n.value,w=n.defaultValue,S=n.inputRef,C=n.id,A=n.size,E=n.htmlSize,P=n.plaintext,I=n.placeholder,N=n.readOnly,D=n.onPressEnter,L=n.onFocus,R=n.onBlur,$=n.onKeyDown,W=n.onChange,J=Xr(n,r2e),q=function(nt){nt.key===Dl.ENTER&&(D==null||D(nt)),$==null||$(nt)},ee=function(nt){var Ke;W==null||W((Ke=nt.target)===null||Ke===void 0?void 0:Ke.value,nt)},se=Wn(a),he=se.withClassPrefix,Se=se.merge,oe=Se(i,he(A,{plaintext:P})),_e=H.useContext(Nz),xe=Kwe(),Ne=xe.controlId;if(P)return ke.createElement(Lz,{ref:e,localeKey:"unfilled",placeholder:I},typeof x>"u"?w:x);var Re=!m&&!N,He={};return Re&&(He.onChange=ee,He.onKeyDown=q,He.onFocus=Po(L,_e==null?void 0:_e.onFocus),He.onBlur=Po(R,_e==null?void 0:_e.onBlur)),ke.createElement(u,kt({},J,He,{ref:hl(e,S),className:oe,type:f,id:C||Ne,value:x,defaultValue:w,disabled:m,readOnly:N,size:E,placeholder:I}))});gy.displayName="Input";gy.propTypes={type:Ee.string,as:Ee.elementType,id:Ee.string,classPrefix:Ee.string,className:Ee.string,disabled:Ee.bool,value:Ee.oneOfType([Ee.string,Ee.number]),defaultValue:Ee.oneOfType([Ee.string,Ee.number]),size:Oo(["lg","md","sm","xs"]),inputRef:r_e,onChange:Ee.func,onFocus:Ee.func,onBlur:Ee.func,onKeyDown:Ee.func,onPressEnter:Ee.func};var n2e=["pickerProps","speaker","placement","trigger","id","multiple","popupType"],Rz=["onEntered","onExited","onEnter","onEntering","onExit","onExiting","open","onOpen","defaultOpen","onClose","container","containerPadding","preventOverflow"],jz=[].concat(Rz,["disabled","plaintext","readOnly","loading","label"]),i2e=ke.createContext({popupType:"listbox"}),zz=ke.forwardRef(function(t,e){var r=t.pickerProps,n=t.speaker,i=t.placement,o=t.trigger,a=o===void 0?"click":o,l=t.id,u=t.multiple,h=t.popupType,f=h===void 0?"listbox":h,m=Xr(t,n2e),x=Fv(r,jz),w=py("rs-",l),S=Xi(),C=S.rtl;return ke.createElement(i2e.Provider,{value:{id:w,hasLabel:typeof x.label<"u",multiple:u,popupType:f}},ke.createElement(wz,kt({},x,m,{disabled:x.disabled||x.loading,ref:e,trigger:a,placement:C6(i,C),speaker:n})))});zz.displayName="PickerToggleTrigger";var a2e=xh,o2e=yl,s2e="[object Number]";function l2e(t){return typeof t=="number"||o2e(t)&&a2e(t)==s2e}var c2e=l2e;const u2e=Qn(c2e);var h2e=["children","className","disableHeight","disableWidth","defaultHeight","defaultWidth","style","onResize"],d2e=ke.forwardRef(function(t,e){var r=t.children,n=t.className,i=t.disableHeight,o=t.disableWidth,a=t.defaultHeight,l=t.defaultWidth,u=t.style,h=t.onResize,f=Xr(t,h2e),m=H.useState(a||0),x=m[0],w=m[1],S=H.useState(l||0),C=S[0],A=S[1],E=H.useRef(null),P=H.useCallback(function(){var L;return(L=E.current)!==null&&L!==void 0&&L.parentNode&&E.current.parentNode.ownerDocument&&E.current.parentNode.ownerDocument.defaultView&&E.current.parentNode instanceof E.current.parentNode.ownerDocument.defaultView.HTMLElement?E.current.parentNode:null},[]),I=H.useCallback(function(){var L=P();if(L){var R=L.offsetHeight||0,$=L.offsetWidth||0,W=zl(L),J=parseInt(W.paddingLeft,10)||0,q=parseInt(W.paddingRight,10)||0,ee=parseInt(W.paddingTop,10)||0,se=parseInt(W.paddingBottom,10)||0,he=R-ee-se,Se=$-J-q;(!i&&x!==he||!o&&C!==Se)&&(w(R-ee-se),A($-J-q),h==null||h({height:R,width:$}))}},[i,o,P,x,h,C]);vz(I),gz(P(),I);var N={overflow:"visible"},D={width:0,height:0};return i||(N.height=0,D.height=x),o||(N.width=0,D.width=C),ke.createElement("div",kt({className:n,ref:hl(E,e),style:kt({},N,u)},f),r(D))});function x2(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return r<=n?null:e===0?"top":e+n===r?"bottom":"middle"}function f2e(t){var e=H.useRef(null),r=H.useState(null),n=r[0],i=r[1];vz(function(){var a;if(e.current&&t){var l=e.current;i(x2(l));var u=l.scrollHeight;a=new MutationObserver(function(){var h=l==null?void 0:l.scrollHeight;h&&h!==u&&(i(x2(l)),u=h)}),a.observe(l,{attributes:!0,childList:!0,subtree:!0})}return function(){var h;(h=a)===null||h===void 0||h.disconnect()}});var o=zr(function(a){var l=a.currentTarget;i(x2(l))});return{scrollState:n,handleScroll:t?o:void 0,bodyRef:e}}var p2e=["as","classPrefix","className","children","scrollShadow","customScrollbar","height","width","style","onScroll","data-testid"],Fz=ke.forwardRef(function(t,e){var r=t.as,n=r===void 0?"div":r,i=t.classPrefix,o=i===void 0?"scroll-view":i,a=t.className,l=t.children,u=t.scrollShadow,h=t.customScrollbar,f=t.height,m=t.width,x=t.style,w=t.onScroll,S=t["data-testid"],C=Xr(t,p2e),A=Wn(o),E=A.merge,P=A.withClassPrefix,I=f2e(u),N=I.scrollState,D=I.handleScroll,L=I.bodyRef,R=kt({height:f,width:m},x),$=E(a,P({shadow:u,"thumb-top":N==="top","thumb-middle":N==="middle","thumb-bottom":N==="bottom","custom-scrollbar":h}));return ke.createElement(n,kt({},C,{ref:hl(e,L),className:$,style:R,onScroll:Po(D,w),"data-testid":S||"scroll-view"}),l)});Fz.displayName="ScrollView";var GO=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function m2e(t,e){return!!(t===e||GO(t)&&GO(e))}function g2e(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!m2e(t[r],e[r]))return!1;return!0}function b2(t,e){e===void 0&&(e=g2e);var r,n=[],i,o=!1;function a(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return o&&r===this&&e(l,n)||(i=t.apply(this,l),o=!0,r=this,n=l),i}return a}var v2e=typeof performance=="object"&&typeof performance.now=="function",qO=v2e?function(){return performance.now()}:function(){return Date.now()};function ZO(t){cancelAnimationFrame(t.id)}function y2e(t,e){var r=qO();function n(){qO()-r>=e?t.call(null):i.id=requestAnimationFrame(n)}var i={id:requestAnimationFrame(n)};return i}var _2=-1;function KO(t){if(t===void 0&&(t=!1),_2===-1||t){var e=document.createElement("div"),r=e.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(e),_2=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return _2}var Df=null;function JO(t){if(t===void 0&&(t=!1),Df===null||t){var e=document.createElement("div"),r=e.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),i=n.style;return i.width="100px",i.height="100px",e.appendChild(n),document.body.appendChild(e),e.scrollLeft>0?Df="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?Df="negative":Df="positive-ascending"),document.body.removeChild(e),Df}return Df}var x2e=150,b2e=function(e,r){return e};function _2e(t){var e,r=t.getItemOffset,n=t.getEstimatedTotalSize,i=t.getItemSize,o=t.getOffsetForIndexAndAlignment,a=t.getStartIndexForOffset,l=t.getStopIndexForStartIndex,u=t.initInstanceProps,h=t.shouldResetStyleCacheOnItemSizeChange,f=t.validateProps;return e=function(m){tT(x,m);function x(S){var C;return C=m.call(this,S)||this,C._instanceProps=u(C.props,Zt(C)),C._outerRef=void 0,C._resetIsScrollingTimeoutId=null,C.state={instance:Zt(C),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof C.props.initialScrollOffset=="number"?C.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},C._callOnItemsRendered=void 0,C._callOnItemsRendered=b2(function(A,E,P,I){return C.props.onItemsRendered({overscanStartIndex:A,overscanStopIndex:E,visibleStartIndex:P,visibleStopIndex:I})}),C._callOnScroll=void 0,C._callOnScroll=b2(function(A,E,P){return C.props.onScroll({scrollDirection:A,scrollOffset:E,scrollUpdateWasRequested:P})}),C._getItemStyle=void 0,C._getItemStyle=function(A){var E=C.props,P=E.direction,I=E.itemSize,N=E.layout,D=C._getItemStyleCache(h&&I,h&&N,h&&P),L;if(D.hasOwnProperty(A))L=D[A];else{var R=r(C.props,A,C._instanceProps),$=i(C.props,A,C._instanceProps),W=P==="horizontal"||N==="horizontal",J=P==="rtl",q=W?R:0;D[A]=L={position:"absolute",left:J?void 0:q,right:J?q:void 0,top:W?0:R,height:W?"100%":$,width:W?$:"100%"}}return L},C._getItemStyleCache=void 0,C._getItemStyleCache=b2(function(A,E,P){return{}}),C._onScrollHorizontal=function(A){var E=A.currentTarget,P=E.clientWidth,I=E.scrollLeft,N=E.scrollWidth;C.setState(function(D){if(D.scrollOffset===I)return null;var L=C.props.direction,R=I;if(L==="rtl")switch(JO()){case"negative":R=-I;break;case"positive-descending":R=N-P-I;break}return R=Math.max(0,Math.min(R,N-P)),{isScrolling:!0,scrollDirection:D.scrollOffset<R?"forward":"backward",scrollOffset:R,scrollUpdateWasRequested:!1}},C._resetIsScrollingDebounced)},C._onScrollVertical=function(A){var E=A.currentTarget,P=E.clientHeight,I=E.scrollHeight,N=E.scrollTop;C.setState(function(D){if(D.scrollOffset===N)return null;var L=Math.max(0,Math.min(N,I-P));return{isScrolling:!0,scrollDirection:D.scrollOffset<L?"forward":"backward",scrollOffset:L,scrollUpdateWasRequested:!1}},C._resetIsScrollingDebounced)},C._outerRefSetter=function(A){var E=C.props.outerRef;C._outerRef=A,typeof E=="function"?E(A):E!=null&&typeof E=="object"&&E.hasOwnProperty("current")&&(E.current=A)},C._resetIsScrollingDebounced=function(){C._resetIsScrollingTimeoutId!==null&&ZO(C._resetIsScrollingTimeoutId),C._resetIsScrollingTimeoutId=y2e(C._resetIsScrolling,x2e)},C._resetIsScrolling=function(){C._resetIsScrollingTimeoutId=null,C.setState({isScrolling:!1},function(){C._getItemStyleCache(-1,null)})},C}x.getDerivedStateFromProps=function(C,A){return w2e(C,A),f(C),null};var w=x.prototype;return w.scrollTo=function(C){C=Math.max(0,C),this.setState(function(A){return A.scrollOffset===C?null:{scrollDirection:A.scrollOffset<C?"forward":"backward",scrollOffset:C,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},w.scrollToItem=function(C,A){A===void 0&&(A="auto");var E=this.props,P=E.itemCount,I=E.layout,N=this.state.scrollOffset;C=Math.max(0,Math.min(C,P-1));var D=0;if(this._outerRef){var L=this._outerRef;I==="vertical"?D=L.scrollWidth>L.clientWidth?KO():0:D=L.scrollHeight>L.clientHeight?KO():0}this.scrollTo(o(this.props,C,A,N,this._instanceProps,D))},w.componentDidMount=function(){var C=this.props,A=C.direction,E=C.initialScrollOffset,P=C.layout;if(typeof E=="number"&&this._outerRef!=null){var I=this._outerRef;A==="horizontal"||P==="horizontal"?I.scrollLeft=E:I.scrollTop=E}this._callPropsCallbacks()},w.componentDidUpdate=function(){var C=this.props,A=C.direction,E=C.layout,P=this.state,I=P.scrollOffset,N=P.scrollUpdateWasRequested;if(N&&this._outerRef!=null){var D=this._outerRef;if(A==="horizontal"||E==="horizontal")if(A==="rtl")switch(JO()){case"negative":D.scrollLeft=-I;break;case"positive-ascending":D.scrollLeft=I;break;default:var L=D.clientWidth,R=D.scrollWidth;D.scrollLeft=R-L-I;break}else D.scrollLeft=I;else D.scrollTop=I}this._callPropsCallbacks()},w.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&ZO(this._resetIsScrollingTimeoutId)},w.render=function(){var C=this.props,A=C.children,E=C.className,P=C.direction,I=C.height,N=C.innerRef,D=C.innerElementType,L=C.innerTagName,R=C.itemCount,$=C.itemData,W=C.itemKey,J=W===void 0?b2e:W,q=C.layout,ee=C.outerElementType,se=C.outerTagName,he=C.style,Se=C.useIsScrolling,oe=C.width,_e=this.state.isScrolling,xe=P==="horizontal"||q==="horizontal",Ne=xe?this._onScrollHorizontal:this._onScrollVertical,Re=this._getRangeToRender(),He=Re[0],tt=Re[1],nt=[];if(R>0)for(var Ke=He;Ke<=tt;Ke++)nt.push(H.createElement(A,{data:$,key:J(Ke,$),index:Ke,isScrolling:Se?_e:void 0,style:this._getItemStyle(Ke)}));var Ue=n(this.props,this._instanceProps);return H.createElement(ee||se||"div",{className:E,onScroll:Ne,ref:this._outerRefSetter,style:kt({position:"relative",height:I,width:oe,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:P},he)},H.createElement(D||L||"div",{children:nt,ref:N,style:{height:xe?"100%":Ue,pointerEvents:_e?"none":void 0,width:xe?Ue:"100%"}}))},w._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var C=this.props.itemCount;if(C>0){var A=this._getRangeToRender(),E=A[0],P=A[1],I=A[2],N=A[3];this._callOnItemsRendered(E,P,I,N)}}if(typeof this.props.onScroll=="function"){var D=this.state,L=D.scrollDirection,R=D.scrollOffset,$=D.scrollUpdateWasRequested;this._callOnScroll(L,R,$)}},w._getRangeToRender=function(){var C=this.props,A=C.itemCount,E=C.overscanCount,P=this.state,I=P.isScrolling,N=P.scrollDirection,D=P.scrollOffset;if(A===0)return[0,0,0,0];var L=a(this.props,D,this._instanceProps),R=l(this.props,L,D,this._instanceProps),$=!I||N==="backward"?Math.max(1,E):1,W=!I||N==="forward"?Math.max(1,E):1;return[Math.max(0,L-$),Math.max(0,Math.min(A-1,R+W)),L,R]},x}(H.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var w2e=function(e,r){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,r.instance},S2e=_2e({getItemOffset:function(e,r){var n=e.itemSize;return r*n},getItemSize:function(e,r){var n=e.itemSize;return n},getEstimatedTotalSize:function(e){var r=e.itemCount,n=e.itemSize;return n*r},getOffsetForIndexAndAlignment:function(e,r,n,i,o,a){var l=e.direction,u=e.height,h=e.itemCount,f=e.itemSize,m=e.layout,x=e.width,w=l==="horizontal"||m==="horizontal",S=w?x:u,C=Math.max(0,h*f-S),A=Math.min(C,r*f),E=Math.max(0,r*f-S+f+a);switch(n==="smart"&&(i>=E-S&&i<=A+S?n="auto":n="center"),n){case"start":return A;case"end":return E;case"center":{var P=Math.round(E+(A-E)/2);return P<Math.ceil(S/2)?0:P>C+Math.floor(S/2)?C:P}case"auto":default:return i>=E&&i<=A?i:i<E?E:A}},getStartIndexForOffset:function(e,r){var n=e.itemCount,i=e.itemSize;return Math.max(0,Math.min(n-1,Math.floor(r/i)))},getStopIndexForStartIndex:function(e,r,n){var i=e.direction,o=e.height,a=e.itemCount,l=e.itemSize,u=e.layout,h=e.width,f=i==="horizontal"||u==="horizontal",m=r*l,x=f?h:o,w=Math.ceil((x+n-m)/l);return Math.max(0,Math.min(a-1,r+w-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}}),C2e=["as","classPrefix","autoWidth","className","placement","target"],k2e=["placement","arrowOffsetLeft","arrowOffsetTop","positionLeft","positionTop","getPositionInstance","getToggleInstance","autoWidth"],E2e=["topStart","topEnd","leftEnd","rightEnd","auto","autoVerticalStart","autoVerticalEnd","autoHorizontalEnd"],Bz=ke.forwardRef(function(t,e){var r=t.as,n=r===void 0?"div":r,i=t.classPrefix,o=i===void 0?"picker-popup":i,a=t.autoWidth,l=t.className,u=t.placement,h=u===void 0?"bottomStart":u,f=t.target,m=Xr(t,C2e),x=H.useRef(null),w=zr(function(){var P=f==null?void 0:f.current;P&&E2e.includes(h)&&P.updatePosition()});gz(H.useCallback(function(){return x.current},[]),w),H.useEffect(function(){var P=f==null?void 0:f.current;if(a&&P!==null&&P!==void 0&&P.root){var I=dae(Fc(P.root));x.current&&Bj(x.current,"min-width",I+"px")}},[a,f,x]);var S=Wn(o),C=S.withClassPrefix,A=S.merge,E=A(l,C());return ke.createElement(n,kt({"data-testid":"picker-popup"},c_(m,k2e),{ref:hl(x,e),className:E}))});Bz.displayName="PickerPopup";var T2e=function(e){var r=e.loading,n=e.caretAs,i=e.onClose,o=e.showCleanButton,a=e.as,l=a===void 0?ah.Addon:a,u=e.disabled,h=Xi(),f=h.getLocale,m=f("common"),x=m.clear,w=Wn("picker"),S=w.prefix,C=function(){return r?ke.createElement(LT,{className:S("loader"),"data-testid":"spinner"}):o&&!u?ke.createElement(Sz,{className:S("clean"),tabIndex:-1,locale:{closeLabel:x},onClick:i}):n&&ke.createElement(fy,{as:n,className:S("caret-icon"),"data-testid":"caret"})},A=l===ah.Addon?{disabled:u}:void 0;return ke.createElement(l,A,C())},A2e=["children","className","as"],P2e=function(e){var r=e.children,n=e.className,i=e.as,o=i===void 0?ah.Addon:i,a=Xr(e,A2e);return r?ke.createElement(o,kt({"data-testid":"picker-label",className:n},a),r):null};function M2e(t){var e=H.useRef(null),r=H.useRef(null),n=H.useRef(null),i=H.useRef(null),o=H.useRef(null),a=H.useRef(null),l=H.useRef(null),u=zr(function(){var m;e==null||(m=e.current)===null||m===void 0||m.open()}),h=zr(function(){var m;e==null||(m=e.current)===null||m===void 0||m.close()}),f=zr(function(){var m;e==null||(m=e.current)===null||m===void 0||m.updatePosition()});return H.useImperativeHandle(t,function(){return{get root(){var m,x;return(m=(r==null?void 0:r.current)||(e==null||(x=e.current)===null||x===void 0?void 0:x.root))!==null&&m!==void 0?m:null},get overlay(){var m;if(!(i!=null&&i.current))throw new Error("The overlay is not found. Please confirm whether the picker is open.");return(m=i==null?void 0:i.current)!==null&&m!==void 0?m:null},get target(){var m;return(m=n==null?void 0:n.current)!==null&&m!==void 0?m:null},get list(){if(!(o!=null&&o.current))throw new Error(`
            The list is not found.
            1.Please set virtualized for the component.
            2.Please confirm whether the picker is open.
          `);return o==null?void 0:o.current},type:Pye,updatePosition:f,open:u,close:h}}),{trigger:e,root:r,overlay:i,target:n,list:o,searchInput:a,treeView:l}}function $z(t,e){var r=e.down,n=e.up,i=e.enter,o=e.del,a=e.esc,l=e.right,u=e.left;switch(t.key){case Dl.DOWN:r==null||r(t),t.preventDefault();break;case Dl.UP:n==null||n(t),t.preventDefault();break;case Dl.ENTER:i==null||i(t),t.preventDefault();break;case Dl.BACKSPACE:o==null||o(t);break;case Dl.ESC:case Dl.TAB:a==null||a(t);break;case Dl.LEFT:u==null||u(t);break;case Dl.RIGHT:l==null||l(t);break}}var I2e=["name","classPrefix","className","placement","appearance","cleanable","block","disabled","countable","readOnly","plaintext","hasValue"];function O2e(t){var e,r=t.name,n=t.classPrefix,i=t.className,o=t.placement,a=t.appearance,l=t.cleanable,u=t.block,h=t.disabled,f=t.countable,m=t.readOnly,x=t.plaintext,w=t.hasValue,S=Xr(t,I2e),C=Wn(n),A=C.withClassPrefix,E=C.merge,P=E(i,A(r,a,"toggle-wrapper",(e={},e["placement-"+t6(C6(o))]=o,e["read-only"]=m,e["has-value"]=w,e.cleanable=l,e.block=u,e.disabled=h,e.countable=f,e.plaintext=x,e))),I=Object.keys(c_(t,[].concat(Object.keys(S||{}),["disabled","readOnly","plaintext","name"])));return[P,I]}var Hz=kt({},oz,{classPrefix:Ee.string,className:Ee.string,style:Ee.object,locale:Ee.any,appearance:Oo(["default","subtle"]),block:Ee.bool,containerPadding:Ee.number,container:Ee.oneOfType([Ee.any,Ee.func]),disabled:Ee.bool,menuClassName:Ee.string,menuStyle:Ee.object,placeholder:Ee.node,placement:Oo(Lbe),preventOverflow:Ee.bool,open:Ee.bool,defaultOpen:Ee.bool,cleanable:Ee.bool,renderExtraFooter:Ee.func,renderValue:Ee.func,onOpen:Ee.func,onClose:Ee.func,onClean:Ee.func,listProps:Ee.any});kt({},Hz,{data:Ee.array.isRequired,valueKey:Ee.string,labelKey:Ee.string,childrenKey:Ee.string,disabledItemValues:Ee.array,value:Ee.any,defaultValue:Ee.any,onChange:Ee.func});function D2e(t,e){var r;return((r=t.match(new RegExp("("+e+")+")))===null||r===void 0?void 0:r[0])||""}function jT(t){var e=t.pattern,r=t.formatStr,n=t.valueOffset,i=t.selectedMonth,o=t.localize,a=0,l=r.includes("MMM"),u=r.includes("MMMM");if(l||u){var h=e==="M";if(h&&n===null||i===null&&n===0)return 0;var f=i?i+(h&&n||0):1;f>12?f=1:f===0&&(f=12);var m=o==null?void 0:o.month(f-1,{width:u?"wide":"abbreviated"});a=m.length-(u?4:3)}return a}function zT(t){var e=t.selectionIndex,r=t.positionOffset,n=r===void 0?-1:r,i=t.formatStr,o=t.dateString,a=t.valueOffset,l=t.selectedMonth,u=t.localize,h=i.charAt(e||0);if(e<0||e>o.length-1)return h=i.trim().charAt(0),h;var f=0;if(FT(e,i)&&(f=jT({pattern:h,formatStr:i,valueOffset:a,selectedMonth:l,localize:u})),h=i.charAt(e-f),!h.match(/[y|d|M|H|h|m|s|a]/)){var m=e+n;h=zT(kt({},t,{selectionIndex:m}))}return h}function FT(t,e){return t>e.indexOf("M")}function Mg(t){var e=t.input,r=t.direction,n=t.formatStr,i=t.localize,o=t.selectedMonth,a=t.dateString,l=t.valueOffset,u=l===void 0?0:l,h=function(C){var A=n.indexOf(C),E=n.lastIndexOf(C)+1,P=jT({pattern:C,formatStr:n,valueOffset:u,selectedMonth:o,localize:i}),I=C==="M",N=o===null&&!(I&&u!==0);return N?{selectionStart:A,selectionEnd:E}:I?{selectionStart:A,selectionEnd:E+P}:FT(A,n)?{selectionStart:A+P,selectionEnd:E+P}:{selectionStart:A,selectionEnd:E}};if(typeof e.selectionEnd=="number"&&typeof e.selectionStart=="number"){var f=e.selectionStart,m=-1;r==="left"?f=e.selectionStart-1:r==="right"&&(f=e.selectionEnd+1,m=1);var x=zT({selectionIndex:f,positionOffset:m,formatStr:n,dateString:a,valueOffset:u,selectedMonth:o,localize:i}),w=h(x);return kt({selectedPattern:x},w)}return{selectedPattern:"y",selectionStart:0,selectionEnd:0}}function Uz(t,e){switch(t){case"year":if(e<1||e>9999)return!1;break;case"month":if(e<1||e>12)return!1;break;case"day":if(e<1||e>31)return!1;break;case"hour":if(e<0||e>23)return!1;break;case"minute":if(e<0||e>59)return!1;break;case"second":if(e<0||e>59)return!1;break;default:return!1}return!0}function N2e(t,e,r){switch(e){case"year":return tz(t,r);case"month":return ET(t,r-1);case"day":return J6(t,r);case"hour":return LC(t,r);case"minute":return Q6(t,r);case"second":return ez(t,r)}return t}function Vz(t){return function(r,n){var i=t.current.dataset.test==="true";if(i){sO(t.current,r,n);return}requestAnimationFrame(function(){sO(t.current,r,n)})}}var L2e=eT,R2e=NT,j2e=L2e(function(t,e,r){return t+(r?" ":"")+R2e(e)}),z2e=j2e;const F2e=Qn(z2e);function B2e(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function $2e(t,e,r){if(ST())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var i=new(t.bind.apply(t,n));return r&&Fp(i,r.prototype),i}function BC(t){var e=typeof Map=="function"?new Map:void 0;return BC=function(n){if(n===null||!B2e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return $2e(n,arguments,ml(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Fp(i,n)},BC(t)}var Ep={y:"year",M:"month",d:"day",H:"hour",h:"hour",m:"minute",s:"second",a:"meridiem"},QO=function(t){function e(r,n){var i;i=t.call(this)||this,i.format=void 0,i.patternArray=[],i.year=null,i.month=null,i.day=null,i.hour=null,i.minute=null,i.second=null,i.format=r;var o=r.match(new RegExp("([y|d|M|H|h|m|s|a])+","ig"))||[];return i.patternArray=o.map(function(a){return{pattern:a,key:Ep[a[0]]}}),n&&mo(n)&&(i.year=n.getFullYear(),i.month=n.getMonth()+1,i.day=n.getDate(),i.hour=n.getHours(),i.minute=n.getMinutes(),i.second=n.getSeconds()),i}return tT(e,t),e}(BC(Object));function H2e(t,e){var r=String(t);if(r.length>=e)return r;for(var n=e-r.length,i=0;i<n;i++)r="0"+r;return r}var U2e=function(e,r,n){var i=H.useReducer(function(m,x){switch(x.type){case"setYear":return kt({},m,{year:x.value});case"setMonth":return kt({},m,{month:x.value});case"setDay":return kt({},m,{day:x.value});case"setHour":return kt({},m,{hour:x.value});case"setMinute":return kt({},m,{minute:x.value});case"setSecond":return kt({},m,{second:x.value});case"setNewDate":return new QO(e,x.value);default:return m}},new QO(e,n)),o=i[0],a=i[1],l=function(){var x=e;return o.patternArray.forEach(function(w){var S=w.key,C=w.pattern,A=o.hour,E=o[S];E!==null&&(C==="MMM"&&typeof E=="number"?E=r==null?void 0:r.month(E-1,{width:"abbreviated"}):C==="MMMM"&&typeof E=="number"?E=r==null?void 0:r.month(E-1,{width:"wide"}):C==="aa"?typeof A=="number"?E=A>12?"PM":"AM":E="aa":C==="hh"&&typeof E=="number"&&(E=E===0?12:E>12?E-12:E),typeof E=="number"&&(E=H2e(E,C.length)),typeof E<"u"&&(x=x.replace(C,E)))}),x},u=function(x,w){var S,C=!0;return(S=e.match(new RegExp("([y|d|M|H|h|m|s])+","ig")))===null||S===void 0||S.forEach(function(A){var E=Ep[A[0]],P=x===E?w:o[E];if(P===null){C=!1;return}}),C},h=function(x,w){var S,C=(S=e.match(new RegExp("([y|d|M|H|h|m|s])+","ig")))===null||S===void 0?void 0:S.map(function(A){var E=Ep[A[0]],P=x===E?w:o[E];return P!==null});return C==null?void 0:C.every(function(A){return A===!1})},f=function(x,w){var S=o.year,C=o.month,A=o.day,E=o.hour,P=o.minute,I=o.second,N=new Date(S||0,typeof C=="number"?Math.max(C-1,0):0,A||1,E||0,P||0,I||0);if(typeof x>"u"||typeof w>"u")return N;if(w===null||!u(x,w))return h(x,w)?null:new Date("");if((x==="day"||x==="month")&&w===0)return new Date("");if(x==="meridiem"&&typeof E=="number"){var D=E>12?E-12:E+12;x="hour",w=D}return N2e(N,x,w)};return{dateField:o,dispatch:a,toDate:f,toDateString:l,isEmptyValue:h}};function $C(t){var e=t.formatStr,r=t.locale,n=t.date,i=t.isControlledDate,o=Xi(),a=o.formatDate,l=U2e(e,r.localize,n),u=l.dateField,h=l.dispatch,f=l.toDateString,m=l.toDate,x=l.isEmptyValue,w=function(I,N,D){var L=new Date,R=u.year||L.getFullYear(),$=u.month?u.month-1:L.getMonth(),W=u.day||0,J=u.hour||0,q=u.minute||0,ee=u.second||0,se,he;switch(I){case"y":se="setYear",he=P0e(new Date(R,0),N).getFullYear();break;case"M":se="setMonth",he=zv(new Date(R,$),N).getMonth()+1;break;case"d":se="setDay";var Se=new Date(R,$,W);he=hy(Se,N).getDate(),N>0?he=s1e(Se)?1:he:he=Se.getDate()===1?l1e(Se).getDate():he;break;case"H":case"h":se="setHour",he=N0e(new Date(R,$,W,J),N).getHours();break;case"m":se="setMinute",he=O0e(new Date(R,$,W,J,q),N).getMinutes();break;case"s":se="setSecond",he=M0e(new Date(R,$,W,J,q,ee),N).getSeconds();break;case"a":se="setHour",he=J>=12?J-12:J+12;break}if(se&&typeof he=="number"){h({type:se,value:he});var oe=Ep[I];D==null||D(m(oe,he))}},S=function(I,N,D){var L=Ep[I],R="set"+F2e(L);h({type:R,value:N}),D==null||D(m(L,N))},C=function(I){var N=Ep[I];return{name:N,value:u[N]}},A=function(){return n&&mo(n)?a(n,e,{locale:r}):f()},E=H.useCallback(function(P){h({type:"setNewDate",value:P})},[h]);return H.useEffect(function(){i&&(n&&mo(n)?E(n):n===null&&E(null))},[n,h,i,E]),{dateField:u,setDateOffset:w,setDateField:S,setNewDate:E,getDateField:C,toDateString:i?A:f,isEmptyValue:x}}function Wz(t){var e=t.onSegmentChange,r=t.onSegmentValueChange,n=t.onSegmentValueChangeWithNumericKeys,i=t.onSegmentValueRemove,o=t.onKeyDown;return function(a){var l,u,h=a.key;switch(h){case"ArrowRight":case"ArrowLeft":e==null||e(a),a.preventDefault();break;case"ArrowUp":case"ArrowDown":r==null||r(a),a.preventDefault();break;case"Backspace":i==null||i(a),a.preventDefault();break;case((l=h.match(/\d/))===null||l===void 0?void 0:l.input):n==null||n(a),a.preventDefault();case((u=h.match(/[a-z]/))===null||u===void 0?void 0:u[0]):if(a.ctrlKey||a.metaKey)break;a.preventDefault();break}o==null||o(a)}}function Yz(t){var e=t.onFocus,r=t.onBlur,n=H.useState(!1),i=n[0],o=n[1],a=H.useCallback(function(u){o(!0),e==null||e(u)},[e]),l=H.useCallback(function(u){o(!1),r==null||r(u)},[r]);return[i,{onFocus:a,onBlur:l}]}function Xz(t,e){var r=H.useRef(0),n=H.useCallback(function(){r.current+=1},[]),i=H.useCallback(function(){r.current=0},[]),o=H.useCallback(function(){return r.current===0},[]),a=H.useCallback(function(l,u){var h=D2e(t,u);if(l.toString().length===h.length)return!0;if(u==="y"&&r.current===4)return!0;if(u!=="y"&&r.current===2)return!0;switch(u){case"M":return parseInt(l+"0")>12;case"d":return parseInt(l+"0")>31;case"H":return parseInt(l+"0")>23;case"h":return parseInt(l+"0")>12;case"m":case"s":return parseInt(l+"0")>59;default:return!1}},[t]);return d_(function(){e||i()},[e]),{increment:n,reset:i,isMoveCursor:a,isResetValue:o}}var V2e={selectedPattern:"y",selectionStart:0,selectionEnd:0};function Gz(){var t=H.useState(V2e),e=t[0],r=t[1];return{selectedState:e,setSelectedState:r}}var W2e=["format","value","defaultValue","placeholder","onChange","onKeyDown","onBlur","onFocus","onPaste"],f_=ke.forwardRef(function(t,e){var r=Xi("DateInput",t),n=r.propsWithDefaults,i=r.parseDate,o=r.getLocale,a=o("DateTimeFormats"),l=a.dateLocale,u=a.shortDateFormat,h=n.format,f=h===void 0?u:h,m=n.value,x=n.defaultValue,w=n.placeholder,S=n.onChange,C=n.onKeyDown,A=n.onBlur,E=n.onFocus,P=n.onPaste,I=Xr(n,W2e),N=H.useRef(),D=Gz(),L=D.selectedState,R=D.setSelectedState,$=h_(m,x),W=$[0],J=$[1],q=$[2],ee=$C({formatStr:f,locale:l,date:W,isControlledDate:q}),se=ee.dateField,he=ee.setDateOffset,Se=ee.setDateField,oe=ee.setNewDate,_e=ee.getDateField,xe=ee.toDateString,Ne=ee.isEmptyValue,Re=Xz(f,m),He=Re.isMoveCursor,tt=Re.isResetValue,nt=Re.increment,Ke=Re.reset,Ue=xe(),Xe=H.useMemo(function(){return{formatStr:f,localize:l.localize,selectedMonth:se.month,dateString:Ue}},[se,Ue,f,l]),Ae=Vz(N),We=zr(function(ct,rr){S==null||S(ct,rr),J(ct)}),qe=zr(function(ct){We(null,ct),oe(null),Ae(0,0),Ke()}),pt=zr(function(ct,rr){var gr=ct.target,Fr=ct.key,en=rr||(Fr==="ArrowRight"?"right":"left"),kn=Mg(kt({},Xe,{input:gr,direction:en}));R(kn),Ae(kn.selectionStart,kn.selectionEnd),L.selectedPattern!==kn.selectedPattern&&Ke()}),Pt=zr(function(ct){var rr=ct.target,gr=ct.key,Fr=gr==="ArrowUp"?1:-1,en=Mg(kt({},Xe,{input:rr,valueOffset:Fr}));R(en),he(en.selectedPattern,Fr,function(kn){return We(kn,ct)}),Ae(en.selectionStart,en.selectionEnd)}),Ht=zr(function(ct){var rr=ct.target,gr=ct.key,Fr=L.selectedPattern;if(Fr){var en=_e(Fr),kn=parseInt(gr,10),Xn=parseInt(""+(en.value||"")+gr,10),fn=kn;Uz(en.name,Xn)&&!tt()&&(fn=Xn),Se(Fr,fn,function(Sr){return We(Sr,ct)});var Et=Fr==="M"?fn:se.month,Lt=Mg(kt({},Xe,{input:rr,selectedMonth:Et}));R(Lt),Ae(Lt.selectionStart,Lt.selectionEnd),nt(),He(fn,Fr)&&rr.selectionEnd!==rr.value.length&&pt(ct,"right")}}),dt=zr(function(ct){var rr=ct.target,gr=rr.value;if(rr.selectionStart===0&&gr&&rr.selectionEnd===gr.length)qe(ct);else if(L.selectedPattern){var Fr=Mg(kt({},Xe,{input:rr,valueOffset:null}));R(Fr),Ae(Fr.selectionStart,Fr.selectionEnd),Se(L.selectedPattern,null,function(en){return We(en,ct)}),Ke()}}),yt=zr(function(ct){var rr=ct.target,gr=Mg(kt({},Xe,{input:rr}));R(gr),Ae(gr.selectionStart,gr.selectionEnd),L.selectedPattern!==gr.selectedPattern&&Ke()}),sr=zr(function(ct){var rr;ct.preventDefault();var gr=(rr=ct.clipboardData)===null||rr===void 0?void 0:rr.getData("text"),Fr=i(gr,f);mo(Fr)&&(We(Fr,ct),oe(Fr)),P==null||P(ct)}),kr=Wz({onSegmentChange:pt,onSegmentValueChange:Pt,onSegmentValueChangeWithNumericKeys:Ht,onSegmentValueRemove:dt,onKeyDown:C}),rn=Yz({onBlur:A,onFocus:E}),xt=rn[0],qt=rn[1],tr=H.useMemo(function(){return Ne()?xt?Ue:"":Ue},[Ue,xt,Ne]);return ke.createElement(gy,kt({inputMode:xt?"numeric":"text",autoComplete:"off",autoCorrect:"off",spellCheck:!1,ref:hl(N,e),onKeyDown:kr,onClick:yt,onPaste:sr,value:tr,placeholder:w||f},qt,I))});f_.displayName="DateInput";f_.propTypes={defaultValue:Ee.instanceOf(Date),format:Ee.string,value:Ee.instanceOf(Date),placeholder:Ee.string,onChange:Ee.func,onKeyDown:Ee.func,onBlur:Ee.func,onFocus:Ee.func};var Y2e=aT,X2e=_6,G2e=uy;function q2e(t,e){var r={};return e=G2e(e),X2e(t,function(n,i,o){Y2e(r,i,e(n,i,o))}),r}var Z2e=q2e;const K2e=Qn(Z2e);function J2e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q2e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){J2e(t,i,r[i])})}return t}var eSe=function(t,e){return H.createElement("svg",Q2e({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:e},t),H.createElement("path",{d:"M4.5 0a.5.5 0 0 1 .5.5V2h6V.5a.5.5 0 0 1 1 0V2h1.5A1.5 1.5 0 0 1 15 3.5V6H2v7.5a.5.5 0 0 0 .5.5h11a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 1 0v3a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 1 13.5v-10A1.5 1.5 0 0 1 2.5 2H4V.5a.5.5 0 0 1 .5-.5M14 5V3.5a.5.5 0 0 0-.5-.5H12v2zm-3 0V3H5v2zM4 5V3H2.5a.5.5 0 0 0-.5.5V5z"}),H.createElement("path",{d:"M5 8v1H4V8zM8 8H7v1h1zM10 8h1v1h-1zM5 12v-1H4v1zM7 11h1v1H7zM11 11h-1v1h1z"}))},tSe=H.forwardRef(eSe),rSe=xm({as:tSe,ariaLabel:"calender simple",category:"time",displayName:"CalenderSimple"});function nSe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iSe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){nSe(t,i,r[i])})}return t}var aSe=function(t,e){return H.createElement("svg",iSe({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:e},t),H.createElement("path",{d:"M10.575.423a.5.5 0 0 1-.321.947 7 7 0 1 0 3.988 3.457.5.5 0 0 1 .891-.454 8 8 0 1 1-4.557-3.95z"}),H.createElement("path",{d:"M7.5 9a.5.5 0 0 1-.5-.5v-5a.5.5 0 0 1 1 0V8h3.5a.5.5 0 0 1 0 1z"}))},oSe=H.forwardRef(aSe),sSe=xm({as:oSe,ariaLabel:"time",category:"time",displayName:"Time"}),Nl=function(t){return t.TIME="TIME",t.MONTH="MONTH",t}({}),lSe=function(e){var r=H.useState(e.defaultState),n=r[0],i=r[1],o=zr(function(){if(i(void 0),n===Nl.TIME){var m;(m=e.onToggleTimeDropdown)===null||m===void 0||m.call(e,!1)}else if(n===Nl.MONTH){var x;(x=e.onToggleMonthDropdown)===null||x===void 0||x.call(e,!1)}}),a=zr(function(){var m;(m=e.onMoveForward)===null||m===void 0||m.call(e,zv(e.calendarDate,1))}),l=zr(function(){var m;(m=e.onMoveBackward)===null||m===void 0||m.call(e,zv(e.calendarDate,-1))}),u=zr(function(){var m;n===Nl.TIME?i(void 0):i(Nl.TIME),(m=e.onToggleTimeDropdown)===null||m===void 0||m.call(e,n!==Nl.TIME)}),h=zr(function(){var m;n===Nl.MONTH?i(void 0):i(Nl.MONTH),(m=e.onToggleMonthDropdown)===null||m===void 0||m.call(e,n!==Nl.MONTH)}),f=H.useMemo(function(){return{onMoveForward:a,onMoveBackward:l,onToggleTimeDropdown:u,onToggleMonthDropdown:h}},[l,a,h,u]);return{calendarState:n,handlers:f,reset:o}},cSe=function(e,r){var n,i=H.useRef(e),o=H.useState((n=e??r)!==null&&n!==void 0?n:qu()),a=o[0],l=o[1],u=H.useCallback(function(f){f&&(f==null?void 0:f.valueOf())!==(a==null?void 0:a.valueOf())&&l(f)},[a]),h=H.useCallback(function(f){var m,x;f===void 0&&(f=e),l((m=(x=f)!==null&&x!==void 0?x:r)!==null&&m!==void 0?m:qu())},[r,e]);return d_(function(){var f;if((e==null?void 0:e.valueOf())!==((f=i.current)===null||f===void 0?void 0:f.valueOf())){var m;u((m=e??r)!==null&&m!==void 0?m:qu()),i.current=e}},[e,r]),{calendarDate:a,setCalendarDate:u,resetCalendarDate:h}},qz=ke.createContext({}),uSe=qz.Provider,Zc=function(){return H.useContext(qz)};function BT(t,e,r){return r?r(t,e):Q1(t,e)}function Zz(t,e,r){for(var n=X6(new Date(t,e)),i=1;i<=n;i++)if(!r(new Date(t,e,i)))return!1;return!0}var hSe=["as","className","classPrefix","active","disabled","month","year"],Kz=ke.forwardRef(function(t,e){var r=t.as,n=r===void 0?"div":r,i=t.className,o=t.classPrefix,a=o===void 0?"calendar-month-dropdown-cell":o,l=t.active,u=t.disabled,h=t.month,f=h===void 0?0:h,m=t.year,x=Xr(t,hSe),w=Zc(),S=w.date,C=w.onChangeMonth,A=w.locale,E=Xi("Calendar"),P=E.getLocale,I=E.formatDate,N=P("Calendar",A),D=N.formattedMonthPattern,L=H.useMemo(function(){return m&&f?yge(function(he){return tz(he,m)},function(he){return ET(he,f-1)})(S):S},[S,f,m]),R=zr(function(he){u||C==null||C(L,he)}),$=Wn(a),W=$.prefix,J=$.merge,q=$.withClassPrefix,ee=J(i,q({active:l}),{disabled:u}),se=L?BT(L,D,I):"";return ke.createElement(n,kt({key:f,role:"gridcell","aria-selected":l,"aria-disabled":u,"aria-label":se,tabIndex:l?0:-1,ref:e,className:ee,onClick:R},x),ke.createElement("span",{className:W("content")},I(L,"MMM")))});Kz.displayName="MonthDropdownItem";var dSe=["as","className","classPrefix","limitStartYear","limitEndYear","show","height","width","disabledMonth"],fSe=["className","itemClassName","as","itemAs"],pSe=[0,1,2,3,4,5,6,7,8,9,10,11],eD=108,Jz=ke.forwardRef(function(t,e){var r=t.as,n=r===void 0?"div":r,i=t.className,o=t.classPrefix,a=o===void 0?"calendar-month-dropdown":o,l=t.limitStartYear,u=t.limitEndYear,h=u===void 0?5:u,f=t.show,m=t.height,x=m===void 0?221:m,w=t.width,S=w===void 0?256:w,C=t.disabledMonth,A=Xr(t,dSe),E=Zc(),P=E.date,I=P===void 0?new Date:P,N=E.targetId,D=E.monthDropdownProps,L=Wn(a),R=L.prefix,$=L.merge,W=L.withClassPrefix,J=m2(new Date),q=l?J-l+1:1900,ee=H.useMemo(function(){var Ue=J+h;return Ue-q},[h,q,J]),se=H.useCallback(function(Ue,Xe){return C?Zz(Ue,Xe,C):!1},[C]),he=D||{},Se=he.className,oe=he.itemClassName,_e=he.as,xe=he.itemAs,Ne=xe===void 0?"div":xe,Re=Xr(he,fSe),He=H.useCallback(function(Ue){var Xe=Ue.index,Ae=Ue.style,We=axe(I),qe=m2(I),pt=q+Xe,Pt=pt===qe,Ht=R("year",{"year-active":Pt});return ke.createElement(Ne,{role:"row","aria-label":""+pt,className:$(oe,R("row"),{"first-row":Xe===0,"last-row":Xe===ee-1}),style:Ae},ke.createElement("div",{className:Ht,role:"rowheader"},pt),ke.createElement("div",{className:R("list")},pSe.map(function(dt,yt){return ke.createElement(Kz,{disabled:se(pt,yt),active:Pt&&yt===We,key:yt+"_"+dt,month:yt+1,year:pt})})))},[Ne,I,se,$,R,oe,ee,q]),tt=$(i,W(),{show:f}),nt=m2(I)-q,Ke=eD*nt;return f?ke.createElement(n,kt({ref:e,role:"grid",tabIndex:-1,className:tt,"aria-labelledby":N?N+"-grid-label":void 0,id:N?N+"-calendar-month-dropdown":void 0,"data-testid":"calendar-month-dropdown"},A),ke.createElement("div",{className:R("scroll")},ke.createElement(d2e,{defaultHeight:x,defaultWidth:S},function(Ue){var Xe=Ue.height,Ae=Ue.width;return ke.createElement(S2e,kt({className:$(R("row-wrapper"),Se),width:Ae||S,height:Xe||x,itemSize:eD,itemCount:ee,initialScrollOffset:Ke,innerElementType:_e},Re),He)}))):null});Jz.displayName="MonthDropdown";var mSe=xT,gSe=Rj,vSe=KE,ySe=Kb,xSe=32,$T=mSe(function(t,e){var r=ySe(e,vSe($T));return gSe(t,xSe,void 0,e,r)});$T.placeholder={};var bSe=$T;const HC=Qn(bSe);var _Se=Gwe,wSe=eT,SSe=wSe(function(t,e,r){return e=e.toLowerCase(),t+(r?_Se(e):e)}),CSe=SSe;const tD=Qn(CSe);var kSe=["prefix","title","children"],rD=function(e){var r=e.prefix,n=e.title,i=e.children,o=Xr(e,kSe);return ke.createElement("div",{className:r("column")},ke.createElement("div",{className:r("column-title")},n),ke.createElement(Fz,kt({customScrollbar:!0,as:"ul",role:"listbox"},o),i))};function ESe(t){var e={start:0,end:23},r={start:0,end:11},n={start:0,end:59};return{hours:t?r:e,minutes:n,seconds:n}}var TSe=function(e){return String(e).padStart(2,"0")};function ASe(t,e){if(e){var r=function(i,o,a){var l=i.querySelector('[data-key="'+a+"-"+o+'"]');if(l){var u=Fj(l,i);u&&_p(i,u.top)}};Object.entries(t).forEach(function(n){var i=n[0],o=n[1],a=e.querySelector('[data-type="'+i+'"]');a&&r(a,o,i)})}}function PSe(t){return t>=12?t-12:t}function nD(t){var e=t.format,r=t.date,n=t.showMeridiem,i={hours:null,minutes:null,seconds:null,meridiem:null};if(!e)return i;if(/(H|h)/.test(e)&&r){var o=Sp(r);i.hours=n?PSe(o):o,i.meridiem=o>=12?"PM":"AM"}return/m/.test(e)&&r&&(i.minutes=_T(r)),/s/.test(e)&&r&&(i.seconds=wT(r)),i}var MSe=["as","className","classPrefix","show","showMeridiem"],Qz=ke.forwardRef(function(t,e){var r=t.as,n=r===void 0?"div":r,i=t.className,o=t.classPrefix,a=o===void 0?"calendar-time-dropdown":o,l=t.show,u=t.showMeridiem,h=u===void 0?!1:u,f=Xr(t,MSe),m=Zc(),x=m.locale,w=m.format,S=m.date,C=m.onChangeTime,A=m.targetId,E=H.useRef(null);H.useEffect(function(){var ee=nD({format:w,date:S,showMeridiem:h});l&&E.current&&ASe(ee,E.current)},[S,w,l,h]);var P=zr(function(ee,se,he){var Se=S||qu();switch(ee){case"hours":Se=LC(Se,h&&Sp(Se)>=12?se+12:se);break;case"minutes":Se=Q6(Se,se);break;case"seconds":Se=ez(Se,se);break}C==null||C(Se,he)}),I=zr(function(ee,se){var he=S||qu(),Se=Sp(he),oe=Se<12,_e=function(He,tt){return He==="AM"?oe?tt:tt-12:oe?tt+12:tt},xe=_e(ee,Se),Ne=LC(he,xe);C==null||C(Ne,se)}),N=Wn(a),D=N.prefix,L=N.rootPrefix,R=N.merge,$=function(se,he){if(!u2e(he))return null;for(var Se=ESe(h)[se],oe=Se.start,_e=Se.end,xe=[],Ne=t[tD("hide_"+se)],Re=t[tD("disabled_"+se)],He=oe;He<=_e;He+=1)if(!(Ne!=null&&Ne(He,S))){var tt=Re==null?void 0:Re(He,S),nt=D("cell",{"cell-active":he===He,"cell-disabled":tt});xe.push(ke.createElement("li",{key:He,role:"option",tabIndex:-1,"aria-label":He+" "+se,"aria-selected":he===He,"aria-disabled":tt,"data-key":se+"-"+He,onClick:tt?void 0:HC(P,se,He)},ke.createElement("span",{className:nt},h&&se==="hours"&&He===0?12:TSe(He))))}return ke.createElement(rD,{prefix:D,title:x==null?void 0:x[se],"data-type":se,"aria-label":"Select "+se},xe)},W=function(){var se=["AM","PM"];return ke.createElement(rD,{prefix:D,title:"AM/PM","data-type":"meridiem","aria-label":"Select meridiem"},se.map(function(he,Se){var oe=S&&(Sp(S)>=12?"PM":"AM"),_e=D("cell",{"cell-active":oe===he});return ke.createElement("li",{key:Se,role:"option",tabIndex:-1,"aria-label":he,"aria-selected":oe===he,"data-key":"meridiem-"+he,onClick:HC(I,he)},ke.createElement("span",{className:_e},he))}))},J=nD({format:w,date:S,showMeridiem:h}),q=R(i,L(a),{show:l});return ke.createElement(n,kt({role:"group",tabIndex:-1,id:A?A+"-"+a:void 0},nz(f),{ref:e,className:q}),ke.createElement("div",{className:D("content")},ke.createElement("div",{className:D("row"),ref:E},$("hours",J.hours),$("minutes",J.minutes),$("seconds",J.seconds),h&&W())))});Qz.displayName="TimeDropdown";var ISe=["as","classPrefix","disabled","selected","date","onSelect","unSameMonth","rangeStart","rangeEnd","inRange"],eF=ke.forwardRef(function(t,e){var r=t.as,n=r===void 0?"div":r,i=t.classPrefix,o=i===void 0?"calendar-table":i,a=t.disabled,l=t.selected,u=t.date,h=t.onSelect,f=t.unSameMonth,m=t.rangeStart,x=t.rangeEnd,w=t.inRange,S=Xr(t,ISe),C=Zc(),A=C.onMouseMove,E=C.cellClassName,P=C.renderCell,I=C.renderCellOnPicker,N=C.locale,D=Wn(o),L=D.prefix,R=D.merge,$=Xi(),W=$.getLocale,J=$.formatDate,q=W("Calendar",N),ee=q.formattedDayPattern,se=q.today,he=ee,Se=BT(u,he,J),oe=new Date,_e=Bx(u,oe),xe=R(L("cell",{"cell-un-same-month":f,"cell-is-today":_e,"cell-selected":l,"cell-selected-start":m,"cell-selected-end":x,"cell-in-range":!f&&w,"cell-disabled":a}),E==null?void 0:E(u));return ke.createElement(n,kt({ref:e,role:"gridcell","aria-label":Se,"aria-selected":l||void 0,"aria-disabled":a||void 0,tabIndex:l?0:-1,title:_e?Se+" ("+se+")":Se,className:xe,onMouseEnter:!a&&A?A.bind(null,u):void 0,onClick:h?HC(h,u,a):void 0},S),ke.createElement("div",{className:L("cell-content")},I?I(u):ke.createElement("span",{className:L("cell-day")},ixe(u)),P==null?void 0:P(u)))});eF.displayName="CalendarGridCell";var OSe=["as","className","classPrefix","weekendDate","rowIndex"],tF=ke.forwardRef(function(t,e){var r,n,i=t.as,o=i===void 0?"div":i,a=t.className,l=t.classPrefix,u=l===void 0?"calendar-table":l,h=t.weekendDate,f=h===void 0?new Date:h,m=t.rowIndex,x=Xr(t,OSe),w=Zc(),S=w.date,C=S===void 0?new Date:S,A=w.dateRange,E=w.hoverRangeValue,P=w.isoWeek,I=w.weekStart,N=w.showWeekNumbers,D=w.locale,L=w.inSameMonth,R=w.disabledDate,$=w.onSelect,W=Wn(u),J=W.prefix,q=W.merge,ee=H.useCallback(function(Ne,Re,He){Re||$==null||$(Ne,He)},[$]),se=function(){for(var Re=[],He=A||[],tt=He[0],nt=He[1],Ke=E??[],Ue=Ke[0],Xe=Ke[1],Ae=typeof A<"u",We=0;We<7;We+=1){var qe=hy(f,We),pt=R==null?void 0:R(qe,A,Rbe.CALENDAR),Pt=!(L!=null&&L(qe)),Ht=!Pt&&tt&&Bx(qe,tt),dt=!Pt&&nt&&Bx(qe,nt),yt=Ae?Ht||dt:Bx(qe,C),sr=!1;tt&&nt&&(ox(qe,nt)&&ax(qe,tt)&&(sr=!0),ox(qe,tt)&&ax(qe,nt)&&(sr=!0)),!yt&&Ue&&Xe&&(!ax(qe,Xe)&&!ox(qe,Ue)&&(sr=!0),!ax(qe,Ue)&&!ox(qe,Xe)&&(sr=!0)),Re.push(ke.createElement(eF,{key:Q1(qe,"yyyy-MM-dd"),date:qe,disabled:pt,selected:yt,onSelect:ee,unSameMonth:Pt,rangeStart:Ht,rangeEnd:dt,inRange:sr}))}return Re},he=q(a,J("row")),Se=(r=D==null||(n=D.dateLocale)===null||n===void 0?void 0:n.options)!==null&&r!==void 0?r:{},oe=Se.firstWeekContainsDate,_e=Se.weekStartsOn,xe=Q1(f,P?"I":"w",{locale:D==null?void 0:D.dateLocale,firstWeekContainsDate:oe,weekStartsOn:I||_e});return ke.createElement(o,kt({},x,{ref:e,role:"row","aria-rowindex":m,className:he}),N&&ke.createElement("div",{role:"rowheader","aria-label":"Week "+xe,className:J("cell-week-number")},xe),se())});tF.displayName="CalendarGridRow";var DSe=["as","className","classPrefix"],rF=ke.forwardRef(function(t,e){var r=t.as,n=r===void 0?"div":r,i=t.className,o=t.classPrefix,a=o===void 0?"calendar-table":o,l=Xr(t,DSe),u=Zc(),h=u.locale,f=u.showWeekNumbers,m=u.isoWeek,x=u.weekStart,w=Wn(a),S=w.merge,C=w.prefix,A=S(i,C("row","header-row")),E=u1e(m?1:x);return ke.createElement(n,kt({role:"row"},l,{ref:e,className:A}),f&&ke.createElement("div",{className:C("header-cell"),role:"columnheader"}),E.map(function(P){return ke.createElement("div",{key:P,className:C("header-cell"),role:"columnheader","aria-label":Vwe(P)},ke.createElement("span",{className:C("header-cell-content")},h==null?void 0:h[P]))}))});rF.displayName="CalendarGridHeaderRow";var NSe=["as","className","classPrefix","rows"],nF=ke.forwardRef(function(t,e){var r=t.as,n=r===void 0?"div":r,i=t.className,o=t.classPrefix,a=o===void 0?"calendar-table":o,l=t.rows,u=l===void 0?[]:l,h=Xr(t,NSe),f=Wn(a),m=f.merge,x=f.withClassPrefix,w=m(i,x()),S=Zc(),C=S.targetId;return ke.createElement(n,kt({role:"grid",tabIndex:-1,id:C?C+"-"+a:void 0},h,{ref:e,className:w}),ke.createElement(rF,null),u.map(function(A,E){return ke.createElement(tF,{key:E,weekendDate:A,rowIndex:E+1})}))});nF.displayName="CalendarGrid";var LSe=["as","className","classPrefix"],iF=ke.forwardRef(function(t,e){var r=t.as,n=r===void 0?"div":r,i=t.className,o=t.classPrefix,a=o===void 0?"calendar-body":o,l=Xr(t,LSe),u=Zc(),h=u.date,f=h===void 0?new Date:h,m=u.isoWeek,x=u.locale,w=u.weekStart,S=Xi(),C=S.getLocale,A=S.formatDate,E=C("Calendar",x),P=J6(f,1),I=Wn(a),N=I.merge,D=I.withClassPrefix,L=N(i,D());return ke.createElement(n,kt({},l,{ref:e,className:L}),ke.createElement(nF,{rows:c1e(P,{isoWeek:m,weekStart:w,locale:E==null?void 0:E.dateLocale}),"aria-label":A(P,E.formattedMonthPattern)}))});iF.displayName="CalendarBody";var aF=ke.createContext({});aF.Provider;var RSe=function(){return H.useContext(aF)||{}},jSe=["as","className","classPrefix","disabledBackward","disabledForward","showDate","showMonth","showTime","disabledTime","onMoveBackward","onMoveForward","onToggleMonthDropdown","onToggleTimeDropdown","renderTitle","renderToolbar"],oF=ke.forwardRef(function(t,e){var r=t.as,n=r===void 0?"div":r,i=t.className,o=t.classPrefix,a=o===void 0?"calendar-header":o,l=t.disabledBackward,u=t.disabledForward,h=t.showDate,f=t.showMonth,m=t.showTime,x=t.disabledTime,w=t.onMoveBackward,S=t.onMoveForward,C=t.onToggleMonthDropdown,A=t.onToggleTimeDropdown,E=t.renderTitle,P=t.renderToolbar,I=Xr(t,jSe),N=Zc(),D=N.locale,L=N.date,R=L===void 0?new Date:L,$=N.format,W=N.inline,J=N.disabledDate,q=N.targetId,ee=RSe(),se=ee.isSelectedIdle,he=Wn(a),Se=he.prefix,oe=he.withClassPrefix,_e=he.merge,xe={appearance:"subtle",size:W?"sm":"xs"},Ne=H.useMemo(function(){var pt=(D==null?void 0:D.shortTimeFormat)||"HH:mm";return $&&J1e($)||pt},[$,D]),Re=H.useMemo(function(){return f?(D==null?void 0:D.formattedMonthPattern)||"yyyy-MM":"yyyy"},[D,f]),He=function(){var Pt;return(Pt=E==null?void 0:E(R))!==null&&Pt!==void 0?Pt:R&&ke.createElement(EO,{date:R,formatStr:Re})},tt=Se("title","title-date",{error:J==null?void 0:J(R)}),nt=Se("title","title-time",{error:x==null?void 0:x(R)}),Ke=Se("backward",{"btn-disabled":l}),Ue=Se("forward",{"btn-disabled":u}),Xe=ke.createElement("div",{className:Se("month-toolbar")},ke.createElement(tb,kt({},xe,{"aria-label":"Previous month",className:Ke,onClick:l?void 0:w,icon:ke.createElement(K_e,null)})),ke.createElement(ih,kt({},xe,{"aria-label":"Select month",id:q?q+"-grid-label":void 0,className:tt,onClick:C}),He()),ke.createElement(tb,kt({},xe,{"aria-label":"Next month",className:Ue,onClick:u?void 0:S,icon:ke.createElement(rwe,null)}))),Ae=h||f,We=_e(i,oe({"has-month":Ae,"has-time":m})),qe=typeof se>"u"?!1:!se;return ke.createElement(n,kt({},I,{ref:e,className:We}),Ae&&Xe,m&&ke.createElement("div",{className:Se("time-toolbar")},ke.createElement(ih,kt({},xe,{"aria-label":"Select time",className:nt,onClick:A,disabled:qe}),R&&ke.createElement(EO,{date:R,formatStr:Ne}))),P==null?void 0:P(R))});oF.displayName="CalendarHeader";function zSe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FSe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){zSe(t,i,r[i])})}return t}var BSe=function(t,e){return H.createElement("svg",FSe({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:e},t),H.createElement("path",{d:"M12 10 8 6l-4 4z"}))},$Se=H.forwardRef(BSe),HSe=xm({as:$Se,ariaLabel:"arrow up",category:"direction",displayName:"ArrowUp"}),USe=["as","className","classPrefix","calendarDate","dateRange","disabledBackward","defaultState","disabledForward","format","hoverRangeValue","inline","isoWeek","weekStart","targetId","limitEndYear","limitStartYear","locale","monthDropdownProps","showMeridiem","showWeekNumbers","cellClassName","disabledDate","onChangeMonth","onChangeTime","onMouseMove","onMoveBackward","onMoveForward","onSelect","onToggleMonthDropdown","onToggleTimeDropdown","renderCell","renderCellOnPicker","renderTitle","renderToolbar"],sF=ke.forwardRef(function(t,e){var r=t.as,n=r===void 0?"div":r,i=t.className,o=t.classPrefix,a=o===void 0?"calendar":o,l=t.calendarDate,u=t.dateRange,h=t.disabledBackward,f=t.defaultState,m=t.disabledForward,x=t.format,w=t.hoverRangeValue,S=t.inline,C=t.isoWeek,A=C===void 0?!1:C,E=t.weekStart,P=E===void 0?0:E,I=t.targetId,N=t.limitEndYear,D=t.limitStartYear,L=t.locale,R=t.monthDropdownProps,$=t.showMeridiem,W=t.showWeekNumbers,J=t.cellClassName,q=t.disabledDate,ee=t.onChangeMonth,se=t.onChangeTime,he=t.onMouseMove,Se=t.onMoveBackward,oe=t.onMoveForward,_e=t.onSelect,xe=t.onToggleMonthDropdown,Ne=t.onToggleTimeDropdown,Re=t.renderCell,He=t.renderCellOnPicker,tt=t.renderTitle,nt=t.renderToolbar,Ke=Xr(t,USe),Ue=Wn(a),Xe=Ue.withClassPrefix,Ae=Ue.merge,We=Ue.prefix,qe=H.useMemo(function(){return mo(l)?l:qu()},[l]),pt=lSe({defaultState:f,calendarDate:qe,onMoveForward:oe,onMoveBackward:Se,onToggleTimeDropdown:Ne,onToggleMonthDropdown:xe}),Pt=pt.calendarState,Ht=pt.reset,dt=pt.handlers,yt=function(fn){var Et;return(Et=q==null?void 0:q(fn))!==null&&Et!==void 0?Et:!1},sr=function(fn){return iz(t,fn)},kr=zr(function(){return Ht()}),rn=az(x),xt=rn.mode,qt=rn.has,tr=Pt===Nl.TIME||xt===cs.Time,ct=Pt===Nl.MONTH||xt===cs.Month,rr=function(fn){return oxe(qe,fn)},gr=Ae(i,Xe({"time-view":tr,"month-view":ct,"only-time":xt===cs.Time,"show-week-numbers":W})),Fr=Fv(Ke,TT),en=zr(function(Xn,fn){Ht(),ee==null||ee(Xn,fn)}),kn={date:qe,dateRange:u,format:x,hoverRangeValue:w,inline:S,isoWeek:A,weekStart:P,targetId:I,locale:L,showWeekNumbers:W,monthDropdownProps:R,cellClassName:J,disabledDate:yt,inSameMonth:rr,onChangeMonth:en,onChangeTime:se,onMouseMove:he,onSelect:_e,renderCell:Re,renderCellOnPicker:He};return ke.createElement(uSe,{value:kn},ke.createElement(n,kt({"data-testid":"calendar"},nz(Ke),{className:gr,ref:e}),xt!==cs.Time&&ke.createElement(oF,kt({},dt,{showMonth:qt("month"),showDate:qt("day"),showTime:qt("time"),disabledTime:sr,renderTitle:tt,renderToolbar:nt,disabledBackward:h,disabledForward:m})),qt("day")&&ke.createElement(iF,null),qt("month")&&ke.createElement(Jz,{show:ct,limitEndYear:N,limitStartYear:D,disabledMonth:yt}),qt("time")&&ke.createElement(Qz,kt({},Fr,{show:tr,showMeridiem:$})),(ct||tr)&&qt("day")&&ke.createElement("button",{className:We("btn-close"),onClick:kr,"aria-label":"Collapse "+(ct?"month":"time")+" view"},ke.createElement(HSe,null))))});sF.displayName="CalendarContainer";var VSe=["value"];function lF(t){var e=qu();return t instanceof Array?[{label:"today",value:[Cp(e),Fx(e)]},{label:"yesterday",value:[Cp(sx(e,1)),Fx(sx(e,1))]},{label:"last7Days",value:[Cp(sx(e,6)),Fx(e)]}]:[{label:"today",value:e},{label:"yesterday",value:sx(e,1)}]}var WSe=function(e){var r=e.calendarDate;return function(n){var i=n.value,o=Xr(n,VSe);return kt({value:typeof i=="function"?i(r):i},o)}},iD=function(e){var r=e.ranges,n=e.calendarDate;return typeof r>"u"?lF(n):r.map(WSe({calendarDate:n}))};function YSe(t){var e=(t==null?void 0:t.filter(function(n){return(n==null?void 0:n.placement)==="left"}))||[],r=(t==null?void 0:t.filter(function(n){return(n==null?void 0:n.placement)==="bottom"||(n==null?void 0:n.placement)===void 0}))||[];return{sideRanges:e,bottomRanges:r}}var XSe={disabledDate:dx(Ee.func,'Use "shouldDisableDate" property instead.'),disabledHours:dx(Ee.func,'Use "shouldDisableHour" property instead.'),disabledMinutes:dx(Ee.func,'Use "shouldDisableMinute" property instead.'),disabledSeconds:dx(Ee.func,'Use "shouldDisableSecond" property instead.')},GSe=function(e,r){return r===void 0&&(r=[]),c_(e,[].concat(Rz,TT,r))},qSe=["className","disableShortcut","onShortcutClick","calendarDate","ranges","locale"],ZSe=["value","closeOverlay","label"],cF=ke.forwardRef(function(t,e){var r=t.className,n=t.disableShortcut,i=t.onShortcutClick,o=t.calendarDate,a=t.ranges,l=t.locale,u=Xr(t,qSe),h=H.useState(iD(t)),f=h[0],m=h[1];d_(function(){m(iD({ranges:a,calendarDate:o}))},[o,a]);var x=H.useCallback(function(w){return lF(o).some(function(S){return S.label===w})},[o]);return f.length===0?null:ke.createElement(Td,kt({className:r,ref:e,alignItems:"flex-start",spacing:4},u),f.map(function(w,S){var C=w.value,A=w.closeOverlay,E=w.label,P=Xr(w,ZSe),I=n==null?void 0:n(C),N=function(L){I||i==null||i(w,A!==!1,L)};return ke.createElement(ih,kt({appearance:"link",size:"sm",key:S,disabled:I,onClick:N},P),x(E)&&typeof E=="string"?l==null?void 0:l[E]:E)}))}),KSe=["className","classPrefix","calendarDate","ranges","locale","hideOkBtn","disableOkBtn","disableShortcut","onOk","onShortcutClick"],JSe=function(e){var r=e.disableOkBtn,n=e.calendarDate,i=e.onOk,o=e.children,a=r==null?void 0:r(n);return ke.createElement(ih,{appearance:"primary",size:"sm",disabled:a,onClick:a?void 0:i},o)},uF=ke.forwardRef(function(e,r){var n=e.className,i=e.classPrefix,o=i===void 0?"picker-toolbar":i,a=e.calendarDate,l=e.ranges,u=e.locale,h=e.hideOkBtn,f=e.disableOkBtn,m=e.disableShortcut,x=e.onOk,w=e.onShortcutClick,S=Xr(e,KSe),C=Wn(o),A=C.merge,E=C.prefix,P=C.withClassPrefix;if(h&&(l==null?void 0:l.length)===0)return null;var I=A(n,P());return ke.createElement(Td,kt({ref:r,className:I,justifyContent:"space-between",alignItems:"flex-start"},S),ke.createElement(cF,{wrap:!0,className:E("ranges"),ranges:l,calendarDate:a,locale:u,disableShortcut:m,onShortcutClick:w,"data-testid":"daterange-predefined-bottom"}),ke.createElement("div",{className:E("right")},!h&&ke.createElement(JSe,{disableOkBtn:f,calendarDate:a,onOk:x},u==null?void 0:u.ok)))});uF.displayName="Toolbar";function QSe(t){var e=t.onToggleMonthDropdown,r=H.useState(!1),n=r[0],i=r[1],o=zr(function(a){e==null||e(a),i(a)});return{monthView:n,setMonthView:i,toggleMonthView:o}}var eCe="Expected a function";function tCe(t,e,r){if(typeof t!="function")throw new TypeError(eCe);return setTimeout(function(){t.apply(void 0,r)},e)}var rCe=tCe,nCe=rCe,iCe=xT,aCe=Nj,oCe=iCe(function(t,e,r){return nCe(t,aCe(e)||0,r)}),sCe=oCe;const aD=Qn(sCe);function lCe(t){var e=t.target,r=t.showMonth,n=t.id,i=t.locale,o=Xi(),a=o.getLocale,l=o.formatDate,u=a("DateTimeFormats",i),h=u.formattedMonthPattern,f=u.formattedDayPattern,m=function(){return r?document.getElementById(n+"-calendar-month-dropdown"):document.getElementById(n+"-calendar-table")},x=function(E){var P=r?h:f,I=BT(E,P,l),N=m(),D=N==null?void 0:N.querySelector('[aria-label="'+I+'"]');return(D==null?void 0:D.getAttribute("aria-disabled"))!=="true"},w=function(){aD(function(){var E=m(),P=E==null?void 0:E.querySelector('[aria-selected="true"]');P==null||P.focus()},1)},S=zr(function(){aD(function(){var A;return(A=e.current)===null||A===void 0?void 0:A.focus()},1)}),C=zr(function(A,E){var P=E.date,I=E.callback,N=0,D=r?6:7,L=r?zv:hy;$z(A,{down:function(){N=D},up:function(){N=-D},right:function(){N=1},left:function(){N=-1}});var R=L(P,N);x(R)&&(I(R),w())});return{focusInput:S,focusSelectedDate:w,onKeyFocusEvent:C}}var Ns=function(t){return t.Start="Start",t.End="End",t}({});function Ig(t){var e=t.input,r=t.direction,n=t.formatStr,i=t.rangeFormatStr,o=t.localize,a=t.selectedMonth,l=t.valueOffset,u=l===void 0?0:l,h=t.character,f=t.dateType,m=t.dateString,x=function(I){var N=0,D=0;if(f===Ns.Start)N=i.indexOf(I),D=i.split(h)[0].lastIndexOf(I)+1;else if(f===Ns.End){var L=i.indexOf(h)+h.length;N=i.indexOf(I,L),D=i.lastIndexOf(I)+1}var R=m.indexOf(h)-i.indexOf(h);f===Ns.End&&R>0&&(N+=R,D+=R);var $=jT({pattern:I,formatStr:n,valueOffset:u,selectedMonth:a,localize:o}),W=I==="M",J=a===null&&!(W&&u!==0);return J?{selectionStart:N,selectionEnd:D}:W?{selectionStart:N,selectionEnd:D+$}:FT(N,n)?{selectionStart:N+$,selectionEnd:D+$}:{selectionStart:N,selectionEnd:D}};if(typeof e.selectionEnd=="number"&&typeof e.selectionStart=="number"){var w=e.selectionStart,S=-1;r==="left"?w=e.selectionStart-1:r==="right"&&(w=e.selectionEnd+1,S=1);var C=m.indexOf(h)+h.length,A=zT({selectionIndex:f===Ns.End?w-C:w,positionOffset:S,formatStr:n,dateString:m,valueOffset:u,selectedMonth:a,localize:o}),E=x(A);return kt({selectedPattern:A},E)}return{selectedPattern:"y",selectionStart:0,selectionEnd:0}}function cCe(t,e,r){var n=t.indexOf(e);return r>n?Ns.End:Ns.Start}function uCe(t,e,r,n){var i=t.indexOf(e),o=r,a=o+e.length;return n==="left"&&(a=r,o=a-e.length),t.substring(o,a)===e||n==="right"&&!t.substring(r,i).match(/[0-9a-zA-Z]/)||!t.substring(i,r).match(/[0-9a-zA-Z]/)}var hCe=["className","classPrefix","character","format","value","defaultValue","placeholder","onChange","onKeyDown","onBlur","onFocus","onPaste"],HT=ke.forwardRef(function(t,e){var r=Xi("Calendar",t),n=r.propsWithDefaults,i=r.parseDate,o=r.getLocale,a=o("DateTimeFormats"),l=a.shortDateFormat,u=a.dateLocale,h=n.className,f=n.classPrefix,m=f===void 0?"date-range-input":f,x=n.character,w=x===void 0?" ~ ":x,S=n.format,C=S===void 0?l:S,A=n.value,E=n.defaultValue,P=E===void 0?[]:E,I=n.placeholder,N=n.onChange,D=n.onKeyDown,L=n.onBlur,R=n.onFocus,$=n.onPaste,W=Xr(n,hCe),J=Wn(m),q=J.withClassPrefix,ee=J.merge,se=ee(h,q()),he=H.useRef(),Se=Gz(),oe=Se.selectedState,_e=Se.setSelectedState,xe=""+C+w+C,Ne=h_(A,P),Re=Ne[0],He=Ne[1],tt=Ne[2],nt=H.useState(Ns.Start),Ke=nt[0],Ue=nt[1],Xe={formatStr:C,locale:u,isControlledDate:tt},Ae=$C(kt({},Xe,{date:(Re==null?void 0:Re[0])||null})),We=$C(kt({},Xe,{date:(Re==null?void 0:Re[1])||null})),qe=Xz(C,A),pt=qe.isMoveCursor,Pt=qe.isResetValue,Ht=qe.increment,dt=qe.reset,yt=function(Sr){return Sr===void 0&&(Sr=Ke),Sr===Ns.Start?Ae:We},sr=Yz({onBlur:L,onFocus:R}),kr=sr[0],rn=sr[1],xt=H.useMemo(function(){var Lt=Ae.toDateString()+w+We.toDateString();return!Ae.isEmptyValue()||!We.isEmptyValue()||kr?Lt:""},[w,We,kr,Ae]),qt={formatStr:C,rangeFormatStr:xe,localize:u.localize,selectedMonth:yt().dateField.month,dateString:xt,dateType:Ke,character:w},tr=Vz(he),ct=zr(function(Lt,Sr){var pn=Ke===Ns.Start?[Lt,Re==null?void 0:Re[1]]:[Re==null?void 0:Re[0],Lt];N==null||N(pn,Sr),He(pn)}),rr=zr(function(Lt){Ae.setNewDate(null),We.setNewDate(null),tr(0,0),dt(),He(null),N==null||N(null,Lt)}),gr=zr(function(Lt,Sr){var pn=Lt.target,Xt=Lt.key,Cr=Sr||(Xt==="ArrowRight"?"right":"left");if(!(pn.selectionEnd===null||pn.selectionStart===null)){var mn=Cr==="right"?pn.selectionEnd:pn.selectionStart,jn=Ke;uCe(xt,w,mn,Cr)&&(jn=Ke===Ns.Start?Ns.End:Ns.Start,Ue(jn));var Rn=Ig(kt({},qt,{dateType:jn,selectedMonth:yt(jn).dateField.month,input:pn,direction:Cr}));_e(Rn),tr(Rn.selectionStart,Rn.selectionEnd),oe.selectedPattern!==Rn.selectedPattern&&dt()}}),Fr=zr(function(Lt){var Sr=Lt.target,pn=Lt.key,Xt=pn==="ArrowUp"?1:-1,Cr=Ig(kt({},qt,{input:Sr,valueOffset:Xt}));_e(Cr),yt().setDateOffset(Cr.selectedPattern,Xt,function(mn){return ct(mn,Lt)}),tr(Cr.selectionStart,Cr.selectionEnd)}),en=zr(function(Lt){var Sr=Lt.target,pn=Lt.key,Xt=oe.selectedPattern;if(Xt){var Cr=yt().getDateField(Xt),mn=parseInt(pn,10),jn=parseInt(""+(Cr.value||"")+pn,10),Rn=mn;Uz(Cr.name,jn)&&!Pt()&&(Rn=jn),yt().setDateField(Xt,Rn,function(yo){return ct(yo,Lt)});var di=Xt==="M"?Rn:yt().dateField.month,jo=Ig(kt({},qt,{input:Sr,selectedMonth:di}));_e(jo),tr(jo.selectionStart,jo.selectionEnd),Ht(),pt(Rn,Xt)&&Sr.selectionEnd!==Sr.value.length&&gr(Lt,"right")}}),kn=zr(function(Lt){var Sr=Lt.target,pn=Sr.value;if(Sr.selectionStart===0&&pn&&Sr.selectionEnd===pn.length)rr(Lt);else if(oe.selectedPattern){var Xt=Ig(kt({},qt,{input:Sr,valueOffset:null}));_e(Xt),tr(Xt.selectionStart,Xt.selectionEnd),yt().setDateField(oe.selectedPattern,null,function(Cr){return ct(Cr,Lt)}),dt()}}),Xn=zr(function(Lt){var Sr=Lt.target;if(Sr.selectionStart!==null){var pn=Sr.selectionStart===xt.length?0:Sr.selectionStart,Xt=cCe(xt||xe,w,pn),Cr=Ig(kt({},qt,{dateType:Xt,selectedMonth:yt(Xt).dateField.month,input:Sr}));Ue(Xt),_e(Cr),tr(Cr.selectionStart,Cr.selectionEnd),oe.selectedPattern!==Cr.selectedPattern&&dt()}}),fn=zr(function(Lt){var Sr;Lt.preventDefault();var pn=(Sr=Lt.clipboardData)===null||Sr===void 0?void 0:Sr.getData("text"),Xt=pn.split(w).map(function(Rn){return i(Rn,C)}),Cr=Xt[0],mn=Xt[1];if(mo(Cr)&&mo(mn)){var jn=[Cr,mn];N==null||N(jn,Lt),He(jn),Ae.setNewDate(Cr),We.setNewDate(mn)}$==null||$(Lt)}),Et=Wz({onSegmentChange:gr,onSegmentValueChange:Fr,onSegmentValueChangeWithNumericKeys:en,onSegmentValueRemove:kn,onKeyDown:D});return ke.createElement(gy,kt({inputMode:kr?"numeric":"text",autoComplete:"off",autoCorrect:"off",spellCheck:!1,className:se,ref:hl(he,e),onKeyDown:Et,onClick:Xn,onPaste:fn,value:xt,placeholder:I||xe},rn,W))});HT.displayName="DateRangeInput";HT.propTypes={character:Ee.string,className:Ee.string,classPrefix:Ee.string,format:Ee.string,placeholder:Ee.string,onChange:Ee.func,onKeyDown:Ee.func,onFocus:Ee.func,onBlur:Ee.func};function dCe(t){var e=t.value,r=t.formatStr,n=t.readOnly,i=t.editable,o=t.loading,a=t.mode,l=a===void 0?"date":a,u=t.renderValue,h=H.useState(!1),f=h[0],m=h[1],x=H.useCallback(function(){return m(!0)},[]),w=H.useCallback(function(){return m(!1)},[]),S=null,C=n||!i||o||!1,A=!f||!i;typeof u=="function"&&e&&A&&(Array.isArray(e)?e.every(mo):mo(e))&&(S=u(e,r),C=!0);var E=l==="dateRange"?HT:f_,P=S?gy:E;return{customValue:S,Input:P,inputReadOnly:C,events:{onActive:x,onInactive:w}}}var oD,sD,fCe=["as","className","classPrefix","calendarDefaultDate","cleanable","caretAs","editable","defaultValue","disabled","readOnly","plaintext","format","id","isoWeek","weekStart","limitEndYear","limitStartYear","locale","loading","label","menuClassName","menuStyle","appearance","placement","oneTap","placeholder","ranges","value","showMeridian","showMeridiem","showWeekNumbers","style","size","monthDropdownProps","shouldDisableDate","shouldDisableHour","shouldDisableMinute","shouldDisableSecond","onChange","onChangeCalendarDate","onClean","onEnter","onExit","onNextMonth","onOk","onPrevMonth","onSelect","onToggleMonthDropdown","onToggleTimeDropdown","onShortcutClick","renderCell","renderValue","disabledDate","disabledHours","disabledMinutes","disabledSeconds"],fd=ke.forwardRef(function(t,e){var r,n=Xi("DatePicker",t),i=n.propsWithDefaults,o=i.as,a=o===void 0?"div":o,l=i.className,u=i.classPrefix,h=u===void 0?"picker":u,f=i.calendarDefaultDate,m=i.cleanable,x=m===void 0?!0:m,w=i.caretAs,S=i.editable,C=S===void 0?!0:S,A=i.defaultValue,E=i.disabled,P=i.readOnly,I=i.plaintext,N=i.format,D=i.id,L=i.isoWeek,R=i.weekStart,$=R===void 0?0:R,W=i.limitEndYear,J=W===void 0?1e3:W,q=i.limitStartYear,ee=i.locale,se=i.loading,he=i.label,Se=i.menuClassName,oe=i.menuStyle,_e=i.appearance,xe=_e===void 0?"default":_e,Ne=i.placement,Re=Ne===void 0?"bottomStart":Ne,He=i.oneTap,tt=i.placeholder,nt=tt===void 0?"":tt,Ke=i.ranges,Ue=i.value,Xe=i.showMeridian,Ae=i.showMeridiem,We=Ae===void 0?Xe:Ae,qe=i.showWeekNumbers,pt=i.style,Pt=i.size,Ht=i.monthDropdownProps,dt=i.shouldDisableDate,yt=i.shouldDisableHour,sr=i.shouldDisableMinute,kr=i.shouldDisableSecond,rn=i.onChange,xt=i.onChangeCalendarDate,qt=i.onClean,tr=i.onEnter,ct=i.onExit,rr=i.onNextMonth,gr=i.onOk,Fr=i.onPrevMonth,en=i.onSelect,kn=i.onToggleMonthDropdown,Xn=i.onToggleTimeDropdown,fn=i.onShortcutClick,Et=i.renderCell,Lt=i.renderValue,Sr=i.disabledDate,pn=i.disabledHours,Xt=i.disabledMinutes,Cr=i.disabledSeconds,mn=Xr(i,fCe),jn=py("rs-",D),Rn=M2e(e),di=Rn.trigger,jo=Rn.root,yo=Rn.target,Hs=Rn.overlay,Ca=N||(ee==null?void 0:ee.shortDateFormat)||"yyyy-MM-dd",Ja=Wn(h),es=Ja.merge,Da=Ja.prefix,_s=h_(Ue,A),fa=_s[0],ts=_s[1],Vr=cSe(fa,f),un=Vr.calendarDate,Jr=Vr.setCalendarDate,et=Vr.resetCalendarDate,At=QSe({onToggleMonthDropdown:kn}),$a=At.setMonthView,Ha=At.monthView,Gn=At.toggleMonthView,bn=az(Ca),G=bn.mode,Q=G===cs.Month||Ha,re=lCe({target:yo,showMonth:Q,id:jn,locale:ee}),ie=re.focusInput,ge=re.focusSelectedDate,be=re.onKeyFocusEvent,Le=function(Rr){return typeof dt=="function"?dt(Rr):typeof Sr=="function"?Sr(Rr):!1},Pe=function(Rr){return(Le==null?void 0:Le(Rr))||iz(t,Rr)},Te=function(Rr){return Zz(Rr.getFullYear(),Rr.getMonth(),Le)},je=function(Rr){return G===cs.Month?Te(Rr):Pe(Rr)},at=function(Rr){if(mo(Rr)){if(Rr&&Le(Rr))return!0}else return!0;return!1},vt=zr(function(Gt){Jr(Gt),rr==null||rr(Gt),xt==null||xt(Gt)}),rt=zr(function(Gt){Jr(Gt),Fr==null||Fr(Gt),xt==null||xt(Gt)}),mt=zr(function(Gt,Rr){en==null||en(Gt,Rr),xt==null||xt(Gt,Rr)}),St=zr(function(Gt){Jr(Gt),mt(Gt)}),Dt=zr(function(){var Gt,Rr;(Gt=di.current)===null||Gt===void 0||(Rr=Gt.close)===null||Rr===void 0||Rr.call(Gt)}),jt=function(Rr,pi,Ni){Ni===void 0&&(Ni=!0);var eo=typeof pi<"u"?pi:un;Jr(eo||qu()),ts(eo),eo!==fa&&(rn==null||rn(eo,Rr)),Ni!==!1&&Dt()},_t=zr(function(Gt,Rr,pi){var Ni=Gt.value;jt(pi,Ni,Rr),mt(Ni,pi),fn==null||fn(Gt,pi)}),dr=zr(function(Gt){jt(Gt),gr==null||gr(un,Gt),ie()}),fr=zr(function(Gt){Gt==null||Gt.stopPropagation(),jt(Gt,null),et(null),qt==null||qt(Gt)}),ar=zr(function(Gt){be(Gt,{date:un,callback:Jr}),Gt.key==="Enter"&&dr(Gt)}),ur=zr(function(){C||ge()}),on=zr(function(Gt,Rr,pi){pi===void 0&&(pi=!0);var Ni=h1e({from:un,to:Gt});Jr(Ni),mt(Ni),He&&pi&&(jt(Rr,Ni),ie())}),pr=zr(function(Gt,Rr){Jr(Gt),mt(Gt),ge(),He&&G===cs.Month&&(jt(Rr,Gt),ie())}),Lr=zr(function(Gt,Rr){at(Gt)||on(Gt,Rr),jt(Rr,Gt,!1)}),hn=zr(function(Gt){$z(Gt,{esc:Dt,enter:function(){var pi,Ni=((pi=di.current)===null||pi===void 0?void 0:pi.getState())||{},eo=Ni.open;if(eo)mo(un)&&!Le(un)&&(jt(Gt),ie());else{var Ss;(Ss=di.current)===null||Ss===void 0||Ss.open()}}})}),Br=K2e(Fv(t,TT),function(Gt){return function(Rr,pi){var Ni;return(Ni=Gt==null?void 0:Gt(Rr,pi))!==null&&Ni!==void 0?Ni:!1}}),vi=YSe(Ke),Dr=vi.sideRanges,Pn=vi.bottomRanges,Er=function(Rr,pi){var Ni=Rr.left,eo=Rr.top,Ss=Rr.className,xl=es(Se,Ss,Da("popup-date")),tc=kt({},oe,{left:Ni,top:eo});return ke.createElement(Bz,{role:"dialog","aria-labelledby":he?jn+"-label":void 0,tabIndex:-1,className:xl,ref:hl(Hs,pi),style:tc,target:di,onKeyDown:ar},ke.createElement(Td,{alignItems:"flex-start"},Dr.length>0&&ke.createElement(cF,{direction:"column",spacing:0,className:Da("date-predefined"),ranges:Dr,calendarDate:un,locale:ee,disableShortcut:Pe,onShortcutClick:_t}),ke.createElement(Td.Item,null,ke.createElement(sF,kt({},Br,{targetId:jn,locale:ee,showWeekNumbers:qe,showMeridiem:We,disabledDate:Le,disabledHours:yt??pn,disabledMinutes:sr??Xt,disabledSeconds:kr??Cr,limitEndYear:J,limitStartYear:q,format:Ca,isoWeek:L,weekStart:$,calendarDate:un,monthDropdownProps:Ht,renderCellOnPicker:Et,onMoveForward:vt,onMoveBackward:rt,onSelect:on,onToggleMonthDropdown:Gn,onToggleTimeDropdown:Xn,onChangeMonth:pr,onChangeTime:St})),ke.createElement(uF,{locale:ee,ranges:Pn,calendarDate:un,disableOkBtn:je,disableShortcut:Pe,onShortcutClick:_t,onOk:dr,hideOkBtn:He}))))},zn=mo(fa),yi=O2e(kt({},t,{classPrefix:h,name:"date",appearance:xe,hasValue:zn,cleanable:x})),ka=yi[0],Qa=yi[1],Si=H.useMemo(function(){return w===null?null:w||(G===cs.Time?sSe:rSe)},[w,G]),xo=zr(function(Gt){var Rr;Gt!==Ux.ImperativeHandle&&et(),$a(!1),(Rr=t.onClose)===null||Rr===void 0||Rr.call(t)}),ws=x&&zn&&!P,le=cge(mn,{htmlProps:[],includeAria:!0}),fe=le[0],Me=le[1],Je=fa&&at(fa),wt={value:fa,formatStr:Ca,renderValue:Lt,readOnly:P,editable:C,loading:se},Ut=dCe(wt),cr=Ut.customValue,fi=Ut.inputReadOnly,Ci=Ut.Input,Di=Ut.events;return ke.createElement(zz,{trigger:"active",pickerProps:Fv(t,jz),ref:di,placement:Re,onClose:xo,onEnter:Po(Di.onActive,tr),onExit:Po(Di.onInactive,ct),speaker:Er},ke.createElement(a,{className:es(l,ka,(r={},r[Da("error")]=Je,r)),style:pt,ref:jo},I?ke.createElement(f_,{value:fa,format:Ca,plaintext:I}):ke.createElement(ah,kt({},GSe(Me,Qa),{inside:!0,size:Pt,disabled:E,className:Da(oD||(oD=av(["input-group"]))),onClick:ur}),ke.createElement(P2e,{className:Da(sD||(sD=av(["label"]))),id:jn+"-label"},he),ke.createElement(Ci,kt({"aria-haspopup":"dialog","aria-invalid":Je,"aria-labelledby":he?jn+"-label":void 0},fe,{ref:yo,id:jn,value:cr||fa,format:Ca,placeholder:nt||Ca,disabled:E,readOnly:fi,onChange:Lr,onKeyDown:hn})),ke.createElement(T2e,{loading:se,caretAs:Si,onClose:fr,showCleanButton:ws}))))});fd.displayName="DatePicker";fd.propTypes=kt({},Hz,XSe,{calendarDefaultDate:Ee.instanceOf(Date),defaultValue:Ee.instanceOf(Date),shouldDisableDate:Ee.func,shouldDisableHour:Ee.func,shouldDisableMinute:Ee.func,shouldDisableSecond:Ee.func,format:Ee.string,hideHours:Ee.func,hideMinutes:Ee.func,hideSeconds:Ee.func,isoWeek:Ee.bool,weekStart:Ee.oneOf([0,1,2,3,4,5,6]),limitEndYear:Ee.number,limitStartYear:Ee.number,onChange:Ee.func,onChangeCalendarDate:Ee.func,onNextMonth:Ee.func,onOk:Ee.func,onPrevMonth:Ee.func,onSelect:Ee.func,onToggleMonthDropdown:Ee.func,onToggleTimeDropdown:Ee.func,oneTap:Ee.bool,ranges:Ee.array,showMeridiem:Ee.bool,showWeekNumbers:Ee.bool,value:Ee.instanceOf(Date)});const pCe=async()=>(await cn.get("api/employees")).data,mCe=async t=>(await cn.get(`api/employees/search?branch_id=${t}`)).data,gCe=async t=>(await cn.post("api/employees",t)).data,vCe=async(t,e)=>(await cn.put(`api/employees/${t}`,e)).data,yCe=async t=>{await cn.delete(`api/employees/${t}`)},xCe=async()=>await pCe(),hF=async t=>await mCe(t),bCe=async t=>await gCe(t),_Ce=async(t,e)=>await vCe(t,e),wCe=async t=>await yCe(t),SCe=async()=>(await cn.get("api/branches")).data,CCe=async t=>(await cn.post("api/branches",t)).data,kCe=async(t,e)=>(await cn.put(`api/branches/${t}`,e)).data,ECe=async t=>{await cn.delete(`api/branches/${t}`)},UT=async()=>await SCe(),TCe=async t=>await CCe(t),ACe=async(t,e)=>await kCe(t,e),PCe=async t=>await ECe(t),MCe=async()=>(await cn.get("api/services")).data,ICe=async t=>(await cn.post("api/services",t)).data,OCe=async(t,e)=>(await cn.put(`api/services/${t}`,e)).data,DCe=async t=>{await cn.delete(`api/services/${t}`)},dF=async()=>await MCe(),NCe=async t=>await ICe(t),LCe=async(t,e)=>await OCe(t,e),RCe=async t=>await DCe(t),jCe=({initialData:t,onSubmit:e})=>{var rn;const[r,n]=H.useState((t==null?void 0:t.title)||""),[i,o]=H.useState(t!=null&&t.date?new Date(t.date):new Date),[a,l]=H.useState((t==null?void 0:t.start_time)||null),[u,h]=H.useState((t==null?void 0:t.estimated_end_time)||""),[f,m]=H.useState((t==null?void 0:t.final_price)||0),[x,w]=H.useState((t==null?void 0:t.status)||""),[S,C]=H.useState((t==null?void 0:t.customer)||{}),[A,E]=H.useState((t==null?void 0:t.service)||{}),[P,I]=H.useState((t==null?void 0:t.branch)||{}),[N,D]=H.useState((t==null?void 0:t.employee)||{}),[L,R]=H.useState((t==null?void 0:t.voucher)||{}),[$,W]=H.useState([]),[J,q]=H.useState(null),[ee,se]=H.useState([]),[he,Se]=H.useState([]),[oe,_e]=H.useState([]),[xe,Ne]=H.useState([]),[Re,He]=H.useState("branch"),[tt,nt]=H.useState(""),[Ke,Ue]=H.useState(null);t&&(S.points+=((rn=t==null?void 0:t.voucher)==null?void 0:rn.required_point)||0),H.useEffect(()=>{(async()=>{const qt=await BR(P.id);se(Array.isArray(qt)?qt:[])})()},[P]),H.useEffect(()=>{(async()=>{const qt=await UT();Ne(qt)})()},[P]),H.useEffect(()=>{(async()=>{const qt=await hF(P.id);Se(qt)})()},[P]),H.useEffect(()=>{(async()=>{const qt=await dF();_e(qt)})()},[]),H.useEffect(()=>{Re==="employee"&&!A.id?Ue("Please select an employee"):Re==="branch"&&!P.id?Ue("Please select a branch"):(Ue(null),We())},[Re]);const Xe=xt=>{var tr,ct;if(!P.id||!A.id||!N.id||!x||!a||!u||!f){xt.preventDefault(),q("Vui lòng điền đầy đủ thông tin");return}xt.preventDefault(),(t==null?void 0:t.status)!=x&&(t==null?void 0:t.status)=="cancelled"&&(S.points-=(L==null?void 0:L.required_point)||0),x!="cancelled"&&(t==null?void 0:t.voucher)!=L&&(S.points+=((tr=t==null?void 0:t.voucher)==null?void 0:tr.required_point)||0,S.points-=(L==null?void 0:L.required_point)||0),S.points-=((ct=t==null?void 0:t.voucher)==null?void 0:ct.required_point)||0,e({title:r,date:i,start_time:a,estimated_end_time:u,final_price:f,status:x,voucher:L,customer:S,service:A,branch:P,employee:N})},Ae=xt=>{nt(xt)},We=()=>{switch(Re){case"employee":return yt();case"service":return sr();case"branch":return kr();case"status":return dt();case"voucher":return Ht();case"time":return pt();default:return null}};H.useEffect(()=>{const xt=(A==null?void 0:A.price)??0;let qt=(L==null?void 0:L.discount_value)??0;(L==null?void 0:L.discount_type)==="percentage"&&(qt=Math.floor(xt*qt/100)),m(xt-qt)},[A,L]),H.useEffect(()=>{(async()=>{if(N!=null&&N.id)try{const qt=await PR(N==null?void 0:N.id,i);W(Array.isArray(qt)?qt:[])}catch(qt){console.log(qt)}})()},[N,i]);const qe=xt=>{if(xt){const[qt,tr]=xt==null?void 0:xt.split(":").map(Number),ct=i;ct==null||ct.setHours(qt,tr,0,0),ct&&h(new Date((ct==null?void 0:ct.getTime())+A.estimate_time*6e4).toISOString()),l((ct==null?void 0:ct.toISOString())||null)}},pt=()=>N.id==null?_.jsx("li",{onClick:()=>{He("employee")},style:{color:"red"},children:"Vui lòng chọn nhân viên trước"}):_.jsxs(_.Fragment,{children:[_.jsx(fd,{value:i,onChange:xt=>{xt!=null?o(xt||void 0):q("Vui lòng chọn ngày hợp lệ")},defaultValue:new Date,style:{width:"50%"},placeholder:"Chọn ngày",placement:"auto"}),_.jsxs("p",{style:{marginTop:"10px",marginBottom:"10px"},children:["Ngày được chọn:"," ",i instanceof Date&&!isNaN(i.getTime())?i.toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Invalid date"]}),_.jsx(FR,{timeBlock:Math.floor(Number(A==null?void 0:A.estimate_time)/20),onTimeSelect:qe,schedule:$,selectedDate:i,isDisplaying:N!=null,setErrorTime:q})]}),Pt=xt=>{if(i===void 0)return!1;const qt=new Date(xt.start_date),tr=new Date(xt.end_date),ct=i>=qt&&i<=tr,rr=((A==null?void 0:A.price)??0)>=xt.price_threshold,gr=Number(S==null?void 0:S.points)>=xt.required_point;return ct&&rr&&gr},Ht=()=>ee.length===0?_.jsx("li",{onClick:()=>{He("branch")},style:{color:"red"},children:"Vui lòng chọn chi nhánh trước"}):ee.filter(xt=>xt.code.toLowerCase().includes(tt.toLowerCase())).map(xt=>_.jsxs("li",{onClick:()=>A.price>=xt.price_threshold&&R(xt),className:Pt(xt)?ya.disabled:"","aria-disabled":Pt(xt),children:[xt.code,_.jsx("span",{children:xt.discount_type==="percentage"?`${xt.discount_value}%`:`${Qg(xt.discount_value)}`})]},xt.id)),dt=()=>_.jsxs(_.Fragment,{children:[_.jsx("ul",{className:Ru.confirmed,onClick:()=>w("confirmed"),children:"Confirm"},"comfirmed"),_.jsx("ul",{className:Ru.cancelled,onClick:()=>w("cancelled"),children:"Cancelled"},"cancelled"),_.jsx("ul",{className:Ru.completed,onClick:()=>w("completed"),children:"Completed"},"completed"),_.jsx("ul",{className:Ru.pending,onClick:()=>w("pending"),children:"Pending"},"pending")]}),yt=()=>he.length===0?_.jsx("li",{onClick:()=>{He("branch")},style:{color:"red"},children:"Vui lòng chọn chi nhánh trước"}):he.filter(xt=>xt.name.toLowerCase().includes(tt.toLowerCase())).map(xt=>_.jsx("li",{onClick:()=>D(xt),children:xt.name},xt.id)),sr=()=>oe.filter(xt=>xt.title.toLowerCase().includes(tt.toLowerCase())).map(xt=>_.jsxs("li",{onClick:()=>E(xt),children:[xt.title,_.jsx("span",{children:Qg(xt.price)})]},xt.id)),kr=()=>xe.filter(xt=>xt.name.toLowerCase().includes(tt.toLowerCase())).map(xt=>_.jsxs("li",{onClick:()=>I(xt),children:[xt.name,_.jsx("span",{children:xt.address})]},xt.id));return _.jsxs("form",{onSubmit:Xe,className:ya.AppointmentForm,onError:()=>{},children:[_.jsx("span",{style:{color:"red"},children:J}),_.jsxs("div",{className:ya.container,children:[_.jsxs("div",{className:ya.leftSection,children:[_.jsx("div",{className:ya.label,children:_.jsx("label",{htmlFor:"branch",children:"Chi nhánh"})}),_.jsx("div",{id:"branch",className:ya.branchButton,onClick:()=>He("branch"),children:_.jsx("h3",{style:{fontWeight:"bold"},children:P.name!=null?P.name:"Chọn chi nhánh"})}),_.jsx("div",{className:ya.label,children:_.jsx("label",{htmlFor:"service",children:"Dịch vụ"})}),_.jsx("div",{id:"service",className:ya.branchButton,onClick:()=>He("service"),children:_.jsx("h3",{style:{fontWeight:"bold"},children:A.title!=null?A.title:"Chọn dịch vụ"})}),_.jsx("div",{className:ya.label,children:_.jsx("label",{htmlFor:"employee",children:"Nhân viên"})}),_.jsx("div",{id:"employee",className:ya.branchButton,onClick:()=>He("employee"),children:_.jsx("h3",{style:{fontWeight:"bold"},children:N.name!=null?N.name:"Chọn nhân viên"})}),_.jsx("div",{className:ya.label,children:_.jsx("label",{htmlFor:"status",children:"Trạng thái"})}),_.jsx("div",{id:"status",className:ya.branchButton,onClick:()=>He("status"),children:_.jsx("h3",{style:{fontWeight:"bold",textTransform:"capitalize"},children:x||"Chọn trạng thái"})}),_.jsx("div",{className:ya.label,children:_.jsx("label",{htmlFor:"time",children:"Thời gian"})}),_.jsx("div",{id:"time",className:ya.branchButton,onClick:()=>He("time"),children:_.jsx("h3",{style:{fontWeight:"bold"},children:a?new Date(a).toLocaleString():"Chọn thời gian"})}),_.jsx("div",{className:ya.label,children:_.jsx("label",{htmlFor:"voucher",children:"Voucher"})}),_.jsx("div",{id:"voucher",className:ya.branchButton,onClick:()=>He("voucher"),children:_.jsx("h3",{style:{fontWeight:"bold"},children:L.code!=null?L.code:"Chọn voucher"})}),_.jsxs("p",{className:"pt-3 text-green-700	",children:["Tổng thanh toán:"," ",A?Qg(f):0]})]}),_.jsxs("div",{className:ya.rightSection,children:[_.jsx("div",{className:ya.stickySearchBar,children:_.jsx(oi,{label:"Search",type:"text",placeholder:"Search...",value:tt,onChange:xt=>Ae(xt.target.value),className:ya.searchBar})}),Ke&&_.jsx("p",{style:{color:"red"},children:Ke}),_.jsx("ul",{className:ya.rightSectionList,children:We()})]})]}),_.jsx(qc,{type:"submit",children:"Submit"})]})},zCe=()=>{const[t,e]=H.useState([]);H.useState("");const[r,n]=H.useState(!1),[i,o]=H.useState(null),[a,l]=H.useState(""),[u,h]=H.useState(""),[f,m]=H.useState(""),[x,w]=H.useState(!1),[S,C]=H.useState(null),[A,E]=H.useState(1),[P,I]=H.useState(10);H.useEffect(()=>{(async()=>{n(!0);try{const _e=await rQ();e(_e)}catch{o("Failed to fetch appointments.")}finally{n(!1)}})()},[]);const N=async oe=>{var _e;if(window.confirm("Bạn có chắc chắn muốn xóa đặt lịch này?"))try{await oQ(oe.id),oe.customer.points+=((_e=oe==null?void 0:oe.voucher)==null?void 0:_e.required_point)??0,await Q4(oe.customer.id,oe.customer),e(t.filter(xe=>xe.id!==oe.id))}catch{o("Failed to delete appointment.")}},D=()=>{C(null),w(!0)},L=oe=>{C(oe),w(!0)},R=async oe=>{try{if(S){await Q4(S.customer.id,oe.customer);const _e=await aQ(S.id,oe);e(t.map(xe=>xe.id===_e.id?_e:xe))}else{const _e=await iQ(oe);e([...t,_e])}w(!1)}catch{o("Failed to save appointment.")}},$=t.filter(oe=>oe.customer.name.toLowerCase().includes(a.toLowerCase())&&oe.status.toLowerCase().includes(u.toLowerCase())&&oe.service.title.toLowerCase().includes(f.toLowerCase())),W=oe=>{E(oe)},J=oe=>{I(oe),E(1)},q=()=>{E(A+1)},ee=()=>{E(A-1)},se=()=>{const oe=Math.ceil($.length/P);let _e=Math.max(1,Math.min(A-2,oe-4));return A<=3&&(_e=1),[...Array(Math.min(5,oe-_e+1))].map((xe,Ne)=>{const Re=_e+Ne;return _.jsx("button",{onClick:()=>W(Re),className:A===Re?it.activePage:"",children:Re},Re)})},he=()=>_.jsx("div",{className:it.header,children:_.jsx("div",{className:it.headerTitle,children:_.jsxs("div",{className:it.iconWrapper,children:[_.jsx(H1,{})," ",_.jsx("p",{children:"Quản lý lịch hẹn"})]})})}),Se=()=>_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:it.selectPage,children:[_.jsxs("select",{value:P,onChange:oe=>J(Number(oe.target.value)),className:it.rowPerPage,children:[_.jsx("option",{value:5,children:"5"}),_.jsx("option",{value:10,children:"10"}),_.jsx("option",{value:20,children:"20"}),_.jsx("option",{value:50,children:"50"})]}),_.jsxs("span",{children:["Showing ",(A-1)*P+1," - ",Math.min(A*P,$.length)," of ",$.length," entries"]})]}),_.jsxs("div",{className:it.allPage,children:[_.jsx("button",{onClick:()=>ee(),disabled:A===1,children:" Previous "}),se(),_.jsx("button",{onClick:()=>q(),disabled:A>=Math.ceil($.length/P),children:" Next "}),_.jsxs("div",{className:it.searchField,children:["🔎",_.jsx("div",{children:_.jsx("input",{className:it.searchInput,type:"text",value:a,onChange:oe=>l(oe.target.value),placeholder:"Khách hàng"})}),_.jsxs("select",{value:u,onChange:oe=>h(oe.target.value),required:!0,children:[_.jsx("option",{value:"",children:"Tất cả"}),_.jsx("option",{value:"pending",children:"Đang chờ"}),_.jsx("option",{value:"confirmed",children:"Đã xác nhận"}),_.jsx("option",{value:"completed",children:"Đã hoàn thành"}),_.jsx("option",{value:"cancelled",children:"Đã hủy"})]})]}),_.jsx("div",{className:it.addButton,onClick:D,children:"+ Thêm lịch hẹn"})]})]});return r?_.jsxs("div",{className:it.page,children:[_.jsxs("div",{className:it.header,children:[_.jsx("div",{className:it.headerTitle,children:_.jsxs("div",{className:it.iconWrapper,children:[_.jsx(H1,{})," ",_.jsx("p",{children:"Quản lý lịch hẹn"})]})}),_.jsx("div",{className:it.addButton,onClick:D,children:"+ Thêm lịch hẹn"})]}),_.jsx("p",{children:"Đang tải ..."})]}):_.jsxs("div",{className:it.page,children:[he(),Se(),_.jsx(pj,{appointments:$,onDelete:N,onEdit:L}),_.jsx(Kl,{isOpen:x,onClose:()=>w(!1),title:S?"Chỉnh sửa lịch hẹn":"Thêm lịch hẹn",children:_.jsx(jCe,{initialData:S||void 0,onSubmit:R,type:S?"Chỉnh sửa lịch hẹn":"Thêm lịch hẹn"})})]})},FCe=({feedbacks:t})=>{const[e,r]=H.useState({key:"id",direction:"asc"}),n=[...t].sort((a,l)=>{if(e.key){const u=e.key,h=e.direction==="asc"?1:-1;if(a[u]!=null&&l[u]!=null&&a[u]<l[u])return-h;if(a[u]!=null&&l[u]!=null&&a[u]>l[u])return h}return 0}),i=a=>{r(l=>{const u=l.key===a&&l.direction==="asc"?"desc":"asc";return{key:a,direction:u}})},o=a=>e.key!==a?ph:e.direction==="asc"?mh:fh;return _.jsx("div",{className:it.tableContainer,children:_.jsxs("table",{children:[_.jsxs("colgroup",{children:[_.jsx("col",{style:{width:"5%"}}),_.jsx("col",{style:{width:"6%"}}),_.jsx("col",{style:{width:"6%"}}),_.jsx("col",{style:{width:"6%"}}),_.jsx("col",{style:{width:"20%"}}),_.jsx("col",{style:{width:"6%"}}),_.jsx("col",{style:{width:"6%"}}),_.jsx("col",{style:{width:"20%"}})]}),_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsxs("th",{onClick:()=>i("id"),children:["ID ",_.jsx(mr,{icon:o("id")})]}),_.jsxs("th",{onClick:()=>i("customer_name"),children:["Customer Name ",_.jsx(mr,{icon:o("customer_name")})]}),_.jsxs("th",{onClick:()=>i("branch_name"),children:["Branch Name ",_.jsx(mr,{icon:o("branch_name")})]}),_.jsxs("th",{onClick:()=>i("branch_rating"),children:["Branch Rating ",_.jsx(mr,{icon:o("branch_rating")})]}),_.jsxs("th",{onClick:()=>i("branch_feedback"),children:["Branch Feedback ",_.jsx(mr,{icon:o("branch_feedback")})]}),_.jsxs("th",{onClick:()=>i("employee_name"),children:["Employee Name ",_.jsx(mr,{icon:o("employee_name")})]}),_.jsxs("th",{onClick:()=>i("employee_rating"),children:["Employee Rating ",_.jsx(mr,{icon:o("employee_rating")})]}),_.jsxs("th",{onClick:()=>i("employee_feedback"),children:["Employee Feedback ",_.jsx(mr,{icon:o("employee_feedback")})]})]})}),_.jsx("tbody",{children:n.map(a=>_.jsxs("tr",{children:[_.jsx("td",{children:a.id}),_.jsx("td",{children:a.customer_name||"---"}),_.jsx("td",{children:a.branch_name||"---"}),_.jsx("td",{children:a.branch_rating}),_.jsx("td",{children:a.branch_feedback||"---"}),_.jsx("td",{children:a.employee_name||"---"}),_.jsx("td",{children:a.employee_rating}),_.jsx("td",{children:a.employee_feedback||"---"})]},a.id))})]})})},BCe=async()=>(await cn.get("api/feedbacks")).data,$Ce=async()=>await BCe(),HCe=()=>{const[t,e]=H.useState([]),[r,n]=H.useState(!1),[i,o]=H.useState(null),[a,l]=H.useState(!1);H.useState(null);const[u,h]=H.useState(1);H.useState(1);const[f,m]=H.useState(10);H.useState("");const[x,w]=H.useState([]),S=t;H.useEffect(()=>{(async()=>{n(!0);try{const q=(await $Ce()).map(ee=>{var se,he,Se,oe,_e,xe;return{...ee,customer_name:((he=(se=ee.appointment)==null?void 0:se.customer)==null?void 0:he.name)||"---",branch_name:((oe=(Se=ee.appointment)==null?void 0:Se.branch)==null?void 0:oe.name)||"---",employee_name:((xe=(_e=ee.appointment)==null?void 0:_e.employee)==null?void 0:xe.name)||"---"}});e(q)}catch{o("Failed to fetch feedbacks.")}finally{n(!1)}})()},[]);const C=W=>{h(W)},A=W=>{m(W),h(1)},E=()=>{h(u+1)},P=()=>{h(u-1)},I=()=>{const W=Math.ceil(S.length/f);let J=Math.max(1,Math.min(u-2,W-4));return u<=3&&(J=1),[...Array(Math.min(5,W-J+1))].map((q,ee)=>{const se=J+ee;return _.jsx("button",{onClick:()=>C(se),className:u===se?it.activePage:"",children:se},se)})},N=()=>_.jsx("div",{className:it.header,children:_.jsx("div",{className:it.headerTitle,children:_.jsxs("div",{className:it.iconWrapper,children:[_.jsx(kd,{})," ",_.jsx("p",{children:"Quản lý phản hồi"})]})})}),D=()=>_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:it.selectPage,children:[_.jsxs("select",{value:f,onChange:W=>A(Number(W.target.value)),className:it.rowPerPage,children:[_.jsx("option",{value:5,children:"5"}),_.jsx("option",{value:10,children:"10"}),_.jsx("option",{value:20,children:"20"}),_.jsx("option",{value:50,children:"50"})]}),_.jsxs("span",{children:["Showing ",(u-1)*f+1," - ",Math.min(u*f,S.length)," of ",S.length," entries"]})]}),_.jsxs("div",{className:it.allPage,children:[_.jsx("button",{onClick:()=>P(),disabled:u===1,children:" Previous "}),I(),_.jsx("button",{onClick:()=>E(),disabled:u>=Math.ceil(S.length/f),children:" Next "})]})]}),L=()=>_.jsx(FCe,{feedbacks:S.slice(u*f-f,u*f)}),R=()=>_.jsx(Jl,{isOpen:a}),$=()=>_.jsx("div",{className:it.historyContainer,children:x.map(W=>W.type==="error"?_.jsxs("div",{className:it.historyItemError,children:[_.jsx("span",{children:W.message}),_.jsx("div",{className:it.progressBarError})]},W.id):_.jsxs("div",{className:it.historyItem,children:[_.jsx("span",{children:W.message}),_.jsx("div",{className:it.progressBar})]},W.id))});return r?_.jsxs("div",{className:it.page,children:[_.jsx("div",{className:it.header,children:_.jsx("div",{className:it.headerTitle,children:_.jsxs("div",{className:it.iconWrapper,children:[_.jsx(kd,{})," ",_.jsx("p",{children:"Quản lý Phản hồi"})]})})}),_.jsx(Jl,{isOpen:r})]}):_.jsxs("div",{className:it.page,children:[N(),D(),R(),L(),$()]})},UCe=({services:t,onDelete:e,onEdit:r})=>{const[n,i]=H.useState({key:"id",direction:"asc"}),o=[...t].sort((u,h)=>{if(n.key){const f=n.key,m=n.direction==="asc"?1:-1;if(u[f]!=null&&h[f]!=null&&u[f]<h[f])return-m;if(u[f]!=null&&h[f]!=null&&u[f]>h[f])return m}return 0}),a=u=>{i(h=>{const f=h.key===u&&h.direction==="asc"?"desc":"asc";return{key:u,direction:f}})},l=u=>n.key!==u?ph:n.direction==="asc"?mh:fh;return _.jsx("div",{className:it.tableContainer,children:_.jsxs("table",{children:[_.jsxs("colgroup",{children:[_.jsx("col",{style:{width:"7%"}}),_.jsx("col",{style:{width:"25%"}}),_.jsx("col",{style:{width:"12%"}}),_.jsx("col",{style:{width:"12%"}}),_.jsx("col",{style:{width:"10%"}})]}),_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsxs("th",{onClick:()=>a("id"),children:["ID ",_.jsx(mr,{icon:l("id")})]}),_.jsxs("th",{onClick:()=>a("title"),children:["Tên dịch vụ ",_.jsx(mr,{icon:l("title")})]}),_.jsxs("th",{onClick:()=>a("price"),children:["Giá ",_.jsx(mr,{icon:l("price")})]}),_.jsxs("th",{onClick:()=>a("estimate_time"),children:["Thời gian ",_.jsx(mr,{icon:l("estimate_time")})]}),_.jsx("th",{children:"Hành động"})]})}),_.jsx("tbody",{children:o.map(u=>_.jsxs("tr",{children:[_.jsx("td",{children:u.id}),_.jsx("td",{children:u.title}),_.jsxs("td",{children:[u.price.toLocaleString("vi-VN"),"vnđ"]}),_.jsxs("td",{children:[u.estimate_time," phút"]}),_.jsxs("td",{className:it.actionList,children:[_.jsx(om,{className:it.actionEdit,onClick:()=>r(u)}),_.jsx(sm,{className:it.actionDelete,onClick:()=>e(u)})]})]},u.id))})]})})},VCe=({initialData:t,onSubmit:e,type:r})=>{const[n,i]=H.useState((t==null?void 0:t.id)||0),[o,a]=H.useState((t==null?void 0:t.title)||""),[l,u]=H.useState((t==null?void 0:t.price)||0),[h,f]=H.useState((t==null?void 0:t.description)||""),[m,x]=H.useState((t==null?void 0:t.estimate_time)||0),w=S=>{S.preventDefault(),e({id:n,title:o,price:l,description:h,estimate_time:m})};return _.jsxs("form",{onSubmit:w,className:Xu.form,children:[_.jsx(oi,{label:"Tên dịch vụ",type:"text",value:o,onChange:S=>a(S.target.value),required:!0}),_.jsx(oi,{label:"Giá",type:"number",value:l,onChange:S=>u(Number(S.target.value)),required:!0}),_.jsx(oi,{label:"Mô tả",type:"text",value:h,onChange:S=>f(S.target.value),required:!0}),_.jsx(oi,{label:"Thời gian ước tính (phút)",type:"number",value:m,onChange:S=>x(Number(S.target.value)),required:!0}),_.jsx(qc,{type:"submit",className:Xu.submitButton,children:r})]})},WCe=()=>{const[t,e]=H.useState([]),[r,n]=H.useState(""),[i,o]=H.useState(!1),[a,l]=H.useState(null),[u,h]=H.useState(!1),[f,m]=H.useState(!1),[x,w]=H.useState(!1),[S,C]=H.useState(null),[A,E]=H.useState(1);H.useState(1);const[P,I]=H.useState(10),[N,D]=H.useState(""),[L,R]=H.useState([]),$=(Ae,We)=>{const qe={id:Date.now(),message:Ae,type:We};R(pt=>[...pt,qe]),setTimeout(()=>{R(pt=>pt.filter(Pt=>Pt.id!==qe.id))},5e3)},W=t.filter(Ae=>Ae.title.toLowerCase().includes(r.toLowerCase())&&Ae.price.toString().includes(N));H.useEffect(()=>{(async()=>{o(!0);try{const qe=(await dF()).map(pt=>({...pt,created_at:new Date(pt.created_at).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"})}));e(qe)}catch{l("Failed to fetch services.")}finally{o(!1)}})()},[]);const J=Ae=>{C(Ae),m(!0)},q=()=>{C(null),h(!0)},ee=Ae=>{C(Ae),h(!0)},se=async Ae=>{try{await RCe(Ae),e(t.filter(We=>We.id!==Ae)),$(`Đã xóa ${S==null?void 0:S.title}`,"deleted")}catch{l("Failed to delete service.")}m(!1)},he=async Ae=>{try{if(w(!0),S){const We=await LCe(S.id,Ae);console.log(We),e(t.map(qe=>qe.id===We.id?We:qe)),$(`Đã cập nhật ${Ae.title}`,"edited")}else{const We=await NCe(Ae);e([...t,We]),$(`Đã thêm ${Ae.title}`,"added")}h(!1),w(!1)}catch{l("Failed to save service."),$("Đã có lỗi khi thao tác.","error"),w(!1)}},Se=Ae=>{E(Ae)},oe=Ae=>{I(Ae),E(1)},_e=()=>{E(A+1)},xe=()=>{E(A-1)},Ne=()=>{const Ae=Math.ceil(W.length/P);let We=Math.max(1,Math.min(A-2,Ae-4));return A<=3&&(We=1),[...Array(Math.min(5,Ae-We+1))].map((qe,pt)=>{const Pt=We+pt;return _.jsx("button",{onClick:()=>Se(Pt),className:A===Pt?it.activePage:"",children:Pt},Pt)})},Re=()=>_.jsx("div",{className:it.header,children:_.jsx("div",{className:it.headerTitle,children:_.jsxs("div",{className:it.iconWrapper,children:[_.jsx(kd,{})," ",_.jsx("p",{children:"Quản lý dịch vụ"})]})})}),He=()=>_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:it.selectPage,children:[_.jsxs("select",{value:P,onChange:Ae=>oe(Number(Ae.target.value)),className:it.rowPerPage,children:[_.jsx("option",{value:5,children:"5"}),_.jsx("option",{value:10,children:"10"}),_.jsx("option",{value:20,children:"20"}),_.jsx("option",{value:50,children:"50"})]}),_.jsxs("span",{children:["Showing ",(A-1)*P+1," - ",Math.min(A*P,W.length)," of ",W.length," entries"]})]}),_.jsxs("div",{className:it.allPage,children:[_.jsx("button",{onClick:()=>xe(),disabled:A===1,children:" Previous "}),Ne(),_.jsx("button",{onClick:()=>_e(),disabled:A>=Math.ceil(W.length/P),children:" Next "}),_.jsx("div",{className:it.searchField,children:_.jsx("div",{children:_.jsx("input",{className:it.searchInput,type:"text",value:r,onChange:Ae=>n(Ae.target.value),placeholder:"Nhập tên dịch vụ"})})}),_.jsx("div",{className:it.addButton,onClick:q,children:"+ Thêm dịch vụ"})]})]}),tt=()=>_.jsx(UCe,{services:W.slice(A*P-P,A*P),onDelete:J,onEdit:ee}),nt=()=>_.jsx(Kl,{isOpen:u,onClose:()=>h(!1),title:S?"Chỉnh sửa dịch vụ":"Thêm dịch vụ",children:_.jsx(VCe,{initialData:S||void 0,onSubmit:he,type:S?"Xác nhận Sửa":"Xác nhận Thêm"})}),Ke=()=>_.jsx(Kl,{isOpen:f,onClose:()=>m(!1),title:"Xác nhận xóa dịch vụ",children:_.jsx("div",{className:it.modalActions,children:_.jsx("button",{onClick:()=>S&&se(S.id),children:"Xóa"})})}),Ue=()=>_.jsx(Jl,{isOpen:x}),Xe=()=>_.jsx("div",{className:it.historyContainer,children:L.map(Ae=>Ae.type==="error"?_.jsxs("div",{className:it.historyItemError,children:[_.jsx("span",{children:Ae.message}),_.jsx("div",{className:it.progressBarError})]},Ae.id):_.jsxs("div",{className:it.historyItem,children:[_.jsx("span",{children:Ae.message}),_.jsx("div",{className:it.progressBar})]},Ae.id))});return i?_.jsxs("div",{className:it.page,children:[_.jsxs("div",{className:it.header,children:[_.jsx("div",{className:it.headerTitle,children:_.jsxs("div",{className:it.iconWrapper,children:[_.jsx(kd,{})," ",_.jsx("p",{children:"Quản lý dịch vụ"})]})}),_.jsx("div",{className:it.addButton,onClick:q,children:"+ Thêm dịch vụ"})]}),_.jsx(Jl,{isOpen:i})]}):_.jsxs("div",{className:it.page,children:[Re(),He(),nt(),Ue(),Ke(),tt(),Xe()]})},YCe=({schedules:t,onDelete:e,onEdit:r})=>{const[n,i]=H.useState({key:"id",direction:"asc"}),o=[...t].sort((u,h)=>{if(n.key){const f=n.key,m=n.direction==="asc"?1:-1;if(u[f]!=null&&h[f]!=null&&u[f]<h[f])return-m;if(u[f]!=null&&h[f]!=null&&u[f]>h[f])return m}return 0}),a=u=>{i(h=>{const f=h.key===u&&h.direction==="asc"?"desc":"asc";return{key:u,direction:f}})},l=u=>n.key!==u?ph:n.direction==="asc"?mh:fh;return _.jsx("div",{className:it.tableContainer,children:_.jsxs("table",{className:it.table,children:[_.jsxs("colgroup",{children:[_.jsx("col",{style:{width:"5%"}}),_.jsx("col",{style:{width:"7%"}}),_.jsx("col",{style:{width:"15%"}})]}),_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsxs("th",{onClick:()=>a("id"),children:["ID ",_.jsx(mr,{icon:l("id")})]}),_.jsxs("th",{onClick:()=>a("employee_id"),children:["ID NV ",_.jsx(mr,{icon:l("employee_id")})]}),_.jsxs("th",{onClick:()=>a("employee_name"),children:["Tên NV ",_.jsx(mr,{icon:l("employee_name")})]}),_.jsxs("th",{onClick:()=>a("monday"),children:["Thứ 2 ",_.jsx(mr,{icon:l("monday")})]}),_.jsxs("th",{onClick:()=>a("tuesday"),children:["Thứ 3 ",_.jsx(mr,{icon:l("tuesday")})]}),_.jsxs("th",{onClick:()=>a("wednesday"),children:["Thứ 4 ",_.jsx(mr,{icon:l("wednesday")})]}),_.jsxs("th",{onClick:()=>a("thursday"),children:["Thứ 5 ",_.jsx(mr,{icon:l("thursday")})]}),_.jsxs("th",{onClick:()=>a("friday"),children:["Thứ 6 ",_.jsx(mr,{icon:l("friday")})]}),_.jsxs("th",{onClick:()=>a("saturday"),children:["Thứ 7 ",_.jsx(mr,{icon:l("saturday")})]}),_.jsxs("th",{onClick:()=>a("sunday"),children:["Chủ nhật ",_.jsx(mr,{icon:l("sunday")})]}),_.jsx("th",{children:"Hành động"})]})}),_.jsx("tbody",{children:o.map(u=>_.jsxs("tr",{children:[_.jsx("td",{children:u.id}),_.jsx("td",{children:u.employee_id}),_.jsx("td",{children:u.employee_name}),_.jsx("td",{children:u.monday?_.jsx($h,{}):_.jsx(Tc,{})}),_.jsx("td",{children:u.tuesday?_.jsx($h,{}):_.jsx(Tc,{})}),_.jsx("td",{children:u.wednesday?_.jsx($h,{}):_.jsx(Tc,{})}),_.jsx("td",{children:u.thursday?_.jsx($h,{}):_.jsx(Tc,{})}),_.jsx("td",{children:u.friday?_.jsx($h,{}):_.jsx(Tc,{})}),_.jsx("td",{children:u.saturday?_.jsx($h,{}):_.jsx(Tc,{})}),_.jsx("td",{children:u.sunday?_.jsx($h,{}):_.jsx(Tc,{})}),_.jsxs("td",{className:it.actionList,children:[_.jsx(om,{className:it.actionEdit,onClick:()=>r(u)}),_.jsx(Tc,{className:it.actionDelete,onClick:()=>e(u.id)})]})]},u.id))})]})})},XCe="_scheduleForm_1orm3_3",GCe="_button_1orm3_13",qCe={scheduleForm:XCe,button:GCe},ZCe=({initialData:t,onSubmit:e})=>{const[r,n]=H.useState((t==null?void 0:t.employee_id)||""),[i,o]=H.useState((t==null?void 0:t.monday)||!1),[a,l]=H.useState((t==null?void 0:t.tuesday)||!1),[u,h]=H.useState((t==null?void 0:t.wednesday)||!1),[f,m]=H.useState((t==null?void 0:t.thursday)||!1),[x,w]=H.useState((t==null?void 0:t.friday)||!1),[S,C]=H.useState((t==null?void 0:t.saturday)||!1),[A,E]=H.useState((t==null?void 0:t.sunday)||!1),[P,I]=H.useState((t==null?void 0:t.id)||0),[N,D]=H.useState((t==null?void 0:t.employee_name)||""),L=R=>{R.preventDefault(),e({employee_id:r,monday:i,tuesday:a,wednesday:u,thursday:f,friday:x,saturday:S,sunday:A,id:P,employee_name:N})};return _.jsx("div",{children:_.jsxs("form",{onSubmit:L,className:qCe.scheduleForm,children:[_.jsx(oi,{label:"ID nhân viên",type:"number",value:r,onChange:R=>n(R.target.value),required:!0}),_.jsx(oi,{label:"Thứ 2",type:"checkbox",checked:i,onChange:R=>o(R.target.checked)}),_.jsx(oi,{label:"Thứ 3",type:"checkbox",checked:a,onChange:R=>l(R.target.checked)}),_.jsx(oi,{label:"Thứ 4",type:"checkbox",checked:u,onChange:R=>h(R.target.checked)}),_.jsx(oi,{label:"Thứ 5",type:"checkbox",checked:f,onChange:R=>m(R.target.checked)}),_.jsx(oi,{label:"Thứ 6",type:"checkbox",checked:x,onChange:R=>w(R.target.checked)}),_.jsx(oi,{label:"Thứ 7",type:"checkbox",checked:S,onChange:R=>C(R.target.checked)}),_.jsx(oi,{label:"Chủ nhật",type:"checkbox",checked:A,onChange:R=>E(R.target.checked)}),_.jsx(qc,{type:"submit",children:"Lưu"})]})})},KCe="_actions_1691o_7",JCe="_searchInput_1691o_21",QCe="_error_1691o_39",eke="_page_1691o_55",tke="_header_1691o_75",rke="_divider_1691o_91",nke="_iconWrapper_1691o_115",ike="_branchSelect_1691o_145",ake="_addButton_1691o_159",oke="_viewButton_1691o_193",ske="_switchWrapper_1691o_225",lke="_slider_1691o_271",cke="_sliderRound_1691o_349",uke="_loaderWrapper_1691o_365",fo={actions:KCe,searchInput:JCe,error:QCe,page:eke,header:tke,divider:rke,iconWrapper:nke,branchSelect:ike,addButton:ake,viewButton:oke,switchWrapper:ske,switch:"_switch_1691o_225",slider:lke,sliderRound:cke,loaderWrapper:uke},hke=async()=>(await cn.get("api/schedules")).data,dke=async t=>(await cn.get(`api/schedules/branch/${t}`)).data,fke=async t=>(await cn.get(`api/schedules/specific-off-days/branch/${t}`)).data,pke=async t=>(await cn.post("api/schedules",t)).data,mke=async t=>(await cn.post("api/schedules/specific-off-days",t)).data,gke=async t=>(await cn.put("api/schedules",t)).data,vke=async t=>{await cn.delete(`api/schedules/${t}`)},yke=async t=>{await cn.delete(`api/schedules/specific-off-days/${t}`)},xke=async()=>await hke(),bke=async t=>await dke(t),lD=async t=>await fke(t),_ke=async t=>await pke(t),cD=async t=>await mke(t),wke=async t=>await yke(t),Ske=async t=>await gke(t),Cke=async t=>await vke(t),kke="_calendarContainer_15l40_1",Eke="_calendarTitle_15l40_17",Tke="_calendarHeader_15l40_29",Ake="_calendarColumnHeader_15l40_41",Pke="_calendarGrid_15l40_57",Mke="_calendarCell_15l40_73",Ike="_dateNumber_15l40_87",Oke="_dateNumberToday_15l40_103",Dke="_pastDay_15l40_125",Nke="_eventContainer_15l40_133",Lke="_event_15l40_133",Rke="_dayOfWeek_15l40_175",jke="_headerButtonWrapper_15l40_187",zke="_headerDatePicker_15l40_201",Fke="_directionButtonWrapper_15l40_215",Bke="_directionButton_15l40_215",$ke="_todayButton_15l40_261",Va={calendarContainer:kke,calendarTitle:Eke,calendarHeader:Tke,calendarColumnHeader:Ake,calendarGrid:Pke,calendarCell:Mke,dateNumber:Ike,dateNumberToday:Oke,pastDay:Dke,eventContainer:Nke,event:Lke,dayOfWeek:Rke,headerButtonWrapper:jke,headerDatePicker:zke,directionButtonWrapper:Fke,directionButton:Bke,todayButton:$ke},Hke=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Uke=["January","February","March","April","May","June","July","August","September","October","November","December"],Vke=({year:t,month:e,schedules:r,absences:n,onCreate:i,onDelete:o,onChange:a})=>{const[l,u]=H.useState([]),[h,f]=H.useState([]);H.useState(!1);const m=new Date;H.useEffect(()=>{u(((N,D)=>{const L=new Date(N,D,1),R=[];for(;L.getMonth()===D;)R.push(new Date(L)),L.setDate(L.getDate()+1);return R})(t,e))},[t,e]),H.useEffect(()=>{f(n)},[n]);const x=I=>{const N=new Date(t,e,I);return N.getDate()===m.getDate()&&N.getMonth()===m.getMonth()&&N.getFullYear()===m.getFullYear()},w=I=>{},S=()=>{a&&a(m.getFullYear(),m.getMonth())},C=(I,N)=>I.getDate()===N.getDate()&&I.getMonth()===N.getMonth()&&I.getFullYear()===N.getFullYear(),A=()=>{a&&a(e===0?t-1:t,e===0?11:e-1)},E=()=>{a&&a(e===11?t+1:t,e===11?0:e+1)},P=()=>{var L;const I=((L=l[0])==null?void 0:L.getDay())||0,N=Math.ceil((I+l.length)/7)*7;return Array.from({length:N},(R,$)=>{const W=$-I+1;return W>0&&W<=l.length?W:null}).map((R,$)=>_.jsxs("div",{className:Va.calendarCell,onClick:()=>R!==null&&w(),children:[R&&_.jsx("div",{className:`${R&&x(R)?Va.dateNumberToday:Va.dateNumber}`,children:R}),R&&_.jsx("div",{className:Va.eventContainer,children:h.filter(W=>C(new Date(W.date),new Date(t,e,R))).map(W=>_.jsx("div",{className:Va.event,onClick:()=>o(W.id),children:W.employee.name},W.id))})]},$))};return _.jsxs("div",{className:Va.calendarContainer,children:[_.jsxs("div",{className:Va.calendarHeader,children:[_.jsxs("div",{className:Va.headerButtonWrapper,children:[_.jsx("button",{className:Va.todayButton,onClick:S,children:"Today"}),_.jsxs("div",{className:Va.directionButtonWrapper,children:[_.jsx("button",{className:Va.directionButton,onClick:A,children:_.jsx(tJ,{})}),_.jsx("button",{className:Va.directionButton,onClick:E,children:_.jsx(rJ,{})})]})]}),_.jsxs("div",{className:Va.calendarTitle,children:[Uke[e]," ",t]}),_.jsx("div",{className:Va.headerDatePicker,children:_.jsx(fd,{defaultValue:m,format:"yyyy-MM",editable:!1,cleanable:!1,onChange:I=>{I&&a&&a(I.getFullYear(),I.getMonth())}})})]}),_.jsx("div",{className:Va.calendarColumnHeader,children:Hke.map(I=>_.jsx("div",{className:Va.dayOfWeek,children:I},I))}),_.jsx("div",{className:Va.calendarGrid,children:P()})]})},Wke=({absences:t,onDelete:e})=>{const[r,n]=H.useState({key:"id",direction:"desc"}),i=[...t].sort((l,u)=>{if(r.key){const h=r.key,f=r.direction==="asc"?1:-1;if(l[h]!=null&&u[h]!=null&&l[h]<u[h])return-f;if(l[h]!=null&&u[h]!=null&&l[h]>u[h])return f}return 0}),o=l=>{n(u=>{const h=u.key===l&&u.direction==="asc"?"desc":"asc";return{key:l,direction:h}})},a=l=>r.key!==l?ph:r.direction==="asc"?mh:fh;return _.jsx("div",{className:it.tableContainer,children:_.jsxs("table",{className:it.table,children:[_.jsxs("colgroup",{children:[_.jsx("col",{style:{width:"5%"}}),_.jsx("col",{style:{width:"20%"}}),_.jsx("col",{style:{width:"10%"}}),_.jsx("col",{style:{width:"15%"}}),_.jsx("col",{style:{width:"10%"}})]}),_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsxs("th",{onClick:()=>o("id"),children:["ID ",_.jsx(mr,{icon:a("id")})]}),_.jsxs("th",{onClick:()=>o("employee_id"),children:["Mã nhân viên ",_.jsx(mr,{icon:a("employee_id")})]}),_.jsxs("th",{onClick:()=>o("employee"),children:["Tên ",_.jsx(mr,{icon:a("employee")})]}),_.jsxs("th",{onClick:()=>o("date"),children:["Ngày ",_.jsx(mr,{icon:a("date")})]}),_.jsx("th",{children:"Hành động"})]})}),_.jsx("tbody",{children:i.map(l=>_.jsxs("tr",{children:[_.jsx("td",{children:l.id}),_.jsx("td",{children:l.employee_id}),_.jsx("td",{children:l.employee.name}),_.jsx("td",{children:l.date}),_.jsx("td",{className:it.actionList,children:_.jsx(sm,{className:it.actionDelete,onClick:()=>e(l.id)})})]},l.id))})]})})},Yke="_container_1n5um_1",Xke="_leftSection_1n5um_27",Gke="_rightSection_1n5um_29",qke="_stickySearchBar_1n5um_73",Zke="_selectedEmployeesList_1n5um_103",Kke="_employeeList_1n5um_105",Jke="_selectedEmployeesItem_1n5um_123",Qke="_employeeItem_1n5um_125",eEe="_addButton_1n5um_161",tEe="_addIcon_1n5um_197",rEe="_searchBar_1n5um_209",nEe="_reasonInput_1n5um_239",iEe="_removeButton_1n5um_277",aEe="_removeIcon_1n5um_313",oEe="_absentForm_1n5um_325",sEe="_switchWrapper_1n5um_371",lEe="_slider_1n5um_417",cEe="_sliderRound_1n5um_495",xa={container:Yke,leftSection:Xke,rightSection:Gke,stickySearchBar:qke,selectedEmployeesList:Zke,employeeList:Kke,selectedEmployeesItem:Jke,employeeItem:Qke,addButton:eEe,addIcon:tEe,searchBar:rEe,reasonInput:nEe,removeButton:iEe,removeIcon:aEe,absentForm:oEe,switchWrapper:sEe,switch:"_switch_1n5um_371",slider:lEe,sliderRound:cEe},uEe=({branchId:t,absences:e,onSubmit:r})=>{const[n,i]=H.useState([]),[o,a]=H.useState(""),[l,u]=H.useState([]),[h,f]=H.useState({}),[m,x]=H.useState(new Date),[w,S]=H.useState(new Date),[C,A]=H.useState(new Date),[E,P]=H.useState(null),[I,N]=H.useState(null),[D,L]=H.useState(!1);H.useEffect(()=>{(async()=>{const _e=await hF(t);i(_e)})()},[t]);const R=(oe,_e)=>{const xe=[];let Ne=new Date(oe);for(Ne.setHours(0,0,0,0),_e.setHours(0,0,0,0);Ne<=_e;)xe.push(new Date(Ne)),Ne.setDate(Ne.getDate()+1);return xe},$=(oe,_e)=>oe==null||_e==null?!0:oe>_e?(P("From date must be earlier than or equal to To date."),!1):(P(null),!0),W=oe=>{a(oe.target.value)},J=oe=>{if(e.some(xe=>{const Ne=xe.date.split("T")[0],Re=C==null?void 0:C.toISOString().split("T")[0];return xe.employee_id===oe.id&&Ne===Re})){const xe=(C==null?void 0:C.toLocaleDateString())||"the selected date";N(`Employee "${oe.name}" is already marked as absent on ${xe}.`);return}l.some(xe=>xe.id===oe.id)||u([...l,oe])},q=oe=>{u(l.filter(_e=>_e.id!==oe))},ee=(oe,_e)=>{f({...h,[oe]:_e})},se=oe=>{oe.preventDefault();const _e=l.map(xe=>({employee_id:xe.id,employee:xe,reason:h[xe.id]||"",date:(C==null?void 0:C.toISOString())||""}));r(_e)},he=oe=>{oe.preventDefault();const _e=R(m,w),xe=l.flatMap(Ne=>_e.map(Re=>({employee_id:Ne.id,employee:Ne,reason:h[Ne.id]||"",date:Re.toISOString()})));r(xe)},Se=n.filter(oe=>oe.name.toLowerCase().includes(o.toLowerCase())).filter(oe=>!l.some(_e=>_e.id===oe.id));return _.jsxs("form",{onSubmit:D?he:se,className:xa.AbsentForm,onError:()=>{},children:[_.jsxs("div",{className:xa.container,children:[_.jsxs("div",{className:xa.leftSection,children:[_.jsx("h3",{style:{fontWeight:"bold"},children:"Chọn ngày nghỉ"}),_.jsxs("div",{className:xa.switchWrapper,children:[_.jsx("label",{children:" Nghỉ dài ngày "}),_.jsxs("label",{className:xa.switch,children:[_.jsx("input",{type:"checkbox",checked:D,onChange:()=>L(!D)}),_.jsx("span",{className:`${xa.slider} ${xa.sliderRound}`})]})]}),D?_.jsxs(_.Fragment,{children:[_.jsx("h4",{style:{fontWeight:"bold"},children:"From:"}),_.jsx(fd,{value:m,onChange:oe=>{$(oe,w)&&x(oe)},style:{width:"100%"},placeholder:"Select a date",placement:"auto"}),_.jsx("h4",{style:{fontWeight:"bold"},children:"To:"}),_.jsx(fd,{value:w,onChange:oe=>{$(m,oe)&&S(oe)},style:{width:"100%"},placeholder:"Select a date",placement:"auto"}),E&&_.jsx("p",{style:{color:"red"},children:E})]}):_.jsxs(_.Fragment,{children:[_.jsx("h4",{style:{fontWeight:"bold"},children:"Select Date:"}),_.jsx(fd,{value:C,onChange:oe=>A(oe),style:{width:"100%"},placeholder:"Select a date",placement:"auto"})]}),_.jsx("h3",{style:{fontWeight:"bold"},children:"Selected Employees"}),_.jsx("ul",{className:xa.selectedEmployeesList,children:l.map(oe=>_.jsxs("li",{className:xa.selectedEmployeesItem,children:[_.jsx("span",{className:xa.column,children:oe.name}),_.jsx(oi,{label:"",type:"text",placeholder:"Enter absence reason...",className:xa.reasonInput,value:h[oe.id]||"",onChange:_e=>ee(oe.id,_e.target.value)}),_.jsxs("button",{type:"button",onClick:()=>q(oe.id),className:xa.removeButton,children:["Remove ",_.jsx(Tc,{className:xa.removeIcon})]})]},oe.id))})]}),_.jsxs("div",{className:xa.rightSection,children:[_.jsx("div",{className:xa.stickySearchBar,children:_.jsx(oi,{label:"Search employees",type:"text",placeholder:"Search employees...",value:o,onChange:W,className:xa.searchBar})}),I&&_.jsx("p",{style:{color:"red"},children:I}),_.jsx("ul",{className:xa.employeeList,children:Se.map(oe=>_.jsxs("li",{className:xa.employeeItem,children:[_.jsx("span",{children:oe.name}),_.jsx("span",{children:oe.work_position}),_.jsx("span",{children:oe.email}),_.jsxs("button",{type:"button",onClick:()=>J(oe),className:xa.addButton,children:["Add ",_.jsx(lJ,{className:xa.addIcon})]})]},oe.id))})]})]}),_.jsx(qc,{type:"submit",children:"Submit"})]})},hEe="_modalOverlay_1vcbh_3",dEe="_modal_1vcbh_3",fEe="_fadeIn_1vcbh_1",pEe="_modalHeader_1vcbh_55",mEe="_closeButton_1vcbh_93",gEe="_modalContent_1vcbh_143",Og={modalOverlay:hEe,modal:dEe,fadeIn:fEe,modalHeader:pEe,closeButton:mEe,modalContent:gEe},vEe=({isOpen:t,onClose:e,title:r,children:n})=>(H.useEffect(()=>{const i=o=>{o.key==="Escape"&&e()};return t&&window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[t,e]),t?_.jsx("div",{className:Og.modalOverlay,children:_.jsxs("div",{className:Og.modal,children:[_.jsxs("div",{className:Og.modalHeader,children:[_.jsx("h2",{children:r}),_.jsx(qc,{onClick:e,className:Og.closeButton,children:"×"})]}),_.jsx("div",{className:Og.modalContent,children:n})]})}):null);var Xo=function(){return Xo=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Xo.apply(this,arguments)};function $v(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}var Pi="-ms-",ov="-moz-",Kn="-webkit-",fF="comm",p_="rule",VT="decl",yEe="@import",pF="@keyframes",xEe="@layer",mF=Math.abs,WT=String.fromCharCode,UC=Object.assign;function bEe(t,e){return Fa(t,0)^45?(((e<<2^Fa(t,0))<<2^Fa(t,1))<<2^Fa(t,2))<<2^Fa(t,3):0}function gF(t){return t.trim()}function Ic(t,e){return(t=e.exec(t))?t[0]:t}function an(t,e,r){return t.replace(e,r)}function Vx(t,e,r){return t.indexOf(e,r)}function Fa(t,e){return t.charCodeAt(e)|0}function Up(t,e,r){return t.slice(e,r)}function Rl(t){return t.length}function vF(t){return t.length}function Fg(t,e){return e.push(t),t}function _Ee(t,e){return t.map(e).join("")}function uD(t,e){return t.filter(function(r){return!Ic(r,e)})}var m_=1,Vp=1,yF=0,$s=0,_a=0,bm="";function g_(t,e,r,n,i,o,a,l){return{value:t,root:e,parent:r,type:n,props:i,children:o,line:m_,column:Vp,length:a,return:"",siblings:l}}function ku(t,e){return UC(g_("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Nf(t){for(;t.root;)t=ku(t.root,{children:[t]});Fg(t,t.siblings)}function wEe(){return _a}function SEe(){return _a=$s>0?Fa(bm,--$s):0,Vp--,_a===10&&(Vp=1,m_--),_a}function dl(){return _a=$s<yF?Fa(bm,$s++):0,Vp++,_a===10&&(Vp=1,m_++),_a}function pd(){return Fa(bm,$s)}function Wx(){return $s}function v_(t,e){return Up(bm,t,e)}function VC(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function CEe(t){return m_=Vp=1,yF=Rl(bm=t),$s=0,[]}function kEe(t){return bm="",t}function w2(t){return gF(v_($s-1,WC(t===91?t+2:t===40?t+1:t)))}function EEe(t){for(;(_a=pd())&&_a<33;)dl();return VC(t)>2||VC(_a)>3?"":" "}function TEe(t,e){for(;--e&&dl()&&!(_a<48||_a>102||_a>57&&_a<65||_a>70&&_a<97););return v_(t,Wx()+(e<6&&pd()==32&&dl()==32))}function WC(t){for(;dl();)switch(_a){case t:return $s;case 34:case 39:t!==34&&t!==39&&WC(_a);break;case 40:t===41&&WC(t);break;case 92:dl();break}return $s}function AEe(t,e){for(;dl()&&t+_a!==57;)if(t+_a===84&&pd()===47)break;return"/*"+v_(e,$s-1)+"*"+WT(t===47?t:dl())}function PEe(t){for(;!VC(pd());)dl();return v_(t,$s)}function MEe(t){return kEe(Yx("",null,null,null,[""],t=CEe(t),0,[0],t))}function Yx(t,e,r,n,i,o,a,l,u){for(var h=0,f=0,m=a,x=0,w=0,S=0,C=1,A=1,E=1,P=0,I="",N=i,D=o,L=n,R=I;A;)switch(S=P,P=dl()){case 40:if(S!=108&&Fa(R,m-1)==58){Vx(R+=an(w2(P),"&","&\f"),"&\f",mF(h?l[h-1]:0))!=-1&&(E=-1);break}case 34:case 39:case 91:R+=w2(P);break;case 9:case 10:case 13:case 32:R+=EEe(S);break;case 92:R+=TEe(Wx()-1,7);continue;case 47:switch(pd()){case 42:case 47:Fg(IEe(AEe(dl(),Wx()),e,r,u),u);break;default:R+="/"}break;case 123*C:l[h++]=Rl(R)*E;case 125*C:case 59:case 0:switch(P){case 0:case 125:A=0;case 59+f:E==-1&&(R=an(R,/\f/g,"")),w>0&&Rl(R)-m&&Fg(w>32?dD(R+";",n,r,m-1,u):dD(an(R," ","")+";",n,r,m-2,u),u);break;case 59:R+=";";default:if(Fg(L=hD(R,e,r,h,f,i,l,I,N=[],D=[],m,o),o),P===123)if(f===0)Yx(R,e,L,L,N,o,m,l,D);else switch(x===99&&Fa(R,3)===110?100:x){case 100:case 108:case 109:case 115:Yx(t,L,L,n&&Fg(hD(t,L,L,0,0,i,l,I,i,N=[],m,D),D),i,D,m,l,n?N:D);break;default:Yx(R,L,L,L,[""],D,0,l,D)}}h=f=w=0,C=E=1,I=R="",m=a;break;case 58:m=1+Rl(R),w=S;default:if(C<1){if(P==123)--C;else if(P==125&&C++==0&&SEe()==125)continue}switch(R+=WT(P),P*C){case 38:E=f>0?1:(R+="\f",-1);break;case 44:l[h++]=(Rl(R)-1)*E,E=1;break;case 64:pd()===45&&(R+=w2(dl())),x=pd(),f=m=Rl(I=R+=PEe(Wx())),P++;break;case 45:S===45&&Rl(R)==2&&(C=0)}}return o}function hD(t,e,r,n,i,o,a,l,u,h,f,m){for(var x=i-1,w=i===0?o:[""],S=vF(w),C=0,A=0,E=0;C<n;++C)for(var P=0,I=Up(t,x+1,x=mF(A=a[C])),N=t;P<S;++P)(N=gF(A>0?w[P]+" "+I:an(I,/&\f/g,w[P])))&&(u[E++]=N);return g_(t,e,r,i===0?p_:l,u,h,f,m)}function IEe(t,e,r,n){return g_(t,e,r,fF,WT(wEe()),Up(t,2,-2),0,n)}function dD(t,e,r,n,i){return g_(t,e,r,VT,Up(t,0,n),Up(t,n+1,-1),n,i)}function xF(t,e,r){switch(bEe(t,e)){case 5103:return Kn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Kn+t+t;case 4789:return ov+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Kn+t+ov+t+Pi+t+t;case 5936:switch(Fa(t,e+11)){case 114:return Kn+t+Pi+an(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Kn+t+Pi+an(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Kn+t+Pi+an(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Kn+t+Pi+t+t;case 6165:return Kn+t+Pi+"flex-"+t+t;case 5187:return Kn+t+an(t,/(\w+).+(:[^]+)/,Kn+"box-$1$2"+Pi+"flex-$1$2")+t;case 5443:return Kn+t+Pi+"flex-item-"+an(t,/flex-|-self/g,"")+(Ic(t,/flex-|baseline/)?"":Pi+"grid-row-"+an(t,/flex-|-self/g,""))+t;case 4675:return Kn+t+Pi+"flex-line-pack"+an(t,/align-content|flex-|-self/g,"")+t;case 5548:return Kn+t+Pi+an(t,"shrink","negative")+t;case 5292:return Kn+t+Pi+an(t,"basis","preferred-size")+t;case 6060:return Kn+"box-"+an(t,"-grow","")+Kn+t+Pi+an(t,"grow","positive")+t;case 4554:return Kn+an(t,/([^-])(transform)/g,"$1"+Kn+"$2")+t;case 6187:return an(an(an(t,/(zoom-|grab)/,Kn+"$1"),/(image-set)/,Kn+"$1"),t,"")+t;case 5495:case 3959:return an(t,/(image-set\([^]*)/,Kn+"$1$`$1");case 4968:return an(an(t,/(.+:)(flex-)?(.*)/,Kn+"box-pack:$3"+Pi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Kn+t+t;case 4200:if(!Ic(t,/flex-|baseline/))return Pi+"grid-column-align"+Up(t,e)+t;break;case 2592:case 3360:return Pi+an(t,"template-","")+t;case 4384:case 3616:return r&&r.some(function(n,i){return e=i,Ic(n.props,/grid-\w+-end/)})?~Vx(t+(r=r[e].value),"span",0)?t:Pi+an(t,"-start","")+t+Pi+"grid-row-span:"+(~Vx(r,"span",0)?Ic(r,/\d+/):+Ic(r,/\d+/)-+Ic(t,/\d+/))+";":Pi+an(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(n){return Ic(n.props,/grid-\w+-start/)})?t:Pi+an(an(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return an(t,/(.+)-inline(.+)/,Kn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Rl(t)-1-e>6)switch(Fa(t,e+1)){case 109:if(Fa(t,e+4)!==45)break;case 102:return an(t,/(.+:)(.+)-([^]+)/,"$1"+Kn+"$2-$3$1"+ov+(Fa(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Vx(t,"stretch",0)?xF(an(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return an(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,i,o,a,l,u,h){return Pi+i+":"+o+h+(a?Pi+i+"-span:"+(l?u:+u-+o)+h:"")+t});case 4949:if(Fa(t,e+6)===121)return an(t,":",":"+Kn)+t;break;case 6444:switch(Fa(t,Fa(t,14)===45?18:11)){case 120:return an(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Kn+(Fa(t,14)===45?"inline-":"")+"box$3$1"+Kn+"$2$3$1"+Pi+"$2box$3")+t;case 100:return an(t,":",":"+Pi)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return an(t,"scroll-","scroll-snap-")+t}return t}function rb(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function OEe(t,e,r,n){switch(t.type){case xEe:if(t.children.length)break;case yEe:case VT:return t.return=t.return||t.value;case fF:return"";case pF:return t.return=t.value+"{"+rb(t.children,n)+"}";case p_:if(!Rl(t.value=t.props.join(",")))return""}return Rl(r=rb(t.children,n))?t.return=t.value+"{"+r+"}":""}function DEe(t){var e=vF(t);return function(r,n,i,o){for(var a="",l=0;l<e;l++)a+=t[l](r,n,i,o)||"";return a}}function NEe(t){return function(e){e.root||(e=e.return)&&t(e)}}function LEe(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case VT:t.return=xF(t.value,t.length,r);return;case pF:return rb([ku(t,{value:an(t.value,"@","@"+Kn)})],n);case p_:if(t.length)return _Ee(r=t.props,function(i){switch(Ic(i,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Nf(ku(t,{props:[an(i,/:(read-\w+)/,":"+ov+"$1")]})),Nf(ku(t,{props:[i]})),UC(t,{props:uD(r,n)});break;case"::placeholder":Nf(ku(t,{props:[an(i,/:(plac\w+)/,":"+Kn+"input-$1")]})),Nf(ku(t,{props:[an(i,/:(plac\w+)/,":"+ov+"$1")]})),Nf(ku(t,{props:[an(i,/:(plac\w+)/,Pi+"input-$1")]})),Nf(ku(t,{props:[i]})),UC(t,{props:uD(r,n)});break}return""})}}var REe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ss={},Wp=typeof process<"u"&&ss!==void 0&&(ss.REACT_APP_SC_ATTR||ss.SC_ATTR)||"data-styled",bF="active",_F="data-styled-version",y_="6.1.13",YT=`/*!sc*/
`,nb=typeof window<"u"&&"HTMLElement"in window,jEe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&ss!==void 0&&ss.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ss.REACT_APP_SC_DISABLE_SPEEDY!==""?ss.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ss.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&ss!==void 0&&ss.SC_DISABLE_SPEEDY!==void 0&&ss.SC_DISABLE_SPEEDY!==""&&ss.SC_DISABLE_SPEEDY!=="false"&&ss.SC_DISABLE_SPEEDY),x_=Object.freeze([]),Yp=Object.freeze({});function zEe(t,e,r){return r===void 0&&(r=Yp),t.theme!==r.theme&&t.theme||e||r.theme}var wF=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),FEe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,BEe=/(^-|-$)/g;function fD(t){return t.replace(FEe,"-").replace(BEe,"")}var $Ee=/(a)(d)/gi,fx=52,pD=function(t){return String.fromCharCode(t+(t>25?39:97))};function YC(t){var e,r="";for(e=Math.abs(t);e>fx;e=e/fx|0)r=pD(e%fx)+r;return(pD(e%fx)+r).replace($Ee,"$1-$2")}var S2,SF=5381,up=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},CF=function(t){return up(SF,t)};function kF(t){return YC(CF(t)>>>0)}function HEe(t){return t.displayName||t.name||"Component"}function C2(t){return typeof t=="string"&&!0}var EF=typeof Symbol=="function"&&Symbol.for,TF=EF?Symbol.for("react.memo"):60115,UEe=EF?Symbol.for("react.forward_ref"):60112,VEe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},WEe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},AF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},YEe=((S2={})[UEe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},S2[TF]=AF,S2);function mD(t){return("type"in(e=t)&&e.type.$$typeof)===TF?AF:"$$typeof"in t?YEe[t.$$typeof]:VEe;var e}var XEe=Object.defineProperty,GEe=Object.getOwnPropertyNames,gD=Object.getOwnPropertySymbols,qEe=Object.getOwnPropertyDescriptor,ZEe=Object.getPrototypeOf,vD=Object.prototype;function PF(t,e,r){if(typeof e!="string"){if(vD){var n=ZEe(e);n&&n!==vD&&PF(t,n,r)}var i=GEe(e);gD&&(i=i.concat(gD(e)));for(var o=mD(t),a=mD(e),l=0;l<i.length;++l){var u=i[l];if(!(u in WEe||r&&r[u]||a&&u in a||o&&u in o)){var h=qEe(e,u);try{XEe(t,u,h)}catch{}}}}return t}function Xp(t){return typeof t=="function"}function XT(t){return typeof t=="object"&&"styledComponentId"in t}function nd(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function XC(t,e){if(t.length===0)return"";for(var r=t[0],n=1;n<t.length;n++)r+=t[n];return r}function Hv(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function GC(t,e,r){if(r===void 0&&(r=!1),!r&&!Hv(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=GC(t[n],e[n]);else if(Hv(e))for(var n in e)t[n]=GC(t[n],e[n]);return t}function GT(t,e){Object.defineProperty(t,"toString",{value:e})}function vy(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var KEe=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var r=0,n=0;n<e;n++)r+=this.groupSizes[n];return r},t.prototype.insertRules=function(e,r){if(e>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,o=i;e>=o;)if((o<<=1)<0)throw vy(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(n),this.length=o;for(var a=i;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(e+1),u=(a=0,r.length);a<u;a++)this.tag.insertRule(l,r[a])&&(this.groupSizes[e]++,l++)},t.prototype.clearGroup=function(e){if(e<this.length){var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r;this.groupSizes[e]=0;for(var o=n;o<i;o++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(e){var r="";if(e>=this.length||this.groupSizes[e]===0)return r;for(var n=this.groupSizes[e],i=this.indexOfGroup(e),o=i+n,a=i;a<o;a++)r+="".concat(this.tag.getRule(a)).concat(YT);return r},t}(),Xx=new Map,ib=new Map,Gx=1,px=function(t){if(Xx.has(t))return Xx.get(t);for(;ib.has(Gx);)Gx++;var e=Gx++;return Xx.set(t,e),ib.set(e,t),e},JEe=function(t,e){Gx=e+1,Xx.set(t,e),ib.set(e,t)},QEe="style[".concat(Wp,"][").concat(_F,'="').concat(y_,'"]'),eTe=new RegExp("^".concat(Wp,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),tTe=function(t,e,r){for(var n,i=r.split(","),o=0,a=i.length;o<a;o++)(n=i[o])&&t.registerName(e,n)},rTe=function(t,e){for(var r,n=((r=e.textContent)!==null&&r!==void 0?r:"").split(YT),i=[],o=0,a=n.length;o<a;o++){var l=n[o].trim();if(l){var u=l.match(eTe);if(u){var h=0|parseInt(u[1],10),f=u[2];h!==0&&(JEe(f,h),tTe(t,f,u[3]),t.getTag().insertRules(h,i)),i.length=0}else i.push(l)}}},yD=function(t){for(var e=document.querySelectorAll(QEe),r=0,n=e.length;r<n;r++){var i=e[r];i&&i.getAttribute(Wp)!==bF&&(rTe(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function nTe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var MF=function(t){var e=document.head,r=t||e,n=document.createElement("style"),i=function(l){var u=Array.from(l.querySelectorAll("style[".concat(Wp,"]")));return u[u.length-1]}(r),o=i!==void 0?i.nextSibling:null;n.setAttribute(Wp,bF),n.setAttribute(_F,y_);var a=nTe();return a&&n.setAttribute("nonce",a),r.insertBefore(n,o),n},iTe=function(){function t(e){this.element=MF(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,i=0,o=n.length;i<o;i++){var a=n[i];if(a.ownerNode===r)return a}throw vy(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,r){try{return this.sheet.insertRule(r,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var r=this.sheet.cssRules[e];return r&&r.cssText?r.cssText:""},t}(),aTe=function(){function t(e){this.element=MF(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,r){if(e<=this.length&&e>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),oTe=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,r){return e<=this.length&&(this.rules.splice(e,0,r),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),xD=nb,sTe={isServer:!nb,useCSSOMInjection:!jEe},IF=function(){function t(e,r,n){e===void 0&&(e=Yp),r===void 0&&(r={});var i=this;this.options=Xo(Xo({},sTe),e),this.gs=r,this.names=new Map(n),this.server=!!e.isServer,!this.server&&nb&&xD&&(xD=!1,yD(this)),GT(this,function(){return function(o){for(var a=o.getTag(),l=a.length,u="",h=function(m){var x=function(E){return ib.get(E)}(m);if(x===void 0)return"continue";var w=o.names.get(x),S=a.getGroup(m);if(w===void 0||!w.size||S.length===0)return"continue";var C="".concat(Wp,".g").concat(m,'[id="').concat(x,'"]'),A="";w!==void 0&&w.forEach(function(E){E.length>0&&(A+="".concat(E,","))}),u+="".concat(S).concat(C,'{content:"').concat(A,'"}').concat(YT)},f=0;f<l;f++)h(f);return u}(i)})}return t.registerId=function(e){return px(e)},t.prototype.rehydrate=function(){!this.server&&nb&&yD(this)},t.prototype.reconstructWithOptions=function(e,r){return r===void 0&&(r=!0),new t(Xo(Xo({},this.options),e),this.gs,r&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(r){var n=r.useCSSOMInjection,i=r.target;return r.isServer?new oTe(i):n?new iTe(i):new aTe(i)}(this.options),new KEe(e)));var e},t.prototype.hasNameForId=function(e,r){return this.names.has(e)&&this.names.get(e).has(r)},t.prototype.registerName=function(e,r){if(px(e),this.names.has(e))this.names.get(e).add(r);else{var n=new Set;n.add(r),this.names.set(e,n)}},t.prototype.insertRules=function(e,r,n){this.registerName(e,r),this.getTag().insertRules(px(e),n)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(px(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),lTe=/&/g,cTe=/^\s*\/\/.*$/gm;function OF(t,e){return t.map(function(r){return r.type==="rule"&&(r.value="".concat(e," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(e," ")),r.props=r.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=OF(r.children,e)),r})}function uTe(t){var e,r,n,i=Yp,o=i.options,a=o===void 0?Yp:o,l=i.plugins,u=l===void 0?x_:l,h=function(x,w,S){return S.startsWith(r)&&S.endsWith(r)&&S.replaceAll(r,"").length>0?".".concat(e):x},f=u.slice();f.push(function(x){x.type===p_&&x.value.includes("&")&&(x.props[0]=x.props[0].replace(lTe,r).replace(n,h))}),a.prefix&&f.push(LEe),f.push(OEe);var m=function(x,w,S,C){w===void 0&&(w=""),S===void 0&&(S=""),C===void 0&&(C="&"),e=C,r=w,n=new RegExp("\\".concat(r,"\\b"),"g");var A=x.replace(cTe,""),E=MEe(S||w?"".concat(S," ").concat(w," { ").concat(A," }"):A);a.namespace&&(E=OF(E,a.namespace));var P=[];return rb(E,DEe(f.concat(NEe(function(I){return P.push(I)})))),P};return m.hash=u.length?u.reduce(function(x,w){return w.name||vy(15),up(x,w.name)},SF).toString():"",m}var hTe=new IF,qC=uTe(),DF=ke.createContext({shouldForwardProp:void 0,styleSheet:hTe,stylis:qC});DF.Consumer;ke.createContext(void 0);function bD(){return H.useContext(DF)}var NF=function(){function t(e,r){var n=this;this.inject=function(i,o){o===void 0&&(o=qC);var a=n.name+o.hash;i.hasNameForId(n.id,a)||i.insertRules(n.id,a,o(n.rules,a,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=r,GT(this,function(){throw vy(12,String(n.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=qC),this.name+e.hash},t}(),dTe=function(t){return t>="A"&&t<="Z"};function _D(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(r===1&&n==="-"&&t[0]==="-")return t;dTe(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var LF=function(t){return t==null||t===!1||t===""},RF=function(t){var e,r,n=[];for(var i in t){var o=t[i];t.hasOwnProperty(i)&&!LF(o)&&(Array.isArray(o)&&o.isCss||Xp(o)?n.push("".concat(_D(i),":"),o,";"):Hv(o)?n.push.apply(n,$v($v(["".concat(i," {")],RF(o),!1),["}"],!1)):n.push("".concat(_D(i),": ").concat((e=i,(r=o)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||e in REe||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function md(t,e,r,n){if(LF(t))return[];if(XT(t))return[".".concat(t.styledComponentId)];if(Xp(t)){if(!Xp(o=t)||o.prototype&&o.prototype.isReactComponent||!e)return[t];var i=t(e);return md(i,e,r,n)}var o;return t instanceof NF?r?(t.inject(r,n),[t.getName(n)]):[t]:Hv(t)?RF(t):Array.isArray(t)?Array.prototype.concat.apply(x_,t.map(function(a){return md(a,e,r,n)})):[t.toString()]}function fTe(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(Xp(r)&&!XT(r))return!1}return!0}var pTe=CF(y_),mTe=function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&fTe(e),this.componentId=r,this.baseHash=up(pTe,r),this.baseStyle=n,IF.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))i=nd(i,this.staticRulesId);else{var o=XC(md(this.rules,e,r,n)),a=YC(up(this.baseHash,o)>>>0);if(!r.hasNameForId(this.componentId,a)){var l=n(o,".".concat(a),void 0,this.componentId);r.insertRules(this.componentId,a,l)}i=nd(i,a),this.staticRulesId=a}else{for(var u=up(this.baseHash,n.hash),h="",f=0;f<this.rules.length;f++){var m=this.rules[f];if(typeof m=="string")h+=m;else if(m){var x=XC(md(m,e,r,n));u=up(u,x+f),h+=x}}if(h){var w=YC(u>>>0);r.hasNameForId(this.componentId,w)||r.insertRules(this.componentId,w,n(h,".".concat(w),void 0,this.componentId)),i=nd(i,w)}}return i},t}(),jF=ke.createContext(void 0);jF.Consumer;var k2={};function gTe(t,e,r){var n=XT(t),i=t,o=!C2(t),a=e.attrs,l=a===void 0?x_:a,u=e.componentId,h=u===void 0?function(N,D){var L=typeof N!="string"?"sc":fD(N);k2[L]=(k2[L]||0)+1;var R="".concat(L,"-").concat(kF(y_+L+k2[L]));return D?"".concat(D,"-").concat(R):R}(e.displayName,e.parentComponentId):u,f=e.displayName,m=f===void 0?function(N){return C2(N)?"styled.".concat(N):"Styled(".concat(HEe(N),")")}(t):f,x=e.displayName&&e.componentId?"".concat(fD(e.displayName),"-").concat(e.componentId):e.componentId||h,w=n&&i.attrs?i.attrs.concat(l).filter(Boolean):l,S=e.shouldForwardProp;if(n&&i.shouldForwardProp){var C=i.shouldForwardProp;if(e.shouldForwardProp){var A=e.shouldForwardProp;S=function(N,D){return C(N,D)&&A(N,D)}}else S=C}var E=new mTe(r,x,n?i.componentStyle:void 0);function P(N,D){return function(L,R,$){var W=L.attrs,J=L.componentStyle,q=L.defaultProps,ee=L.foldedComponentIds,se=L.styledComponentId,he=L.target,Se=ke.useContext(jF),oe=bD(),_e=L.shouldForwardProp||oe.shouldForwardProp,xe=zEe(R,Se,q)||Yp,Ne=function(Ue,Xe,Ae){for(var We,qe=Xo(Xo({},Xe),{className:void 0,theme:Ae}),pt=0;pt<Ue.length;pt+=1){var Pt=Xp(We=Ue[pt])?We(qe):We;for(var Ht in Pt)qe[Ht]=Ht==="className"?nd(qe[Ht],Pt[Ht]):Ht==="style"?Xo(Xo({},qe[Ht]),Pt[Ht]):Pt[Ht]}return Xe.className&&(qe.className=nd(qe.className,Xe.className)),qe}(W,R,xe),Re=Ne.as||he,He={};for(var tt in Ne)Ne[tt]===void 0||tt[0]==="$"||tt==="as"||tt==="theme"&&Ne.theme===xe||(tt==="forwardedAs"?He.as=Ne.forwardedAs:_e&&!_e(tt,Re)||(He[tt]=Ne[tt]));var nt=function(Ue,Xe){var Ae=bD(),We=Ue.generateAndInjectStyles(Xe,Ae.styleSheet,Ae.stylis);return We}(J,Ne),Ke=nd(ee,se);return nt&&(Ke+=" "+nt),Ne.className&&(Ke+=" "+Ne.className),He[C2(Re)&&!wF.has(Re)?"class":"className"]=Ke,He.ref=$,H.createElement(Re,He)}(I,N,D)}P.displayName=m;var I=ke.forwardRef(P);return I.attrs=w,I.componentStyle=E,I.displayName=m,I.shouldForwardProp=S,I.foldedComponentIds=n?nd(i.foldedComponentIds,i.styledComponentId):"",I.styledComponentId=x,I.target=n?i.target:t,Object.defineProperty(I,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(N){this._foldedDefaultProps=n?function(D){for(var L=[],R=1;R<arguments.length;R++)L[R-1]=arguments[R];for(var $=0,W=L;$<W.length;$++)GC(D,W[$],!0);return D}({},i.defaultProps,N):N}}),GT(I,function(){return".".concat(I.styledComponentId)}),o&&PF(I,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),I}function wD(t,e){for(var r=[t[0]],n=0,i=e.length;n<i;n+=1)r.push(e[n],t[n+1]);return r}var SD=function(t){return Object.assign(t,{isCss:!0})};function zF(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(Xp(t)||Hv(t))return SD(md(wD(x_,$v([t],e,!0))));var n=t;return e.length===0&&n.length===1&&typeof n[0]=="string"?md(n):SD(md(wD(n,e)))}function ZC(t,e,r){if(r===void 0&&(r=Yp),!e)throw vy(1,e);var n=function(i){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];return t(e,r,zF.apply(void 0,$v([i],o,!1)))};return n.attrs=function(i){return ZC(t,e,Xo(Xo({},r),{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},n.withConfig=function(i){return ZC(t,e,Xo(Xo({},r),i))},n}var FF=function(t){return ZC(gTe,t)},zd=FF;wF.forEach(function(t){zd[t]=FF(t)});function qT(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=XC(zF.apply(void 0,$v([t],e,!1))),i=kF(n);return new NF(i,n)}const vTe="#4fa94d",yTe={"aria-busy":!0,role:"progressbar"},xTe=zd.div`
  display: ${t=>t.$visible?"flex":"none"};
`,bTe="http://www.w3.org/2000/svg",_Te=({height:t=80,width:e=80,color:r=vTe,ariaLabel:n="circles-loading",wrapperStyle:i,wrapperClass:o,visible:a=!0})=>_.jsx(xTe,{style:i,$visible:a,className:o,"aria-label":n,"data-testid":"circles-loading",...yTe,children:_.jsxs("svg",{width:e,height:t,viewBox:"0 0 135 135",xmlns:bTe,fill:r,"data-testid":"circles-svg",children:[_.jsx("title",{children:"circles-loading"}),_.jsx("desc",{children:"Animated representation of circles"}),_.jsx("path",{d:"M67.447 58c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10zm9.448 9.447c0 5.523 4.477 10 10 10 5.522 0 10-4.477 10-10s-4.478-10-10-10c-5.523 0-10 4.477-10 10zm-9.448 9.448c-5.523 0-10 4.477-10 10 0 5.522 4.477 10 10 10s10-4.478 10-10c0-5.523-4.477-10-10-10zM58 67.447c0-5.523-4.477-10-10-10s-10 4.477-10 10 4.477 10 10 10 10-4.477 10-10z",children:_.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"-360 67 67",dur:"2.5s",repeatCount:"indefinite"})}),_.jsx("path",{d:"M28.19 40.31c6.627 0 12-5.374 12-12 0-6.628-5.373-12-12-12-6.628 0-12 5.372-12 12 0 6.626 5.372 12 12 12zm30.72-19.825c4.686 4.687 12.284 4.687 16.97 0 4.686-4.686 4.686-12.284 0-16.97-4.686-4.687-12.284-4.687-16.97 0-4.687 4.686-4.687 12.284 0 16.97zm35.74 7.705c0 6.627 5.37 12 12 12 6.626 0 12-5.373 12-12 0-6.628-5.374-12-12-12-6.63 0-12 5.372-12 12zm19.822 30.72c-4.686 4.686-4.686 12.284 0 16.97 4.687 4.686 12.285 4.686 16.97 0 4.687-4.686 4.687-12.284 0-16.97-4.685-4.687-12.283-4.687-16.97 0zm-7.704 35.74c-6.627 0-12 5.37-12 12 0 6.626 5.373 12 12 12s12-5.374 12-12c0-6.63-5.373-12-12-12zm-30.72 19.822c-4.686-4.686-12.284-4.686-16.97 0-4.686 4.687-4.686 12.285 0 16.97 4.686 4.687 12.284 4.687 16.97 0 4.687-4.685 4.687-12.283 0-16.97zm-35.74-7.704c0-6.627-5.372-12-12-12-6.626 0-12 5.373-12 12s5.374 12 12 12c6.628 0 12-5.373 12-12zm-19.823-30.72c4.687-4.686 4.687-12.284 0-16.97-4.686-4.686-12.284-4.686-16.97 0-4.687 4.686-4.687 12.284 0 16.97 4.686 4.687 12.284 4.687 16.97 0z",children:_.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"360 67 67",dur:"8s",repeatCount:"indefinite"})})]})}),el=242.776657104492,wTe=1.6,STe=qT`
12.5% {
  stroke-dasharray: ${el*.14}px, ${el}px;
  stroke-dashoffset: -${el*.11}px;
}
43.75% {
  stroke-dasharray: ${el*.35}px, ${el}px;
  stroke-dashoffset: -${el*.35}px;
}
100% {
  stroke-dasharray: ${el*.01}px, ${el}px;
  stroke-dashoffset: -${el*.99}px;
}
`;zd.path`
  stroke-dasharray: ${el*.01}px, ${el};
  stroke-dashoffset: 0;
  animation: ${STe} ${wTe}s linear infinite;
`;const CTe=qT`
to {
   transform: rotate(360deg);
 }
`;zd.svg`
  animation: ${CTe} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;zd.polyline`
  stroke-width: ${t=>t.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const kTe=qT`
to {
   stroke-dashoffset: 136;
 }
`;zd.polygon`
  stroke-dasharray: 17;
  animation: ${kTe} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`;zd.svg`
  transform-origin: 50% 65%;
`;const ETe=()=>{const t=new Date,[e,r]=H.useState([]),[n,i]=H.useState(""),[o,a]=H.useState(!1),[l,u]=H.useState(null),[h,f]=H.useState([]),[m,x]=H.useState(null),[w,S]=H.useState([]),[C,A]=H.useState(t.getFullYear()),[E,P]=H.useState(t.getMonth()),[I,N]=H.useState(!0),[D,L]=H.useState(!1),[R,$]=H.useState(!1),[W,J]=H.useState(null),[q,ee]=H.useState(null);H.useEffect(()=>{(async()=>{try{const Ke=await UT();f(Ke)}catch{u("Failed to fetch branches.")}})()},[]),H.useEffect(()=>{const nt=async()=>{a(!0);try{const Xe=(m?await bke(m):await xke()).map(Ae=>{var We;return{...Ae,employee_name:((We=Ae.employee)==null?void 0:We.name)||"---"}});r(Xe)}catch{u("Failed to fetch schedule.")}finally{a(!1)}};(async()=>{try{if(m!==null){const Ue=await lD(m);S(Ue)}}catch{u("Failed to fetch absences.")}})(),nt()},[m]);const se=nt=>{x(Number(nt.target.value)||null)},he=async nt=>{if(window.confirm("Bạn có chắc chắn muốn xóa lịch làm việc này?"))try{await Cke(nt),r(e.filter(Ke=>Ke.id!==nt))}catch{u("Failed to delete schedule.")}},Se=()=>{J(null),L(!0)},oe=nt=>{J(nt),L(!0)},_e=async nt=>{try{if(W){const Ke=await Ske(nt);console.log(Ke),r(e.map(Ue=>Ue.id===Ke.id?Ke:Ue))}else{const Ke=await _ke(nt);r([...e,Ke])}L(!1)}catch{u("Failed to save schedule.")}},xe=async nt=>{try{nt.forEach(async Ke=>{await cD(Ke),(async()=>{try{if(m!==null){const Xe=await lD(m);S(Xe)}}catch{u("Failed to fetch absences.")}})(),$(!1)})}catch{u("Failed to save absence.")}},Ne=()=>{ee(null),$(!0)},Re=async(nt,Ke)=>{const Ue=new Date(C,E,Ke),Xe=await cD({employee_id:nt,date:Ue.toISOString()});S([...w,Xe])},He=async nt=>{if(window.confirm("Bạn có chắc chắn muốn xóa lịch nghỉ này?"))try{await wke(nt),S(w.filter(Ke=>Ke.id!==nt))}catch{u("Failed to remove absence day.")}},tt=H.useCallback((nt,Ke)=>{A(nt),P(Ke)},[C,E]);return o?_.jsxs("div",{className:fo.loaderWrapper,children:[_.jsx(_Te,{height:"50",width:"50",color:"#3498db"})," "]}):_.jsxs("div",{className:fo.page,children:[_.jsxs("div",{className:fo.header,children:[_.jsx("div",{className:fo.headerTitle,children:_.jsxs("div",{className:fo.iconWrapper,children:[_.jsx(H1,{})," ",_.jsx("p",{children:"Quản lý lịch làm việc"})]})}),_.jsx("div",{className:fo.addButton,onClick:Se,children:"+ Thêm lịch của nhân viên"})]}),_.jsx("div",{children:_.jsxs("select",{className:fo.branchSelect,onChange:se,value:m||"All",children:[_.jsx("option",{children:"All"}),h.map(nt=>_.jsx("option",{value:nt.id,children:nt.name},nt.id))]})}),_.jsx("div",{className:fo.divider,children:_.jsxs("div",{children:[_.jsx("label",{children:" Danh sách lịch làm việc "}),_.jsx("input",{type:"text",placeholder:"Tìm kiếm theo tên",value:n,onChange:nt=>i(nt.target.value),className:fo.searchInput})]})}),_.jsx(YCe,{schedules:e.filter(nt=>!n.length||nt.employee.name.toLowerCase().includes(n.toLowerCase())),onDelete:he,onEdit:oe}),_.jsxs("div",{className:fo.divider,children:[_.jsx("label",{children:" Danh sách lịch nghỉ"}),_.jsx("div",{style:{width:"100px",margin:"auto"}})]}),m?_.jsxs("div",{children:[_.jsxs("div",{className:fo.header,children:[_.jsxs("div",{className:fo.switchWrapper,children:[_.jsx("label",{children:" Xem kiểu lịch "}),_.jsxs("label",{className:fo.switch,children:[_.jsx("input",{type:"checkbox",checked:!I,onChange:()=>N(!I)}),_.jsx("span",{className:`${fo.slider} ${fo.sliderRound}`})]})]}),_.jsx("div",{className:fo.addButton,onClick:Ne,children:"+ Thêm ngày nghỉ"})]}),I?_.jsx(Wke,{absences:w,onDelete:He}):_.jsx(Vke,{year:C,month:E,absences:w,schedules:e,onChange:tt,onCreate:Re,onDelete:He})]}):_.jsx("div",{children:_.jsx("label",{children:" Chọn chi nhánh để tùy chỉnh lịch nghỉ "})}),_.jsx(Kl,{isOpen:D,onClose:()=>L(!1),title:W?"Chỉnh sửa lịch làm việc":"Thêm lịch làm việc",children:_.jsx(ZCe,{initialData:W||void 0,onSubmit:_e})}),_.jsx(vEe,{isOpen:R,onClose:()=>$(!1),title:"Thêm lịch nghỉ",children:_.jsx(uEe,{branchId:m||-1,absences:w,onSubmit:xe})})]})},TTe=({employees:t,onDelete:e,onEdit:r})=>{const[n,i]=H.useState({key:"id",direction:"asc"}),o=[...t].sort((u,h)=>{if(n.key){const f=n.key,m=n.direction==="asc"?1:-1;if(u[f]!=null&&h[f]!=null&&u[f]<h[f])return-m;if(u[f]!=null&&h[f]!=null&&u[f]>h[f])return m}return 0}),a=u=>{i(h=>{const f=h.key===u&&h.direction==="asc"?"desc":"asc";return{key:u,direction:f}})},l=u=>n.key!==u?ph:n.direction==="asc"?mh:fh;return _.jsx("div",{className:it.tableContainer,children:_.jsxs("table",{children:[_.jsxs("colgroup",{children:[_.jsx("col",{style:{width:"5%"}}),_.jsx("col",{style:{width:"20%"}}),_.jsx("col",{style:{width:"10%"}}),_.jsx("col",{style:{width:"15%"}}),_.jsx("col",{style:{width:"10%"}}),_.jsx("col",{style:{width:"10%"}}),_.jsx("col",{style:{width:"10%"}})]}),_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsxs("th",{onClick:()=>a("id"),children:["ID ",_.jsx(mr,{icon:l("id")})]}),_.jsxs("th",{onClick:()=>a("name"),children:["Tên nhân viên ",_.jsx(mr,{icon:l("name")})]}),_.jsxs("th",{onClick:()=>a("phone"),children:["SĐT ",_.jsx(mr,{icon:l("phone")})]}),_.jsxs("th",{onClick:()=>a("email"),children:["Email ",_.jsx(mr,{icon:l("email")})]}),_.jsxs("th",{onClick:()=>a("branch_id"),children:["Chi nhánh ",_.jsx(mr,{icon:l("branch_id")})]}),_.jsxs("th",{onClick:()=>a("work_position"),children:["Vị trí ",_.jsx(mr,{icon:l("work_position")})]}),_.jsx("th",{children:"Hành động"})]})}),_.jsx("tbody",{children:o.map(u=>_.jsxs("tr",{children:[_.jsx("td",{children:u.id}),_.jsx("td",{children:u.name}),_.jsx("td",{children:u.phone}),_.jsx("td",{children:u.email}),_.jsx("td",{children:u.branch_id}),_.jsx("td",{children:u.work_position}),_.jsxs("td",{className:it.actionList,children:[_.jsx(om,{className:it.actionEdit,onClick:()=>r(u)}),_.jsx(sm,{className:it.actionDelete,onClick:()=>e(u)})]})]},u.id))})]})})},ATe=({initialData:t,onSubmit:e,type:r})=>{const[n,i]=H.useState((t==null?void 0:t.id)||10),[o,a]=H.useState((t==null?void 0:t.name)||""),[l,u]=H.useState((t==null?void 0:t.phone)||""),[h,f]=H.useState((t==null?void 0:t.email)||""),[m,x]=H.useState((t==null?void 0:t.branch_id)||""),[w,S]=H.useState((t==null?void 0:t.work_position)||""),[C,A]=H.useState((t==null?void 0:t.available_from)||"Monday"),[E,P]=H.useState((t==null?void 0:t.available_to)||"Sunday"),[I,N]=H.useState((t==null?void 0:t.status)||!0),D=L=>{L.preventDefault();const R={id:n,name:o,phone:l,email:h,branch_id:m,work_position:w,available_from:C,available_to:E,status:I};console.log("data",R),e(R)};return _.jsxs("form",{onSubmit:D,className:Xu.employeeForm,children:[_.jsx(oi,{label:"Tên nhân viên",type:"text",value:o,onChange:L=>a(L.target.value),required:!0}),_.jsx(oi,{label:"Số điện thoại",type:"text",value:l,onChange:L=>u(L.target.value),required:!0}),_.jsx(oi,{label:"Email",type:"email",value:h,onChange:L=>f(L.target.value),required:!0}),_.jsx(oi,{label:"Chi nhánh",type:"text",value:m,onChange:L=>x(Number(L.target.value)),required:!0}),_.jsx(oi,{label:"Vị trí",type:"text",value:w,onChange:L=>S(L.target.value),required:!0}),_.jsx(qc,{type:"submit",className:Xu.submitButton,children:r})]})},PTe=()=>{const[t,e]=H.useState([]),[r,n]=H.useState(""),[i,o]=H.useState(!1),[a,l]=H.useState(null),[u,h]=H.useState(!1),[f,m]=H.useState(!1),[x,w]=H.useState(!1),[S,C]=H.useState(null),[A,E]=H.useState(1);H.useState(1);const[P,I]=H.useState(10);H.useState("");const[N,D]=H.useState([]),L=(Ue,Xe)=>{const Ae={id:Date.now(),message:Ue,type:Xe};D(We=>[...We,Ae]),setTimeout(()=>{D(We=>We.filter(qe=>qe.id!==Ae.id))},5e3)},R=t.filter(Ue=>Ue.name.toLowerCase().includes(r.toLowerCase()));H.useEffect(()=>{(async()=>{o(!0);try{const Xe=await xCe();e(Xe)}catch{l("Failed to fetch employees.")}finally{o(!1)}})()},[]);const $=Ue=>{C(Ue),m(!0)},W=()=>{C(null),h(!0)},J=Ue=>{C(Ue),h(!0)},q=async Ue=>{try{await wCe(Ue),e(t.filter(Xe=>Xe.id!==Ue)),L(`Đã xóa ${S==null?void 0:S.name}`,"deleted")}catch{l("Failed to delete employee.")}m(!1)},ee=async Ue=>{try{if(w(!0),S){const Xe=await _Ce(S.id,Ue);e(t.map(Ae=>Ae.id===Xe.id?Xe:Ae)),L(`Đã cập nhật ${Ue.name}`,"edited")}else{const Xe=await bCe(Ue);e([...t,Xe]),L(`Đã thêm ${Ue.name}`,"added")}h(!1),w(!1)}catch{l("Failed to save employee."),L("Đã có lỗi khi thao tác.","error"),w(!1)}},se=Ue=>{E(Ue)},he=Ue=>{I(Ue),E(1)},Se=()=>{E(A+1)},oe=()=>{E(A-1)},_e=()=>{const Ue=Math.ceil(R.length/P);let Xe=Math.max(1,Math.min(A-2,Ue-4));return A<=3&&(Xe=1),[...Array(Math.min(5,Ue-Xe+1))].map((Ae,We)=>{const qe=Xe+We;return _.jsx("button",{onClick:()=>se(qe),className:A===qe?it.activePage:"",children:qe},qe)})},xe=()=>_.jsx("div",{className:it.header,children:_.jsx("div",{className:it.headerTitle,children:_.jsxs("div",{className:it.iconWrapper,children:[_.jsx(Rv,{})," ",_.jsx("p",{children:"Quản lý nhân viên"})]})})}),Ne=()=>_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:it.selectPage,children:[_.jsxs("select",{value:P,onChange:Ue=>he(Number(Ue.target.value)),className:it.rowPerPage,children:[_.jsx("option",{value:5,children:"5"}),_.jsx("option",{value:10,children:"10"}),_.jsx("option",{value:20,children:"20"}),_.jsx("option",{value:50,children:"50"})]}),_.jsxs("span",{children:["Showing ",(A-1)*P+1," - ",Math.min(A*P,R.length)," of ",R.length," entries"]})]}),_.jsxs("div",{className:it.allPage,children:[_.jsx("button",{onClick:()=>oe(),disabled:A===1,children:" Previous "}),_e(),_.jsx("button",{onClick:()=>Se(),disabled:A>=Math.ceil(R.length/P),children:" Next "}),_.jsx("div",{className:it.searchField,children:_.jsx("div",{children:_.jsx("input",{className:it.searchInput,type:"text",value:r,onChange:Ue=>n(Ue.target.value),placeholder:"Nhập tên nhân viên"})})}),_.jsx("div",{className:it.addButton,onClick:W,children:"+ Thêm nhân viên"})]})]}),Re=()=>_.jsx(TTe,{employees:R.slice(A*P-P,A*P),onDelete:$,onEdit:J}),He=()=>_.jsx(Kl,{isOpen:u,onClose:()=>h(!1),title:S?"Chỉnh sửa nhân viên":"Thêm nhân viên",children:_.jsx(ATe,{initialData:S||void 0,onSubmit:ee,type:S?"Xác nhận Sửa":"Xác nhận Thêm"})}),tt=()=>_.jsx(Kl,{isOpen:f,onClose:()=>m(!1),title:"Xác nhận xóa nhân viên",children:_.jsx("div",{className:it.modalActions,children:_.jsx("button",{onClick:()=>S&&q(S.id),children:"Xóa"})})}),nt=()=>_.jsx(Jl,{isOpen:x}),Ke=()=>_.jsx("div",{className:it.historyContainer,children:N.map(Ue=>Ue.type==="error"?_.jsxs("div",{className:it.historyItemError,children:[_.jsx("span",{children:Ue.message}),_.jsx("div",{className:it.progressBarError})]},Ue.id):_.jsxs("div",{className:it.historyItem,children:[_.jsx("span",{children:Ue.message}),_.jsx("div",{className:it.progressBar})]},Ue.id))});return i?_.jsxs("div",{className:it.page,children:[_.jsxs("div",{className:it.header,children:[_.jsx("div",{className:it.headerTitle,children:_.jsxs("div",{className:it.iconWrapper,children:[_.jsx(Rv,{})," ",_.jsx("p",{children:"Quản lý nhân viên"})]})}),_.jsx("div",{className:it.addButton,onClick:W,children:"+ Thêm nhân viên"})]}),_.jsx(Jl,{isOpen:i})]}):_.jsxs("div",{className:it.page,children:[xe(),Ne(),He(),nt(),tt(),Re(),Ke()]})},MTe=({branches:t,onDelete:e,onEdit:r})=>{const[n,i]=H.useState({key:"id",direction:"asc"}),o=[...t].sort((u,h)=>{if(n.key){const f=n.key,m=n.direction==="asc"?1:-1;if(u[f]!=null&&h[f]!=null&&u[f]<h[f])return-m;if(u[f]!=null&&h[f]!=null&&u[f]>h[f])return m}return 0}),a=u=>{i(h=>{const f=h.key===u&&h.direction==="asc"?"desc":"asc";return{key:u,direction:f}})},l=u=>n.key!==u?ph:n.direction==="asc"?mh:fh;return _.jsx("div",{className:it.tableContainer,children:_.jsxs("table",{children:[_.jsxs("colgroup",{children:[_.jsx("col",{style:{width:"5%"}}),_.jsx("col",{style:{width:"10%"}}),_.jsx("col",{style:{width:"30%"}}),_.jsx("col",{style:{width:"10%"}}),_.jsx("col",{style:{width:"15%"}}),_.jsx("col",{style:{width:"7%"}})]}),_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsxs("th",{onClick:()=>a("id"),children:["ID ",_.jsx(mr,{icon:l("id")})]}),_.jsxs("th",{onClick:()=>a("name"),children:["Tên chi nhánh ",_.jsx(mr,{icon:l("name")})]}),_.jsxs("th",{onClick:()=>a("address"),children:["Địa chỉ ",_.jsx(mr,{icon:l("address")})]}),_.jsxs("th",{onClick:()=>a("phone"),children:["SDT",_.jsx(mr,{icon:l("phone")})]}),_.jsxs("th",{onClick:()=>a("email"),children:["Email ",_.jsx(mr,{icon:l("email")})]}),_.jsx("th",{children:"Hành động"})]})}),_.jsx("tbody",{children:o.map(u=>_.jsxs("tr",{children:[_.jsx("td",{children:u.id}),_.jsx("td",{children:u.name}),_.jsx("td",{children:u.address}),_.jsx("td",{children:u.phone}),_.jsx("td",{children:u.email}),_.jsxs("td",{className:it.actionList,children:[_.jsx(om,{className:it.actionEdit,onClick:()=>r(u)}),_.jsx(sm,{className:it.actionDelete,onClick:()=>e(u)})]})]},u.id))})]})})},ITe=({initialData:t,onSubmit:e,type:r})=>{const[n,i]=H.useState((t==null?void 0:t.id)||""),[o,a]=H.useState((t==null?void 0:t.name)||""),[l,u]=H.useState((t==null?void 0:t.address)||""),[h,f]=H.useState((t==null?void 0:t.phone)||""),[m,x]=H.useState((t==null?void 0:t.email)||""),[w,S]=H.useState((t==null?void 0:t.status)||!0),C=A=>{A.preventDefault(),e({id:n,name:o,address:l,phone:h,email:m,status:w})};return _.jsxs("form",{onSubmit:C,className:Xu.branchForm,children:[_.jsx(oi,{label:"Tên chi nhánh",type:"text",value:o,onChange:A=>a(A.target.value),required:!0}),_.jsx(oi,{label:"Địa chỉ",type:"text",value:l,onChange:A=>u(A.target.value),required:!0}),_.jsx(oi,{label:"Số điện thoại",type:"text",value:h,onChange:A=>f(A.target.value),required:!0}),_.jsx(oi,{label:"Email",type:"text",value:m,onChange:A=>x(A.target.value),required:!0}),_.jsx(oi,{label:"Trạng thái hoạt động",type:"checkbox",checked:w,onChange:A=>S(A.target.checked),required:!0}),_.jsx(qc,{type:"submit",children:r})]})},OTe=()=>{const[t,e]=H.useState([]),[r,n]=H.useState(""),[i,o]=H.useState(!1),[a,l]=H.useState(null),[u,h]=H.useState(!1),[f,m]=H.useState(!1),[x,w]=H.useState(!1),[S,C]=H.useState(null),[A,E]=H.useState(1);H.useState(1);const[P,I]=H.useState(10);H.useState("");const[N,D]=H.useState([]),L=(Ue,Xe)=>{const Ae={id:Date.now(),message:Ue,type:Xe};D(We=>[...We,Ae]),setTimeout(()=>{D(We=>We.filter(qe=>qe.id!==Ae.id))},5e3)},R=t.filter(Ue=>Ue.name.toLowerCase().includes(r.toLowerCase()));H.useEffect(()=>{(async()=>{o(!0);try{const Ae=(await UT()).map(We=>({...We,created_at:new Date(We.created_at).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"})}));e(Ae)}catch{l("Failed to fetch branches.")}finally{o(!1)}})()},[]);const $=Ue=>{C(Ue),m(!0)},W=()=>{C(null),h(!0)},J=Ue=>{C(Ue),h(!0)},q=async Ue=>{try{await PCe(Ue),e(t.filter(Xe=>Xe.id!==Ue)),L(`Đã xóa ${S==null?void 0:S.name}`,"deleted")}catch{l("Failed to delete branch.")}m(!1)},ee=async Ue=>{try{if(w(!0),S){const Xe=await ACe(S.id,Ue);e(t.map(Ae=>Ae.id===Xe.id?Xe:Ae)),L(`Đã cập nhật ${Ue.name}`,"edited")}else{const Xe=await TCe(Ue);e([...t,Xe]),L(`Đã thêm ${Ue.name}`,"added")}h(!1),w(!1)}catch{l("Failed to save branch."),L("Đã có lỗi khi thao tác.","error"),w(!1)}},se=Ue=>{E(Ue)},he=Ue=>{I(Ue),E(1)},Se=()=>{E(A+1)},oe=()=>{E(A-1)},_e=()=>{const Ue=Math.ceil(R.length/P);let Xe=Math.max(1,Math.min(A-2,Ue-4));return A<=3&&(Xe=1),[...Array(Math.min(5,Ue-Xe+1))].map((Ae,We)=>{const qe=Xe+We;return _.jsx("button",{onClick:()=>se(qe),className:A===qe?it.activePage:"",children:qe},qe)})},xe=()=>_.jsx("div",{className:it.header,children:_.jsx("div",{className:it.headerTitle,children:_.jsxs("div",{className:it.iconWrapper,children:[_.jsx(kd,{})," ",_.jsx("p",{children:"Quản lý chi nhánh"})]})})}),Ne=()=>_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:it.selectPage,children:[_.jsxs("select",{value:P,onChange:Ue=>he(Number(Ue.target.value)),className:it.rowPerPage,children:[_.jsx("option",{value:5,children:"5"}),_.jsx("option",{value:10,children:"10"}),_.jsx("option",{value:20,children:"20"}),_.jsx("option",{value:50,children:"50"})]}),_.jsxs("span",{children:["Showing ",(A-1)*P+1," - ",Math.min(A*P,R.length)," of ",R.length," entries"]})]}),_.jsxs("div",{className:it.allPage,children:[_.jsx("button",{onClick:()=>oe(),disabled:A===1,children:" Previous "}),_e(),_.jsx("button",{onClick:()=>Se(),disabled:A>=Math.ceil(R.length/P),children:" Next "}),_.jsx("div",{className:it.searchField,children:_.jsx("div",{children:_.jsx("input",{className:it.searchInput,type:"text",value:r,onChange:Ue=>n(Ue.target.value),placeholder:"Nhập tên dịch vụ"})})}),_.jsx("div",{className:it.addButton,onClick:W,children:"+ Thêm chi nhánh"})]})]}),Re=()=>_.jsx(MTe,{branches:R.slice(A*P-P,A*P),onDelete:$,onEdit:J}),He=()=>_.jsx(Kl,{isOpen:u,onClose:()=>h(!1),title:S?"Chỉnh sửa chi nhánh":"Thêm chi nhánh",children:_.jsx(ITe,{initialData:S||void 0,onSubmit:ee,type:S?"Xác nhận Sửa":"Xác nhận Thêm"})}),tt=()=>_.jsx(Kl,{isOpen:f,onClose:()=>m(!1),title:"Xác nhận xóa chi nhánh",children:_.jsx("div",{className:it.modalActions,children:_.jsx("button",{onClick:()=>S&&q(S.id),children:"Xóa"})})}),nt=()=>_.jsx(Jl,{isOpen:x}),Ke=()=>_.jsx("div",{className:it.historyContainer,children:N.map(Ue=>Ue.type==="error"?_.jsxs("div",{className:it.historyItemError,children:[_.jsx("span",{children:Ue.message}),_.jsx("div",{className:it.progressBarError})]},Ue.id):_.jsxs("div",{className:it.historyItem,children:[_.jsx("span",{children:Ue.message}),_.jsx("div",{className:it.progressBar})]},Ue.id))});return i?_.jsxs("div",{className:it.page,children:[_.jsxs("div",{className:it.header,children:[_.jsx("div",{className:it.headerTitle,children:_.jsxs("div",{className:it.iconWrapper,children:[_.jsx(kd,{})," ",_.jsx("p",{children:"Quản lý dịch vụ"})]})}),_.jsx("div",{className:it.addButton,onClick:W,children:"+ Thêm dịch vụ"})]}),_.jsx(Jl,{isOpen:i})]}):_.jsxs("div",{className:it.page,children:[xe(),Ne(),He(),nt(),tt(),Re(),Ke()]})},DTe="_notFound_92r3j_3",NTe={notFound:DTe},BF=()=>_.jsxs("div",{className:NTe.notFound,children:[_.jsx("h2",{children:"404 - Trang không tìm thấy"}),_.jsx(ba,{to:"/manager/dashboard",children:"Quay lại Bảng điều khiển"})]});var $F={};/*!
 * ApexCharts v4.2.0
 * (c) 2018-2024 ApexCharts
 * Released under the MIT License.
 */function KC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function HF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WF(n.key),n)}}function er(t,e,r){return e&&CD(t.prototype,e),r&&CD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bg(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ZT(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){l=!0,o=u},f:function(){try{a||r.return==null||r.return()}finally{if(l)throw o}}}}function yy(t){var e=UF();return function(){var r,n=ob(t);if(e){var i=ob(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(o,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HF(o)}(this,r)}}function ab(t,e,r){return(e=WF(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ob(t){return ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ob(t)}function xy(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JC(t,e)}function UF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UF=function(){return!!t})()}function kD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ft(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kD(Object(r),!0).forEach(function(n){ab(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JC(t,e){return JC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},JC(t,e)}function VF(t,e){return function(r){if(Array.isArray(r))return r}(t)||function(r,n){var i=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(i!=null){var o,a,l,u,h=[],f=!0,m=!1;try{if(l=(i=i.call(r)).next,n===0){if(Object(i)!==i)return;f=!1}else for(;!(f=(o=l.call(i)).done)&&(h.push(o.value),h.length!==n);f=!0);}catch(x){m=!0,a=x}finally{try{if(!f&&i.return!=null&&(u=i.return(),Object(u)!==u))return}finally{if(m)throw a}}return h}}(t,e)||ZT(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Oa(t){return function(e){if(Array.isArray(e))return KC(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||ZT(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function WF(t){var e=function(r,n){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var o=i.call(r,n||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return typeof e=="symbol"?e:e+""}function Gp(t){return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function ZT(t,e){if(t){if(typeof t=="string")return KC(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?KC(t,e):void 0}}var ze=function(){function t(){Qt(this,t)}return er(t,[{key:"shadeRGBColor",value:function(e,r){var n=r.split(","),i=e<0?0:255,o=e<0?-1*e:e,a=parseInt(n[0].slice(4),10),l=parseInt(n[1],10),u=parseInt(n[2],10);return"rgb("+(Math.round((i-a)*o)+a)+","+(Math.round((i-l)*o)+l)+","+(Math.round((i-u)*o)+u)+")"}},{key:"shadeHexColor",value:function(e,r){var n=parseInt(r.slice(1),16),i=e<0?0:255,o=e<0?-1*e:e,a=n>>16,l=n>>8&255,u=255&n;return"#"+(16777216+65536*(Math.round((i-a)*o)+a)+256*(Math.round((i-l)*o)+l)+(Math.round((i-u)*o)+u)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,r){return t.isColorHex(r)?this.shadeHexColor(e,r):this.shadeRGBColor(e,r)}}],[{key:"bind",value:function(e,r){return function(){return e.apply(r,arguments)}}},{key:"isObject",value:function(e){return e&&Gp(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,r){return Object.prototype.toString.call(r)==="[object "+e+"]"}},{key:"listToArray",value:function(e){var r,n=[];for(r=0;r<e.length;r++)n[r]=e[r];return n}},{key:"extend",value:function(e,r){var n=this;typeof Object.assign!="function"&&(Object.assign=function(o){if(o==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(o),l=1;l<arguments.length;l++){var u=arguments[l];if(u!=null)for(var h in u)u.hasOwnProperty(h)&&(a[h]=u[h])}return a});var i=Object.assign({},e);return this.isObject(e)&&this.isObject(r)&&Object.keys(r).forEach(function(o){n.isObject(r[o])&&o in e?i[o]=n.extend(e[o],r[o]):Object.assign(i,ab({},o,r[o]))}),i}},{key:"extendArray",value:function(e,r){var n=[];return e.map(function(i){n.push(t.extend(r,i))}),e=n}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){if(t.is("Array",e)){for(var r=[],n=0;n<e.length;n++)r[n]=this.clone(e[n]);return r}if(t.is("Null",e))return null;if(t.is("Date",e))return e;if(Gp(e)==="object"){var i={};for(var o in e)e.hasOwnProperty(o)&&(i[o]=this.clone(e[o]));return i}return e}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,r){return Math.pow(r,Math.floor(Math.log(e)/Math.log(r)))}},{key:"parseNumber",value:function(e){return e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(r))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){var r=String(e).split(/[eE]/);if(r.length===1)return r[0];var n="",i=e<0?"-":"",o=r[0].replace(".",""),a=Number(r[1])+1;if(a<0){for(n=i+"0.";a++;)n+="0";return n+o.replace(/^-/,"")}for(a-=o.length;a--;)n+="0";return o+n}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"getDimensions",value:function(e){var r=getComputedStyle(e,null),n=e.clientHeight,i=e.clientWidth;return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),[i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n]}},{key:"getBoundingClientRect",value:function(e){var r=e.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:e.clientWidth,height:e.clientHeight,x:r.left,y:r.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(r,n){return Array.isArray(n)&&(n=n.reduce(function(i,o){return i.length>o.length?i:o})),r.length>n.length?r:n},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var n=e.replace("#","");n=n.match(new RegExp("(.{"+n.length/3+"})","g"));for(var i=0;i<n.length;i++)n[i]=parseInt(n[i].length===1?n[i]+n[i]:n[i],16);return r!==void 0&&n.push(r),"rgba("+n.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,r){for(var n=[],i=2*Math.PI/r,o=0;o<r;o++){var a={};a.x=e*Math.sin(o*i),a.y=-e*Math.cos(o*i),n.push(a)}return n}},{key:"polarToCartesian",value:function(e,r,n,i){var o=(i-90)*Math.PI/180;return{x:e+n*Math.cos(o),y:r+n*Math.sin(o)}}},{key:"escapeString",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",n=e.toString().slice();return n=n.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,r)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,r,n){if(n>=e.length)for(var i=n-e.length+1;i--;)e.push(void 0);return e.splice(n,0,e.splice(r,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,r){for(;(e=e.parentElement)&&!e.classList.contains(r););return e}},{key:"setELstyles",value:function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e.style.key=r[n])}},{key:"preciseAddition",value:function(e,r){var n=(String(e).split(".")[1]||"").length,i=(String(r).split(".")[1]||"").length,o=Math.pow(10,Math.max(n,i));return(Math.round(e*o)+Math.round(r*o))/o}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}},{key:"getGCD",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,i=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,r))));for(e=Math.round(Math.abs(e)*i),r=Math.round(Math.abs(r)*i);r;){var o=r;r=e%r,e=o}return e/i}},{key:"getPrimeFactors",value:function(e){for(var r=[],n=2;e>=2;)e%n==0?(r.push(n),e/=n):n++;return r}},{key:"mod",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,i=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,r))));return(e=Math.round(Math.abs(e)*i))%(r=Math.round(Math.abs(r)*i))/i}}]),t}(),_m=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w}return er(t,[{key:"animateLine",value:function(e,r,n,i){e.attr(r).animate(i).attr(n)}},{key:"animateMarker",value:function(e,r,n,i){e.attr({opacity:0}).animate(r).attr({opacity:1}).after(function(){i()})}},{key:"animateRect",value:function(e,r,n,i,o){e.attr(r).animate(i).attr(n).after(function(){return o()})}},{key:"animatePathsGradually",value:function(e){var r=e.el,n=e.realIndex,i=e.j,o=e.fill,a=e.pathFrom,l=e.pathTo,u=e.speed,h=e.delay,f=this.w,m=0;f.config.chart.animations.animateGradually.enabled&&(m=f.config.chart.animations.animateGradually.delay),f.config.chart.animations.dynamicAnimation.enabled&&f.globals.dataChanged&&f.config.chart.type!=="bar"&&(m=0),this.morphSVG(r,n,i,f.config.chart.type!=="line"||f.globals.comboCharts?o:"stroke",a,l,u,h*m)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var r=e.el;r.classList.remove("apexcharts-element-hidden"),r.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var r=this.w;r.globals.animationEnded||(r.globals.animationEnded=!0,this.showDelayedElements(),typeof r.config.chart.events.animationEnd=="function"&&r.config.chart.events.animationEnd(this.ctx,{el:e,w:r}))}},{key:"morphSVG",value:function(e,r,n,i,o,a,l,u){var h=this,f=this.w;o||(o=e.attr("pathFrom")),a||(a=e.attr("pathTo"));var m=function(x){return f.config.chart.type==="radar"&&(l=1),"M 0 ".concat(f.globals.gridHeight)};(!o||o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=m()),(!a.trim()||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=m()),f.globals.shouldAnimate||(l=1),e.plot(o).animate(1,u).plot(o).animate(l,u).plot(a).after(function(){ze.isNumber(n)?n===f.globals.series[f.globals.maxValsInArrayIndex].length-2&&f.globals.shouldAnimate&&h.animationCompleted(e):i!=="none"&&f.globals.shouldAnimate&&(!f.globals.comboCharts&&r===f.globals.series.length-1||f.globals.comboCharts)&&h.animationCompleted(e),h.showDelayedElements()})}}]),t}();const QC={},YF=[];function tn(t,e){if(Array.isArray(t))for(const r of t)tn(r,e);else if(typeof t!="object")XF(Object.getOwnPropertyNames(e)),QC[t]=Object.assign(QC[t]||{},e);else for(const r in t)tn(r,t[r])}function Vo(t){return QC[t]||{}}function XF(t){YF.push(...t)}function KT(t,e){let r;const n=t.length,i=[];for(r=0;r<n;r++)i.push(e(t[r]));return i}function E2(t){return t%360*Math.PI/180}function wm(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Sm(t,e,r,n){return e!=null&&r!=null||(n=n||t.bbox(),e==null?e=n.width/n.height*r:r==null&&(r=n.height/n.width*e)),{width:e,height:r}}function ek(t,e){const r=t.origin;let n=t.ox!=null?t.ox:t.originX!=null?t.originX:"center",i=t.oy!=null?t.oy:t.originY!=null?t.originY:"center";r!=null&&([n,i]=Array.isArray(r)?r:typeof r=="object"?[r.x,r.y]:[r,r]);const o=typeof n=="string",a=typeof i=="string";if(o||a){const{height:l,width:u,x:h,y:f}=e.bbox();o&&(n=n.includes("left")?h:n.includes("right")?h+u:h+u/2),a&&(i=i.includes("top")?f:i.includes("bottom")?f+l:f+l/2)}return[n,i]}const LTe=new Set(["desc","metadata","title"]),tk=t=>LTe.has(t.nodeName),GF=(t,e,r={})=>{const n={...e};for(const i in n)n[i].valueOf()===r[i]&&delete n[i];Object.keys(n).length?t.node.setAttribute("data-svgjs",JSON.stringify(n)):(t.node.removeAttribute("data-svgjs"),t.node.removeAttribute("svgjs:data"))},JT="http://www.w3.org/2000/svg",T2="http://www.w3.org/2000/xmlns/",Cm="http://www.w3.org/1999/xlink",Tn={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function by(){return Tn.window}let QT=class{};const gd={},eA="___SYMBOL___ROOT___";function Uv(t,e=JT){return Tn.document.createElementNS(e,t)}function Io(t,e=!1){if(t instanceof QT)return t;if(typeof t=="object")return A2(t);if(t==null)return new gd[eA];if(typeof t=="string"&&t.charAt(0)!=="<")return A2(Tn.document.querySelector(t));const r=e?Tn.document.createElement("div"):Uv("svg");return r.innerHTML=t,t=A2(r.firstChild),r.removeChild(r.firstChild),t}function hi(t,e){return e&&(e instanceof Tn.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:Uv(t)}function Ms(t){if(!t)return null;if(t.instance instanceof QT)return t.instance;if(t.nodeName==="#document-fragment")return new gd.Fragment(t);let e=wm(t.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":gd[e]||(e="Dom"),new gd[e](t)}let A2=Ms;function An(t,e=t.name,r=!1){return gd[e]=t,r&&(gd[eA]=t),XF(Object.getOwnPropertyNames(t.prototype)),t}let RTe=1e3;function qF(t){return"Svgjs"+wm(t)+RTe++}function ZF(t){for(let e=t.children.length-1;e>=0;e--)ZF(t.children[e]);return t.id&&(t.id=qF(t.nodeName)),t}function Pr(t,e){let r,n;for(n=(t=Array.isArray(t)?t:[t]).length-1;n>=0;n--)for(r in e)t[n].prototype[r]=e[r]}function ui(t){return function(...e){const r=e[e.length-1];return!r||r.constructor!==Object||r instanceof Array?t.apply(this,e):t.apply(this,e.slice(0,-1)).attr(r)}}tn("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const t=this.position();return this.parent().add(this.remove(),t+1),this},backward:function(){const t=this.position();return this.parent().add(this.remove(),t?t-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(t){(t=Io(t)).remove();const e=this.position();return this.parent().add(t,e),this},after:function(t){(t=Io(t)).remove();const e=this.position();return this.parent().add(t,e+1),this},insertBefore:function(t){return(t=Io(t)).before(this),this},insertAfter:function(t){return(t=Io(t)).after(this),this}});const KF=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,jTe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,zTe=/rgb\((\d+),(\d+),(\d+)\)/,FTe=/(#[a-z_][a-z0-9\-_]*)/i,BTe=/\)\s*,?\s*/,$Te=/\s/g,ED=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,TD=/^rgb\(/,AD=/^(\s+)?$/,PD=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,HTe=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Kc=/[\s,]+/,tA=/[MLHVCSQTAZ]/i;function UTe(t){const e=Math.round(t),r=Math.max(0,Math.min(255,e)).toString(16);return r.length===1?"0"+r:r}function Lf(t,e){for(let r=e.length;r--;)if(t[e[r]]==null)return!1;return!0}function P2(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}tn("Dom",{classes:function(){const t=this.attr("class");return t==null?[]:t.trim().split(Kc)},hasClass:function(t){return this.classes().indexOf(t)!==-1},addClass:function(t){if(!this.hasClass(t)){const e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter(function(e){return e!==t}).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}}),tn("Dom",{css:function(t,e){const r={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(n){return!!n.length}).forEach(function(n){const i=n.split(/\s*:\s*/);r[i[0]]=i[1]}),r;if(arguments.length<2){if(Array.isArray(t)){for(const n of t){const i=n;r[n]=this.node.style.getPropertyValue(i)}return r}if(typeof t=="string")return this.node.style.getPropertyValue(t);if(typeof t=="object")for(const n in t)this.node.style.setProperty(n,t[n]==null||AD.test(t[n])?"":t[n])}return arguments.length===2&&this.node.style.setProperty(t,e==null||AD.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),tn("Dom",{data:function(t,e,r){if(t==null)return this.data(KT(function(n,i){let o;const a=n.length,l=[];for(o=0;o<a;o++)i(n[o])&&l.push(n[o]);return l}(this.node.attributes,n=>n.nodeName.indexOf("data-")===0),n=>n.nodeName.slice(5)));if(t instanceof Array){const n={};for(const i of t)n[i]=this.data(i);return n}if(typeof t=="object")for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch{return this.attr("data-"+t)}else this.attr("data-"+t,e===null?null:r===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),tn("Dom",{remember:function(t,e){if(typeof arguments[0]=="object")for(const r in t)this.remember(r,t[r]);else{if(arguments.length===1)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory=this._memory||{}}});class ii{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof ii||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",r){const{random:n,round:i,sin:o,PI:a}=Math;if(e==="vibrant"){const l=24*n()+57,u=38*n()+45,h=360*n();return new ii(l,u,h,"lch")}if(e==="sine"){const l=i(80*o(2*a*(r=r??n())/.5+.01)+150),u=i(50*o(2*a*r/.5+4.6)+200),h=i(100*o(2*a*r/.5+2.3)+150);return new ii(l,u,h)}if(e==="pastel"){const l=8*n()+86,u=17*n()+9,h=360*n();return new ii(l,u,h,"lch")}if(e==="dark"){const l=10+10*n(),u=50*n()+86,h=360*n();return new ii(l,u,h,"lch")}if(e==="rgb"){const l=255*n(),u=255*n(),h=255*n();return new ii(l,u,h)}if(e==="lab"){const l=100*n(),u=256*n()-128,h=256*n()-128;return new ii(l,u,h,"lab")}if(e==="grey"){const l=255*n();return new ii(l,l,l)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(ED.test(e)||TD.test(e))}cmyk(){const{_a:e,_b:r,_c:n}=this.rgb(),[i,o,a]=[e,r,n].map(u=>u/255),l=Math.min(1-i,1-o,1-a);return l===1?new ii(0,0,0,1,"cmyk"):new ii((1-i-l)/(1-l),(1-o-l)/(1-l),(1-a-l)/(1-l),l,"cmyk")}hsl(){const{_a:e,_b:r,_c:n}=this.rgb(),[i,o,a]=[e,r,n].map(x=>x/255),l=Math.max(i,o,a),u=Math.min(i,o,a),h=(l+u)/2,f=l===u,m=l-u;return new ii(360*(f?0:l===i?((o-a)/m+(o<a?6:0))/6:l===o?((a-i)/m+2)/6:l===a?((i-o)/m+4)/6:0),100*(f?0:h>.5?m/(2-l-u):m/(l+u)),100*h,"hsl")}init(e=0,r=0,n=0,i=0,o="rgb"){if(e=e||0,this.space)for(const m in this.space)delete this[this.space[m]];if(typeof e=="number")o=typeof i=="string"?i:o,i=typeof i=="string"?0:i,Object.assign(this,{_a:e,_b:r,_c:n,_d:i,space:o});else if(e instanceof Array)this.space=r||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const m=function(x,w){const S=Lf(x,"rgb")?{_a:x.r,_b:x.g,_c:x.b,_d:0,space:"rgb"}:Lf(x,"xyz")?{_a:x.x,_b:x.y,_c:x.z,_d:0,space:"xyz"}:Lf(x,"hsl")?{_a:x.h,_b:x.s,_c:x.l,_d:0,space:"hsl"}:Lf(x,"lab")?{_a:x.l,_b:x.a,_c:x.b,_d:0,space:"lab"}:Lf(x,"lch")?{_a:x.l,_b:x.c,_c:x.h,_d:0,space:"lch"}:Lf(x,"cmyk")?{_a:x.c,_b:x.m,_c:x.y,_d:x.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return S.space=w||S.space,S}(e,r);Object.assign(this,m)}else if(typeof e=="string")if(TD.test(e)){const m=e.replace($Te,""),[x,w,S]=zTe.exec(m).slice(1,4).map(C=>parseInt(C));Object.assign(this,{_a:x,_b:w,_c:S,_d:0,space:"rgb"})}else{if(!ED.test(e))throw Error("Unsupported string format, can't construct Color");{const m=C=>parseInt(C,16),[,x,w,S]=jTe.exec(function(C){return C.length===4?["#",C.substring(1,2),C.substring(1,2),C.substring(2,3),C.substring(2,3),C.substring(3,4),C.substring(3,4)].join(""):C}(e)).map(m);Object.assign(this,{_a:x,_b:w,_c:S,_d:0,space:"rgb"})}}const{_a:a,_b:l,_c:u,_d:h}=this,f=this.space==="rgb"?{r:a,g:l,b:u}:this.space==="xyz"?{x:a,y:l,z:u}:this.space==="hsl"?{h:a,s:l,l:u}:this.space==="lab"?{l:a,a:l,b:u}:this.space==="lch"?{l:a,c:l,h:u}:this.space==="cmyk"?{c:a,m:l,y:u,k:h}:{};Object.assign(this,f)}lab(){const{x:e,y:r,z:n}=this.xyz();return new ii(116*r-16,500*(e-r),200*(r-n),"lab")}lch(){const{l:e,a:r,b:n}=this.lab(),i=Math.sqrt(r**2+n**2);let o=180*Math.atan2(n,r)/Math.PI;return o<0&&(o*=-1,o=360-o),new ii(e,i,o,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:r,y:n,z:i}=this;if(this.space==="lab"||this.space==="lch"){let{l:w,a:S,b:C}=this;if(this.space==="lch"){const{c:L,h:R}=this,$=Math.PI/180;S=L*Math.cos($*R),C=L*Math.sin($*R)}const A=(w+16)/116,E=S/500+A,P=A-C/200,I=16/116,N=.008856,D=7.787;r=.95047*(E**3>N?E**3:(E-I)/D),n=1*(A**3>N?A**3:(A-I)/D),i=1.08883*(P**3>N?P**3:(P-I)/D)}const o=3.2406*r+-1.5372*n+-.4986*i,a=-.9689*r+1.8758*n+.0415*i,l=.0557*r+-.204*n+1.057*i,u=Math.pow,h=.0031308,f=o>h?1.055*u(o,1/2.4)-.055:12.92*o,m=a>h?1.055*u(a,1/2.4)-.055:12.92*a,x=l>h?1.055*u(l,1/2.4)-.055:12.92*l;return new ii(255*f,255*m,255*x)}if(this.space==="hsl"){let{h:r,s:n,l:i}=this;if(r/=360,n/=100,i/=100,n===0)return i*=255,new ii(i,i,i);const o=i<.5?i*(1+n):i+n-i*n,a=2*i-o,l=255*P2(a,o,r+1/3),u=255*P2(a,o,r),h=255*P2(a,o,r-1/3);return new ii(l,u,h)}if(this.space==="cmyk"){const{c:r,m:n,y:i,k:o}=this,a=255*(1-Math.min(1,r*(1-o)+o)),l=255*(1-Math.min(1,n*(1-o)+o)),u=255*(1-Math.min(1,i*(1-o)+o));return new ii(a,l,u)}return this;var e}toArray(){const{_a:e,_b:r,_c:n,_d:i,space:o}=this;return[e,r,n,i,o]}toHex(){const[e,r,n]=this._clamped().map(UTe);return`#${e}${r}${n}`}toRgb(){const[e,r,n]=this._clamped();return`rgb(${e},${r},${n})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:r,_c:n}=this.rgb(),[i,o,a]=[e,r,n].map(A=>A/255),l=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,u=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,h=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,f=(.4124*l+.3576*u+.1805*h)/.95047,m=(.2126*l+.7152*u+.0722*h)/1,x=(.0193*l+.1192*u+.9505*h)/1.08883,w=f>.008856?Math.pow(f,1/3):7.787*f+16/116,S=m>.008856?Math.pow(m,1/3):7.787*m+16/116,C=x>.008856?Math.pow(x,1/3):7.787*x+16/116;return new ii(w,S,C,"xyz")}_clamped(){const{_a:e,_b:r,_c:n}=this.rgb(),{max:i,min:o,round:a}=Math;return[e,r,n].map(l=>i(0,o(a(l),255)))}}class Vn{constructor(...e){this.init(...e)}clone(){return new Vn(this)}init(e,r){const o=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:r};return this.x=o.x==null?0:o.x,this.y=o.y==null?0:o.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){xr.isMatrixLike(e)||(e=new xr(e));const{x:r,y:n}=this;return this.x=e.a*r+e.c*n+e.e,this.y=e.b*r+e.d*n+e.f,this}}function Rf(t,e,r){return Math.abs(e-t)<1e-6}class xr{constructor(...e){this.init(...e)}static formatTransforms(e){const r=e.flip==="both"||e.flip===!0,n=e.flip&&(r||e.flip==="x")?-1:1,i=e.flip&&(r||e.flip==="y")?-1:1,o=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,a=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,l=e.scale&&e.scale.length?e.scale[0]*n:isFinite(e.scale)?e.scale*n:isFinite(e.scaleX)?e.scaleX*n:n,u=e.scale&&e.scale.length?e.scale[1]*i:isFinite(e.scale)?e.scale*i:isFinite(e.scaleY)?e.scaleY*i:i,h=e.shear||0,f=e.rotate||e.theta||0,m=new Vn(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),x=m.x,w=m.y,S=new Vn(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),C=S.x,A=S.y,E=new Vn(e.translate||e.tx||e.translateX,e.ty||e.translateY),P=E.x,I=E.y,N=new Vn(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:l,scaleY:u,skewX:o,skewY:a,shear:h,theta:f,rx:N.x,ry:N.y,tx:P,ty:I,ox:x,oy:w,px:C,py:A}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,r,n){const i=e.a*r.a+e.c*r.b,o=e.b*r.a+e.d*r.b,a=e.a*r.c+e.c*r.d,l=e.b*r.c+e.d*r.d,u=e.e+e.a*r.e+e.c*r.f,h=e.f+e.b*r.e+e.d*r.f;return n.a=i,n.b=o,n.c=a,n.d=l,n.e=u,n.f=h,n}around(e,r,n){return this.clone().aroundO(e,r,n)}aroundO(e,r,n){const i=e||0,o=r||0;return this.translateO(-i,-o).lmultiplyO(n).translateO(i,o)}clone(){return new xr(this)}decompose(e=0,r=0){const n=this.a,i=this.b,o=this.c,a=this.d,l=this.e,u=this.f,h=n*a-i*o,f=h>0?1:-1,m=f*Math.sqrt(n*n+i*i),x=Math.atan2(f*i,f*n),w=180/Math.PI*x,S=Math.cos(x),C=Math.sin(x),A=(n*o+i*a)/h,E=o*m/(A*n-i)||a*m/(A*i+n);return{scaleX:m,scaleY:E,shear:A,rotate:w,translateX:l-e+e*S*m+r*(A*S*m-C*E),translateY:u-r+e*C*m+r*(A*C*m+S*E),originX:e,originY:r,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const r=new xr(e);return Rf(this.a,r.a)&&Rf(this.b,r.b)&&Rf(this.c,r.c)&&Rf(this.d,r.d)&&Rf(this.e,r.e)&&Rf(this.f,r.f)}flip(e,r){return this.clone().flipO(e,r)}flipO(e,r){return e==="x"?this.scaleO(-1,1,r,0):e==="y"?this.scaleO(1,-1,0,r):this.scaleO(-1,-1,e,r||e)}init(e){const r=xr.fromArray([1,0,0,1,0,0]);return e=e instanceof Za?e.matrixify():typeof e=="string"?xr.fromArray(e.split(Kc).map(parseFloat)):Array.isArray(e)?xr.fromArray(e):typeof e=="object"&&xr.isMatrixLike(e)?e:typeof e=="object"?new xr().transform(e):arguments.length===6?xr.fromArray([].slice.call(arguments)):r,this.a=e.a!=null?e.a:r.a,this.b=e.b!=null?e.b:r.b,this.c=e.c!=null?e.c:r.c,this.d=e.d!=null?e.d:r.d,this.e=e.e!=null?e.e:r.e,this.f=e.f!=null?e.f:r.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,r=this.b,n=this.c,i=this.d,o=this.e,a=this.f,l=e*i-r*n;if(!l)throw new Error("Cannot invert "+this);const u=i/l,h=-r/l,f=-n/l,m=e/l,x=-(u*o+f*a),w=-(h*o+m*a);return this.a=u,this.b=h,this.c=f,this.d=m,this.e=x,this.f=w,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const r=e instanceof xr?e:new xr(e);return xr.matrixMultiply(r,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const r=e instanceof xr?e:new xr(e);return xr.matrixMultiply(this,r,this)}rotate(e,r,n){return this.clone().rotateO(e,r,n)}rotateO(e,r=0,n=0){e=E2(e);const i=Math.cos(e),o=Math.sin(e),{a,b:l,c:u,d:h,e:f,f:m}=this;return this.a=a*i-l*o,this.b=l*i+a*o,this.c=u*i-h*o,this.d=h*i+u*o,this.e=f*i-m*o+n*o-r*i+r,this.f=m*i+f*o-r*o-n*i+n,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,r=e,n=0,i=0){arguments.length===3&&(i=n,n=r,r=e);const{a:o,b:a,c:l,d:u,e:h,f}=this;return this.a=o*e,this.b=a*r,this.c=l*e,this.d=u*r,this.e=h*e-n*e+n,this.f=f*r-i*r+i,this}shear(e,r,n){return this.clone().shearO(e,r,n)}shearO(e,r=0,n=0){const{a:i,b:o,c:a,d:l,e:u,f:h}=this;return this.a=i+o*e,this.c=a+l*e,this.e=u+h*e-n*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,r=e,n=0,i=0){arguments.length===3&&(i=n,n=r,r=e),e=E2(e),r=E2(r);const o=Math.tan(e),a=Math.tan(r),{a:l,b:u,c:h,d:f,e:m,f:x}=this;return this.a=l+u*o,this.b=u+l*a,this.c=h+f*o,this.d=f+h*a,this.e=m+x*o-i*o,this.f=x+m*a-n*a,this}skewX(e,r,n){return this.skew(e,0,r,n)}skewY(e,r,n){return this.skew(0,e,r,n)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(xr.isMatrixLike(e))return new xr(e).multiplyO(this);const r=xr.formatTransforms(e),{x:n,y:i}=new Vn(r.ox,r.oy).transform(this),o=new xr().translateO(r.rx,r.ry).lmultiplyO(this).translateO(-n,-i).scaleO(r.scaleX,r.scaleY).skewO(r.skewX,r.skewY).shearO(r.shear).rotateO(r.theta).translateO(n,i);if(isFinite(r.px)||isFinite(r.py)){const a=new Vn(n,i).transform(o),l=isFinite(r.px)?r.px-a.x:0,u=isFinite(r.py)?r.py-a.y:0;o.translateO(l,u)}return o.translateO(r.tx,r.ty),o}translate(e,r){return this.clone().translateO(e,r)}translateO(e,r){return this.e+=e||0,this.f+=r||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function Mu(){if(!Mu.nodes){const t=Io().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");const e=t.path().node;Mu.nodes={svg:t,path:e}}if(!Mu.nodes.svg.node.parentNode){const t=Tn.document.body||Tn.document.documentElement;Mu.nodes.svg.addTo(t)}return Mu.nodes}function JF(t){return!(t.width||t.height||t.x||t.y)}An(xr,"Matrix");class Ji{constructor(...e){this.init(...e)}addOffset(){return this.x+=Tn.window.pageXOffset,this.y+=Tn.window.pageYOffset,new Ji(this)}init(e){return e=typeof e=="string"?e.split(Kc).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return JF(this)}merge(e){const r=Math.min(this.x,e.x),n=Math.min(this.y,e.y),i=Math.max(this.x+this.width,e.x+e.width)-r,o=Math.max(this.y+this.height,e.y+e.height)-n;return new Ji(r,n,i,o)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof xr||(e=new xr(e));let r=1/0,n=-1/0,i=1/0,o=-1/0;return[new Vn(this.x,this.y),new Vn(this.x2,this.y),new Vn(this.x,this.y2),new Vn(this.x2,this.y2)].forEach(function(a){a=a.transform(e),r=Math.min(r,a.x),n=Math.max(n,a.x),i=Math.min(i,a.y),o=Math.max(o,a.y)}),new Ji(r,i,n-r,o-i)}}function MD(t,e,r){let n;try{if(n=e(t.node),JF(n)&&(i=t.node)!==Tn.document&&!(Tn.document.documentElement.contains||function(o){for(;o.parentNode;)o=o.parentNode;return o===Tn.document}).call(Tn.document.documentElement,i))throw new Error("Element not in the dom")}catch{n=r(t)}var i;return n}tn({viewbox:{viewbox(t,e,r,n){return t==null?new Ji(this.attr("viewBox")):this.attr("viewBox",new Ji(t,e,r,n))},zoom(t,e){let{width:r,height:n}=this.attr(["width","height"]);if((r||n)&&typeof r!="string"&&typeof n!="string"||(r=this.node.clientWidth,n=this.node.clientHeight),!r||!n)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const i=this.viewbox(),o=r/i.width,a=n/i.height,l=Math.min(o,a);if(t==null)return l;let u=l/t;u===1/0&&(u=Number.MAX_SAFE_INTEGER/100),e=e||new Vn(r/2/o+i.x,n/2/a+i.y);const h=new Ji(i).transform(new xr({scale:u,origin:e}));return this.viewbox(h)}}}),An(Ji,"Box");class Ad extends Array{constructor(e=[],...r){if(super(e,...r),typeof e=="number")return this;this.length=0,this.push(...e)}}Pr([Ad],{each(t,...e){return typeof t=="function"?this.map((r,n,i)=>t.call(r,r,n,i)):this.map(r=>r[t](...e))},toArray(){return Array.prototype.concat.apply([],this)}});const VTe=["toArray","constructor","each"];function Fd(t,e){return new Ad(KT((e||Tn.document).querySelectorAll(t),function(r){return Ms(r)}))}Ad.extend=function(t){t=t.reduce((e,r)=>(VTe.includes(r)||r[0]==="_"||(r in Array.prototype&&(e["$"+r]=Array.prototype[r]),e[r]=function(...n){return this.each(r,...n)}),e),{}),Pr([Ad],t)};let WTe=0;const QF={};function e8(t){let e=t.getEventHolder();return e===Tn.window&&(e=QF),e.events||(e.events={}),e.events}function rA(t){return t.getEventTarget()}function jc(t,e,r,n,i){const o=r.bind(n||t),a=Io(t),l=e8(a),u=rA(a);e=Array.isArray(e)?e:e.split(Kc),r._svgjsListenerId||(r._svgjsListenerId=++WTe),e.forEach(function(h){const f=h.split(".")[0],m=h.split(".")[1]||"*";l[f]=l[f]||{},l[f][m]=l[f][m]||{},l[f][m][r._svgjsListenerId]=o,u.addEventListener(f,o,i||!1)})}function Rs(t,e,r,n){const i=Io(t),o=e8(i),a=rA(i);(typeof r!="function"||(r=r._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(Kc)).forEach(function(l){const u=l&&l.split(".")[0],h=l&&l.split(".")[1];let f,m;if(r)o[u]&&o[u][h||"*"]&&(a.removeEventListener(u,o[u][h||"*"][r],n||!1),delete o[u][h||"*"][r]);else if(u&&h){if(o[u]&&o[u][h]){for(m in o[u][h])Rs(a,[u,h].join("."),m);delete o[u][h]}}else if(h)for(l in o)for(f in o[l])h===f&&Rs(a,[l,h].join("."));else if(u){if(o[u]){for(f in o[u])Rs(a,[u,f].join("."));delete o[u]}}else{for(l in o)Rs(a,l);(function(x){let w=x.getEventHolder();w===Tn.window&&(w=QF),w.events&&(w.events={})})(i)}})}class _y extends QT{addEventListener(){}dispatch(e,r,n){return function(i,o,a,l){const u=rA(i);return o instanceof Tn.window.Event||(o=new Tn.window.CustomEvent(o,{detail:a,cancelable:!0,...l})),u.dispatchEvent(o),o}(this,e,r,n)}dispatchEvent(e){const r=this.getEventHolder().events;if(!r)return!0;const n=r[e.type];for(const i in n)for(const o in n[i])n[i][o](e);return!e.defaultPrevented}fire(e,r,n){return this.dispatch(e,r,n),this}getEventHolder(){return this}getEventTarget(){return this}off(e,r,n){return Rs(this,e,r,n),this}on(e,r,n,i){return jc(this,e,r,n,i),this}removeEventListener(){}}function ID(){}An(_y,"EventTarget");const M2=400,YTe=">",XTe=0,GTe={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class Pd extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(Kc).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class Yr{constructor(...e){this.init(...e)}convert(e){return new Yr(this.value,e)}divide(e){return e=new Yr(e),new Yr(this/e,this.unit||e.unit)}init(e,r){return r=Array.isArray(e)?e[1]:r,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=r||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(r=e.match(KF))&&(this.value=parseFloat(r[1]),r[5]==="%"?this.value/=100:r[5]==="s"&&(this.value*=1e3),this.unit=r[5]):e instanceof Yr&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new Yr(e),new Yr(this-e,this.unit||e.unit)}plus(e){return e=new Yr(e),new Yr(this+e,this.unit||e.unit)}times(e){return e=new Yr(e),new Yr(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const qTe=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),t8=[];class oh extends _y{constructor(e,r){super(),this.node=e,this.type=e.nodeName,r&&e!==r&&this.attr(r)}add(e,r){return(e=Io(e)).removeNamespace&&this.node instanceof Tn.window.SVGElement&&e.removeNamespace(),r==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[r]&&this.node.insertBefore(e.node,this.node.childNodes[r]),this}addTo(e,r){return Io(e).put(this,r)}children(){return new Ad(KT(this.node.children,function(e){return Ms(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,r=!0){this.writeDataToDom();let n=this.node.cloneNode(e);return r&&(n=ZF(n)),new this.constructor(n)}each(e,r){const n=this.children();let i,o;for(i=0,o=n.length;i<o;i++)e.apply(n[i],[i,n]),r&&n[i].each(e,r);return this}element(e,r){return this.put(new oh(Uv(e),r))}first(){return Ms(this.node.firstChild)}get(e){return Ms(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,r){return this.xml(e,r,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=qF(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return Ms(this.node.lastChild)}matches(e){const r=this.node,n=r.matches||r.matchesSelector||r.msMatchesSelector||r.mozMatchesSelector||r.webkitMatchesSelector||r.oMatchesSelector||null;return n&&n.call(r,e)}parent(e){let r=this;if(!r.node.parentNode)return null;if(r=Ms(r.node.parentNode),!e)return r;do if(typeof e=="string"?r.matches(e):r instanceof e)return r;while(r=Ms(r.node.parentNode));return r}put(e,r){return e=Io(e),this.add(e,r),e}putIn(e,r){return Io(e).add(this,r)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=Io(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,r=null){const n=10**e,i=this.attr(r);for(const o in i)typeof i[o]=="number"&&(i[o]=Math.round(i[o]*n)/n);return this.attr(i),this}svg(e,r){return this.xml(e,r,JT)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const r=this.parent();if(!r)return this.addTo(e);const n=r.index(this);return r.put(e,n).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,r,n){if(typeof e=="boolean"&&(n=r,r=e,e=null),e==null||typeof e=="function"){r=r==null||r,this.writeDataToDom();let l=this;if(e!=null){if(l=Ms(l.node.cloneNode(!0)),r){const u=e(l);if(l=u||l,u===!1)return""}l.each(function(){const u=e(this),h=u||this;u===!1?this.remove():u&&this!==h&&this.replace(h)},!0)}return r?l.node.outerHTML:l.node.innerHTML}r=r!=null&&r;const i=Uv("wrapper",n),o=Tn.document.createDocumentFragment();i.innerHTML=e;for(let l=i.children.length;l--;)o.appendChild(i.firstElementChild);const a=this.parent();return r?this.replace(o)&&a:this.add(o)}}Pr(oh,{attr:function(t,e,r){if(t==null){t={},e=this.node.attributes;for(const n of e)t[n.nodeName]=PD.test(n.nodeValue)?parseFloat(n.nodeValue):n.nodeValue;return t}if(t instanceof Array)return t.reduce((n,i)=>(n[i]=this.attr(i),n),{});if(typeof t=="object"&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(e===null)this.node.removeAttribute(t);else{if(e==null)return(e=this.node.getAttribute(t))==null?GTe[t]:PD.test(e)?parseFloat(e):e;typeof(e=t8.reduce((n,i)=>i(t,n,this),e))=="number"?e=new Yr(e):qTe.has(t)&&ii.isColor(e)?e=new ii(e):e.constructor===Array&&(e=new Pd(e)),t==="leading"?this.leading&&this.leading(e):typeof r=="string"?this.node.setAttributeNS(r,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||t!=="font-size"&&t!=="x"||this.rebuild()}return this},find:function(t){return Fd(t,this.node)},findOne:function(t){return Ms(this.node.querySelector(t))}}),An(oh,"Dom");class Za extends oh{constructor(e,r){super(e,r),this.dom={},this.node.instance=this,(e.hasAttribute("data-svgjs")||e.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(e.getAttribute("data-svgjs"))??JSON.parse(e.getAttribute("svgjs:data"))??{})}center(e,r){return this.cx(e).cy(r)}cx(e){return e==null?this.x()+this.width()/2:this.x(e-this.width()/2)}cy(e){return e==null?this.y()+this.height()/2:this.y(e-this.height()/2)}defs(){const e=this.root();return e&&e.defs()}dmove(e,r){return this.dx(e).dy(r)}dx(e=0){return this.x(new Yr(e).plus(this.x()))}dy(e=0){return this.y(new Yr(e).plus(this.y()))}getEventHolder(){return this}height(e){return this.attr("height",e)}move(e,r){return this.x(e).y(r)}parents(e=this.root()){const r=typeof e=="string";r||(e=Io(e));const n=new Ad;let i=this;for(;(i=i.parent())&&i.node!==Tn.document&&i.nodeName!=="#document-fragment"&&(n.push(i),r||i.node!==e.node)&&(!r||!i.matches(e));)if(i.node===this.root().node)return null;return n}reference(e){if(!(e=this.attr(e)))return null;const r=(e+"").match(FTe);return r?Io(r[1]):null}root(){const e=this.parent(function(r){return gd[r]}(eA));return e&&e.root()}setData(e){return this.dom=e,this}size(e,r){const n=Sm(this,e,r);return this.width(new Yr(n.width)).height(new Yr(n.height))}width(e){return this.attr("width",e)}writeDataToDom(){return GF(this,this.dom),super.writeDataToDom()}x(e){return this.attr("x",e)}y(e){return this.attr("y",e)}}Pr(Za,{bbox:function(){const t=MD(this,e=>e.getBBox(),e=>{try{const r=e.clone().addTo(Mu().svg).show(),n=r.node.getBBox();return r.remove(),n}catch(r){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${r.toString()}`)}});return new Ji(t)},rbox:function(t){const e=MD(this,n=>n.getBoundingClientRect(),n=>{throw new Error(`Getting rbox of element "${n.node.nodeName}" is not possible`)}),r=new Ji(e);return t?r.transform(t.screenCTM().inverseO()):r.addOffset()},inside:function(t,e){const r=this.bbox();return t>r.x&&e>r.y&&t<r.x+r.width&&e<r.y+r.height},point:function(t,e){return new Vn(t,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new xr(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new xr(e)}return new xr(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new xr}}}),An(Za,"Element");const Dg={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return e==="color"?t:t+"-"+e}};["fill","stroke"].forEach(function(t){const e={};let r;e[t]=function(n){if(n===void 0)return this.attr(t);if(typeof n=="string"||n instanceof ii||ii.isRgb(n)||n instanceof Za)this.attr(t,n);else for(r=Dg[t].length-1;r>=0;r--)n[Dg[t][r]]!=null&&this.attr(Dg.prefix(t,Dg[t][r]),n[Dg[t][r]]);return this},tn(["Element","Runner"],e)}),tn(["Element","Runner"],{matrix:function(t,e,r,n,i,o){return t==null?new xr(this):this.attr("transform",new xr(t,e,r,n,i,o))},rotate:function(t,e,r){return this.transform({rotate:t,ox:e,oy:r},!0)},skew:function(t,e,r,n){return arguments.length===1||arguments.length===3?this.transform({skew:t,ox:e,oy:r},!0):this.transform({skew:[t,e],ox:r,oy:n},!0)},shear:function(t,e,r){return this.transform({shear:t,ox:e,oy:r},!0)},scale:function(t,e,r,n){return arguments.length===1||arguments.length===3?this.transform({scale:t,ox:e,oy:r},!0):this.transform({scale:[t,e],ox:r,oy:n},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t="both",e="center"){return"xybothtrue".indexOf(t)===-1&&(e=t,t="both"),this.transform({flip:t,origin:e},!0)},opacity:function(t){return this.attr("opacity",t)}}),tn("radius",{radius:function(t,e=t){return(this._element||this).type==="radialGradient"?this.attr("r",new Yr(t)):this.rx(t).ry(e)}}),tn("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new Vn(this.node.getPointAtLength(t))}}),tn(["Element","Runner"],{font:function(t,e){if(typeof t=="object"){for(e in t)this.font(e,t[e]);return this}return t==="leading"?this.leading(e):t==="anchor"?this.attr("text-anchor",e):t==="size"||t==="family"||t==="weight"||t==="stretch"||t==="variant"||t==="style"?this.attr("font-"+t,e):this.attr(t,e)}});tn("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(t,e){return t[e]=function(r){return r===null?this.off(e):this.on(e,r),this},t},{})),tn("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(BTe).slice(0,-1).map(function(e){const r=e.trim().split("(");return[r[0],r[1].split(Kc).map(function(n){return parseFloat(n)})]}).reverse().reduce(function(e,r){return r[0]==="matrix"?e.lmultiply(xr.fromArray(r[1])):e[r[0]].apply(e,r[1])},new xr)},toParent:function(t,e){if(this===t)return this;if(tk(this.node))return this.addTo(t,e);const r=this.screenCTM(),n=t.screenCTM().inverse();return this.addTo(t,e).untransform().transform(n.multiply(r)),this},toRoot:function(t){return this.toParent(this.root(),t)},transform:function(t,e){if(t==null||typeof t=="string"){const n=new xr(this).decompose();return t==null?n:n[t]}xr.isMatrixLike(t)||(t={...t,origin:ek(t,this)});const r=new xr(e===!0?this:e||!1).transform(t);return this.attr("transform",r)}});class Ro extends Za{flatten(){return this.each(function(){if(this instanceof Ro)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),r=e.index(this)){return r=r===-1?e.children().length:r,this.each(function(n,i){return i[i.length-n-1].toParent(e,r)}),this.remove()}}An(Ro,"Container");class b_ extends Ro{constructor(e,r=e){super(hi("defs",e),r)}flatten(){return this}ungroup(){return this}}An(b_,"Defs");class bs extends Za{}function nA(t){return this.attr("rx",t)}function iA(t){return this.attr("ry",t)}function r8(t){return t==null?this.cx()-this.rx():this.cx(t+this.rx())}function n8(t){return t==null?this.cy()-this.ry():this.cy(t+this.ry())}function i8(t){return this.attr("cx",t)}function a8(t){return this.attr("cy",t)}function o8(t){return t==null?2*this.rx():this.rx(new Yr(t).divide(2))}function s8(t){return t==null?2*this.ry():this.ry(new Yr(t).divide(2))}An(bs,"Shape");var ZTe=Object.freeze({__proto__:null,cx:i8,cy:a8,height:s8,rx:nA,ry:iA,width:o8,x:r8,y:n8});class qx extends bs{constructor(e,r=e){super(hi("ellipse",e),r)}size(e,r){const n=Sm(this,e,r);return this.rx(new Yr(n.width).divide(2)).ry(new Yr(n.height).divide(2))}}Pr(qx,ZTe),tn("Container",{ellipse:ui(function(t=0,e=t){return this.put(new qx).size(t,e).move(0,0)})}),An(qx,"Ellipse");class l8 extends oh{constructor(e=Tn.document.createDocumentFragment()){super(e)}xml(e,r,n){if(typeof e=="boolean"&&(n=r,r=e,e=null),e==null||typeof e=="function"){const i=new oh(Uv("wrapper",n));return i.add(this.node.cloneNode(!0)),i.xml(!1,n)}return super.xml(e,!1,n)}}function c8(t,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new Yr(t),fy:new Yr(e)}):this.attr({x1:new Yr(t),y1:new Yr(e)})}function u8(t,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new Yr(t),cy:new Yr(e)}):this.attr({x2:new Yr(t),y2:new Yr(e)})}An(l8,"Fragment");var KTe=Object.freeze({__proto__:null,from:c8,to:u8});class sv extends Ro{constructor(e,r){super(hi(e+"Gradient",typeof e=="string"?null:e),r)}attr(e,r,n){return e==="transform"&&(e="gradientTransform"),super.attr(e,r,n)}bbox(){return new Ji}targets(){return Fd("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}Pr(sv,KTe),tn({Container:{gradient(...t){return this.defs().gradient(...t)}},Defs:{gradient:ui(function(t,e){return this.put(new sv(t)).update(e)})}}),An(sv,"Gradient");class Vv extends Ro{constructor(e,r=e){super(hi("pattern",e),r)}attr(e,r,n){return e==="transform"&&(e="patternTransform"),super.attr(e,r,n)}bbox(){return new Ji}targets(){return Fd("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}tn({Container:{pattern(...t){return this.defs().pattern(...t)}},Defs:{pattern:ui(function(t,e,r){return this.put(new Vv).update(r).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})})}}),An(Vv,"Pattern");let Zx=class extends bs{constructor(t,e=t){super(hi("image",t),e)}load(t,e){if(!t)return this;const r=new Tn.window.Image;return jc(r,"load",function(n){const i=this.parent(Vv);this.width()===0&&this.height()===0&&this.size(r.width,r.height),i instanceof Vv&&i.width()===0&&i.height()===0&&i.size(this.width(),this.height()),typeof e=="function"&&e.call(this,n)},this),jc(r,"load error",function(){Rs(r)}),this.attr("href",r.src=t,Cm)}};var OD;OD=function(t,e,r){return t!=="fill"&&t!=="stroke"||HTe.test(e)&&(e=r.root().defs().image(e)),e instanceof Zx&&(e=r.root().defs().pattern(0,0,n=>{n.add(e)})),e},t8.push(OD),tn({Container:{image:ui(function(t,e){return this.put(new Zx).size(0,0).load(t,e)})}}),An(Zx,"Image");class sh extends Pd{bbox(){let e=-1/0,r=-1/0,n=1/0,i=1/0;return this.forEach(function(o){e=Math.max(o[0],e),r=Math.max(o[1],r),n=Math.min(o[0],n),i=Math.min(o[1],i)}),new Ji(n,i,e-n,r-i)}move(e,r){const n=this.bbox();if(e-=n.x,r-=n.y,!isNaN(e)&&!isNaN(r))for(let i=this.length-1;i>=0;i--)this[i]=[this[i][0]+e,this[i][1]+r];return this}parse(e=[0,0]){const r=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(Kc).map(parseFloat)).length%2!=0&&e.pop();for(let n=0,i=e.length;n<i;n+=2)r.push([e[n],e[n+1]]);return r}size(e,r){let n;const i=this.bbox();for(n=this.length-1;n>=0;n--)i.width&&(this[n][0]=(this[n][0]-i.x)*e/i.width+i.x),i.height&&(this[n][1]=(this[n][1]-i.y)*r/i.height+i.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let r=0,n=this.length;r<n;r++)e.push(this[r].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){xr.isMatrixLike(e)||(e=new xr(e));for(let r=this.length;r--;){const[n,i]=this[r];this[r][0]=e.a*n+e.c*i+e.e,this[r][1]=e.b*n+e.d*i+e.f}return this}}const JTe=sh;var aA=Object.freeze({__proto__:null,MorphArray:JTe,height:function(t){const e=this.bbox();return t==null?e.height:this.size(e.width,t)},width:function(t){const e=this.bbox();return t==null?e.width:this.size(t,e.height)},x:function(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}});let id=class extends bs{constructor(t,e=t){super(hi("line",t),e)}array(){return new sh([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,r,n){return t==null?this.array():(t=e!==void 0?{x1:t,y1:e,x2:r,y2:n}:new sh(t).toLine(),this.attr(t))}size(t,e){const r=Sm(this,t,e);return this.attr(this.array().size(r.width,r.height).toLine())}};Pr(id,aA),tn({Container:{line:ui(function(...t){return id.prototype.plot.apply(this.put(new id),t[0]!=null?t:[0,0,0,0])})}}),An(id,"Line");let Kx=class extends Ro{constructor(t,e=t){super(hi("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}};function hp(t,e){return function(r){return r==null?this[t]:(this[t]=r,e&&e.call(this),this)}}tn({Container:{marker(...t){return this.defs().marker(...t)}},Defs:{marker:ui(function(t,e,r){return this.put(new Kx).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(r)})},marker:{marker(t,e,r,n){let i=["marker"];return t!=="all"&&i.push(t),i=i.join("-"),t=arguments[1]instanceof Kx?arguments[1]:this.defs().marker(e,r,n),this.attr(i,t)}}}),An(Kx,"Marker");const QTe={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)},bezier:function(t,e,r,n){return function(i){return i<0?t>0?e/t*i:r>0?n/r*i:0:i>1?r<1?(1-n)/(1-r)*i+(n-r)/(1-r):t<1?(1-e)/(1-t)*i+(e-t)/(1-t):1:3*i*(1-i)**2*e+3*i**2*(1-i)*n+i**3}},steps:function(t,e="end"){e=e.split("-").reverse()[0];let r=t;return e==="none"?--r:e==="both"&&++r,(n,i=!1)=>{let o=Math.floor(n*t);const a=n*o%1==0;return e!=="start"&&e!=="both"||++o,i&&a&&--o,n>=0&&o<0&&(o=0),n<=1&&o>r&&(o=r),o/r}}};class oA{done(){return!1}}class rk extends oA{constructor(e=YTe){super(),this.ease=QTe[e]||e}step(e,r,n){return typeof e!="number"?n<1?e:r:e+(r-e)*this.ease(n)}}class sb extends oA{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,r,n,i){return this.stepper(e,r,n,i)}}function DD(){const t=(this._duration||500)/1e3,e=this._overshoot||0,r=Math.PI,n=Math.log(e/100+1e-10),i=-n/Math.sqrt(r*r+n*n),o=3.9/(i*t);this.d=2*i*o,this.k=o*o}Pr(class extends sb{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,r,n){if(typeof t=="string")return t;if(n.done=r===1/0,r===1/0)return e;if(r===0)return t;r>100&&(r=16),r/=1e3;const i=n.velocity||0,o=-this.d*i-this.k*(t-e),a=t+i*r+o*r*r/2;return n.velocity=i+o*r,n.done=Math.abs(e-a)+Math.abs(i)<.002,n.done?e:a}},{duration:hp("_duration",DD),overshoot:hp("_overshoot",DD)});Pr(class extends sb{constructor(t=.1,e=.01,r=0,n=1e3){super(),this.p(t).i(e).d(r).windup(n)}step(t,e,r,n){if(typeof t=="string")return t;if(n.done=r===1/0,r===1/0)return e;if(r===0)return t;const i=e-t;let o=(n.integral||0)+i*r;const a=(i-(n.error||0))/r,l=this._windup;return l!==!1&&(o=Math.max(-l,Math.min(o,l))),n.error=i,n.integral=o,n.done=Math.abs(i)<.001,n.done?e:t+(this.P*i+this.I*o+this.D*a)}},{windup:hp("_windup"),p:hp("P"),i:hp("I"),d:hp("D")});const eAe={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},nk={M:function(t,e,r){return e.x=r.x=t[0],e.y=r.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,r){return e.x=r.x,e.y=r.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},I2="mlhvqtcsaz".split("");for(let t=0,e=I2.length;t<e;++t)nk[I2[t]]=function(r){return function(n,i,o){if(r==="H")n[0]=n[0]+i.x;else if(r==="V")n[0]=n[0]+i.y;else if(r==="A")n[5]=n[5]+i.x,n[6]=n[6]+i.y;else for(let a=0,l=n.length;a<l;++a)n[a]=n[a]+(a%2?i.y:i.x);return nk[r](n,i,o)}}(I2[t].toUpperCase());function ik(t){return t.segment.length&&t.segment.length-1===eAe[t.segment[0].toUpperCase()]}function tAe(t,e){t.inNumber&&Yh(t,!1);const r=tA.test(e);if(r)t.segment=[e];else{const n=t.lastCommand,i=n.toLowerCase(),o=n===i;t.segment=[i==="m"?o?"l":"L":n]}return t.inSegment=!0,t.lastCommand=t.segment[0],r}function Yh(t,e){if(!t.inNumber)throw new Error("Parser Error");t.number&&t.segment.push(parseFloat(t.number)),t.inNumber=e,t.number="",t.pointSeen=!1,t.hasExponent=!1,ik(t)&&ak(t)}function ak(t){t.inSegment=!1,t.absolute&&(t.segment=function(e){const r=e.segment[0];return nk[r](e.segment.slice(1),e.p,e.p0)}(t)),t.segments.push(t.segment)}function rAe(t){if(!t.segment.length)return!1;const e=t.segment[0].toUpperCase()==="A",r=t.segment.length;return e&&(r===4||r===5)}function nAe(t){return t.lastToken.toUpperCase()==="E"}const iAe=new Set([" ",",","	",`
`,"\r","\f"]);class sl extends Pd{bbox(){return Mu().path.setAttribute("d",this.toString()),new Ji(Mu.nodes.path.getBBox())}move(e,r){const n=this.bbox();if(e-=n.x,r-=n.y,!isNaN(e)&&!isNaN(r))for(let i,o=this.length-1;o>=0;o--)i=this[o][0],i==="M"||i==="L"||i==="T"?(this[o][1]+=e,this[o][2]+=r):i==="H"?this[o][1]+=e:i==="V"?this[o][1]+=r:i==="C"||i==="S"||i==="Q"?(this[o][1]+=e,this[o][2]+=r,this[o][3]+=e,this[o][4]+=r,i==="C"&&(this[o][5]+=e,this[o][6]+=r)):i==="A"&&(this[o][6]+=e,this[o][7]+=r);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(r,n=!0){let i=0,o="";const a={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:n,p0:new Vn,p:new Vn};for(;a.lastToken=o,o=r.charAt(i++);)if(a.inSegment||!tAe(a,o))if(o!==".")if(isNaN(parseInt(o)))if(iAe.has(o))a.inNumber&&Yh(a,!1);else if(o!=="-"&&o!=="+")if(o.toUpperCase()!=="E"){if(tA.test(o)){if(a.inNumber)Yh(a,!1);else{if(!ik(a))throw new Error("parser Error");ak(a)}--i}}else a.number+=o,a.hasExponent=!0;else{if(a.inNumber&&!nAe(a)){Yh(a,!1),--i;continue}a.number+=o,a.inNumber=!0}else{if(a.number==="0"||rAe(a)){a.inNumber=!0,a.number=o,Yh(a,!0);continue}a.inNumber=!0,a.number+=o}else{if(a.pointSeen||a.hasExponent){Yh(a,!1),--i;continue}a.inNumber=!0,a.pointSeen=!0,a.number+=o}return a.inNumber&&Yh(a,!1),a.inSegment&&ik(a)&&ak(a),a.segments}(e)}size(e,r){const n=this.bbox();let i,o;for(n.width=n.width===0?1:n.width,n.height=n.height===0?1:n.height,i=this.length-1;i>=0;i--)o=this[i][0],o==="M"||o==="L"||o==="T"?(this[i][1]=(this[i][1]-n.x)*e/n.width+n.x,this[i][2]=(this[i][2]-n.y)*r/n.height+n.y):o==="H"?this[i][1]=(this[i][1]-n.x)*e/n.width+n.x:o==="V"?this[i][1]=(this[i][1]-n.y)*r/n.height+n.y:o==="C"||o==="S"||o==="Q"?(this[i][1]=(this[i][1]-n.x)*e/n.width+n.x,this[i][2]=(this[i][2]-n.y)*r/n.height+n.y,this[i][3]=(this[i][3]-n.x)*e/n.width+n.x,this[i][4]=(this[i][4]-n.y)*r/n.height+n.y,o==="C"&&(this[i][5]=(this[i][5]-n.x)*e/n.width+n.x,this[i][6]=(this[i][6]-n.y)*r/n.height+n.y)):o==="A"&&(this[i][1]=this[i][1]*e/n.width,this[i][2]=this[i][2]*r/n.height,this[i][6]=(this[i][6]-n.x)*e/n.width+n.x,this[i][7]=(this[i][7]-n.y)*r/n.height+n.y);return this}toString(){return function(e){let r="";for(let n=0,i=e.length;n<i;n++)r+=e[n][0],e[n][1]!=null&&(r+=e[n][1],e[n][2]!=null&&(r+=" ",r+=e[n][2],e[n][3]!=null&&(r+=" ",r+=e[n][3],r+=" ",r+=e[n][4],e[n][5]!=null&&(r+=" ",r+=e[n][5],r+=" ",r+=e[n][6],e[n][7]!=null&&(r+=" ",r+=e[n][7])))));return r+" "}(this)}}const h8=t=>{const e=typeof t;return e==="number"?Yr:e==="string"?ii.isColor(t)?ii:Kc.test(t)?tA.test(t)?sl:Pd:KF.test(t)?Yr:ok:sk.indexOf(t.constructor)>-1?t.constructor:Array.isArray(t)?Pd:e==="object"?Wv:ok};class Xh{constructor(e){this._stepper=e||new rk("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,r){return e&&r},!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(h8(e));let r=new this._type(e);return this._type===ii&&(r=this._to?r[this._to[4]]():this._from?r[this._from[4]]():r),this._type===Wv&&(r=this._to?r.align(this._to):this._from?r.align(this._from):r),r=r.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(r.length)).map(Object).map(function(n){return n.done=!0,n}),r}}class ok{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class wy{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,wy.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}wy.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const aAe=(t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0;class Wv{constructor(...e){this.init(...e)}align(e){const r=this.values;for(let n=0,i=r.length;n<i;++n){if(r[n+1]===e[n+1]){if(r[n+1]===ii&&e[n+7]!==r[n+7]){const l=e[n+7],u=new ii(this.values.splice(n+3,5))[l]().toArray();this.values.splice(n+3,0,...u)}n+=r[n+2]+2;continue}if(!e[n+1])return this;const o=new e[n+1]().toArray(),a=r[n+2]+3;r.splice(n,a,e[n],e[n+1],e[n+2],...o),n+=r[n+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const r=[];for(const n in e){const i=h8(e[n]),o=new i(e[n]).toArray();r.push([n,i,o.length,...o])}return r.sort(aAe),this.values=r.reduce((n,i)=>n.concat(i),[]),this}toArray(){return this.values}valueOf(){const e={},r=this.values;for(;r.length;){const n=r.shift(),i=r.shift(),o=r.shift(),a=r.splice(0,o);e[n]=new i(a)}return e}}const sk=[ok,wy,Wv];class Tp extends bs{constructor(e,r=e){super(hi("path",e),r)}array(){return this._array||(this._array=new sl(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,r){return this.attr("d",this.array().move(e,r))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new sl(e))}size(e,r){const n=Sm(this,e,r);return this.attr("d",this.array().size(n.width,n.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}Tp.prototype.MorphArray=sl,tn({Container:{path:ui(function(t){return this.put(new Tp).plot(t||new sl)})}}),An(Tp,"Path");var d8=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new sh(this.attr("points")))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},plot:function(t){return t==null?this.array():this.clear().attr("points",typeof t=="string"?t:this._array=new sh(t))},size:function(t,e){const r=Sm(this,t,e);return this.attr("points",this.array().size(r.width,r.height))}});class ad extends bs{constructor(e,r=e){super(hi("polygon",e),r)}}tn({Container:{polygon:ui(function(t){return this.put(new ad).plot(t||new sh)})}}),Pr(ad,aA),Pr(ad,d8),An(ad,"Polygon");class od extends bs{constructor(e,r=e){super(hi("polyline",e),r)}}tn({Container:{polyline:ui(function(t){return this.put(new od).plot(t||new sh)})}}),Pr(od,aA),Pr(od,d8),An(od,"Polyline");class Jx extends bs{constructor(e,r=e){super(hi("rect",e),r)}}Pr(Jx,{rx:nA,ry:iA}),tn({Container:{rect:ui(function(t,e){return this.put(new Jx).size(t,e)})}}),An(Jx,"Rect");class O2{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const r=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(r.prev=this._last,this._last.next=r,this._last=r):(this._last=r,this._first=r),r}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const Jn={nextDraw:null,frames:new O2,timeouts:new O2,immediates:new O2,timer:()=>Tn.window.performance||Tn.window.Date,transforms:[],frame(t){const e=Jn.frames.push({run:t});return Jn.nextDraw===null&&(Jn.nextDraw=Tn.window.requestAnimationFrame(Jn._draw)),e},timeout(t,e){e=e||0;const r=Jn.timer().now()+e,n=Jn.timeouts.push({run:t,time:r});return Jn.nextDraw===null&&(Jn.nextDraw=Tn.window.requestAnimationFrame(Jn._draw)),n},immediate(t){const e=Jn.immediates.push(t);return Jn.nextDraw===null&&(Jn.nextDraw=Tn.window.requestAnimationFrame(Jn._draw)),e},cancelFrame(t){t!=null&&Jn.frames.remove(t)},clearTimeout(t){t!=null&&Jn.timeouts.remove(t)},cancelImmediate(t){t!=null&&Jn.immediates.remove(t)},_draw(t){let e=null;const r=Jn.timeouts.last();for(;(e=Jn.timeouts.shift())&&(t>=e.time?e.run():Jn.timeouts.push(e),e!==r););let n=null;const i=Jn.frames.last();for(;n!==i&&(n=Jn.frames.shift());)n.run(t);let o=null;for(;o=Jn.immediates.shift();)o();Jn.nextDraw=Jn.timeouts.first()||Jn.frames.first()?Tn.window.requestAnimationFrame(Jn._draw):null}},oAe=function(t){const e=t.start,r=t.runner.duration();return{start:e,duration:r,end:e+r,runner:t.runner}},sAe=function(){const t=Tn.window;return(t.performance||t.Date).now()};class f8 extends _y{constructor(e=sAe){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),r=e?e.runner.duration():0;return(e?e.start:this._time)+r}getEndTimeOfTimeline(){const e=this._runners.map(r=>r.start+r.runner.duration());return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const r=this.speed();if(e==null)return this.speed(-r);const n=Math.abs(r);return this.speed(e?-n:n)}schedule(e,r,n){if(e==null)return this._runners.map(oAe);let i=0;const o=this.getEndTime();if(r=r||0,n==null||n==="last"||n==="after")i=o;else if(n==="absolute"||n==="start")i=r,r=0;else if(n==="now")i=this._time;else if(n==="relative"){const u=this.getRunnerInfoById(e.id);u&&(i=u.start+r,r=0)}else{if(n!=="with-last")throw new Error('Invalid value for the "when" parameter');{const u=this.getLastRunnerInfo();i=u?u.start:this._time}}e.unschedule(),e.timeline(this);const a=e.persist(),l={persist:a===null?this._persist:a,start:i+r,runner:e};return this._lastRunnerId=e.id,this._runners.push(l),this._runners.sort((u,h)=>u.start-h.start),this._runnerIds=this._runners.map(u=>u.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const r=this._runnerIds.indexOf(e.id);return r<0||(this._runners.splice(r,1),this._runnerIds.splice(r,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return Jn.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=Jn.frame(this._step)),this)}_stepFn(e=!1){const r=this._timeSource();let n=r-this._lastSourceTime;e&&(n=0);const i=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=r,e||(this._time+=i,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let a=this._runners.length;a--;){const l=this._runners[a],u=l.runner;this._time-l.start<=0&&u.reset()}let o=!1;for(let a=0,l=this._runners.length;a<l;a++){const u=this._runners[a],h=u.runner;let f=i;const m=this._time-u.start;if(m<=0){o=!0;continue}m<f&&(f=m),h.active()&&(h.step(f).done?u.persist!==!0&&h.duration()-h.time()+this._time+u.persist<this._time&&(h.unschedule(),--a,--l):o=!0)}return o&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}tn({Element:{timeline:function(t){return t==null?(this._timeline=this._timeline||new f8,this._timeline):(this._timeline=t,this)}}});class ps extends _y{constructor(e){super(),this.id=ps.id++,e=typeof(e=e??M2)=="function"?new sb(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof sb,this._stepper=this._isDeclarative?e:new rk,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new xr,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,r,n){let i=1,o=!1,a=0;return r=r??XTe,n=n||"last",typeof(e=e??M2)!="object"||e instanceof oA||(r=e.delay??r,n=e.when??n,o=e.swing||o,i=e.times??i,a=e.wait??a,e=e.duration??M2),{duration:e,delay:r,swing:o,times:i,wait:a,when:n}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,r,n){const i=ps.sanitise(e,r,n),o=new ps(i.duration);return this._timeline&&o.timeline(this._timeline),this._element&&o.element(this._element),o.loop(i).schedule(i.delay,i.when)}clearTransform(){return this.transforms=new xr,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(e=>!e.isTransform))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new rk(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,r,n){return typeof e=="object"&&(r=e.swing,n=e.wait,e=e.times),this._times=e||1/0,this._swing=r||!1,this._wait=n||0,this._times===!0&&(this._times=1/0),this}loops(e){const r=this._duration+this._wait;if(e==null){const o=Math.floor(this._time/r),a=(this._time-o*r)/this._duration;return Math.min(o+a,this._times)}const n=e%1,i=r*Math.floor(e)+this._duration*n;return this.time(i)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const r=this._time,n=this._duration,i=this._wait,o=this._times,a=this._swing,l=this._reverse;let u;if(e==null){const m=function(w){const S=a*Math.floor(w%(2*(i+n))/(i+n)),C=S&&!l||!S&&l,A=Math.pow(-1,C)*(w%(i+n))/n+C;return Math.max(Math.min(A,1),0)},x=o*(i+n)-i;return u=r<=0?Math.round(m(1e-5)):r<x?m(r):Math.round(m(x-1e-5)),u}const h=Math.floor(this.loops()),f=a&&h%2==0;return u=h+(f&&!l||l&&f?e:1-e),this.loops(u)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,r,n,i){return this._queue.push({initialiser:e||ID,runner:r||ID,retarget:n,isTransform:i,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,r,n){if(e instanceof f8||(n=r,r=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,r,n),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const r=this.position(),n=this._lastPosition!==r&&this._time>=0;this._lastPosition=r;const i=this.duration(),o=this._lastTime<=0&&this._time>0,a=this._lastTime<i&&this._time>=i;this._lastTime=this._time,o&&this.fire("start",this);const l=this._isDeclarative;this.done=!l&&!a&&this._time>=i,this._reseted=!1;let u=!1;return(n||l)&&(this._initialise(n),this.transforms=new xr,u=this._run(l?e:r),this.fire("step",this)),this.done=this.done||u&&l,a&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const r=e-this._time;return this.step(r),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let r=0,n=this._queue.length;r<n;++r){const i=this._queue[r],o=this._isDeclarative||!i.initialised&&e;e=!i.finished,o&&e&&(i.initialiser.call(this),i.initialised=!0)}}_rememberMorpher(e,r){if(this._history[e]={morpher:r,caller:this._queue[this._queue.length-1]},this._isDeclarative){const n=this.timeline();n&&n.play()}}_run(e){let r=!0;for(let n=0,i=this._queue.length;n<i;++n){const o=this._queue[n],a=o.runner.call(this,e);o.finished=o.finished||a===!0,r=r&&o.finished}return r}_tryRetarget(e,r,n){if(this._history[e]){if(!this._history[e].caller.initialised){const o=this._queue.indexOf(this._history[e].caller);return this._queue.splice(o,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,r,n):this._history[e].morpher.to(r),this._history[e].caller.finished=!1;const i=this.timeline();return i&&i.play(),!0}return!1}}ps.id=0;class lb{constructor(e=new xr,r=-1,n=!0){this.transforms=e,this.id=r,this.done=n}clearTransformsFromQueue(){}}Pr([ps,lb],{mergeWith(t){return new lb(t.transforms.lmultiply(this.transforms),t.id)}});const p8=(t,e)=>t.lmultiplyO(e),m8=t=>t.transforms;function lAe(){const t=this._transformationRunners.runners.map(m8).reduce(p8,new xr);this.transform(t),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class cAe{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const r=e.id+1;return this.runners.push(e),this.ids.push(r),this}clearBefore(e){const r=this.ids.indexOf(e+1)||1;return this.ids.splice(0,r,0),this.runners.splice(0,r,new lb).forEach(n=>n.clearTransformsFromQueue()),this}edit(e,r){const n=this.ids.indexOf(e+1);return this.ids.splice(n,1,e+1),this.runners.splice(n,1,r),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let r=0;r<this.runners.length;++r){const n=this.runners[r];if(e&&n.done&&e.done&&(!n._timeline||!n._timeline._runnerIds.includes(n.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(n.id);const i=n.mergeWith(e);this.edit(e.id,i),e=i,--r}else e=n}return this}remove(e){const r=this.ids.indexOf(e+1);return this.ids.splice(r,1),this.runners.splice(r,1),this}}tn({Element:{animate(t,e,r){const n=ps.sanitise(t,e,r),i=this.timeline();return new ps(n.duration).loop(n).element(this).timeline(i.play()).schedule(n.delay,n.when)},delay(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore(t){this._transformationRunners.clearBefore(t.id)},_currentTransform(t){return this._transformationRunners.runners.filter(e=>e.id<=t.id).map(m8).reduce(p8,new xr)},_addRunner(t){this._transformationRunners.add(t),Jn.cancelImmediate(this._frameId),this._frameId=Jn.immediate(lAe.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new cAe().add(new lb(new xr(this))))}}});Pr(ps,{attr(t,e){return this.styleAttr("attr",t,e)},css(t,e){return this.styleAttr("css",t,e)},styleAttr(t,e,r){if(typeof e=="string")return this.styleAttr(t,{[e]:r});let n=e;if(this._tryRetarget(t,n))return this;let i=new Xh(this._stepper).to(n),o=Object.keys(n);return this.queue(function(){i=i.from(this.element()[t](o))},function(a){return this.element()[t](i.at(a).valueOf()),i.done()},function(a){const l=Object.keys(a),u=(h=o,l.filter(m=>!h.includes(m)));var h;if(u.length){const m=this.element()[t](u),x=new Wv(i.from()).valueOf();Object.assign(x,m),i.from(x)}const f=new Wv(i.to()).valueOf();Object.assign(f,a),i.to(f),o=l,n=a}),this._rememberMorpher(t,i),this},zoom(t,e){if(this._tryRetarget("zoom",t,e))return this;let r=new Xh(this._stepper).to(new Yr(t));return this.queue(function(){r=r.from(this.element().zoom())},function(n){return this.element().zoom(r.at(n),e),r.done()},function(n,i){e=i,r.to(n)}),this._rememberMorpher("zoom",r),this},transform(t,e,r){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;const n=xr.isMatrixLike(t);r=t.affine!=null?t.affine:r??!n;const i=new Xh(this._stepper).type(r?wy:xr);let o,a,l,u,h;return this.queue(function(){a=a||this.element(),o=o||ek(t,a),h=new xr(e?void 0:a),a._addRunner(this),e||a._clearTransformRunnersBefore(this)},function(f){e||this.clearTransform();const{x:m,y:x}=new Vn(o).transform(a._currentTransform(this));let w=new xr({...t,origin:[m,x]}),S=this._isDeclarative&&l?l:h;if(r){w=w.decompose(m,x),S=S.decompose(m,x);const A=w.rotate,E=S.rotate,P=[A-360,A,A+360],I=P.map(L=>Math.abs(L-E)),N=Math.min(...I),D=I.indexOf(N);w.rotate=P[D]}e&&(n||(w.rotate=t.rotate||0),this._isDeclarative&&u&&(S.rotate=u)),i.from(S),i.to(w);const C=i.at(f);return u=C.rotate,l=new xr(C),this.addTransform(l),a._addRunner(this),i.done()},function(f){(f.origin||"center").toString()!==(t.origin||"center").toString()&&(o=ek(f,a)),t={...f,origin:o}},!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(t){return this._queueNumber("x",t)},y(t){return this._queueNumber("y",t)},ax(t){return this._queueNumber("ax",t)},ay(t){return this._queueNumber("ay",t)},dx(t=0){return this._queueNumberDelta("x",t)},dy(t=0){return this._queueNumberDelta("y",t)},dmove(t,e){return this.dx(t).dy(e)},_queueNumberDelta(t,e){if(e=new Yr(e),this._tryRetarget(t,e))return this;const r=new Xh(this._stepper).to(e);let n=null;return this.queue(function(){n=this.element()[t](),r.from(n),r.to(n+e)},function(i){return this.element()[t](r.at(i)),r.done()},function(i){r.to(n+new Yr(i))}),this._rememberMorpher(t,r),this},_queueObject(t,e){if(this._tryRetarget(t,e))return this;const r=new Xh(this._stepper).to(e);return this.queue(function(){r.from(this.element()[t]())},function(n){return this.element()[t](r.at(n)),r.done()}),this._rememberMorpher(t,r),this},_queueNumber(t,e){return this._queueObject(t,new Yr(e))},cx(t){return this._queueNumber("cx",t)},cy(t){return this._queueNumber("cy",t)},move(t,e){return this.x(t).y(e)},amove(t,e){return this.ax(t).ay(e)},center(t,e){return this.cx(t).cy(e)},size(t,e){let r;return t&&e||(r=this._element.bbox()),t||(t=r.width/r.height*e),e||(e=r.height/r.width*t),this.width(t).height(e)},width(t){return this._queueNumber("width",t)},height(t){return this._queueNumber("height",t)},plot(t,e,r,n){if(arguments.length===4)return this.plot([t,e,r,n]);if(this._tryRetarget("plot",t))return this;const i=new Xh(this._stepper).type(this._element.MorphArray).to(t);return this.queue(function(){i.from(this._element.array())},function(o){return this._element.plot(i.at(o)),i.done()}),this._rememberMorpher("plot",i),this},leading(t){return this._queueNumber("leading",t)},viewbox(t,e,r,n){return this._queueObject("viewbox",new Ji(t,e,r,n))},update(t){return typeof t!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",t.offset),this)}}),Pr(ps,{rx:nA,ry:iA,from:c8,to:u8}),An(ps,"Runner");class lk extends Ro{constructor(e,r=e){super(hi("svg",e),r),this.namespace()}defs(){return this.isRoot()?Ms(this.node.querySelector("defs"))||this.put(new b_):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Tn.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:JT,version:"1.1"}).attr("xmlns:xlink",Cm,T2):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,T2).attr("xmlns:svgjs",null,T2)}root(){return this.isRoot()?this:super.root()}}tn({Container:{nested:ui(function(){return this.put(new lk)})}}),An(lk,"Svg",!0);let ck=class extends Ro{constructor(t,e=t){super(hi("symbol",t),e)}};tn({Container:{symbol:ui(function(){return this.put(new ck)})}}),An(ck,"Symbol");var g8=Object.freeze({__proto__:null,amove:function(t,e){return this.ax(t).ay(e)},ax:function(t){return this.attr("x",t)},ay:function(t){return this.attr("y",t)},build:function(t){return this._build=!!t,this},center:function(t,e,r=this.bbox()){return this.cx(t,r).cy(e,r)},cx:function(t,e=this.bbox()){return t==null?e.cx:this.attr("x",this.attr("x")+t-e.cx)},cy:function(t,e=this.bbox()){return t==null?e.cy:this.attr("y",this.attr("y")+t-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(t,e,r=this.bbox()){return this.x(t,r).y(e,r)},plain:function(t){return this._build===!1&&this.clear(),this.node.appendChild(Tn.document.createTextNode(t)),this},x:function(t,e=this.bbox()){return t==null?e.x:this.attr("x",this.attr("x")+t-e.x)},y:function(t,e=this.bbox()){return t==null?e.y:this.attr("y",this.attr("y")+t-e.y)}});class ll extends bs{constructor(e,r=e){super(hi("text",e),r),this.dom.leading=this.dom.leading??new Yr(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new Yr(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const r=this;let n=0;const i=this.dom.leading;this.each(function(o){if(tk(this.node))return;const a=Tn.window.getComputedStyle(this.node).getPropertyValue("font-size"),l=i*new Yr(a);this.dom.newLined&&(this.attr("x",r.attr("x")),this.text()===`
`?n+=l:(this.attr("dy",o?l+n:0),n=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new Yr(e.leading||1.3),this}writeDataToDom(){return GF(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const r=this.node.childNodes;let n=0;e="";for(let i=0,o=r.length;i<o;++i)r[i].nodeName==="textPath"||tk(r[i])?i===0&&(n=i+1):(i!==n&&r[i].nodeType!==3&&Ms(r[i]).dom.newLined===!0&&(e+=`
`),e+=r[i].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let r=0,n=(e=(e+"").split(`
`)).length;r<n;r++)this.newLine(e[r]);return this.build(!1).rebuild()}}Pr(ll,g8),tn({Container:{text:ui(function(t=""){return this.put(new ll).text(t)}),plain:ui(function(t=""){return this.put(new ll).plain(t)})}}),An(ll,"Text");class Qx extends bs{constructor(e,r=e){super(hi("tspan",e),r),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof ll))return this;const r=e.index(this),n=Tn.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=e.dom.leading*new Yr(n);return this.dy(r?i:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}Pr(Qx,g8),tn({Tspan:{tspan:ui(function(t=""){const e=new Qx;return this._build||this.clear(),this.put(e).text(t)})},Text:{newLine:function(t=""){return this.tspan(t).newLine()}}}),An(Qx,"Tspan");class D2 extends bs{constructor(e,r=e){super(hi("circle",e),r)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new Yr(e).divide(2))}}Pr(D2,{x:r8,y:n8,cx:i8,cy:a8,width:o8,height:s8}),tn({Container:{circle:ui(function(t=0){return this.put(new D2).size(t).move(0,0)})}}),An(D2,"Circle");class N2 extends Ro{constructor(e,r=e){super(hi("clipPath",e),r)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return Fd("svg [clip-path*="+this.id()+"]")}}tn({Container:{clip:ui(function(){return this.defs().put(new N2)})},Element:{clipper(){return this.reference("clip-path")},clipWith(t){const e=t instanceof N2?t:this.parent().clip().add(t);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),An(N2,"ClipPath");class ND extends Za{constructor(e,r=e){super(hi("foreignObject",e),r)}}tn({Container:{foreignObject:ui(function(t,e){return this.put(new ND).size(t,e)})}}),An(ND,"ForeignObject");var v8=Object.freeze({__proto__:null,dmove:function(t,e){return this.children().forEach(r=>{let n;try{n=r.node instanceof by().SVGSVGElement?new Ji(r.attr(["x","y","width","height"])):r.bbox()}catch{return}const i=new xr(r),o=i.translate(t,e).transform(i.inverse()),a=new Vn(n.x,n.y).transform(o);r.move(a.x,a.y)}),this},dx:function(t){return this.dmove(t,0)},dy:function(t){return this.dmove(0,t)},height:function(t,e=this.bbox()){return t==null?e.height:this.size(e.width,t,e)},move:function(t=0,e=0,r=this.bbox()){const n=t-r.x,i=e-r.y;return this.dmove(n,i)},size:function(t,e,r=this.bbox()){const n=Sm(this,t,e,r),i=n.width/r.width,o=n.height/r.height;return this.children().forEach(a=>{const l=new Vn(r).transform(new xr(a).inverse());a.scale(i,o,l.x,l.y)}),this},width:function(t,e=this.bbox()){return t==null?e.width:this.size(t,e.height,e)},x:function(t,e=this.bbox()){return t==null?e.x:this.move(t,e.y,e)},y:function(t,e=this.bbox()){return t==null?e.y:this.move(e.x,t,e)}});class Zu extends Ro{constructor(e,r=e){super(hi("g",e),r)}}Pr(Zu,v8),tn({Container:{group:ui(function(){return this.put(new Zu)})}}),An(Zu,"G");class mx extends Ro{constructor(e,r=e){super(hi("a",e),r)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,Cm)}}Pr(mx,v8),tn({Container:{link:ui(function(t){return this.put(new mx).to(t)})},Element:{unlink(){const t=this.linker();if(!t)return this;const e=t.parent();if(!e)return this.remove();const r=e.index(t);return e.add(this,r),t.remove(),this},linkTo(t){let e=this.linker();return e||(e=new mx,this.wrap(e)),typeof t=="function"?t.call(e,e):e.to(t),this},linker(){const t=this.parent();return t&&t.node.nodeName.toLowerCase()==="a"?t:null}}}),An(mx,"A");class L2 extends Ro{constructor(e,r=e){super(hi("mask",e),r)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return Fd("svg [mask*="+this.id()+"]")}}tn({Container:{mask:ui(function(){return this.defs().put(new L2)})},Element:{masker(){return this.reference("mask")},maskWith(t){const e=t instanceof L2?t:this.parent().mask().add(t);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),An(L2,"Mask");class LD extends Za{constructor(e,r=e){super(hi("stop",e),r)}update(e){return(typeof e=="number"||e instanceof Yr)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new Yr(e.offset)),this}}tn({Gradient:{stop:function(t,e,r){return this.put(new LD).update(t,e,r)}}}),An(LD,"Stop");class R2 extends Za{constructor(e,r=e){super(hi("style",e),r)}addText(e=""){return this.node.textContent+=e,this}font(e,r,n={}){return this.rule("@font-face",{fontFamily:e,src:r,...n})}rule(e,r){return this.addText(function(n,i){if(!n)return"";if(!i)return n;let o=n+"{";for(const a in i)o+=a.replace(/([A-Z])/g,function(l,u){return"-"+u.toLowerCase()})+":"+i[a]+";";return o+="}",o}(e,r))}}tn("Dom",{style(t,e){return this.put(new R2).rule(t,e)},fontface(t,e,r){return this.put(new R2).font(t,e,r)}}),An(R2,"Style");class j2 extends ll{constructor(e,r=e){super(hi("textPath",e),r)}array(){const e=this.track();return e?e.array():null}plot(e){const r=this.track();let n=null;return r&&(n=r.plot(e)),e==null?n:this}track(){return this.reference("href")}}tn({Container:{textPath:ui(function(t,e){return t instanceof ll||(t=this.text(t)),t.path(e)})},Text:{path:ui(function(t,e=!0){const r=new j2;let n;if(t instanceof Tp||(t=this.defs().path(t)),r.attr("href","#"+t,Cm),e)for(;n=this.node.firstChild;)r.node.appendChild(n);return this.put(r)}),textPath(){return this.findOne("textPath")}},Path:{text:ui(function(t){return t instanceof ll||(t=new ll().addTo(this.parent()).text(t)),t.path(this)}),targets(){return Fd("svg textPath").filter(t=>(t.attr("href")||"").includes(this.id()))}}}),j2.prototype.MorphArray=sl,An(j2,"TextPath");class RD extends bs{constructor(e,r=e){super(hi("use",e),r)}use(e,r){return this.attr("href",(r||"")+"#"+e,Cm)}}tn({Container:{use:ui(function(t,e){return this.put(new RD).use(t,e)})}}),An(RD,"Use");const uAe=Io;Pr([lk,ck,Zx,Vv,Kx],Vo("viewbox")),Pr([id,od,ad,Tp],Vo("marker")),Pr(ll,Vo("Text")),Pr(Tp,Vo("Path")),Pr(b_,Vo("Defs")),Pr([ll,Qx],Vo("Tspan")),Pr([Jx,qx,sv,ps],Vo("radius")),Pr(_y,Vo("EventTarget")),Pr(oh,Vo("Dom")),Pr(Za,Vo("Element")),Pr(bs,Vo("Shape")),Pr([Ro,l8],Vo("Container")),Pr(sv,Vo("Gradient")),Pr(ps,Vo("Runner")),Ad.extend([...new Set(YF)]),function(t=[]){sk.push(...[].concat(t))}([Yr,ii,Ji,xr,Pd,sh,sl,Vn]),Pr(sk,{to(t){return new Xh().type(this.constructor).from(this.toArray()).to(t)},fromArray(t){return this.init(t),this},toConsumable(){return this.toArray()},morph(t,e,r,n,i){return this.fromArray(t.map(function(o,a){return n.step(o,e[a],r,i[a],i)}))}});class _i extends Za{constructor(e){super(hi("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,r){return!(e=super.put(e,r)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return Fd('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class sA extends Za{constructor(e,r){super(e,r),this.result(this.id())}in(e){if(e==null){const r=this.attr("in");return this.parent()&&this.parent().find(`[result="${r}"]`)[0]||r}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const Ps=t=>function(...e){for(let r=t.length;r--;)e[r]!=null&&this.attr(t[r],e[r])},hAe={blend:Ps(["in","in2","mode"]),colorMatrix:Ps(["type","values"]),composite:Ps(["in","in2","operator"]),convolveMatrix:function(t){t=new Pd(t).toString(),this.attr({order:Math.sqrt(t.split(" ").length),kernelMatrix:t})},diffuseLighting:Ps(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:Ps(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:Ps(["in","dx","dy","stdDeviation"]),flood:Ps(["flood-color","flood-opacity"]),gaussianBlur:function(t=0,e=t){this.attr("stdDeviation",t+" "+e)},image:function(t){this.attr("href",t,Cm)},morphology:Ps(["operator","radius"]),offset:Ps(["dx","dy"]),specularLighting:Ps(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:Ps([]),turbulence:Ps(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(t=>{const e=wm(t),r=hAe[t];_i[e+"Effect"]=class extends sA{constructor(n){super(hi("fe"+e,n),n)}update(n){return r.apply(this,n),this}},_i.prototype[t]=ui(function(n,...i){const o=new _i[e+"Effect"];return n==null?this.put(o):(typeof n=="function"?n.call(o,o):i.unshift(n),this.put(o).update(i))})}),Pr(_i,{merge(t){const e=this.put(new _i.MergeEffect);return typeof t=="function"?(t.call(e,e),e):((t instanceof Array?t:[...arguments]).forEach(r=>{r instanceof _i.MergeNode?e.put(r):e.mergeNode(r)}),e)},componentTransfer(t={}){const e=this.put(new _i.ComponentTransferEffect);if(typeof t=="function")return t.call(e,e),e;t.r||t.g||t.b||t.a||(t={r:t,g:t,b:t,a:t});for(const r in t)e.add(new _i["Func"+r.toUpperCase()](t[r]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(t=>{const e=wm(t);_i[e]=class extends sA{constructor(r){super(hi("fe"+e,r),r)}}});["funcR","funcG","funcB","funcA"].forEach(function(t){const e=_i[wm(t)],r=ui(function(){return this.put(new e)});_i.ComponentTransferEffect.prototype[t]=r});["distantLight","pointLight","spotLight"].forEach(t=>{const e=_i[wm(t)],r=ui(function(){return this.put(new e)});_i.DiffuseLightingEffect.prototype[t]=r,_i.SpecularLightingEffect.prototype[t]=r}),Pr(_i.MergeEffect,{mergeNode(t){return this.put(new _i.MergeNode).attr("in",t)}}),Pr(b_,{filter:function(t){const e=this.put(new _i);return typeof t=="function"&&t.call(e,e),e}}),Pr(Ro,{filter:function(t){return this.defs().filter(t)}}),Pr(Za,{filterWith:function(t){const e=t instanceof _i?t:this.defs().filter(t);return this.attr("filter",e)},unfilter:function(t){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const dAe={blend:function(t,e){return this.parent()&&this.parent().blend(this,t,e)},colorMatrix:function(t,e){return this.parent()&&this.parent().colorMatrix(t,e).in(this)},componentTransfer:function(t){return this.parent()&&this.parent().componentTransfer(t).in(this)},composite:function(t,e){return this.parent()&&this.parent().composite(this,t,e)},convolveMatrix:function(t){return this.parent()&&this.parent().convolveMatrix(t).in(this)},diffuseLighting:function(t,e,r,n){return this.parent()&&this.parent().diffuseLighting(t,r,n).in(this)},displacementMap:function(t,e,r,n){return this.parent()&&this.parent().displacementMap(this,t,e,r,n)},dropShadow:function(t,e,r){return this.parent()&&this.parent().dropShadow(this,t,e,r).in(this)},flood:function(t,e){return this.parent()&&this.parent().flood(t,e)},gaussianBlur:function(t,e){return this.parent()&&this.parent().gaussianBlur(t,e).in(this)},image:function(t){return this.parent()&&this.parent().image(t)},merge:function(t){return t=t instanceof Array?t:[...t],this.parent()&&this.parent().merge(this,...t)},morphology:function(t,e){return this.parent()&&this.parent().morphology(t,e).in(this)},offset:function(t,e){return this.parent()&&this.parent().offset(t,e).in(this)},specularLighting:function(t,e,r,n,i){return this.parent()&&this.parent().specularLighting(t,r,n,i).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(t,e,r,n,i){return this.parent()&&this.parent().turbulence(t,e,r,n,i).in(this)}};Pr(sA,dAe),Pr(_i.MergeEffect,{in:function(t){return t instanceof _i.MergeNode?this.add(t,0):this.add(new _i.MergeNode().in(t),0),this}}),Pr([_i.CompositeEffect,_i.BlendEffect,_i.DisplacementMapEffect],{in2:function(t){if(t==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",t)}}),_i.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var Xa=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w}return er(t,[{key:"getDefaultFilter",value:function(e,r){var n=this.w;e.unfilter(!0),new _i().size("120%","180%","-5%","-40%"),n.config.chart.dropShadow.enabled&&this.dropShadow(e,n.config.chart.dropShadow,r)}},{key:"applyFilter",value:function(e,r,n){var i,o=this,a=this.w;if(e.unfilter(!0),n!=="none"){var l,u,h=a.config.chart.dropShadow,f=n==="lighten"?2:.3;e.filterWith(function(m){m.colorMatrix({type:"matrix",values:`
          `.concat(f,` 0 0 0 0
          0 `).concat(f,` 0 0 0
          0 0 `).concat(f,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),h.enabled&&o.addShadow(m,r,h,"brightness")}),!h.noUserSpaceOnUse&&((l=e.filterer())===null||l===void 0||(u=l.node)===null||u===void 0||u.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((i=e.filterer())===null||i===void 0?void 0:i.node)}else this.getDefaultFilter(e,r)}},{key:"addShadow",value:function(e,r,n,i){var o,a=this.w,l=n.blur,u=n.top,h=n.left,f=n.color,m=n.opacity;if(f=Array.isArray(f)?f[r]:f,((o=a.config.chart.dropShadow.enabledOnSeries)===null||o===void 0?void 0:o.length)>0&&a.config.chart.dropShadow.enabledOnSeries.indexOf(r)===-1)return e;e.offset({in:i,dx:h,dy:u,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:l,result:"blur"}),e.flood({"flood-color":f,"flood-opacity":m,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",i])}},{key:"dropShadow",value:function(e,r){var n,i,o,a,l,u=this,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,f=this.w;return e.unfilter(!0),ze.isMsEdge()&&f.config.chart.type==="radialBar"||((n=f.config.chart.dropShadow.enabledOnSeries)===null||n===void 0?void 0:n.length)>0&&((o=f.config.chart.dropShadow.enabledOnSeries)===null||o===void 0?void 0:o.indexOf(h))===-1?e:(e.filterWith(function(m){u.addShadow(m,h,r,"SourceGraphic")}),r.noUserSpaceOnUse||(a=e.filterer())===null||a===void 0||(l=a.node)===null||l===void 0||l.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((i=e.filterer())===null||i===void 0?void 0:i.node),e)}},{key:"setSelectionFilter",value:function(e,r,n){var i=this.w;if(i.globals.selectedDataPoints[r]!==void 0&&i.globals.selectedDataPoints[r].indexOf(n)>-1){e.node.setAttribute("selected",!0);var o=i.config.states.active.filter;o!=="none"&&this.applyFilter(e,r,o.type)}}},{key:"_scaleFilterSize",value:function(e){e&&function(r){for(var n in r)r.hasOwnProperty(n)&&e.setAttribute(n,r[n])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),t}(),bt=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w}return er(t,[{key:"roundPathCorners",value:function(e,r){function n($,W,J){var q=W.x-$.x,ee=W.y-$.y,se=Math.sqrt(q*q+ee*ee);return i($,W,Math.min(1,J/se))}function i($,W,J){return{x:$.x+(W.x-$.x)*J,y:$.y+(W.y-$.y)*J}}function o($,W){$.length>2&&($[$.length-2]=W.x,$[$.length-1]=W.y)}function a($){return{x:parseFloat($[$.length-2]),y:parseFloat($[$.length-1])}}e.indexOf("NaN")>-1&&(e="");var l=e.split(/[,\s]/).reduce(function($,W){var J=W.match("([a-zA-Z])(.+)");return J?($.push(J[1]),$.push(J[2])):$.push(W),$},[]).reduce(function($,W){return parseFloat(W)==W&&$.length?$[$.length-1].push(W):$.push([W]),$},[]),u=[];if(l.length>1){var h=a(l[0]),f=null;l[l.length-1][0]=="Z"&&l[0].length>2&&(f=["L",h.x,h.y],l[l.length-1]=f),u.push(l[0]);for(var m=1;m<l.length;m++){var x=u[u.length-1],w=l[m],S=w==f?l[1]:l[m+1];if(S&&x&&x.length>2&&w[0]=="L"&&S.length>2&&S[0]=="L"){var C,A,E=a(x),P=a(w),I=a(S);C=n(P,E,r),A=n(P,I,r),o(w,C),w.origPoint=P,u.push(w);var N=i(C,P,.5),D=i(P,A,.5),L=["C",N.x,N.y,D.x,D.y,A.x,A.y];L.origPoint=P,u.push(L)}else u.push(w)}if(f){var R=a(u[u.length-1]);u.push(["Z"]),o(u[0],R)}}else u=l;return u.reduce(function($,W){return $+W.join(" ")+" "},"")}},{key:"drawLine",value:function(e,r,n,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:r,x2:n,y2:i,stroke:o,"stroke-dasharray":a,"stroke-width":l,"stroke-linecap":u})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,h=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,f=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,m=this.w.globals.dom.Paper.rect();return m.attr({x:e,y:r,width:n>0?n:0,height:i>0?i:0,rx:o,ry:o,opacity:l,"stroke-width":u!==null?u:0,stroke:h!==null?h:"none","stroke-dasharray":f}),m.node.setAttribute("fill",a),m}},{key:"drawPolygon",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:i,stroke:r,"stroke-width":n})}},{key:"drawCircle",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var n=this.w.globals.dom.Paper.circle(2*e);return r!==null&&n.attr(r),n}},{key:"drawPath",value:function(e){var r=e.d,n=r===void 0?"":r,i=e.stroke,o=i===void 0?"#a8a8a8":i,a=e.strokeWidth,l=a===void 0?1:a,u=e.fill,h=e.fillOpacity,f=h===void 0?1:h,m=e.strokeOpacity,x=m===void 0?1:m,w=e.classes,S=e.strokeLinecap,C=S===void 0?null:S,A=e.strokeDashArray,E=A===void 0?0:A,P=this.w;return C===null&&(C=P.config.stroke.lineCap),(n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n="M 0 ".concat(P.globals.gridHeight)),P.globals.dom.Paper.path(n).attr({fill:u,"fill-opacity":f,stroke:o,"stroke-opacity":x,"stroke-linecap":C,"stroke-width":l,"stroke-dasharray":E,class:w})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=this.w.globals.dom.Paper.group();return e!==null&&r.attr(e),r}},{key:"move",value:function(e,r){var n=["M",e,r].join(" ");return n}},{key:"line",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=null;return n===null?i=[" L",e,r].join(" "):n==="H"?i=[" H",e].join(" "):n==="V"&&(i=[" V",r].join(" ")),i}},{key:"curve",value:function(e,r,n,i,o,a){var l=["C",e,r,n,i,o,a].join(" ");return l}},{key:"quadraticCurve",value:function(e,r,n,i){return["Q",e,r,n,i].join(" ")}},{key:"arc",value:function(e,r,n,i,o,a,l){var u="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(u="a");var h=[u,e,r,n,i,o,a,l].join(" ");return h}},{key:"renderPaths",value:function(e){var r,n=e.j,i=e.realIndex,o=e.pathFrom,a=e.pathTo,l=e.stroke,u=e.strokeWidth,h=e.strokeLinecap,f=e.fill,m=e.animationDelay,x=e.initialSpeed,w=e.dataChangeSpeed,S=e.className,C=e.chartType,A=e.shouldClipToGrid,E=A===void 0||A,P=e.bindEventsOnPaths,I=P===void 0||P,N=e.drawShadow,D=N===void 0||N,L=this.w,R=new Xa(this.ctx),$=new _m(this.ctx),W=this.w.config.chart.animations.enabled,J=W&&this.w.config.chart.animations.dynamicAnimation.enabled,q=!!(W&&!L.globals.resized||J&&L.globals.dataChanged&&L.globals.shouldAnimate);q?r=o:(r=a,L.globals.animationEnded=!0);var ee=L.config.stroke.dashArray,se=0;se=Array.isArray(ee)?ee[i]:L.config.stroke.dashArray;var he=this.drawPath({d:r,stroke:l,strokeWidth:u,fill:f,fillOpacity:1,classes:S,strokeLinecap:h,strokeDashArray:se});he.attr("index",i),E&&(C==="bar"&&!L.globals.isHorizontal||L.globals.comboCharts?he.attr({"clip-path":"url(#gridRectBarMask".concat(L.globals.cuid,")")}):he.attr({"clip-path":"url(#gridRectMask".concat(L.globals.cuid,")")})),L.config.chart.dropShadow.enabled&&D&&R.dropShadow(he,L.config.chart.dropShadow,i),I&&(he.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,he)),he.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,he)),he.node.addEventListener("mousedown",this.pathMouseDown.bind(this,he))),he.attr({pathTo:a,pathFrom:o});var Se={el:he,j:n,realIndex:i,pathFrom:o,pathTo:a,fill:f,strokeWidth:u,delay:m};return!W||L.globals.resized||L.globals.dataChanged?!L.globals.resized&&L.globals.dataChanged||$.showDelayedElements():$.animatePathsGradually(Ft(Ft({},Se),{},{speed:x})),L.globals.dataChanged&&J&&q&&$.animatePathsGradually(Ft(Ft({},Se),{},{speed:w})),he}},{key:"drawPattern",value:function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(r,n,function(a){e==="horizontalLines"?a.line(0,0,n,0).stroke({color:i,width:o+1}):e==="verticalLines"?a.line(0,0,0,r).stroke({color:i,width:o+1}):e==="slantedLines"?a.line(0,0,r,n).stroke({color:i,width:o}):e==="squares"?a.rect(r,n).fill("none").stroke({color:i,width:o}):e==="circles"&&a.circle(r).fill("none").stroke({color:i,width:o})})}},{key:"drawGradient",value:function(e,r,n,i,o){var a,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,h=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],f=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,m=this.w;r.length<9&&r.indexOf("#")===0&&(r=ze.hexToRgba(r,i)),n.length<9&&n.indexOf("#")===0&&(n=ze.hexToRgba(n,o));var x=0,w=1,S=1,C=null;u!==null&&(x=u[0]!==void 0?u[0]/100:0,w=u[1]!==void 0?u[1]/100:1,S=u[2]!==void 0?u[2]/100:1,C=u[3]!==void 0?u[3]/100:null);var A=!(m.config.chart.type!=="donut"&&m.config.chart.type!=="pie"&&m.config.chart.type!=="polarArea"&&m.config.chart.type!=="bubble");if(a=h&&h.length!==0?m.globals.dom.Paper.gradient(A?"radial":"linear",function(I){(Array.isArray(h[f])?h[f]:h).forEach(function(N){I.stop(N.offset/100,N.color,N.opacity)})}):m.globals.dom.Paper.gradient(A?"radial":"linear",function(I){I.stop(x,r,i),I.stop(w,n,o),I.stop(S,n,o),C!==null&&I.stop(C,r,i)}),A){var E=m.globals.gridWidth/2,P=m.globals.gridHeight/2;m.config.chart.type!=="bubble"?a.attr({gradientUnits:"userSpaceOnUse",cx:E,cy:P,r:l}):a.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?a.from(0,0).to(0,1):e==="diagonal"?a.from(0,0).to(1,1):e==="horizontal"?a.from(0,1).to(1,1):e==="diagonal2"&&a.from(1,0).to(0,1);return a}},{key:"getTextBasedOnMaxWidth",value:function(e){var r=e.text,n=e.maxWidth,i=e.fontSize,o=e.fontFamily,a=this.getTextRects(r,i,o),l=a.width/r.length,u=Math.floor(n/l);return n<a.width?r.slice(0,u-3)+"...":r}},{key:"drawText",value:function(e){var r=this,n=e.x,i=e.y,o=e.text,a=e.textAnchor,l=e.fontSize,u=e.fontFamily,h=e.fontWeight,f=e.foreColor,m=e.opacity,x=e.maxWidth,w=e.cssClass,S=w===void 0?"":w,C=e.isPlainText,A=C===void 0||C,E=e.dominantBaseline,P=E===void 0?"auto":E,I=this.w;o===void 0&&(o="");var N=o;a||(a="start"),f&&f.length||(f=I.config.chart.foreColor),u=u||I.config.chart.fontFamily,h=h||"regular";var D,L={maxWidth:x,fontSize:l=l||"11px",fontFamily:u};return Array.isArray(o)?D=I.globals.dom.Paper.text(function(R){for(var $=0;$<o.length;$++)N=o[$],x&&(N=r.getTextBasedOnMaxWidth(Ft({text:o[$]},L))),$===0?R.tspan(N):R.tspan(N).newLine()}):(x&&(N=this.getTextBasedOnMaxWidth(Ft({text:o},L))),D=A?I.globals.dom.Paper.plain(o):I.globals.dom.Paper.text(function(R){return R.tspan(N)})),D.attr({x:n,y:i,"text-anchor":a,"dominant-baseline":P,"font-size":l,"font-family":u,"font-weight":h,fill:f,class:"apexcharts-text "+S}),D.node.style.fontFamily=u,D.node.style.opacity=m,D}},{key:"getMarkerPath",value:function(e,r,n,i){var o="";switch(n){case"cross":o="M ".concat(e-(i/=1.4)," ").concat(r-i," L ").concat(e+i," ").concat(r+i,"  M ").concat(e-i," ").concat(r+i," L ").concat(e+i," ").concat(r-i);break;case"plus":o="M ".concat(e-(i/=1.12)," ").concat(r," L ").concat(e+i," ").concat(r,"  M ").concat(e," ").concat(r-i," L ").concat(e," ").concat(r+i);break;case"star":case"sparkle":var a=5;i*=1.15,n==="sparkle"&&(i/=1.1,a=4);for(var l=Math.PI/a,u=0;u<=2*a;u++){var h=u*l,f=u%2==0?i:i/2;o+=(u===0?"M":"L")+(e+f*Math.sin(h))+","+(r-f*Math.cos(h))}o+="Z";break;case"triangle":o="M ".concat(e," ").concat(r-i,` 
             L `).concat(e+i," ").concat(r+i,` 
             L `).concat(e-i," ").concat(r+i,` 
             Z`);break;case"square":case"rect":o="M ".concat(e-(i/=1.125)," ").concat(r-i,` 
           L `).concat(e+i," ").concat(r-i,` 
           L `).concat(e+i," ").concat(r+i,` 
           L `).concat(e-i," ").concat(r+i,` 
           Z`);break;case"diamond":i*=1.05,o="M ".concat(e," ").concat(r-i,` 
             L `).concat(e+i," ").concat(r,` 
             L `).concat(e," ").concat(r+i,` 
             L `).concat(e-i," ").concat(r,` 
            Z`);break;case"line":o="M ".concat(e-(i/=1.1)," ").concat(r,` 
           L `).concat(e+i," ").concat(r);break;default:i*=2,o="M ".concat(e,", ").concat(r,` 
           m -`).concat(i/2,`, 0 
           a `).concat(i/2,",").concat(i/2," 0 1,0 ").concat(i,`,0 
           a `).concat(i/2,",").concat(i/2," 0 1,0 -").concat(i,",0")}return o}},{key:"drawMarkerShape",value:function(e,r,n,i,o){var a=this.drawPath({d:this.getMarkerPath(e,r,n,i,o),stroke:o.pointStrokeColor,strokeDashArray:o.pointStrokeDashArray,strokeWidth:o.pointStrokeWidth,fill:o.pointFillColor,fillOpacity:o.pointFillOpacity,strokeOpacity:o.pointStrokeOpacity});return a.attr({cx:e,cy:r,shape:o.shape,class:o.class?o.class:""}),a}},{key:"drawMarker",value:function(e,r,n){e=e||0;var i=n.pSize||0;return ze.isNumber(r)||(i=0,r=0),this.drawMarkerShape(e,r,n==null?void 0:n.shape,i,Ft(Ft({},n),n.shape==="line"||n.shape==="plus"||n.shape==="cross"?{pointStrokeColor:n.pointFillColor,pointStrokeOpacity:n.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,r){var n=this.w,i=new Xa(this.ctx),o=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);if(typeof n.config.chart.events.dataPointMouseEnter=="function"&&n.config.chart.events.dataPointMouseEnter(r,this.ctx,{seriesIndex:o,dataPointIndex:a,w:n}),this.ctx.events.fireEvent("dataPointMouseEnter",[r,this.ctx,{seriesIndex:o,dataPointIndex:a,w:n}]),(n.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&n.config.states.hover.filter.type!=="none"&&!n.globals.isTouchDevice){var l=n.config.states.hover.filter;i.applyFilter(e,o,l.type)}}},{key:"pathMouseLeave",value:function(e,r){var n=this.w,i=new Xa(this.ctx),o=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);typeof n.config.chart.events.dataPointMouseLeave=="function"&&n.config.chart.events.dataPointMouseLeave(r,this.ctx,{seriesIndex:o,dataPointIndex:a,w:n}),this.ctx.events.fireEvent("dataPointMouseLeave",[r,this.ctx,{seriesIndex:o,dataPointIndex:a,w:n}]),n.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||n.config.states.hover.filter.type!=="none"&&i.getDefaultFilter(e,o)}},{key:"pathMouseDown",value:function(e,r){var n=this.w,i=new Xa(this.ctx),o=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10),l="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),n.globals.selectedDataPoints[o].indexOf(a)>-1){var u=n.globals.selectedDataPoints[o].indexOf(a);n.globals.selectedDataPoints[o].splice(u,1)}}else{if(!n.config.states.active.allowMultipleDataPointsSelection&&n.globals.selectedDataPoints.length>0){n.globals.selectedDataPoints=[];var h=n.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),f=n.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),m=function(S){Array.prototype.forEach.call(S,function(C){C.node.setAttribute("selected","false"),i.getDefaultFilter(C,o)})};m(h),m(f)}e.node.setAttribute("selected","true"),l="true",n.globals.selectedDataPoints[o]===void 0&&(n.globals.selectedDataPoints[o]=[]),n.globals.selectedDataPoints[o].push(a)}if(l==="true"){var x=n.config.states.active.filter;if(x!=="none")i.applyFilter(e,o,x.type);else if(n.config.states.hover.filter!=="none"&&!n.globals.isTouchDevice){var w=n.config.states.hover.filter;i.applyFilter(e,o,w.type)}}else n.config.states.active.filter.type!=="none"&&(n.config.states.hover.filter.type==="none"||n.globals.isTouchDevice?i.getDefaultFilter(e,o):(w=n.config.states.hover.filter,i.applyFilter(e,o,w.type)));typeof n.config.chart.events.dataPointSelection=="function"&&n.config.chart.events.dataPointSelection(r,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:o,dataPointIndex:a,w:n}),r&&this.ctx.events.fireEvent("dataPointSelection",[r,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:o,dataPointIndex:a,w:n}])}},{key:"rotateAroundCenter",value:function(e){var r={};return e&&typeof e.getBBox=="function"&&(r=e.getBBox()),{x:r.x+r.width/2,y:r.y+r.height/2}}},{key:"getTextRects",value:function(e,r,n,i){var o=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=this.w,l=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:r,fontFamily:n,foreColor:"#fff",opacity:0});i&&l.attr("transform",i),a.globals.dom.Paper.add(l);var u=l.bbox();return o||(u=l.node.getBoundingClientRect()),l.remove(),{width:u.width,height:u.height}}},{key:"placeTextWithEllipsis",value:function(e,r,n){if(typeof e.getComputedTextLength=="function"&&(e.textContent=r,r.length>0&&e.getComputedTextLength()>=n/1.1)){for(var i=r.length-3;i>0;i-=3)if(e.getSubStringLength(0,i)<=n/1.1)return void(e.textContent=r.substring(0,i)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,r){for(var n in r)r.hasOwnProperty(n)&&e.setAttribute(n,r[n])}}]),t}(),Qi=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w}return er(t,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=this.w,n=[];if(r.globals.series.length===0)return n;for(var i=0;i<r.globals.series[r.globals.maxValsInArrayIndex].length;i++){for(var o=0,a=0;a<r.globals.series.length;a++)r.globals.series[a][i]!==void 0&&e.indexOf(a)===-1&&(o+=r.globals.series[a][i]);n.push(o)}return n}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce(function(r,n){return r+n},0):this.w.globals.series[e].reduce(function(r,n){return r+n},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,r=this.w,n=[];return r.globals.seriesGroups.forEach(function(i){var o=[];r.config.series.forEach(function(l,u){i.indexOf(r.globals.seriesNames[u])>-1&&o.push(u)});var a=r.globals.series.map(function(l,u){return o.indexOf(u)===-1?u:-1}).filter(function(l){return l!==-1});n.push(e.getStackedSeriesTotals(a))}),n}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,r=this.w.config,n=[],i=[],o=[],a=e.series.length>r.yaxis.length||r.yaxis.some(function(m){return Array.isArray(m.seriesName)});r.series.forEach(function(m,x){o.push(x),i.push(null)}),r.yaxis.forEach(function(m,x){n[x]=[]});var l=[];r.yaxis.forEach(function(m,x){var w=!1;if(m.seriesName){var S=[];Array.isArray(m.seriesName)?S=m.seriesName:S.push(m.seriesName),S.forEach(function(C){r.series.forEach(function(A,E){if(A.name===C){var P=E;x===E||a?!a||o.indexOf(E)>-1?n[x].push([x,E]):console.warn("Series '"+A.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(n[E].push([E,x]),P=x),w=!0,(P=o.indexOf(P))!==-1&&o.splice(P,1)}})})}w||l.push(x)}),n=n.map(function(m,x){var w=[];return m.forEach(function(S){i[S[1]]=S[0],w.push(S[1])}),w});for(var u=r.yaxis.length-1,h=0;h<l.length&&(u=l[h],n[u]=[],o);h++){var f=o[0];o.shift(),n[u].push(f),i[f]=u}o.forEach(function(m){n[u].push(m),i[m]=u}),e.seriesYAxisMap=n.map(function(m){return m}),e.seriesYAxisReverseMap=i.map(function(m){return m}),e.seriesYAxisMap.forEach(function(m,x){m.forEach(function(w){r.series[w]&&r.series[w].group===void 0&&(r.series[w].group="apexcharts-axis-".concat(x.toString()))})})}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter(function(r){return r!==null}):this.w.config.series[e].data.filter(function(r){return r!==null})).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(r,n,i){return r===i[0]})}},{key:"getCategoryLabels",value:function(e){var r=this.w,n=e.slice();return r.config.xaxis.convertedCatToNumeric&&(n=e.map(function(i,o){return r.config.xaxis.labels.formatter(i-r.globals.minX+1)})),n}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(r){return r.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(r){return r.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,r=0;return e.globals.markers.size.forEach(function(n){r=Math.max(r,n)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(n){r=Math.max(r,n.size)}),r>0&&(e.config.markers.hover.size>0?r=e.config.markers.hover.size:r+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=r,r}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(r,n){var i=0;if(Array.isArray(r))for(var o=0;o<r.length;o++)i+=r[o];else i+=r;return i})}},{key:"getSeriesTotalsXRange",value:function(e,r){var n=this.w;return n.globals.series.map(function(i,o){for(var a=0,l=0;l<i.length;l++)n.globals.seriesX[o][l]>e&&n.globals.seriesX[o][l]<r&&(a+=i[l]);return a})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(r,n){var i=[];if(Array.isArray(r))for(var o=0;o<r.length;o++){var a=e.globals.stackedSeriesTotals[o],l=0;a&&(l=100*r[o]/a),i.push(l)}else{var u=100*r/e.globals.seriesTotals.reduce(function(h,f){return h+f},0);i.push(u)}return i})}},{key:"getCalculatedRatios",value:function(){var e,r,n,i=this,o=this.w,a=o.globals,l=[],u=0,h=[],f=.1,m=0;if(a.yRange=[],a.isMultipleYAxis)for(var x=0;x<a.minYArr.length;x++)a.yRange.push(Math.abs(a.minYArr[x]-a.maxYArr[x])),h.push(0);else a.yRange.push(Math.abs(a.minY-a.maxY));a.xRange=Math.abs(a.maxX-a.minX),a.zRange=Math.abs(a.maxZ-a.minZ);for(var w=0;w<a.yRange.length;w++)l.push(a.yRange[w]/a.gridHeight);if(r=a.xRange/a.gridWidth,e=a.yRange/a.gridWidth,n=a.xRange/a.gridHeight,(u=a.zRange/a.gridHeight*16)||(u=1),a.minY!==Number.MIN_VALUE&&Math.abs(a.minY)!==0&&(a.hasNegs=!0),o.globals.seriesYAxisReverseMap.length>0){var S=function(A,E){var P=o.config.yaxis[o.globals.seriesYAxisReverseMap[E]],I=A<0?-1:1;return A=Math.abs(A),P.logarithmic&&(A=i.getBaseLog(P.logBase,A)),-I*A/l[E]};if(a.isMultipleYAxis){h=[];for(var C=0;C<l.length;C++)h.push(S(a.minYArr[C],C))}else(h=[]).push(S(a.minY,0)),a.minY!==Number.MIN_VALUE&&Math.abs(a.minY)!==0&&(f=-a.minY/e,m=a.minX/r)}else(h=[]).push(0),f=0,m=0;return{yRatio:l,invertedYRatio:e,zRatio:u,xRatio:r,invertedXRatio:n,baseLineInvertedY:f,baseLineY:h,baseLineX:m}}},{key:"getLogSeries",value:function(e){var r=this,n=this.w;return n.globals.seriesLog=e.map(function(i,o){var a=n.globals.seriesYAxisReverseMap[o];return n.config.yaxis[a]&&n.config.yaxis[a].logarithmic?i.map(function(l){return l===null?null:r.getLogVal(n.config.yaxis[a].logBase,l,o)}):i}),n.globals.invalidLogScale?e:n.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,r){if(e===null)return null;var n=this.w,i=n.globals.seriesYAxisReverseMap[r];return n.config.yaxis[i]&&n.config.yaxis[i].logarithmic?this.getLogVal(n.config.yaxis[i].logBase,e,r):e}},{key:"getBaseLog",value:function(e,r){return Math.log(r)/Math.log(e)}},{key:"getLogVal",value:function(e,r,n){if(r<=0)return 0;var i=this.w,o=i.globals.minYArr[n]===0?-1:this.getBaseLog(e,i.globals.minYArr[n]),a=(i.globals.maxYArr[n]===0?0:this.getBaseLog(e,i.globals.maxYArr[n]))-o;return r<1?r/a:(this.getBaseLog(e,r)-o)/a}},{key:"getLogYRatios",value:function(e){var r=this,n=this.w,i=this.w.globals;return i.yLogRatio=e.slice(),i.logYRange=i.yRange.map(function(o,a){var l=n.globals.seriesYAxisReverseMap[a];if(n.config.yaxis[l]&&r.w.config.yaxis[l].logarithmic){var u,h=-Number.MAX_VALUE,f=Number.MIN_VALUE;return i.seriesLog.forEach(function(m,x){m.forEach(function(w){n.config.yaxis[x]&&n.config.yaxis[x].logarithmic&&(h=Math.max(w,h),f=Math.min(w,f))})}),u=Math.pow(i.yRange[a],Math.abs(f-h)/i.yRange[a]),i.yLogRatio[a]=u/i.gridHeight,u}}),i.invalidLogScale?e.slice():i.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,r,n,i){var o=this.w,a=[];return e.series.length>0&&r.forEach(function(l){var u=[],h=[];e.i.forEach(function(f,m){o.config.series[f].group===l&&(u.push(e.series[m]),h.push(f))}),u.length>0&&a.push(i.draw(u,n,h))}),a}}],[{key:"checkComboSeries",value:function(e,r){var n=!1,i=0,o=0;return r===void 0&&(r="line"),e.length&&e[0].type!==void 0&&e.forEach(function(a){a.type!=="bar"&&a.type!=="column"&&a.type!=="candlestick"&&a.type!=="boxPlot"||i++,a.type!==void 0&&a.type!==r&&o++}),o>0&&(n=!0),{comboBarCount:i,comboCharts:n}}},{key:"extendArrayProps",value:function(e,r,n){var i,o,a,l,u,h;return(i=r)!==null&&i!==void 0&&i.yaxis&&(r=e.extendYAxis(r,n)),(o=r)!==null&&o!==void 0&&o.annotations&&(r.annotations.yaxis&&(r=e.extendYAxisAnnotations(r)),(a=r)!==null&&a!==void 0&&(l=a.annotations)!==null&&l!==void 0&&l.xaxis&&(r=e.extendXAxisAnnotations(r)),(u=r)!==null&&u!==void 0&&(h=u.annotations)!==null&&h!==void 0&&h.points&&(r=e.extendPointAnnotations(r))),r}}]),t}(),__=function(){function t(e){Qt(this,t),this.w=e.w,this.annoCtx=e}return er(t,[{key:"setOrientations",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.w;if(e.label.orientation==="vertical"){var i=r!==null?r:0,o=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(i,"']"));if(o!==null){var a=o.getBoundingClientRect();o.setAttribute("x",parseFloat(o.getAttribute("x"))-a.height+4);var l=e.label.position==="top"?a.width:-a.width;o.setAttribute("y",parseFloat(o.getAttribute("y"))+l);var u=this.annoCtx.graphics.rotateAroundCenter(o),h=u.x,f=u.y;o.setAttribute("transform","rotate(-90 ".concat(h," ").concat(f,")"))}}}},{key:"addBackgroundToAnno",value:function(e,r){var n=this.w;if(!e||!r.label.text||!String(r.label.text).trim())return null;var i=n.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),o=e.getBoundingClientRect(),a=r.label.style.padding,l=a.left,u=a.right,h=a.top,f=a.bottom;if(r.label.orientation==="vertical"){var m=[l,u,h,f];h=m[0],f=m[1],l=m[2],u=m[3]}var x=o.left-i.left-l,w=o.top-i.top-h,S=this.annoCtx.graphics.drawRect(x-n.globals.barPadForNumericAxis,w,o.width+l+u,o.height+h+f,r.label.borderRadius,r.label.style.background,1,r.label.borderWidth,r.label.borderColor,0);return r.id&&S.node.classList.add(r.id),S}},{key:"annotationsBackground",value:function(){var e=this,r=this.w,n=function(i,o,a){var l=r.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(o,"']"));if(l){var u=l.parentNode,h=e.addBackgroundToAnno(l,i);h&&(u.insertBefore(h.node,l),i.label.mouseEnter&&h.node.addEventListener("mouseenter",i.label.mouseEnter.bind(e,i)),i.label.mouseLeave&&h.node.addEventListener("mouseleave",i.label.mouseLeave.bind(e,i)),i.label.click&&h.node.addEventListener("click",i.label.click.bind(e,i)))}};r.config.annotations.xaxis.forEach(function(i,o){return n(i,o,"xaxis")}),r.config.annotations.yaxis.forEach(function(i,o){return n(i,o,"yaxis")}),r.config.annotations.points.forEach(function(i,o){return n(i,o,"point")})}},{key:"getY1Y2",value:function(e,r){var n,i=this.w,o=e==="y1"?r.y:r.y2,a=!1;if(this.annoCtx.invertAxis){var l=i.config.xaxis.convertedCatToNumeric?i.globals.categoryLabels:i.globals.labels,u=l.indexOf(o),h=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(u+1,")"));n=h?parseFloat(h.getAttribute("y")):(i.globals.gridHeight/l.length-1)*(u+1)-i.globals.barHeight,r.seriesIndex!==void 0&&i.globals.barHeight&&(n-=i.globals.barHeight/2*(i.globals.series.length-1)-i.globals.barHeight*r.seriesIndex)}else{var f,m=i.globals.seriesYAxisMap[r.yAxisIndex][0],x=i.config.yaxis[r.yAxisIndex].logarithmic?new Qi(this.annoCtx.ctx).getLogVal(i.config.yaxis[r.yAxisIndex].logBase,o,m)/i.globals.yLogRatio[m]:(o-i.globals.minYArr[m])/(i.globals.yRange[m]/i.globals.gridHeight);n=i.globals.gridHeight-Math.min(Math.max(x,0),i.globals.gridHeight),a=x>i.globals.gridHeight||x<0,!r.marker||r.y!==void 0&&r.y!==null||(n=0),(f=i.config.yaxis[r.yAxisIndex])!==null&&f!==void 0&&f.reversed&&(n=x)}return typeof o=="string"&&o.includes("px")&&(n=parseFloat(o)),{yP:n,clipped:a}}},{key:"getX1X2",value:function(e,r){var n=this.w,i=e==="x1"?r.x:r.x2,o=this.annoCtx.invertAxis?n.globals.minY:n.globals.minX,a=this.annoCtx.invertAxis?n.globals.maxY:n.globals.maxX,l=this.annoCtx.invertAxis?n.globals.yRange[0]:n.globals.xRange,u=!1,h=this.annoCtx.inversedReversedAxis?(a-i)/(l/n.globals.gridWidth):(i-o)/(l/n.globals.gridWidth);return n.config.xaxis.type!=="category"&&!n.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||n.globals.dataFormatXNumeric||n.config.chart.sparkline.enabled||(h=this.getStringX(i)),typeof i=="string"&&i.includes("px")&&(h=parseFloat(i)),i==null&&r.marker&&(h=n.globals.gridWidth),r.seriesIndex!==void 0&&n.globals.barWidth&&!this.annoCtx.invertAxis&&(h-=n.globals.barWidth/2*(n.globals.series.length-1)-n.globals.barWidth*r.seriesIndex),h>n.globals.gridWidth?(h=n.globals.gridWidth,u=!0):h<0&&(h=0,u=!0),{x:h,clipped:u}}},{key:"getStringX",value:function(e){var r=this.w,n=e;r.config.xaxis.convertedCatToNumeric&&r.globals.categoryLabels.length&&(e=r.globals.categoryLabels.indexOf(e)+1);var i=r.globals.labels.map(function(a){return Array.isArray(a)?a.join(" "):a}).indexOf(e),o=r.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(i+1,")"));return o&&(n=parseFloat(o.getAttribute("x"))),n}}]),t}(),fAe=function(){function t(e){Qt(this,t),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new __(this.annoCtx)}return er(t,[{key:"addXaxisAnnotation",value:function(e,r,n){var i,o=this.w,a=this.helpers.getX1X2("x1",e),l=a.x,u=a.clipped,h=!0,f=e.label.text,m=e.strokeDashArray;if(ze.isNumber(l)){if(e.x2===null||e.x2===void 0){if(!u){var x=this.annoCtx.graphics.drawLine(l+e.offsetX,0+e.offsetY,l+e.offsetX,o.globals.gridHeight+e.offsetY,e.borderColor,m,e.borderWidth);r.appendChild(x.node),e.id&&x.node.classList.add(e.id)}}else{var w=this.helpers.getX1X2("x2",e);if(i=w.x,h=w.clipped,!u||!h){if(i<l){var S=l;l=i,i=S}var C=this.annoCtx.graphics.drawRect(l+e.offsetX,0+e.offsetY,i-l,o.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,m);C.node.classList.add("apexcharts-annotation-rect"),C.attr("clip-path","url(#gridRectMask".concat(o.globals.cuid,")")),r.appendChild(C.node),e.id&&C.node.classList.add(e.id)}}if(!u||!h){var A=this.annoCtx.graphics.getTextRects(f,parseFloat(e.label.style.fontSize)),E=e.label.position==="top"?4:e.label.position==="center"?o.globals.gridHeight/2+(e.label.orientation==="vertical"?A.width/2:0):o.globals.gridHeight,P=this.annoCtx.graphics.drawText({x:l+e.label.offsetX,y:E+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?A.width/2-12:-A.width/2:0),text:f,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});P.attr({rel:n}),r.appendChild(P.node),this.annoCtx.helpers.setOrientations(e,n)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,r=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return r.config.annotations.xaxis.map(function(i,o){e.addXaxisAnnotation(i,n.node,o)}),n}}]),t}(),Ya=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return er(t,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var r=Date.parse(e);if(!isNaN(r))return this.getTimeStamp(e);var n=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return n=this.getTimeStamp(n)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,r){var n=this.w.globals.locale,i=this.w.config.xaxis.labels.datetimeUTC,o=["\0"].concat(Oa(n.months)),a=[""].concat(Oa(n.shortMonths)),l=[""].concat(Oa(n.days)),u=[""].concat(Oa(n.shortDays));function h($,W){var J=$+"";for(W=W||2;J.length<W;)J="0"+J;return J}var f=i?e.getUTCFullYear():e.getFullYear();r=(r=(r=r.replace(/(^|[^\\])yyyy+/g,"$1"+f)).replace(/(^|[^\\])yy/g,"$1"+f.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+f);var m=(i?e.getUTCMonth():e.getMonth())+1;r=(r=(r=(r=r.replace(/(^|[^\\])MMMM+/g,"$1"+o[0])).replace(/(^|[^\\])MMM/g,"$1"+a[0])).replace(/(^|[^\\])MM/g,"$1"+h(m))).replace(/(^|[^\\])M/g,"$1"+m);var x=i?e.getUTCDate():e.getDate();r=(r=(r=(r=r.replace(/(^|[^\\])dddd+/g,"$1"+l[0])).replace(/(^|[^\\])ddd/g,"$1"+u[0])).replace(/(^|[^\\])dd/g,"$1"+h(x))).replace(/(^|[^\\])d/g,"$1"+x);var w=i?e.getUTCHours():e.getHours(),S=w>12?w-12:w===0?12:w;r=(r=(r=(r=r.replace(/(^|[^\\])HH+/g,"$1"+h(w))).replace(/(^|[^\\])H/g,"$1"+w)).replace(/(^|[^\\])hh+/g,"$1"+h(S))).replace(/(^|[^\\])h/g,"$1"+S);var C=i?e.getUTCMinutes():e.getMinutes();r=(r=r.replace(/(^|[^\\])mm+/g,"$1"+h(C))).replace(/(^|[^\\])m/g,"$1"+C);var A=i?e.getUTCSeconds():e.getSeconds();r=(r=r.replace(/(^|[^\\])ss+/g,"$1"+h(A))).replace(/(^|[^\\])s/g,"$1"+A);var E=i?e.getUTCMilliseconds():e.getMilliseconds();r=r.replace(/(^|[^\\])fff+/g,"$1"+h(E,3)),E=Math.round(E/10),r=r.replace(/(^|[^\\])ff/g,"$1"+h(E)),E=Math.round(E/10);var P=w<12?"AM":"PM";r=(r=(r=r.replace(/(^|[^\\])f/g,"$1"+E)).replace(/(^|[^\\])TT+/g,"$1"+P)).replace(/(^|[^\\])T/g,"$1"+P.charAt(0));var I=P.toLowerCase();r=(r=r.replace(/(^|[^\\])tt+/g,"$1"+I)).replace(/(^|[^\\])t/g,"$1"+I.charAt(0));var N=-e.getTimezoneOffset(),D=i||!N?"Z":N>0?"+":"-";if(!i){var L=(N=Math.abs(N))%60;D+=h(Math.floor(N/60))+":"+h(L)}r=r.replace(/(^|[^\\])K/g,"$1"+D);var R=(i?e.getUTCDay():e.getDay())+1;return r=(r=(r=(r=(r=r.replace(new RegExp(l[0],"g"),l[R])).replace(new RegExp(u[0],"g"),u[R])).replace(new RegExp(o[0],"g"),o[m])).replace(new RegExp(a[0],"g"),a[m])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,r,n){var i=this.w;i.config.xaxis.min!==void 0&&(e=i.config.xaxis.min),i.config.xaxis.max!==void 0&&(r=i.config.xaxis.max);var o=this.getDate(e),a=this.getDate(r),l=this.formatDate(o,"yyyy MM dd HH mm ss fff").split(" "),u=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(l[6],10),maxMillisecond:parseInt(u[6],10),minSecond:parseInt(l[5],10),maxSecond:parseInt(u[5],10),minMinute:parseInt(l[4],10),maxMinute:parseInt(u[4],10),minHour:parseInt(l[3],10),maxHour:parseInt(u[3],10),minDate:parseInt(l[2],10),maxDate:parseInt(u[2],10),minMonth:parseInt(l[1],10)-1,maxMonth:parseInt(u[1],10)-1,minYear:parseInt(l[0],10),maxYear:parseInt(u[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,r,n){return this.determineDaysOfMonths(e,r)-n}},{key:"determineDaysOfYear",value:function(e){var r=365;return this.isLeapYear(e)&&(r=366),r}},{key:"determineRemainingDaysOfYear",value:function(e,r,n){var i=this.daysCntOfYear[r]+n;return r>1&&this.isLeapYear()&&i++,i}},{key:"determineDaysOfMonths",value:function(e,r){var n=30;switch(e=ze.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(n=this.isLeapYear(r)?29:28);break;case this.months31.indexOf(e)>-1:default:n=31}return n}}]),t}(),Sy=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return er(t,[{key:"xLabelFormat",value:function(e,r,n,i){var o=this.w;if(o.config.xaxis.type==="datetime"&&o.config.xaxis.labels.formatter===void 0&&o.config.tooltip.x.formatter===void 0){var a=new Ya(this.ctx);return a.formatDate(a.getDate(r),o.config.tooltip.x.format)}return e(r,n,i)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(r){return r}):e}},{key:"defaultYFormatter",value:function(e,r,n){var i=this.w;if(ze.isNumber(e))if(i.globals.yValueDecimal!==0)e=e.toFixed(r.decimalsInFloat!==void 0?r.decimalsInFloat:i.globals.yValueDecimal);else{var o=e.toFixed(0);e=e==o?o:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,r=this.w;return r.globals.xaxisTooltipFormatter=function(n){return e.defaultGeneralFormatter(n)},r.globals.ttKeyFormatter=function(n){return e.defaultGeneralFormatter(n)},r.globals.ttZFormatter=function(n){return n},r.globals.legendFormatter=function(n){return e.defaultGeneralFormatter(n)},r.config.xaxis.labels.formatter!==void 0?r.globals.xLabelFormatter=r.config.xaxis.labels.formatter:r.globals.xLabelFormatter=function(n){if(ze.isNumber(n)){if(!r.config.xaxis.convertedCatToNumeric&&r.config.xaxis.type==="numeric"){if(ze.isNumber(r.config.xaxis.decimalsInFloat))return n.toFixed(r.config.xaxis.decimalsInFloat);var i=r.globals.maxX-r.globals.minX;return i>0&&i<100?n.toFixed(1):n.toFixed(0)}return r.globals.isBarHorizontal&&r.globals.maxY-r.globals.minYArr<4?n.toFixed(1):n.toFixed(0)}return n},typeof r.config.tooltip.x.formatter=="function"?r.globals.ttKeyFormatter=r.config.tooltip.x.formatter:r.globals.ttKeyFormatter=r.globals.xLabelFormatter,typeof r.config.xaxis.tooltip.formatter=="function"&&(r.globals.xaxisTooltipFormatter=r.config.xaxis.tooltip.formatter),(Array.isArray(r.config.tooltip.y)||r.config.tooltip.y.formatter!==void 0)&&(r.globals.ttVal=r.config.tooltip.y),r.config.tooltip.z.formatter!==void 0&&(r.globals.ttZFormatter=r.config.tooltip.z.formatter),r.config.legend.formatter!==void 0&&(r.globals.legendFormatter=r.config.legend.formatter),r.config.yaxis.forEach(function(n,i){n.labels.formatter!==void 0?r.globals.yLabelFormatters[i]=n.labels.formatter:r.globals.yLabelFormatters[i]=function(o){return r.globals.xyCharts?Array.isArray(o)?o.map(function(a){return e.defaultYFormatter(a,n,i)}):e.defaultYFormatter(o,n,i):o}}),r.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var r=e.globals.seriesNames.reduce(function(n,i){return n.length>i.length?n:i},0);e.globals.yAxisScale[0].niceMax=r,e.globals.yAxisScale[0].niceMin=r}}}]),t}(),lh=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w}return er(t,[{key:"getLabel",value:function(e,r,n,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",l=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],u=this.w,h=e[i]===void 0?"":e[i],f=h,m=u.globals.xLabelFormatter,x=u.config.xaxis.labels.formatter,w=!1,S=new Sy(this.ctx),C=h;l&&(f=S.xLabelFormat(m,h,C,{i,dateFormatter:new Ya(this.ctx).formatDate,w:u}),x!==void 0&&(f=x(h,e[i],{i,dateFormatter:new Ya(this.ctx).formatDate,w:u})));var A,E;r.length>0?(A=r[i].unit,E=null,r.forEach(function(D){D.unit==="month"?E="year":D.unit==="day"?E="month":D.unit==="hour"?E="day":D.unit==="minute"&&(E="hour")}),w=E===A,n=r[i].position,f=r[i].value):u.config.xaxis.type==="datetime"&&x===void 0&&(f=""),f===void 0&&(f=""),f=Array.isArray(f)?f:f.toString();var P=new bt(this.ctx),I={};I=u.globals.rotateXLabels&&l?P.getTextRects(f,parseInt(a,10),null,"rotate(".concat(u.config.xaxis.labels.rotate," 0 0)"),!1):P.getTextRects(f,parseInt(a,10));var N=!u.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(f)&&(String(f)==="NaN"||o.indexOf(f)>=0&&N)&&(f=""),{x:n,text:f,textRect:I,isBold:w}}},{key:"checkLabelBasedOnTickamount",value:function(e,r,n){var i=this.w,o=i.config.xaxis.tickAmount;return o==="dataPoints"&&(o=Math.round(i.globals.gridWidth/120)),o>n||e%Math.round(n/(o+1))==0||(r.text=""),r}},{key:"checkForOverflowingLabels",value:function(e,r,n,i,o){var a=this.w;if(e===0&&a.globals.skipFirstTimelinelabel&&(r.text=""),e===n-1&&a.globals.skipLastTimelinelabel&&(r.text=""),a.config.xaxis.labels.hideOverlappingLabels&&i.length>0){var l=o[o.length-1];r.x<l.textRect.width/(a.globals.rotateXLabels?Math.abs(a.config.xaxis.labels.rotate)/12:1.01)+l.x&&(r.text="")}return r}},{key:"checkForReversedLabels",value:function(e,r){var n=this.w;return n.config.yaxis[e]&&n.config.yaxis[e].reversed&&r.reverse(),r}},{key:"yAxisAllSeriesCollapsed",value:function(e){var r=this.w.globals;return!r.seriesYAxisMap[e].some(function(n){return r.collapsedSeriesIndices.indexOf(n)===-1})}},{key:"translateYAxisIndex",value:function(e){var r=this.w,n=r.globals,i=r.config.yaxis;return n.series.length>i.length||i.some(function(o){return Array.isArray(o.seriesName)})?e:n.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var r=this.w,n=r.config.yaxis[e];if(!n.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!n.showForNullSeries){var i=r.globals.seriesYAxisMap[e],o=new Qi(this.ctx);return i.every(function(a){return o.isSeriesNull(a)})}return!1}},{key:"getYAxisForeColor",value:function(e,r){var n=this.w;return Array.isArray(e)&&n.globals.yAxisScale[r]&&this.ctx.theme.pushExtraColors(e,n.globals.yAxisScale[r].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,r,n,i,o,a,l){var u=this.w,h=new bt(this.ctx),f=u.globals.translateY+u.config.yaxis[o].labels.offsetY;if(u.globals.isBarHorizontal?f=0:u.config.chart.type==="heatmap"&&(f+=a/2),i.show&&r>0){u.config.yaxis[o].opposite===!0&&(e+=i.width);for(var m=r;m>=0;m--){var x=h.drawLine(e+n.offsetX-i.width+i.offsetX,f+i.offsetY,e+n.offsetX+i.offsetX,f+i.offsetY,i.color);l.add(x),f+=a}}}}]),t}(),pAe=function(){function t(e){Qt(this,t),this.w=e.w,this.annoCtx=e,this.helpers=new __(this.annoCtx),this.axesUtils=new lh(this.annoCtx)}return er(t,[{key:"addYaxisAnnotation",value:function(e,r,n){var i,o=this.w,a=e.strokeDashArray,l=this.helpers.getY1Y2("y1",e),u=l.yP,h=l.clipped,f=!0,m=!1,x=e.label.text;if(e.y2===null||e.y2===void 0){if(!h){m=!0;var w=this.annoCtx.graphics.drawLine(0+e.offsetX,u+e.offsetY,this._getYAxisAnnotationWidth(e),u+e.offsetY,e.borderColor,a,e.borderWidth);r.appendChild(w.node),e.id&&w.node.classList.add(e.id)}}else{if(i=(l=this.helpers.getY1Y2("y2",e)).yP,f=l.clipped,i>u){var S=u;u=i,i=S}if(!h||!f){m=!0;var C=this.annoCtx.graphics.drawRect(0+e.offsetX,i+e.offsetY,this._getYAxisAnnotationWidth(e),u-i,0,e.fillColor,e.opacity,1,e.borderColor,a);C.node.classList.add("apexcharts-annotation-rect"),C.attr("clip-path","url(#gridRectMask".concat(o.globals.cuid,")")),r.appendChild(C.node),e.id&&C.node.classList.add(e.id)}}if(m){var A=e.label.position==="right"?o.globals.gridWidth:e.label.position==="center"?o.globals.gridWidth/2:0,E=this.annoCtx.graphics.drawText({x:A+e.label.offsetX,y:(i??u)+e.label.offsetY-3,text:x,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});E.attr({rel:n}),r.appendChild(E.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var r=this.w;return r.globals.gridWidth,(e.width.indexOf("%")>-1?r.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,r=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return r.config.annotations.yaxis.forEach(function(i,o){i.yAxisIndex=e.axesUtils.translateYAxisIndex(i.yAxisIndex),e.axesUtils.isYAxisHidden(i.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(i.yAxisIndex)||e.addYaxisAnnotation(i,n.node,o)}),n}}]),t}(),mAe=function(){function t(e){Qt(this,t),this.w=e.w,this.annoCtx=e,this.helpers=new __(this.annoCtx)}return er(t,[{key:"addPointAnnotation",value:function(e,r,n){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var i=this.helpers.getX1X2("x1",e),o=i.x,a=i.clipped,l=(i=this.helpers.getY1Y2("y1",e)).yP,u=i.clipped;if(ze.isNumber(o)&&!u&&!a){var h={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},f=this.annoCtx.graphics.drawMarker(o+e.marker.offsetX,l+e.marker.offsetY,h);r.appendChild(f.node);var m=e.label.text?e.label.text:"",x=this.annoCtx.graphics.drawText({x:o+e.label.offsetX,y:l+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:m,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(x.attr({rel:n}),r.appendChild(x.node),e.customSVG.SVG){var w=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});w.attr({transform:"translate(".concat(o+e.customSVG.offsetX,", ").concat(l+e.customSVG.offsetY,")")}),w.node.innerHTML=e.customSVG.SVG,r.appendChild(w.node)}if(e.image.path){var S=e.image.width?e.image.width:20,C=e.image.height?e.image.height:20;f=this.annoCtx.addImage({x:o+e.image.offsetX-S/2,y:l+e.image.offsetY-C/2,width:S,height:C,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&f.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&f.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&f.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,r=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return r.config.annotations.points.map(function(i,o){e.addPointAnnotation(i,n.node,o)}),n}}]),t}(),y8={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Gh=function(){function t(){Qt(this,t),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return er(t,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[y8],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(r,n){return r+n},0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(r,n){return r+n},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),t}(),gAe=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w,this.graphics=new bt(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new __(this),this.xAxisAnnotations=new fAe(this),this.yAxisAnnotations=new pAe(this),this.pointsAnnotations=new mAe(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return er(t,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var r=this.yAxisAnnotations.drawYAxisAnnotations(),n=this.xAxisAnnotations.drawXAxisAnnotations(),i=this.pointsAnnotations.drawPointAnnotations(),o=e.config.chart.animations.enabled,a=[r,n,i],l=[n.node,r.node,i.node],u=0;u<3;u++)e.globals.dom.elGraphical.add(a[u]),!o||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&l[u].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:l[u],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(r,n){e.addImage(r,n)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(r,n){e.addText(r,n)})}},{key:"addXaxisAnnotation",value:function(e,r,n){this.xAxisAnnotations.addXaxisAnnotation(e,r,n)}},{key:"addYaxisAnnotation",value:function(e,r,n){this.yAxisAnnotations.addYaxisAnnotation(e,r,n)}},{key:"addPointAnnotation",value:function(e,r,n){this.pointsAnnotations.addPointAnnotation(e,r,n)}},{key:"addText",value:function(e,r){var n=e.x,i=e.y,o=e.text,a=e.textAnchor,l=e.foreColor,u=e.fontSize,h=e.fontFamily,f=e.fontWeight,m=e.cssClass,x=e.backgroundColor,w=e.borderWidth,S=e.strokeDashArray,C=e.borderRadius,A=e.borderColor,E=e.appendTo,P=E===void 0?".apexcharts-svg":E,I=e.paddingLeft,N=I===void 0?4:I,D=e.paddingRight,L=D===void 0?4:D,R=e.paddingBottom,$=R===void 0?2:R,W=e.paddingTop,J=W===void 0?2:W,q=this.w,ee=this.graphics.drawText({x:n,y:i,text:o,textAnchor:a||"start",fontSize:u||"12px",fontWeight:f||"regular",fontFamily:h||q.config.chart.fontFamily,foreColor:l||q.config.chart.foreColor,cssClass:m}),se=q.globals.dom.baseEl.querySelector(P);se&&se.appendChild(ee.node);var he=ee.bbox();if(o){var Se=this.graphics.drawRect(he.x-N,he.y-J,he.width+N+L,he.height+$+J,C,x||"transparent",1,w,A,S);se.insertBefore(Se.node,ee.node)}}},{key:"addImage",value:function(e,r){var n=this.w,i=e.path,o=e.x,a=o===void 0?0:o,l=e.y,u=l===void 0?0:l,h=e.width,f=h===void 0?20:h,m=e.height,x=m===void 0?20:m,w=e.appendTo,S=w===void 0?".apexcharts-svg":w,C=n.globals.dom.Paper.image(i);C.size(f,x).move(a,u);var A=n.globals.dom.baseEl.querySelector(S);return A&&A.appendChild(C.node),C}},{key:"addXaxisAnnotationExternal",value:function(e,r,n){return this.addAnnotationExternal({params:e,pushToMemory:r,context:n,type:"xaxis",contextMethod:n.addXaxisAnnotation}),n}},{key:"addYaxisAnnotationExternal",value:function(e,r,n){return this.addAnnotationExternal({params:e,pushToMemory:r,context:n,type:"yaxis",contextMethod:n.addYaxisAnnotation}),n}},{key:"addPointAnnotationExternal",value:function(e,r,n){return this.invertAxis===void 0&&(this.invertAxis=n.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:r,context:n,type:"point",contextMethod:n.addPointAnnotation}),n}},{key:"addAnnotationExternal",value:function(e){var r=e.params,n=e.pushToMemory,i=e.context,o=e.type,a=e.contextMethod,l=i,u=l.w,h=u.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations")),f=h.childNodes.length+1,m=new Gh,x=Object.assign({},o==="xaxis"?m.xAxisAnnotation:o==="yaxis"?m.yAxisAnnotation:m.pointAnnotation),w=ze.extend(x,r);switch(o){case"xaxis":this.addXaxisAnnotation(w,h,f);break;case"yaxis":this.addYaxisAnnotation(w,h,f);break;case"point":this.addPointAnnotation(w,h,f)}var S=u.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations .apexcharts-").concat(o,"-annotation-label[rel='").concat(f,"']")),C=this.helpers.addBackgroundToAnno(S,w);return C&&h.insertBefore(C.node,S),n&&u.globals.memory.methodsToExec.push({context:l,id:w.id?w.id:ze.randomId(),method:a,label:"addAnnotation",params:r}),i}},{key:"clearAnnotations",value:function(e){for(var r=e.w,n=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),i=r.globals.memory.methodsToExec.length-1;i>=0;i--)r.globals.memory.methodsToExec[i].label!=="addText"&&r.globals.memory.methodsToExec[i].label!=="addAnnotation"||r.globals.memory.methodsToExec.splice(i,1);n=ze.listToArray(n),Array.prototype.forEach.call(n,function(o){for(;o.firstChild;)o.removeChild(o.firstChild)})}},{key:"removeAnnotation",value:function(e,r){var n=e.w,i=n.globals.dom.baseEl.querySelectorAll(".".concat(r));i&&(n.globals.memory.methodsToExec.map(function(o,a){o.id===r&&n.globals.memory.methodsToExec.splice(a,1)}),Array.prototype.forEach.call(i,function(o){o.parentElement.removeChild(o)}))}}]),t}(),z2=function(t){var e,r=t.isTimeline,n=t.ctx,i=t.seriesIndex,o=t.dataPointIndex,a=t.y1,l=t.y2,u=t.w,h=u.globals.seriesRangeStart[i][o],f=u.globals.seriesRangeEnd[i][o],m=u.globals.labels[o],x=u.config.series[i].name?u.config.series[i].name:"",w=u.globals.ttKeyFormatter,S=u.config.tooltip.y.title.formatter,C={w:u,seriesIndex:i,dataPointIndex:o,start:h,end:f};typeof S=="function"&&(x=S(x,C)),(e=u.config.series[i].data[o])!==null&&e!==void 0&&e.x&&(m=u.config.series[i].data[o].x),r||u.config.xaxis.type==="datetime"&&(m=new Sy(n).xLabelFormat(u.globals.ttKeyFormatter,m,m,{i:void 0,dateFormatter:new Ya(n).formatDate,w:u})),typeof w=="function"&&(m=w(m,C)),Number.isFinite(a)&&Number.isFinite(l)&&(h=a,f=l);var A="",E="",P=u.globals.colors[i];if(u.config.tooltip.x.formatter===void 0)if(u.config.xaxis.type==="datetime"){var I=new Ya(n);A=I.formatDate(I.getDate(h),u.config.tooltip.x.format),E=I.formatDate(I.getDate(f),u.config.tooltip.x.format)}else A=h,E=f;else A=u.config.tooltip.x.formatter(h),E=u.config.tooltip.x.formatter(f);return{start:h,end:f,startVal:A,endVal:E,ylabel:m,color:P,seriesName:x}},F2=function(t){var e=t.color,r=t.seriesName,n=t.ylabel,i=t.start,o=t.end,a=t.seriesIndex,l=t.dataPointIndex,u=t.ctx.tooltip.tooltipLabels.getFormatters(a);i=u.yLbFormatter(i),o=u.yLbFormatter(o);var h=u.yLbFormatter(t.w.globals.series[a][l]),f=`<span class="value start-value">
  `.concat(i,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(o,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(r||"")+'</span></div><div> <span class="category">'+n+": </span> "+(t.w.globals.comboCharts?t.w.config.series[a].type==="rangeArea"||t.w.config.series[a].type==="rangeBar"?f:"<span>".concat(h,"</span>"):f)+" </div></div>"},Yv=function(){function t(e){Qt(this,t),this.opts=e}return er(t,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),ze.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,r){var n=r.w.config.series[r.seriesIndex].name;return e!==null?n+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),Ft(Ft({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(r){var n=r.seriesIndex,i=r.dataPointIndex,o=r.w;return e._getBoxTooltip(o,n,i,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(r){var n=r.seriesIndex,i=r.dataPointIndex,o=r.w;return e._getBoxTooltip(o,n,i,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,r){r.ctx;var n=r.seriesIndex,i=r.dataPointIndex,o=r.w,a=function(){var l=o.globals.seriesRangeStart[n][i];return o.globals.seriesRangeEnd[n][i]-l};return o.globals.comboCharts?o.config.series[n].type==="rangeBar"||o.config.series[n].type==="rangeArea"?a():e:a()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(r){var n=z2(Ft(Ft({},r),{},{isTimeline:!0})),i=n.color,o=n.seriesName,a=n.ylabel,l=n.startVal,u=n.endVal;return F2(Ft(Ft({},r),{},{color:i,seriesName:o,ylabel:a,start:l,end:u}))}(e):function(r){var n=z2(r),i=n.color,o=n.seriesName,a=n.ylabel,l=n.start,u=n.end;return F2(Ft(Ft({},r),{},{color:i,seriesName:o,ylabel:a,start:l,end:u}))}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var r,n;return(r=e.plotOptions.bar)!==null&&r!==void 0&&r.barHeight||(e.plotOptions.bar.barHeight=2),(n=e.plotOptions.bar)!==null&&n!==void 0&&n.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return function(r){var n=z2(r),i=n.color,o=n.seriesName,a=n.ylabel,l=n.start,u=n.end;return F2(Ft(Ft({},r),{},{color:i,seriesName:o,ylabel:a,start:l,end:u}))}(e)}}}}},{key:"brush",value:function(e){return ze.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var r=e.dataLabels.formatter;return e.yaxis.forEach(function(n,i){e.yaxis[i].min=0,e.yaxis[i].max=100}),e.chart.type==="bar"&&(e.dataLabels.formatter=r||function(n){return typeof n=="number"&&n?n.toFixed(0)+"%":n}),e}},{key:"stackedBars",value:function(){var e=this.bar();return Ft(Ft({},e),{},{plotOptions:Ft(Ft({},e.plotOptions),{},{bar:Ft(Ft({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,r,n){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(a){return ze.isNumber(a)?Math.floor(a):a};var i=e.xaxis.labels.formatter,o=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return n&&n.length&&(o=n.map(function(a){return Array.isArray(a)?a:String(a)})),o&&o.length&&(e.xaxis.labels.formatter=function(a){return ze.isNumber(a)?i(o[Math.floor(a)-1]):i(a)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,r,n,i,o){var a=e.globals.seriesCandleO[r][n],l=e.globals.seriesCandleH[r][n],u=e.globals.seriesCandleM[r][n],h=e.globals.seriesCandleL[r][n],f=e.globals.seriesCandleC[r][n];return e.config.series[r].type&&e.config.series[r].type!==o?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[r].name?e.config.series[r].name:"series-"+(r+1),": <strong>").concat(e.globals.series[r][n],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(i[0],': <span class="value">')+a+"</span></div>"+"<div>".concat(i[1],': <span class="value">')+l+"</span></div>"+(u?"<div>".concat(i[2],': <span class="value">')+u+"</span></div>":"")+"<div>".concat(i[3],': <span class="value">')+h+"</span></div>"+"<div>".concat(i[4],': <span class="value">')+f+"</span></div></div>"}}]),t}(),Xv=function(){function t(e){Qt(this,t),this.opts=e}return er(t,[{key:"init",value:function(e){var r=e.responsiveOverride,n=this.opts,i=new Gh,o=new Yv(n);this.chartType=n.chart.type,n=this.extendYAxis(n),n=this.extendAnnotations(n);var a=i.init(),l={};if(n&&Gp(n)==="object"){var u,h,f,m,x,w,S,C,A,E,P={};P=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(n.chart.type)!==-1?o[n.chart.type]():o.line(),(u=n.plotOptions)!==null&&u!==void 0&&(h=u.bar)!==null&&h!==void 0&&h.isFunnel&&(P=o.funnel()),n.chart.stacked&&n.chart.type==="bar"&&(P=o.stackedBars()),(f=n.chart.brush)!==null&&f!==void 0&&f.enabled&&(P=o.brush(P)),(m=n.plotOptions)!==null&&m!==void 0&&(x=m.line)!==null&&x!==void 0&&x.isSlopeChart&&(P=o.slope()),n.chart.stacked&&n.chart.stackType==="100%"&&(n=o.stacked100(n)),(w=n.plotOptions)!==null&&w!==void 0&&(S=w.bar)!==null&&S!==void 0&&S.isDumbbell&&(n=o.dumbbell(n)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(n),n.xaxis=n.xaxis||window.Apex.xaxis||{},r||(n.xaxis.convertedCatToNumeric=!1),((C=(n=this.checkForCatToNumericXAxis(this.chartType,P,n)).chart.sparkline)!==null&&C!==void 0&&C.enabled||(A=window.Apex.chart)!==null&&A!==void 0&&(E=A.sparkline)!==null&&E!==void 0&&E.enabled)&&(P=o.sparkline(P)),l=ze.extend(a,P)}var I=ze.extend(l,window.Apex);return a=ze.extend(I,n),a=this.handleUserInputErrors(a)}},{key:"checkForCatToNumericXAxis",value:function(e,r,n){var i,o,a=new Yv(n),l=(e==="bar"||e==="boxPlot")&&((i=n.plotOptions)===null||i===void 0||(o=i.bar)===null||o===void 0?void 0:o.horizontal),u=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",h=n.xaxis.type!=="datetime"&&n.xaxis.type!=="numeric",f=n.xaxis.tickPlacement?n.xaxis.tickPlacement:r.xaxis&&r.xaxis.tickPlacement;return l||u||!h||f==="between"||(n=a.convertCatToNumeric(n)),n}},{key:"extendYAxis",value:function(e,r){var n=new Gh;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=ze.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[ze.extend(n.yAxis,e.yaxis)]:e.yaxis=ze.extendArray(e.yaxis,n.yAxis);var i=!1;e.yaxis.forEach(function(a){a.logarithmic&&(i=!0)});var o=e.series;return r&&!o&&(o=r.config.series),i&&o.length!==e.yaxis.length&&o.length&&(e.yaxis=o.map(function(a,l){if(a.name||(o[l].name="series-".concat(l+1)),e.yaxis[l])return e.yaxis[l].seriesName=o[l].name,e.yaxis[l];var u=ze.extend(n.yAxis,e.yaxis[0]);return u.show=!1,u})),i&&o.length>1&&o.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var r=new Gh;return e.annotations.yaxis=ze.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],r.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var r=new Gh;return e.annotations.xaxis=ze.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],r.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var r=new Gh;return e.annotations.points=ze.extendArray(e.annotations.points!==void 0?e.annotations.points:[],r.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var r=e;if(r.tooltip.shared&&r.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(r.chart.type==="bar"&&r.plotOptions.bar.horizontal){if(r.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");r.yaxis[0].reversed&&(r.yaxis[0].opposite=!0),r.xaxis.tooltip.enabled=!1,r.yaxis[0].tooltip.enabled=!1,r.chart.zoom.enabled=!1}return r.chart.type!=="bar"&&r.chart.type!=="rangeBar"||r.tooltip.shared&&r.xaxis.crosshairs.width==="barWidth"&&r.series.length>1&&(r.xaxis.crosshairs.width="tickWidth"),r.chart.type!=="candlestick"&&r.chart.type!=="boxPlot"||r.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(r.chart.type," chart is not supported.")),r.yaxis[0].reversed=!1),r}}]),t}(),x8=function(){function t(){Qt(this,t)}return er(t,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var r=this.globalVars(e);return this.initGlobalVars(r),r.initialConfig=ze.extend({},e),r.initialSeries=ze.clone(e.series),r.lastXAxis=ze.clone(r.initialConfig.xaxis),r.lastYAxis=ze.clone(r.initialConfig.yaxis),r}}]),t}(),vAe=function(){function t(e){Qt(this,t),this.opts=e}return er(t,[{key:"init",value:function(){var e=new Xv(this.opts).init({responsiveOverride:!1});return{config:e,globals:new x8().init(e)}}}]),t}(),fl=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return er(t,[{key:"clippedImgArea",value:function(e){var r=this.w,n=r.config,i=parseInt(r.globals.gridWidth,10),o=parseInt(r.globals.gridHeight,10),a=i>o?i:o,l=e.image,u=0,h=0;e.width===void 0&&e.height===void 0?n.fill.image.width!==void 0&&n.fill.image.height!==void 0?(u=n.fill.image.width+1,h=n.fill.image.height):(u=a+1,h=a):(u=e.width,h=e.height);var f=document.createElementNS(r.globals.SVGNS,"pattern");bt.setAttrs(f,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:u+"px",height:h+"px"});var m=document.createElementNS(r.globals.SVGNS,"image");f.appendChild(m),m.setAttributeNS(window.SVG.xlink,"href",l),bt.setAttrs(m,{x:0,y:0,preserveAspectRatio:"none",width:u+"px",height:h+"px"}),m.style.opacity=e.opacity,r.globals.dom.elDefs.node.appendChild(f)}},{key:"getSeriesIndex",value:function(e){var r=this.w,n=r.config.chart.type;return(n==="bar"||n==="rangeBar")&&r.config.plotOptions.bar.distributed||n==="heatmap"||n==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%r.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,r){var n,i=this.w,o=null,a=null,l=Bg(e);try{for(l.s();!(n=l.n()).done;){var u=n.value;u>=r.threshold?(o===null||u>o)&&(o=u):(a===null||u<a)&&(a=u)}}catch(m){l.e(m)}finally{l.f()}o===null&&(o=r.threshold),a===null&&(a=r.threshold);var h=o-r.threshold+(r.threshold-a);h===0&&(h=1);var f=100-(r.threshold-a)/h*100;return[{offset:f=Math.max(0,Math.min(f,100)),color:r.colorAboveThreshold,opacity:i.config.fill.opacity},{offset:0,color:r.colorBelowThreshold,opacity:i.config.fill.opacity}]}},{key:"fillPath",value:function(e){var r,n,i,o=this.w;this.opts=e;var a,l,u,h=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var f=h.plotOptions.line.colors.colorAboveThreshold&&h.plotOptions.line.colors.colorBelowThreshold,m=this.getFillColors()[this.seriesIndex];o.globals.seriesColors[this.seriesIndex]!==void 0&&(m=o.globals.seriesColors[this.seriesIndex]),typeof m=="function"&&(m=m({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:o}));var x,w,S,C=e.fillType?e.fillType:this.getFillType(this.seriesIndex),A=Array.isArray(h.fill.opacity)?h.fill.opacity[this.seriesIndex]:h.fill.opacity,E=C==="gradient"||f;e.color&&(m=e.color),(r=o.config.series[this.seriesIndex])!==null&&r!==void 0&&(n=r.data)!==null&&n!==void 0&&(i=n[e.dataPointIndex])!==null&&i!==void 0&&i.fillColor&&(m=(x=o.config.series[this.seriesIndex])===null||x===void 0||(w=x.data)===null||w===void 0||(S=w[e.dataPointIndex])===null||S===void 0?void 0:S.fillColor),m||(m="#fff",console.warn("undefined color - ApexCharts"));var P=m;if(m.indexOf("rgb")===-1?m.indexOf("#")===-1?P=m:m.length<9&&(P=ze.hexToRgba(m,A)):m.indexOf("rgba")>-1?A=ze.getOpacityFromRGBA(m):P=ze.hexToRgba(ze.rgb2hex(m),A),e.opacity&&(A=e.opacity),C==="pattern"&&(l=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:l,fillColor:m,fillOpacity:A,defaultColor:P})),E){var I=Oa(h.fill.gradient.colorStops)||[],N=h.fill.gradient.type;f&&(I[this.seriesIndex]=this.computeColorStops(o.globals.series[this.seriesIndex],h.plotOptions.line.colors),N="vertical"),u=this.handleGradientFill({type:N,fillConfig:e.fillConfig,fillColor:m,fillOpacity:A,colorStops:I,i:this.seriesIndex})}if(C==="image"){var D=h.fill.image.src,L=e.patternID?e.patternID:"",R="pattern".concat(o.globals.cuid).concat(e.seriesNumber+1).concat(L);this.patternIDs.indexOf(R)===-1&&(this.clippedImgArea({opacity:A,image:Array.isArray(D)?e.seriesNumber<D.length?D[e.seriesNumber]:D[0]:D,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:R}),this.patternIDs.push(R)),a="url(#".concat(R,")")}else a=E?u:C==="pattern"?l:P;return e.solid&&(a=P),a}},{key:"getFillType",value:function(e){var r=this.w;return Array.isArray(r.config.fill.type)?r.config.fill.type[e]:r.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,r=e.config,n=this.opts,i=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors):r.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors),n.fillColors!==void 0&&(i=[],Array.isArray(n.fillColors)?i=n.fillColors.slice():i.push(n.fillColors)),i}},{key:"handlePatternFill",value:function(e){var r=e.fillConfig,n=e.patternFill,i=e.fillColor,o=e.fillOpacity,a=e.defaultColor,l=this.w.config.fill;r&&(l=r);var u=this.opts,h=new bt(this.ctx),f=Array.isArray(l.pattern.strokeWidth)?l.pattern.strokeWidth[this.seriesIndex]:l.pattern.strokeWidth,m=i;return Array.isArray(l.pattern.style)?n=l.pattern.style[u.seriesNumber]!==void 0?h.drawPattern(l.pattern.style[u.seriesNumber],l.pattern.width,l.pattern.height,m,f,o):a:n=h.drawPattern(l.pattern.style,l.pattern.width,l.pattern.height,m,f,o),n}},{key:"handleGradientFill",value:function(e){var r=e.type,n=e.fillColor,i=e.fillOpacity,o=e.fillConfig,a=e.colorStops,l=e.i,u=this.w.config.fill;o&&(u=Ft(Ft({},u),o));var h=this.opts,f=new bt(this.ctx),m=new ze;r=r||u.gradient.type;var x,w=n,S=u.gradient.opacityFrom===void 0?i:Array.isArray(u.gradient.opacityFrom)?u.gradient.opacityFrom[l]:u.gradient.opacityFrom;w.indexOf("rgba")>-1&&(S=ze.getOpacityFromRGBA(w));var C=u.gradient.opacityTo===void 0?i:Array.isArray(u.gradient.opacityTo)?u.gradient.opacityTo[l]:u.gradient.opacityTo;if(u.gradient.gradientToColors===void 0||u.gradient.gradientToColors.length===0)x=u.gradient.shade==="dark"?m.shadeColor(-1*parseFloat(u.gradient.shadeIntensity),n.indexOf("rgb")>-1?ze.rgb2hex(n):n):m.shadeColor(parseFloat(u.gradient.shadeIntensity),n.indexOf("rgb")>-1?ze.rgb2hex(n):n);else if(u.gradient.gradientToColors[h.seriesNumber]){var A=u.gradient.gradientToColors[h.seriesNumber];x=A,A.indexOf("rgba")>-1&&(C=ze.getOpacityFromRGBA(A))}else x=n;if(u.gradient.gradientFrom&&(w=u.gradient.gradientFrom),u.gradient.gradientTo&&(x=u.gradient.gradientTo),u.gradient.inverseColors){var E=w;w=x,x=E}return w.indexOf("rgb")>-1&&(w=ze.rgb2hex(w)),x.indexOf("rgb")>-1&&(x=ze.rgb2hex(x)),f.drawGradient(r,w,x,S,C,h.size,u.gradient.stops,a,l)}}]),t}(),km=function(){function t(e,r){Qt(this,t),this.ctx=e,this.w=e.w}return er(t,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var r=0;r<=e.globals.series.length;r++)e.globals.markers.size[r]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(n){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e,r,n,i){var o=arguments.length>4&&arguments[4]!==void 0&&arguments[4],a=this.w,l=r,u=e,h=null,f=new bt(this.ctx),m=a.config.markers.discrete&&a.config.markers.discrete.length;if(Array.isArray(u.x))for(var x=0;x<u.x.length;x++){var w=void 0,S=n,C=!ze.isNumber(u.y[x]);n===1&&x===0&&(S=0),n===1&&x===1&&(S=1);var A="apexcharts-marker";if(a.config.chart.type!=="line"&&a.config.chart.type!=="area"||a.globals.comboCharts||a.config.tooltip.intersect||(A+=" no-pointer-events"),(Array.isArray(a.config.markers.size)?a.globals.markers.size[r]>0:a.config.markers.size>0)||o||m){C||(A+=" w".concat(ze.randomId()));var E=this.getMarkerConfig({cssClass:A,seriesIndex:r,dataPointIndex:S});a.config.series[l].data[S]&&(a.config.series[l].data[S].fillColor&&(E.pointFillColor=a.config.series[l].data[S].fillColor),a.config.series[l].data[S].strokeColor&&(E.pointStrokeColor=a.config.series[l].data[S].strokeColor)),i!==void 0&&(E.pSize=i),(u.x[x]<-a.globals.markers.largestSize||u.x[x]>a.globals.gridWidth+a.globals.markers.largestSize||u.y[x]<-a.globals.markers.largestSize||u.y[x]>a.globals.gridHeight+a.globals.markers.largestSize)&&(E.pSize=0),!C&&((a.globals.markers.size[r]>0||o||m)&&!h&&(h=f.group({class:o||m?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(a.globals.cuid,")")),(w=f.drawMarker(u.x[x],u.y[x],E)).attr("rel",S),w.attr("j",S),w.attr("index",r),w.node.setAttribute("default-marker-size",E.pSize),new Xa(this.ctx).setSelectionFilter(w,r,S),this.addEvents(w),h&&h.add(w))}else a.globals.pointsArray[r]===void 0&&(a.globals.pointsArray[r]=[]),a.globals.pointsArray[r].push([u.x[x],u.y[x]])}return h}},{key:"getMarkerConfig",value:function(e){var r=e.cssClass,n=e.seriesIndex,i=e.dataPointIndex,o=i===void 0?null:i,a=e.radius,l=a===void 0?null:a,u=e.size,h=u===void 0?null:u,f=e.strokeWidth,m=f===void 0?null:f,x=this.w,w=this.getMarkerStyle(n),S=h===null?x.globals.markers.size[n]:h,C=x.config.markers;return o!==null&&C.discrete.length&&C.discrete.map(function(A){A.seriesIndex===n&&A.dataPointIndex===o&&(w.pointStrokeColor=A.strokeColor,w.pointFillColor=A.fillColor,S=A.size,w.pointShape=A.shape)}),{pSize:l===null?S:l,pRadius:l!==null?l:C.radius,pointStrokeWidth:m!==null?m:Array.isArray(C.strokeWidth)?C.strokeWidth[n]:C.strokeWidth,pointStrokeColor:w.pointStrokeColor,pointFillColor:w.pointFillColor,shape:w.pointShape||(Array.isArray(C.shape)?C.shape[n]:C.shape),class:r,pointStrokeOpacity:Array.isArray(C.strokeOpacity)?C.strokeOpacity[n]:C.strokeOpacity,pointStrokeDashArray:Array.isArray(C.strokeDashArray)?C.strokeDashArray[n]:C.strokeDashArray,pointFillOpacity:Array.isArray(C.fillOpacity)?C.fillOpacity[n]:C.fillOpacity,seriesIndex:n}}},{key:"addEvents",value:function(e){var r=this.w,n=new bt(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",r.config.markers.onClick),e.node.addEventListener("dblclick",r.config.markers.onDblClick),e.node.addEventListener("touchstart",n.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var r=this.w,n=r.globals.markers.colors,i=r.config.markers.strokeColor||r.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(i)?i[e]:i,pointFillColor:Array.isArray(n)?n[e]:n}}}]),t}(),b8=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return er(t,[{key:"draw",value:function(e,r,n){var i=this.w,o=new bt(this.ctx),a=n.realIndex,l=n.pointsPos,u=n.zRatio,h=n.elParent,f=o.group({class:"apexcharts-series-markers apexcharts-series-".concat(i.config.chart.type)});if(f.attr("clip-path","url(#gridRectMarkerMask".concat(i.globals.cuid,")")),Array.isArray(l.x))for(var m=0;m<l.x.length;m++){var x=r+1,w=!0;r===0&&m===0&&(x=0),r===0&&m===1&&(x=1);var S=i.globals.markers.size[a];if(u!==1/0){var C=i.config.plotOptions.bubble;S=i.globals.seriesZ[a][x],C.zScaling&&(S/=u),C.minBubbleRadius&&S<C.minBubbleRadius&&(S=C.minBubbleRadius),C.maxBubbleRadius&&S>C.maxBubbleRadius&&(S=C.maxBubbleRadius)}var A=l.x[m],E=l.y[m];if(S=S||0,E!==null&&i.globals.series[a][x]!==void 0||(w=!1),w){var P=this.drawPoint(A,E,S,a,x,r);f.add(P)}h.add(f)}}},{key:"drawPoint",value:function(e,r,n,i,o,a){var l=this.w,u=i,h=new _m(this.ctx),f=new Xa(this.ctx),m=new fl(this.ctx),x=new km(this.ctx),w=new bt(this.ctx),S=x.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:u,dataPointIndex:o,radius:l.config.chart.type==="bubble"||l.globals.comboCharts&&l.config.series[i]&&l.config.series[i].type==="bubble"?n:null}),C=m.fillPath({seriesNumber:i,dataPointIndex:o,color:S.pointFillColor,patternUnits:"objectBoundingBox",value:l.globals.series[i][a]}),A=w.drawMarker(e,r,S);if(l.config.series[u].data[o]&&l.config.series[u].data[o].fillColor&&(C=l.config.series[u].data[o].fillColor),A.attr({fill:C}),l.config.chart.dropShadow.enabled){var E=l.config.chart.dropShadow;f.dropShadow(A,E,i)}if(!this.initialAnim||l.globals.dataChanged||l.globals.resized)l.globals.animationEnded=!0;else{var P=l.config.chart.animations.speed;h.animateMarker(A,P,l.globals.easing,function(){window.setTimeout(function(){h.animationCompleted(A)},100)})}return A.attr({rel:o,j:o,index:i,"default-marker-size":S.pSize}),f.setSelectionFilter(A,i,o),x.addEvents(A),A.node.classList.add("apexcharts-marker"),A}},{key:"centerTextInBubble",value:function(e){var r=this.w;return{y:e+=parseInt(r.config.dataLabels.style.fontSize,10)/4}}}]),t}(),qp=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w}return er(t,[{key:"dataLabelsCorrection",value:function(e,r,n,i,o,a,l){var u=this.w,h=!1,f=new bt(this.ctx).getTextRects(n,l),m=f.width,x=f.height;r<0&&(r=0),r>u.globals.gridHeight+x&&(r=u.globals.gridHeight+x/2),u.globals.dataLabelsRects[i]===void 0&&(u.globals.dataLabelsRects[i]=[]),u.globals.dataLabelsRects[i].push({x:e,y:r,width:m,height:x});var w=u.globals.dataLabelsRects[i].length-2,S=u.globals.lastDrawnDataLabelsIndexes[i]!==void 0?u.globals.lastDrawnDataLabelsIndexes[i][u.globals.lastDrawnDataLabelsIndexes[i].length-1]:0;if(u.globals.dataLabelsRects[i][w]!==void 0){var C=u.globals.dataLabelsRects[i][S];(e>C.x+C.width||r>C.y+C.height||r+x<C.y||e+m<C.x)&&(h=!0)}return(o===0||a)&&(h=!0),{x:e,y:r,textRects:f,drawnextLabel:h}}},{key:"drawDataLabel",value:function(e){var r=this,n=e.type,i=e.pos,o=e.i,a=e.j,l=e.isRangeStart,u=e.strokeWidth,h=u===void 0?2:u,f=this.w,m=new bt(this.ctx),x=f.config.dataLabels,w=0,S=0,C=a,A=null;if(f.globals.collapsedSeriesIndices.indexOf(o)!==-1||!x.enabled||!Array.isArray(i.x))return A;A=m.group({class:"apexcharts-data-labels"});for(var E=0;E<i.x.length;E++)if(w=i.x[E]+x.offsetX,S=i.y[E]+x.offsetY+h,!isNaN(w)){a===1&&E===0&&(C=0),a===1&&E===1&&(C=1);var P=f.globals.series[o][C];n==="rangeArea"&&(P=l?f.globals.seriesRangeStart[o][C]:f.globals.seriesRangeEnd[o][C]);var I="",N=function(L){return f.config.dataLabels.formatter(L,{ctx:r.ctx,seriesIndex:o,dataPointIndex:C,w:f})};f.config.chart.type==="bubble"?(I=N(P=f.globals.seriesZ[o][C]),S=i.y[E],S=new b8(this.ctx).centerTextInBubble(S,o,C).y):P!==void 0&&(I=N(P));var D=f.config.dataLabels.textAnchor;f.globals.isSlopeChart&&(D=C===0?"end":C===f.config.series[o].data.length-1?"start":"middle"),this.plotDataLabelsText({x:w,y:S,text:I,i:o,j:C,parent:A,offsetCorrection:!0,dataLabelsConfig:f.config.dataLabels,textAnchor:D})}return A}},{key:"plotDataLabelsText",value:function(e){var r=this.w,n=new bt(this.ctx),i=e.x,o=e.y,a=e.i,l=e.j,u=e.text,h=e.textAnchor,f=e.fontSize,m=e.parent,x=e.dataLabelsConfig,w=e.color,S=e.alwaysDrawDataLabel,C=e.offsetCorrection,A=e.className,E=null;if(Array.isArray(r.config.dataLabels.enabledOnSeries)&&r.config.dataLabels.enabledOnSeries.indexOf(a)<0)return E;var P={x:i,y:o,drawnextLabel:!0,textRects:null};C&&(P=this.dataLabelsCorrection(i,o,u,a,l,S,parseInt(x.style.fontSize,10))),r.globals.zoomed||(i=P.x,o=P.y),P.textRects&&(i<-20-P.textRects.width||i>r.globals.gridWidth+P.textRects.width+30)&&(u="");var I=r.globals.dataLabels.style.colors[a];((r.config.chart.type==="bar"||r.config.chart.type==="rangeBar")&&r.config.plotOptions.bar.distributed||r.config.dataLabels.distributed)&&(I=r.globals.dataLabels.style.colors[l]),typeof I=="function"&&(I=I({series:r.globals.series,seriesIndex:a,dataPointIndex:l,w:r})),w&&(I=w);var N=x.offsetX,D=x.offsetY;if(r.config.chart.type!=="bar"&&r.config.chart.type!=="rangeBar"||(N=0,D=0),r.globals.isSlopeChart&&(l!==0&&(N=-2*x.offsetX+5),l!==0&&l!==r.config.series[a].data.length-1&&(N=0)),P.drawnextLabel){if((E=n.drawText({width:100,height:parseInt(x.style.fontSize,10),x:i+N,y:o+D,foreColor:I,textAnchor:h||x.textAnchor,text:u,fontSize:f||x.style.fontSize,fontFamily:x.style.fontFamily,fontWeight:x.style.fontWeight||"normal"})).attr({class:A||"apexcharts-datalabel",cx:i,cy:o}),x.dropShadow.enabled){var L=x.dropShadow;new Xa(this.ctx).dropShadow(E,L)}m.add(E),r.globals.lastDrawnDataLabelsIndexes[a]===void 0&&(r.globals.lastDrawnDataLabelsIndexes[a]=[]),r.globals.lastDrawnDataLabelsIndexes[a].push(l)}return E}},{key:"addBackgroundToDataLabel",value:function(e,r){var n=this.w,i=n.config.dataLabels.background,o=i.padding,a=i.padding/2,l=r.width,u=r.height,h=new bt(this.ctx).drawRect(r.x-o,r.y-a/2,l+2*o,u+a,i.borderRadius,n.config.chart.background!=="transparent"&&n.config.chart.background?n.config.chart.background:"#fff",i.opacity,i.borderWidth,i.borderColor);return i.dropShadow.enabled&&new Xa(this.ctx).dropShadow(h,i.dropShadow),h}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),n=0;n<r.length;n++){var i=r[n],o=i.getBBox(),a=null;if(o.width&&o.height&&(a=this.addBackgroundToDataLabel(i,o)),a){i.parentNode.insertBefore(a.node,i);var l=i.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?a.animate().attr({fill:l}):a.attr({fill:l}),i.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),n=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),i=0;i<r.length;i++)n&&n.insertBefore(r[i],n.nextSibling)}}]),t}(),zs=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return er(t,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(ze.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var r=this.getSeriesByName(e),n=parseInt(r.getAttribute("data:realIndex"),10);return{isHidden:r.classList.contains("apexcharts-series-collapsed"),realIndex:n}}},{key:"addCollapsedClassToSeries",value:function(e,r){var n=this.w;function i(o){for(var a=0;a<o.length;a++)o[a].index===r&&e.node.classList.add("apexcharts-series-collapsed")}i(n.globals.collapsedSeries),i(n.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var r=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(r.realIndex,r.isHidden),r.isHidden}},{key:"showSeries",value:function(e){var r=this.isSeriesHidden(e);r.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(r.realIndex,!0)}},{key:"hideSeries",value:function(e){var r=this.isSeriesHidden(e);r.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(r.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=this.w,o=ze.clone(i.globals.initialSeries);i.globals.previousPaths=[],n?(i.globals.collapsedSeries=[],i.globals.ancillaryCollapsedSeries=[],i.globals.collapsedSeriesIndices=[],i.globals.ancillaryCollapsedSeriesIndices=[]):o=this.emptyCollapsedSeries(o),i.config.series=o,e&&(r&&(i.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(o,i.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var r=this.w,n=0;n<e.length;n++)r.globals.collapsedSeriesIndices.indexOf(n)>-1&&(e[n].data=[]);return e}},{key:"highlightSeries",value:function(e){var r=this.w,n=this.getSeriesByName(e),i=parseInt(n==null?void 0:n.getAttribute("data:realIndex"),10),o=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),a=null,l=null,u=null;if(r.globals.axisCharts||r.config.chart.type==="radialBar")if(r.globals.axisCharts){a=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(i,"']")),l=r.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(i,"']"));var h=r.globals.seriesYAxisReverseMap[i];u=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(h,"']"))}else a=r.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(i+1,"']"));else a=r.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(i+1,"'] path"));for(var f=0;f<o.length;f++)o[f].classList.add(this.legendInactiveClass);if(a)r.globals.axisCharts||a.parentNode.classList.remove(this.legendInactiveClass),a.classList.remove(this.legendInactiveClass),l!==null&&l.classList.remove(this.legendInactiveClass),u!==null&&u.classList.remove(this.legendInactiveClass);else for(var m=0;m<o.length;m++)o[m].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,r){var n=this.w;r||(r=e.target);var i=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var o=parseInt(r.getAttribute("rel"),10)-1;this.highlightSeries(n.globals.seriesNames[o])}else if(e.type==="mouseout")for(var a=0;a<i.length;a++)i[a].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,r){var n=this,i=this.w,o=i.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),a=function(h){for(var f=0;f<o.length;f++)o[f].classList[h](n.legendInactiveClass)};if(e.type==="mousemove"){var l=parseInt(r.getAttribute("rel"),10)-1;a("add");var u=i.config.plotOptions.heatmap.colorScale.ranges;(function(h,f){for(var m=0;m<o.length;m++){var x=Number(o[m].getAttribute("val"));x>=h.from&&(x<h.to||h.to===f&&x===f)&&o[m].classList.remove(n.legendInactiveClass)}})(u[l],u.reduce(function(h,f){return Math.max(h,f.to)},0))}else e.type==="mouseout"&&a("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=this.w,i=0;if(n.config.series.length>1){for(var o=n.config.series.map(function(l,u){return l.data&&l.data.length>0&&n.globals.collapsedSeriesIndices.indexOf(u)===-1&&(!n.globals.comboCharts||r.length===0||r.length&&r.indexOf(n.config.series[u].type)>-1)?u:-1}),a=e==="asc"?0:o.length-1;e==="asc"?a<o.length:a>=0;e==="asc"?a++:a--)if(o[a]!==-1){i=o[a];break}}return i}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,r){return e.type==="bar"||e.type==="column"?r:-1}).filter(function(e){return e!==-1}):this.w.config.series.map(function(e,r){return r})}},{key:"getPreviousPaths",value:function(){var e=this.w;function r(a,l,u){for(var h=a[l].childNodes,f={type:u,paths:[],realIndex:a[l].getAttribute("data:realIndex")},m=0;m<h.length;m++)if(h[m].hasAttribute("pathTo")){var x=h[m].getAttribute("pathTo");f.paths.push({d:x})}e.globals.previousPaths.push(f)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(a){for(var l,u=(l=a,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(l,"-series .apexcharts-series"))),h=0;h<u.length;h++)r(u,h,a)});var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(n.length>0)for(var i=function(a){for(var l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(a,"'] rect")),u=[],h=function(m){var x=function(S){return l[m].getAttribute(S)},w={x:parseFloat(x("x")),y:parseFloat(x("y")),width:parseFloat(x("width")),height:parseFloat(x("height"))};u.push({rect:w,color:l[m].getAttribute("color")})},f=0;f<l.length;f++)h(f);e.globals.previousPaths.push(u)},o=0;o<n.length;o++)i(o);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,r=e.config.noData,n=new bt(this.ctx),i=e.globals.svgWidth/2,o=e.globals.svgHeight/2,a="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,r.align==="left"?(i=10,a="start"):r.align==="right"&&(i=e.globals.svgWidth-10,a="end"),r.verticalAlign==="top"?o=50:r.verticalAlign==="bottom"&&(o=e.globals.svgHeight-50),i+=r.offsetX,o=o+parseInt(r.style.fontSize,10)+2+r.offsetY,r.text!==void 0&&r.text!==""){var l=n.drawText({x:i,y:o,text:r.text,textAnchor:a,fontSize:r.style.fontSize,fontFamily:r.style.fontFamily,foreColor:r.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(l)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var r=this.w,n=0;n<e.length;n++)if(e[n].length===0)for(var i=0;i<e[r.globals.maxValsInArrayIndex].length;i++)e[n].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,r=this.w,n=this.filteredSeriesX(),i=0;i<n.length-1;i++)if(n[i][0]!==n[i+1][0]){e=!1;break}return r.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map(function(r){return r.length>0?r:[]});return e}}]),t}(),lA=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Qi(this.ctx)}return er(t,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),r=new zs(this.ctx);if(this.activeSeriesIndex=r.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),r=new zs(this.ctx);if(this.activeSeriesIndex=r.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,r){for(var n=this.w.config,i=this.w.globals,o=n.chart.type==="boxPlot"||n.series[r].type==="boxPlot",a=0;a<e[r].data.length;a++)if(e[r].data[a][1]!==void 0&&(Array.isArray(e[r].data[a][1])&&e[r].data[a][1].length===4&&!o?this.twoDSeries.push(ze.parseNumber(e[r].data[a][1][3])):e[r].data[a].length>=5?this.twoDSeries.push(ze.parseNumber(e[r].data[a][4])):this.twoDSeries.push(ze.parseNumber(e[r].data[a][1])),i.dataFormatXNumeric=!0),n.xaxis.type==="datetime"){var l=new Date(e[r].data[a][0]);l=new Date(l).getTime(),this.twoDSeriesX.push(l)}else this.twoDSeriesX.push(e[r].data[a][0]);for(var u=0;u<e[r].data.length;u++)e[r].data[u][2]!==void 0&&(this.threeDSeries.push(e[r].data[u][2]),i.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,r){var n=this.w.config,i=this.w.globals,o=new Ya(this.ctx),a=r;i.collapsedSeriesIndices.indexOf(r)>-1&&(a=this.activeSeriesIndex);for(var l=0;l<e[r].data.length;l++)e[r].data[l].y!==void 0&&(Array.isArray(e[r].data[l].y)?this.twoDSeries.push(ze.parseNumber(e[r].data[l].y[e[r].data[l].y.length-1])):this.twoDSeries.push(ze.parseNumber(e[r].data[l].y))),e[r].data[l].goals!==void 0&&Array.isArray(e[r].data[l].goals)?(this.seriesGoals[r]===void 0&&(this.seriesGoals[r]=[]),this.seriesGoals[r].push(e[r].data[l].goals)):(this.seriesGoals[r]===void 0&&(this.seriesGoals[r]=[]),this.seriesGoals[r].push(null));for(var u=0;u<e[a].data.length;u++){var h=typeof e[a].data[u].x=="string",f=Array.isArray(e[a].data[u].x),m=!f&&!!o.isValidDate(e[a].data[u].x);if(h||m)if(h||n.xaxis.convertedCatToNumeric){var x=i.isBarHorizontal&&i.isRangeData;n.xaxis.type!=="datetime"||x?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[u].x),isNaN(e[a].data[u].x)||this.w.config.xaxis.type==="category"||typeof e[a].data[u].x=="string"||(i.isXNumeric=!0)):this.twoDSeriesX.push(o.parseDate(e[a].data[u].x))}else n.xaxis.type==="datetime"?this.twoDSeriesX.push(o.parseDate(e[a].data[u].x.toString())):(i.dataFormatXNumeric=!0,i.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[a].data[u].x)));else f?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[u].x)):(i.isXNumeric=!0,i.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[a].data[u].x))}if(e[r].data[0]&&e[r].data[0].z!==void 0){for(var w=0;w<e[r].data.length;w++)this.threeDSeries.push(e[r].data[w].z);i.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,r){var n=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleRangeDataFormat("array",e,r):this.isFormatXY()&&(i=this.handleRangeDataFormat("xy",e,r)),n.seriesRangeStart.push(i.start===void 0?[]:i.start),n.seriesRangeEnd.push(i.end===void 0?[]:i.end),n.seriesRange.push(i.rangeUniques),n.seriesRange.forEach(function(o,a){o&&o.forEach(function(l,u){l.y.forEach(function(h,f){for(var m=0;m<l.y.length;m++)if(f!==m){var x=h.y1,w=h.y2,S=l.y[m].y1;x<=l.y[m].y2&&S<=w&&(l.overlaps.indexOf(h.rangeName)<0&&l.overlaps.push(h.rangeName),l.overlaps.indexOf(l.y[m].rangeName)<0&&l.overlaps.push(l.y[m].rangeName))}})})}),i}},{key:"handleCandleStickBoxData",value:function(e,r){var n=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleCandleStickBoxDataFormat("array",e,r):this.isFormatXY()&&(i=this.handleCandleStickBoxDataFormat("xy",e,r)),n.seriesCandleO[r]=i.o,n.seriesCandleH[r]=i.h,n.seriesCandleM[r]=i.m,n.seriesCandleL[r]=i.l,n.seriesCandleC[r]=i.c,i}},{key:"handleRangeDataFormat",value:function(e,r,n){var i=[],o=[],a=r[n].data.filter(function(f,m,x){return m===x.findIndex(function(w){return w.x===f.x})}).map(function(f,m){return{x:f.x,overlaps:[],y:[]}});if(e==="array")for(var l=0;l<r[n].data.length;l++)Array.isArray(r[n].data[l])?(i.push(r[n].data[l][1][0]),o.push(r[n].data[l][1][1])):(i.push(r[n].data[l]),o.push(r[n].data[l]));else if(e==="xy")for(var u=function(f){var m=Array.isArray(r[n].data[f].y),x=ze.randomId(),w=r[n].data[f].x,S={y1:m?r[n].data[f].y[0]:r[n].data[f].y,y2:m?r[n].data[f].y[1]:r[n].data[f].y,rangeName:x};r[n].data[f].rangeName=x;var C=a.findIndex(function(A){return A.x===w});a[C].y.push(S),i.push(S.y1),o.push(S.y2)},h=0;h<r[n].data.length;h++)u(h);return{start:i,end:o,rangeUniques:a}}},{key:"handleCandleStickBoxDataFormat",value:function(e,r,n){var i=this.w,o=i.config.chart.type==="boxPlot"||i.config.series[n].type==="boxPlot",a=[],l=[],u=[],h=[],f=[];if(e==="array")if(o&&r[n].data[0].length===6||!o&&r[n].data[0].length===5)for(var m=0;m<r[n].data.length;m++)a.push(r[n].data[m][1]),l.push(r[n].data[m][2]),o?(u.push(r[n].data[m][3]),h.push(r[n].data[m][4]),f.push(r[n].data[m][5])):(h.push(r[n].data[m][3]),f.push(r[n].data[m][4]));else for(var x=0;x<r[n].data.length;x++)Array.isArray(r[n].data[x][1])&&(a.push(r[n].data[x][1][0]),l.push(r[n].data[x][1][1]),o?(u.push(r[n].data[x][1][2]),h.push(r[n].data[x][1][3]),f.push(r[n].data[x][1][4])):(h.push(r[n].data[x][1][2]),f.push(r[n].data[x][1][3])));else if(e==="xy")for(var w=0;w<r[n].data.length;w++)Array.isArray(r[n].data[w].y)&&(a.push(r[n].data[w].y[0]),l.push(r[n].data[w].y[1]),o?(u.push(r[n].data[w].y[2]),h.push(r[n].data[w].y[3]),f.push(r[n].data[w].y[4])):(h.push(r[n].data[w].y[2]),f.push(r[n].data[w].y[3])));return{o:a,h:l,m:u,l:h,c:f}}},{key:"parseDataAxisCharts",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,i=this.w.config,o=this.w.globals,a=new Ya(n),l=i.labels.length>0?i.labels.slice():i.xaxis.categories.slice();o.isRangeBar=i.chart.type==="rangeBar"&&o.isBarHorizontal,o.hasXaxisGroups=i.xaxis.type==="category"&&i.xaxis.group.groups.length>0,o.hasXaxisGroups&&(o.groups=i.xaxis.group.groups),e.forEach(function(w,S){w.name!==void 0?o.seriesNames.push(w.name):o.seriesNames.push("series-"+parseInt(S+1,10))}),this.coreUtils.setSeriesYAxisMappings();var u=[],h=Oa(new Set(i.series.map(function(w){return w.group})));i.series.forEach(function(w,S){var C=h.indexOf(w.group);u[C]||(u[C]=[]),u[C].push(o.seriesNames[S])}),o.seriesGroups=u;for(var f=function(){for(var w=0;w<l.length;w++)if(typeof l[w]=="string"){if(!a.isValidDate(l[w]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");r.twoDSeriesX.push(a.parseDate(l[w]))}else r.twoDSeriesX.push(l[w])},m=0;m<e.length;m++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[m].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(i.chart.type!=="rangeBar"&&i.chart.type!=="rangeArea"&&e[m].type!=="rangeBar"&&e[m].type!=="rangeArea"||(o.isRangeData=!0,i.chart.type!=="rangeBar"&&i.chart.type!=="rangeArea"||this.handleRangeData(e,m)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,m):this.isFormatXY()&&this.handleFormatXY(e,m),i.chart.type!=="candlestick"&&e[m].type!=="candlestick"&&i.chart.type!=="boxPlot"&&e[m].type!=="boxPlot"||this.handleCandleStickBoxData(e,m),o.series.push(this.twoDSeries),o.labels.push(this.twoDSeriesX),o.seriesX.push(this.twoDSeriesX),o.seriesGoals=this.seriesGoals,m!==this.activeSeriesIndex||this.fallbackToCategory||(o.isXNumeric=!0);else{i.xaxis.type==="datetime"?(o.isXNumeric=!0,f(),o.seriesX.push(this.twoDSeriesX)):i.xaxis.type==="numeric"&&(o.isXNumeric=!0,l.length>0&&(this.twoDSeriesX=l,o.seriesX.push(this.twoDSeriesX))),o.labels.push(this.twoDSeriesX);var x=e[m].data.map(function(w){return ze.parseNumber(w)});o.series.push(x)}o.seriesZ.push(this.threeDSeries),e[m].color!==void 0?o.seriesColors.push(e[m].color):o.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var r=this.w.globals,n=this.w.config;r.series=e.slice(),r.seriesNames=n.labels.slice();for(var i=0;i<r.series.length;i++)r.seriesNames[i]===void 0&&r.seriesNames.push("series-"+(i+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var r=this.w.config,n=this.w.globals;r.xaxis.categories.length>0?n.labels=r.xaxis.categories:r.labels.length>0?n.labels=r.labels.slice():this.fallbackToCategory?(n.labels=n.labels[0],n.seriesRange.length&&(n.seriesRange.map(function(i){i.forEach(function(o){n.labels.indexOf(o.x)<0&&o.x&&n.labels.push(o.x)})}),n.labels=Array.from(new Set(n.labels.map(JSON.stringify)),JSON.parse)),r.xaxis.convertedCatToNumeric&&(new Yv(r).convertCatToNumericXaxis(r,this.ctx,n.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var r=this.w.globals,n=this.w.config,i=[];if(r.axisCharts){if(r.series.length>0)if(this.isFormatXY())for(var o=n.series.map(function(m,x){return m.data.filter(function(w,S,C){return C.findIndex(function(A){return A.x===w.x})===S})}),a=o.reduce(function(m,x,w,S){return S[m].length>x.length?m:w},0),l=0;l<o[a].length;l++)i.push(l+1);else for(var u=0;u<r.series[r.maxValsInArrayIndex].length;u++)i.push(u+1);r.seriesX=[];for(var h=0;h<e.length;h++)r.seriesX.push(i);this.w.globals.isBarHorizontal||(r.isXNumeric=!0)}if(i.length===0){i=r.axisCharts?[]:r.series.map(function(m,x){return x+1});for(var f=0;f<e.length;f++)r.seriesX.push(i)}r.labels=i,n.xaxis.convertedCatToNumeric&&(r.categoryLabels=i.map(function(m){return n.xaxis.labels.formatter(m)})),r.noLabelsProvided=!0}},{key:"parseData",value:function(e){var r=this.w,n=r.config,i=r.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),i.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),n.chart.stacked){var o=new zs(this.ctx);i.series=o.setNullSeriesToZeroValues(i.series)}this.coreUtils.getSeriesTotals(),i.axisCharts&&(i.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),i.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),i.dataFormatXNumeric||i.isXNumeric&&(n.xaxis.type!=="numeric"||n.labels.length!==0||n.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var a=this.coreUtils.getCategoryLabels(i.labels),l=0;l<a.length;l++)if(Array.isArray(a[l])){i.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,r=[];e.globals.seriesYAxisMap.forEach(function(n,i){var o=0;n.forEach(function(a){e.globals.collapsedSeriesIndices.indexOf(a)!==-1&&o++}),o>0&&o==n.length&&r.push(i)}),e.globals.ignoreYAxisIndexes=r.map(function(n){return n})}}]),t}(),cb=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w}return er(t,[{key:"scaleSvgNode",value:function(e,r){var n=parseFloat(e.getAttributeNS(null,"width")),i=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",n*r),e.setAttributeNS(null,"height",i*r),e.setAttributeNS(null,"viewBox","0 0 "+n+" "+i)}},{key:"getSvgString",value:function(){var e=this;return new Promise(function(r){var n=e.w,i=n.config.chart.toolbar.export.width,o=n.config.chart.toolbar.export.scale||i/n.globals.svgWidth;o||(o=1);var a=e.w.globals.dom.Paper.svg(),l=e.w.globals.dom.Paper.node.cloneNode(!0);o!==1&&e.scaleSvgNode(l,o),e.convertImagesToBase64(l).then(function(){a=new XMLSerializer().serializeToString(l),r(a.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(e){var r=this,n=e.getElementsByTagName("image"),i=Array.from(n).map(function(o){var a=o.getAttributeNS("http://www.w3.org/1999/xlink","href");return a&&!a.startsWith("data:")?r.getBase64FromUrl(a).then(function(l){o.setAttributeNS("http://www.w3.org/1999/xlink","href",l)}).catch(function(l){console.error("Error converting image to base64:",l)}):Promise.resolve()});return Promise.all(i)}},{key:"getBase64FromUrl",value:function(e){return new Promise(function(r,n){var i=new Image;i.crossOrigin="Anonymous",i.onload=function(){var o=document.createElement("canvas");o.width=i.width,o.height=i.height,o.getContext("2d").drawImage(i,0,0),r(o.toDataURL())},i.onerror=n,i.src=e})}},{key:"cleanup",value:function(){var e=this.w,r=e.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),n=e.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(i,function(o){o.setAttribute("width",0)}),r&&r[0]&&(r[0].setAttribute("x",-500),r[0].setAttribute("x1",-500),r[0].setAttribute("x2",-500)),n&&n[0]&&(n[0].setAttribute("y",-100),n[0].setAttribute("y1",-100),n[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){var e=this;return new Promise(function(r){e.cleanup(),e.getSvgString().then(function(n){var i=new Blob([n],{type:"image/svg+xml;charset=utf-8"});r(URL.createObjectURL(i))})})}},{key:"dataURI",value:function(e){var r=this;return new Promise(function(n){var i=r.w,o=e?e.scale||e.width/i.globals.svgWidth:1;r.cleanup();var a=document.createElement("canvas");a.width=i.globals.svgWidth*o,a.height=parseInt(i.globals.dom.elWrap.style.height,10)*o;var l=i.config.chart.background!=="transparent"&&i.config.chart.background?i.config.chart.background:"#fff",u=a.getContext("2d");u.fillStyle=l,u.fillRect(0,0,a.width*o,a.height*o),r.getSvgString().then(function(h){var f="data:image/svg+xml,"+encodeURIComponent(h),m=new Image;m.crossOrigin="anonymous",m.onload=function(){if(u.drawImage(m,0,0),a.msToBlob){var x=a.msToBlob();n({blob:x})}else{var w=a.toDataURL("image/png");n({imgURI:w})}},m.src=f})})}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then(function(r){e.triggerDownload(r,e.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var e=this,r=this.w.config.chart.toolbar.export.scale,n=this.w.config.chart.toolbar.export.width,i=r?{scale:r}:n?{width:n}:void 0;this.dataURI(i).then(function(o){var a=o.imgURI,l=o.blob;l?navigator.msSaveOrOpenBlob(l,e.w.globals.chartID+".png"):e.triggerDownload(a,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var r=this,n=e.series,i=e.fileName,o=e.columnDelimiter,a=o===void 0?",":o,l=e.lineDelimiter,u=l===void 0?`
`:l,h=this.w;n||(n=h.config.series);var f=[],m=[],x="",w=h.globals.series.map(function(D,L){return h.globals.collapsedSeriesIndices.indexOf(L)===-1?D:[]}),S=function(D){return typeof h.config.chart.toolbar.export.csv.categoryFormatter=="function"?h.config.chart.toolbar.export.csv.categoryFormatter(D):h.config.xaxis.type==="datetime"&&String(D).length>=10?new Date(D).toDateString():ze.isNumber(D)?D:D.split(a).join("")},C=function(D){return typeof h.config.chart.toolbar.export.csv.valueFormatter=="function"?h.config.chart.toolbar.export.csv.valueFormatter(D):D},A=Math.max.apply(Math,Oa(n.map(function(D){return D.data?D.data.length:0}))),E=new lA(this.ctx),P=new lh(this.ctx),I=function(D){var L="";if(h.globals.axisCharts){if(h.config.xaxis.type==="category"||h.config.xaxis.convertedCatToNumeric)if(h.globals.isBarHorizontal){var R=h.globals.yLabelFormatters[0],$=new zs(r.ctx).getActiveConfigSeriesIndex();L=R(h.globals.labels[D],{seriesIndex:$,dataPointIndex:D,w:h})}else L=P.getLabel(h.globals.labels,h.globals.timescaleLabels,0,D).text;h.config.xaxis.type==="datetime"&&(h.config.xaxis.categories.length?L=h.config.xaxis.categories[D]:h.config.labels.length&&(L=h.config.labels[D]))}else L=h.config.labels[D];return L===null?"nullvalue":(Array.isArray(L)&&(L=L.join(" ")),ze.isNumber(L)?L:L.split(a).join(""))},N=function(D,L){if(f.length&&L===0&&m.push(f.join(a)),D.data){D.data=D.data.length&&D.data||Oa(Array(A)).map(function(){return""});for(var R=0;R<D.data.length;R++){f=[];var $=I(R);if($!=="nullvalue"){if($||(E.isFormatXY()?$=n[L].data[R].x:E.isFormat2DArray()&&($=n[L].data[R]?n[L].data[R][0]:"")),L===0){f.push(S($));for(var W=0;W<h.globals.series.length;W++){var J,q=E.isFormatXY()?(J=n[W].data[R])===null||J===void 0?void 0:J.y:w[W][R];f.push(C(q))}}(h.config.chart.type==="candlestick"||D.type&&D.type==="candlestick")&&(f.pop(),f.push(h.globals.seriesCandleO[L][R]),f.push(h.globals.seriesCandleH[L][R]),f.push(h.globals.seriesCandleL[L][R]),f.push(h.globals.seriesCandleC[L][R])),(h.config.chart.type==="boxPlot"||D.type&&D.type==="boxPlot")&&(f.pop(),f.push(h.globals.seriesCandleO[L][R]),f.push(h.globals.seriesCandleH[L][R]),f.push(h.globals.seriesCandleM[L][R]),f.push(h.globals.seriesCandleL[L][R]),f.push(h.globals.seriesCandleC[L][R])),h.config.chart.type==="rangeBar"&&(f.pop(),f.push(h.globals.seriesRangeStart[L][R]),f.push(h.globals.seriesRangeEnd[L][R])),f.length&&m.push(f.join(a))}}}};f.push(h.config.chart.toolbar.export.csv.headerCategory),h.config.chart.type==="boxPlot"?(f.push("minimum"),f.push("q1"),f.push("median"),f.push("q3"),f.push("maximum")):h.config.chart.type==="candlestick"?(f.push("open"),f.push("high"),f.push("low"),f.push("close")):h.config.chart.type==="rangeBar"?(f.push("minimum"),f.push("maximum")):n.map(function(D,L){var R=(D.name?D.name:"series-".concat(L))+"";h.globals.axisCharts&&f.push(R.split(a).join("")?R.split(a).join(""):"series-".concat(L))}),h.globals.axisCharts||(f.push(h.config.chart.toolbar.export.csv.headerValue),m.push(f.join(a))),h.globals.allSeriesHasEqualX||!h.globals.axisCharts||h.config.xaxis.categories.length||h.config.labels.length?n.map(function(D,L){h.globals.axisCharts?N(D,L):((f=[]).push(S(h.globals.labels[L])),f.push(C(w[L])),m.push(f.join(a)))}):function(){var D=new Set,L={};n.forEach(function(R,$){R==null||R.data.forEach(function(W){var J,q;if(E.isFormatXY())J=W.x,q=W.y;else{if(!E.isFormat2DArray())return;J=W[0],q=W[1]}L[J]||(L[J]=Array(n.length).fill("")),L[J][$]=C(q),D.add(J)})}),f.length&&m.push(f.join(a)),Array.from(D).sort().forEach(function(R){m.push([S(R),L[R].join(a)])})}(),x+=m.join(u),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+x),i||h.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,r,n){var i=document.createElement("a");i.href=e,i.download=(r||this.w.globals.chartID)+n,document.body.appendChild(i),i.click(),document.body.removeChild(i)}}]),t}(),Gv=function(){function t(e,r){Qt(this,t),this.ctx=e,this.elgrid=r,this.w=e.w;var n=this.w;this.axesUtils=new lh(e),this.xaxisLabels=n.globals.labels.slice(),n.globals.timescaleLabels.length>0&&!n.globals.isBarHorizontal&&(this.xaxisLabels=n.globals.timescaleLabels.slice()),n.config.xaxis.overwriteCategories&&(this.xaxisLabels=n.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],n.config.xaxis.position==="top"?this.offY=0:this.offY=n.globals.gridHeight,this.offY=this.offY+n.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=n.config.chart.type==="bar"&&n.config.plotOptions.bar.horizontal,this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.xaxisBorderWidth=n.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=n.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=n.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=n.config.xaxis.axisBorder.height,this.yaxis=n.config.yaxis[0]}return er(t,[{key:"drawXaxis",value:function(){var e=this.w,r=new bt(this.ctx),n=r.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),i=r.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});n.add(i);for(var o=[],a=0;a<this.xaxisLabels.length;a++)o.push(this.xaxisLabels[a]);if(this.drawXAxisLabelAndGroup(!0,r,i,o,e.globals.isXNumeric,function(S,C){return C}),e.globals.hasXaxisGroups){var l=e.globals.groups;o=[];for(var u=0;u<l.length;u++)o.push(l[u].title);var h={};e.config.xaxis.group.style&&(h.xaxisFontSize=e.config.xaxis.group.style.fontSize,h.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,h.xaxisForeColors=e.config.xaxis.group.style.colors,h.fontWeight=e.config.xaxis.group.style.fontWeight,h.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,r,i,o,!1,function(S,C){return l[S].cols*C},h)}if(e.config.xaxis.title.text!==void 0){var f=r.group({class:"apexcharts-xaxis-title"}),m=r.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});f.add(m),n.add(f)}if(e.config.xaxis.axisBorder.show){var x=e.globals.barPadForNumericAxis,w=r.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-x,this.offY,this.xaxisBorderWidth+x,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(w):n.add(w)}return n}},{key:"drawXAxisLabelAndGroup",value:function(e,r,n,i,o,a){var l,u=this,h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},f=[],m=[],x=this.w,w=h.xaxisFontSize||this.xaxisFontSize,S=h.xaxisFontFamily||this.xaxisFontFamily,C=h.xaxisForeColors||this.xaxisForeColors,A=h.fontWeight||x.config.xaxis.labels.style.fontWeight,E=h.cssClass||x.config.xaxis.labels.style.cssClass,P=x.globals.padHorizontal,I=i.length,N=x.config.xaxis.type==="category"?x.globals.dataPoints:I;if(N===0&&I>N&&(N=I),o){var D=N>1?N-1:N;l=x.globals.gridWidth/Math.min(D,I-1),P=P+a(0,l)/2+x.config.xaxis.labels.offsetX}else l=x.globals.gridWidth/N,P=P+a(0,l)+x.config.xaxis.labels.offsetX;for(var L=function($){var W=P-a($,l)/2+x.config.xaxis.labels.offsetX;$===0&&I===1&&l/2===P&&N===1&&(W=x.globals.gridWidth/2);var J=u.axesUtils.getLabel(i,x.globals.timescaleLabels,W,$,f,w,e),q=28;if(x.globals.rotateXLabels&&e&&(q=22),x.config.xaxis.title.text&&x.config.xaxis.position==="top"&&(q+=parseFloat(x.config.xaxis.title.style.fontSize)+2),e||(q=q+parseFloat(w)+(x.globals.xAxisLabelsHeight-x.globals.xAxisGroupLabelsHeight)+(x.globals.rotateXLabels?10:0)),J=x.config.xaxis.tickAmount!==void 0&&x.config.xaxis.tickAmount!=="dataPoints"&&x.config.xaxis.type!=="datetime"?u.axesUtils.checkLabelBasedOnTickamount($,J,I):u.axesUtils.checkForOverflowingLabels($,J,I,f,m),x.config.xaxis.labels.show){var ee=r.drawText({x:J.x,y:u.offY+x.config.xaxis.labels.offsetY+q-(x.config.xaxis.position==="top"?x.globals.xAxisHeight+x.config.xaxis.axisTicks.height-2:0),text:J.text,textAnchor:"middle",fontWeight:J.isBold?600:A,fontSize:w,fontFamily:S,foreColor:Array.isArray(C)?e&&x.config.xaxis.convertedCatToNumeric?C[x.globals.minX+$-1]:C[$]:C,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+E});if(n.add(ee),ee.on("click",function(he){if(typeof x.config.chart.events.xAxisLabelClick=="function"){var Se=Object.assign({},x,{labelIndex:$});x.config.chart.events.xAxisLabelClick(he,u.ctx,Se)}}),e){var se=document.createElementNS(x.globals.SVGNS,"title");se.textContent=Array.isArray(J.text)?J.text.join(" "):J.text,ee.node.appendChild(se),J.text!==""&&(f.push(J.text),m.push(J))}}$<I-1&&(P+=a($+1,l))},R=0;R<=I-1;R++)L(R)}},{key:"drawXaxisInversed",value:function(e){var r,n,i=this,o=this.w,a=new bt(this.ctx),l=o.config.yaxis[0].opposite?o.globals.translateYAxisX[e]:0,u=a.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),h=a.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+l+", 0)"});u.add(h);var f=[];if(o.config.yaxis[e].show)for(var m=0;m<this.xaxisLabels.length;m++)f.push(this.xaxisLabels[m]);r=o.globals.gridHeight/f.length,n=-r/2.2;var x=o.globals.yLabelFormatters[0],w=o.config.yaxis[0].labels;if(w.show)for(var S=function(D){var L=f[D]===void 0?"":f[D];L=x(L,{seriesIndex:e,dataPointIndex:D,w:o});var R=i.axesUtils.getYAxisForeColor(w.style.colors,e),$=0;Array.isArray(L)&&($=L.length/2*parseInt(w.style.fontSize,10));var W=w.offsetX-15,J="end";i.yaxis.opposite&&(J="start"),o.config.yaxis[0].labels.align==="left"?(W=w.offsetX,J="start"):o.config.yaxis[0].labels.align==="center"?(W=w.offsetX,J="middle"):o.config.yaxis[0].labels.align==="right"&&(J="end");var q=a.drawText({x:W,y:n+r+w.offsetY-$,text:L,textAnchor:J,foreColor:Array.isArray(R)?R[D]:R,fontSize:w.style.fontSize,fontFamily:w.style.fontFamily,fontWeight:w.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+w.style.cssClass,maxWidth:w.maxWidth});h.add(q),q.on("click",function(he){if(typeof o.config.chart.events.xAxisLabelClick=="function"){var Se=Object.assign({},o,{labelIndex:D});o.config.chart.events.xAxisLabelClick(he,i.ctx,Se)}});var ee=document.createElementNS(o.globals.SVGNS,"title");if(ee.textContent=Array.isArray(L)?L.join(" "):L,q.node.appendChild(ee),o.config.yaxis[e].labels.rotate!==0){var se=a.rotateAroundCenter(q.node);q.node.setAttribute("transform","rotate(".concat(o.config.yaxis[e].labels.rotate," 0 ").concat(se.y,")"))}n+=r},C=0;C<=f.length-1;C++)S(C);if(o.config.yaxis[0].title.text!==void 0){var A=a.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+l+", 0)"}),E=a.drawText({x:o.config.yaxis[0].title.offsetX,y:o.globals.gridHeight/2+o.config.yaxis[0].title.offsetY,text:o.config.yaxis[0].title.text,textAnchor:"middle",foreColor:o.config.yaxis[0].title.style.color,fontSize:o.config.yaxis[0].title.style.fontSize,fontWeight:o.config.yaxis[0].title.style.fontWeight,fontFamily:o.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+o.config.yaxis[0].title.style.cssClass});A.add(E),u.add(A)}var P=0;this.isCategoryBarHorizontal&&o.config.yaxis[0].opposite&&(P=o.globals.gridWidth);var I=o.config.xaxis.axisBorder;if(I.show){var N=a.drawLine(o.globals.padHorizontal+I.offsetX+P,1+I.offsetY,o.globals.padHorizontal+I.offsetX+P,o.globals.gridHeight+I.offsetY,I.color,0);this.elgrid&&this.elgrid.elGridBorders&&o.config.grid.show?this.elgrid.elGridBorders.add(N):u.add(N)}return o.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(P,f.length,o.config.yaxis[0].axisBorder,o.config.yaxis[0].axisTicks,0,r,u),u}},{key:"drawXaxisTicks",value:function(e,r,n){var i=this.w,o=e;if(!(e<0||e-2>i.globals.gridWidth)){var a=this.offY+i.config.xaxis.axisTicks.offsetY;if(r=r+a+i.config.xaxis.axisTicks.height,i.config.xaxis.position==="top"&&(r=a-i.config.xaxis.axisTicks.height),i.config.xaxis.axisTicks.show){var l=new bt(this.ctx).drawLine(e+i.config.xaxis.axisTicks.offsetX,a+i.config.xaxis.offsetY,o+i.config.xaxis.axisTicks.offsetX,r+i.config.xaxis.offsetY,i.config.xaxis.axisTicks.color);n.add(l),l.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,r=[],n=this.xaxisLabels.length,i=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var o=0;o<n;o++)i=this.xaxisLabels[o].position,r.push(i);else for(var a=n,l=0;l<a;l++){var u=a;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(u-=1),i+=e.globals.gridWidth/u,r.push(i)}return r}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,r=new bt(this.ctx),n=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var l=0;l<i.length;l++){var u=r.rotateAroundCenter(i[l]);u.y=u.y-1,u.x=u.x+1,i[l].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(u.x," ").concat(u.y,")")),i[l].setAttribute("text-anchor","end"),n.setAttribute("transform","translate(0, ".concat(-10,")"));var h=i[l].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(h,function(w){r.placeTextWithEllipsis(w,w.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))})}else(function(){for(var w=e.globals.gridWidth/(e.globals.labels.length+1),S=0;S<i.length;S++){var C=i[S].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(C,function(A){r.placeTextWithEllipsis(A,A.textContent,w)})}})();if(o.length>0){var f=o[o.length-1].getBBox(),m=o[0].getBBox();f.x<-20&&o[o.length-1].parentNode.removeChild(o[o.length-1]),m.x+m.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&o[0].parentNode.removeChild(o[0]);for(var x=0;x<a.length;x++)r.placeTextWithEllipsis(a[x],a[x].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),t}(),_8=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w;var r=this.w;this.xaxisLabels=r.globals.labels.slice(),this.axesUtils=new lh(e),this.isRangeBar=r.globals.seriesRange.length&&r.globals.isBarHorizontal,r.globals.timescaleLabels.length>0&&(this.xaxisLabels=r.globals.timescaleLabels.slice())}return er(t,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=this.w,n=new bt(this.ctx);e||(e=n.group({class:"apexcharts-grid"}));var i=n.drawLine(r.globals.padHorizontal,1,r.globals.padHorizontal,r.globals.gridHeight,"transparent"),o=n.drawLine(r.globals.padHorizontal,r.globals.gridHeight,r.globals.gridWidth,r.globals.gridHeight,"transparent");return e.add(o),e.add(i),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,r=e.globals,n=new bt(this.ctx),i=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,Oa(e.config.stroke.width)):e.config.stroke.width,o=function(f){var m=document.createElementNS(r.SVGNS,"clipPath");return m.setAttribute("id",f),m};r.dom.elGridRectMask=o("gridRectMask".concat(r.cuid)),r.dom.elGridRectBarMask=o("gridRectBarMask".concat(r.cuid)),r.dom.elGridRectMarkerMask=o("gridRectMarkerMask".concat(r.cuid)),r.dom.elForecastMask=o("forecastMask".concat(r.cuid)),r.dom.elNonForecastMask=o("nonForecastMask".concat(r.cuid));var a=0,l=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(a=Math.max(e.config.grid.padding.left,r.barPadForNumericAxis),l=Math.max(e.config.grid.padding.right,r.barPadForNumericAxis)),r.dom.elGridRect=n.drawRect(0,0,r.gridWidth,r.gridHeight,0,"#fff"),r.dom.elGridRectBar=n.drawRect(-i/2-a-2,-i/2-2,r.gridWidth+i+l+a+4,r.gridHeight+i+4,0,"#fff");var u=e.globals.markers.largestSize;r.dom.elGridRectMarker=n.drawRect(-u,-u,r.gridWidth+2*u,r.gridHeight+2*u,0,"#fff"),r.dom.elGridRectMask.appendChild(r.dom.elGridRect.node),r.dom.elGridRectBarMask.appendChild(r.dom.elGridRectBar.node),r.dom.elGridRectMarkerMask.appendChild(r.dom.elGridRectMarker.node);var h=r.dom.baseEl.querySelector("defs");h.appendChild(r.dom.elGridRectMask),h.appendChild(r.dom.elGridRectBarMask),h.appendChild(r.dom.elGridRectMarkerMask),h.appendChild(r.dom.elForecastMask),h.appendChild(r.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var r=e.i,n=e.x1,i=e.y1,o=e.x2,a=e.y2,l=e.xCount,u=e.parent,h=this.w;if(!(r===0&&h.globals.skipFirstTimelinelabel||r===l-1&&h.globals.skipLastTimelinelabel&&!h.config.xaxis.labels.formatter||h.config.chart.type==="radar")){h.config.grid.xaxis.lines.show&&this._drawGridLine({i:r,x1:n,y1:i,x2:o,y2:a,xCount:l,parent:u});var f=0;if(h.globals.hasXaxisGroups&&h.config.xaxis.tickPlacement==="between"){var m=h.globals.groups;if(m){for(var x=0,w=0;x<r&&w<m.length;w++)x+=m[w].cols;x===r&&(f=.6*h.globals.xAxisLabelsHeight)}}new Gv(this.ctx).drawXaxisTicks(n,f,h.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var r=e.i,n=e.x1,i=e.y1,o=e.x2,a=e.y2,l=e.xCount,u=e.parent,h=this.w,f=u.node.classList.contains("apexcharts-gridlines-horizontal"),m=h.globals.barPadForNumericAxis,x=i===0&&a===0||n===0&&o===0||i===h.globals.gridHeight&&a===h.globals.gridHeight||h.globals.isBarHorizontal&&(r===0||r===l-1),w=new bt(this).drawLine(n-(f?m:0),i,o+(f?m:0),a,h.config.grid.borderColor,h.config.grid.strokeDashArray);w.node.classList.add("apexcharts-gridline"),x&&h.config.grid.show?this.elGridBorders.add(w):u.add(w)}},{key:"_drawGridBandRect",value:function(e){var r=e.c,n=e.x1,i=e.y1,o=e.x2,a=e.y2,l=e.type,u=this.w,h=new bt(this.ctx),f=u.globals.barPadForNumericAxis,m=u.config.grid[l].colors[r],x=h.drawRect(n-(l==="row"?f:0),i,o+(l==="row"?2*f:0),a,0,m,u.config.grid[l].opacity);this.elg.add(x),x.attr("clip-path","url(#gridRectMask".concat(u.globals.cuid,")")),x.node.classList.add("apexcharts-grid-".concat(l))}},{key:"_drawXYLines",value:function(e){var r=this,n=e.xCount,i=e.tickAmount,o=this.w;if(o.config.grid.xaxis.lines.show||o.config.xaxis.axisTicks.show){var a,l=o.globals.padHorizontal,u=o.globals.gridHeight;o.globals.timescaleLabels.length?function(S){for(var C=S.xC,A=S.x1,E=S.y1,P=S.x2,I=S.y2,N=0;N<C;N++)A=r.xaxisLabels[N].position,P=r.xaxisLabels[N].position,r._drawGridLines({i:N,x1:A,y1:E,x2:P,y2:I,xCount:n,parent:r.elgridLinesV})}({xC:n,x1:l,y1:0,x2:a,y2:u}):(o.globals.isXNumeric&&(n=o.globals.xAxisScale.result.length),function(S){for(var C=S.xC,A=S.x1,E=S.y1,P=S.x2,I=S.y2,N=0;N<C+(o.globals.isXNumeric?0:1);N++)N===0&&C===1&&o.globals.dataPoints===1&&(P=A=o.globals.gridWidth/2),r._drawGridLines({i:N,x1:A,y1:E,x2:P,y2:I,xCount:n,parent:r.elgridLinesV}),P=A+=o.globals.gridWidth/(o.globals.isXNumeric?C-1:C)}({xC:n,x1:l,y1:0,x2:a,y2:u}))}if(o.config.grid.yaxis.lines.show){var h=0,f=0,m=o.globals.gridWidth,x=i+1;this.isRangeBar&&(x=o.globals.labels.length);for(var w=0;w<x+(this.isRangeBar?1:0);w++)this._drawGridLine({i:w,xCount:x+(this.isRangeBar?1:0),x1:0,y1:h,x2:m,y2:f,parent:this.elgridLinesH}),f=h+=o.globals.gridHeight/(this.isRangeBar?x:i)}}},{key:"_drawInvertedXYLines",value:function(e){var r=e.xCount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show)for(var i,o=n.globals.padHorizontal,a=n.globals.gridHeight,l=0;l<r+1;l++)n.config.grid.xaxis.lines.show&&this._drawGridLine({i:l,xCount:r+1,x1:o,y1:0,x2:i,y2:a,parent:this.elgridLinesV}),new Gv(this.ctx).drawXaxisTicks(o,0,n.globals.dom.elGraphical),i=o+=n.globals.gridWidth/r;if(n.config.grid.yaxis.lines.show)for(var u=0,h=0,f=n.globals.gridWidth,m=0;m<n.globals.dataPoints+1;m++)this._drawGridLine({i:m,xCount:n.globals.dataPoints+1,x1:0,y1:u,x2:f,y2:h,parent:this.elgridLinesH}),h=u+=n.globals.gridHeight/n.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,r=e.globals,n=new bt(this.ctx);this.elg=n.group({class:"apexcharts-grid"}),this.elgridLinesH=n.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=n.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=n.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var i=0;i<r.seriesYAxisMap.length&&r.ignoreYAxisIndexes.includes(i);)i++;i===r.seriesYAxisMap.length&&(i=0);var o,a=r.yAxisScale[i].result.length-1;if(!r.isBarHorizontal||this.isRangeBar){var l,u,h;o=this.xaxisLabels.length,this.isRangeBar&&(a=r.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(o=e.config.xaxis.tickAmount),((l=r.yAxisScale)===null||l===void 0||(u=l[i])===null||u===void 0||(h=u.result)===null||h===void 0?void 0:h.length)>0&&e.config.xaxis.type!=="datetime"&&(o=r.yAxisScale[i].result.length-1)),this._drawXYLines({xCount:o,tickAmount:a})}else o=a,a=r.xTickAmount,this._drawInvertedXYLines({xCount:o,tickAmount:a});return this.drawGridBands(o,a),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:r.gridWidth/o}}},{key:"drawGridBands",value:function(e,r){var n,i,o=this,a=this.w;if(((n=a.config.grid.row.colors)===null||n===void 0?void 0:n.length)>0&&function(S,C,A,E,P,I){for(var N=0,D=0;N<C;N++,D++)D>=a.config.grid[S].colors.length&&(D=0),o._drawGridBandRect({c:D,x1:A,y1:E,x2:P,y2:I,type:S}),E+=a.globals.gridHeight/r}("row",r,0,0,a.globals.gridWidth,a.globals.gridHeight/r),((i=a.config.grid.column.colors)===null||i===void 0?void 0:i.length)>0){var l=a.globals.isBarHorizontal||a.config.xaxis.tickPlacement!=="on"||a.config.xaxis.type!=="category"&&!a.config.xaxis.convertedCatToNumeric?e:e-1;a.globals.isXNumeric&&(l=a.globals.xAxisScale.result.length-1);for(var u=a.globals.padHorizontal,h=a.globals.padHorizontal+a.globals.gridWidth/l,f=a.globals.gridHeight,m=0,x=0;m<e;m++,x++){var w;x>=a.config.grid.column.colors.length&&(x=0),a.config.xaxis.type==="datetime"&&(u=this.xaxisLabels[m].position,h=(((w=this.xaxisLabels[m+1])===null||w===void 0?void 0:w.position)||a.globals.gridWidth)-this.xaxisLabels[m].position),this._drawGridBandRect({c:x,x1:u,y1:0,x2:h,y2:f,type:"column"}),u+=a.globals.gridWidth/l}}}}]),t}(),w8=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w,this.coreUtils=new Qi(this.ctx)}return er(t,[{key:"niceScale",value:function(e,r){var n,i,o,a,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=1e-11,h=this.w,f=h.globals;f.isBarHorizontal?(n=h.config.xaxis,i=Math.max((f.svgWidth-100)/25,2)):(n=h.config.yaxis[l],i=Math.max((f.svgHeight-100)/15,2)),ze.isNumber(i)||(i=10),o=n.min!==void 0&&n.min!==null,a=n.max!==void 0&&n.min!==null;var m=n.stepSize!==void 0&&n.stepSize!==null,x=n.tickAmount!==void 0&&n.tickAmount!==null,w=x?n.tickAmount:f.niceScaleDefaultTicks[Math.min(Math.round(i/2),f.niceScaleDefaultTicks.length-1)];if(f.isMultipleYAxis&&!x&&f.multiAxisTickAmount>0&&(w=f.multiAxisTickAmount,x=!0),w=w==="dataPoints"?f.dataPoints-1:Math.abs(Math.round(w)),(e===Number.MIN_VALUE&&r===0||!ze.isNumber(e)&&!ze.isNumber(r)||e===Number.MIN_VALUE&&r===-Number.MAX_VALUE)&&(e=ze.isNumber(n.min)?n.min:0,r=ze.isNumber(n.max)?n.max:e+w,f.allSeriesCollapsed=!1),e>r){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var S=r;r=e,e=S}else e===r&&(e=e===0?0:e-1,r=r===0?2:r+1);var C=[];w<1&&(w=1);var A=w,E=Math.abs(r-e);!o&&e>0&&e/E<.15&&(e=0,o=!0),!a&&r<0&&-r/E<.15&&(r=0,a=!0);var P=(E=Math.abs(r-e))/A,I=P,N=Math.floor(Math.log10(I)),D=Math.pow(10,N),L=Math.ceil(I/D);if(P=I=(L=f.niceScaleAllowedMagMsd[f.yValueDecimal===0?0:1][L])*D,f.isBarHorizontal&&n.stepSize&&n.type!=="datetime"?(P=n.stepSize,m=!0):m&&(P=n.stepSize),m&&n.forceNiceScale){var R=Math.floor(Math.log10(P));P*=Math.pow(10,N-R)}if(o&&a){var $=E/A;if(x)if(m)if(ze.mod(E,P)!=0){var W=ze.getGCD(P,$);P=$/W<10?W:$}else ze.mod(P,$)==0?P=$:($=P,x=!1);else P=$;else if(m)ze.mod(E,P)==0?$=P:P=$;else if(ze.mod(E,P)==0)$=P;else{$=E/(A=Math.ceil(E/P));var J=ze.getGCD(E,P);E/J<i&&($=J),P=$}A=Math.round(E/P)}else{if(o||a){if(a)if(x)e=r-P*A;else{var q=e;e=P*Math.floor(e/P),Math.abs(r-e)/ze.getGCD(E,P)>i&&(e=r-P*w,e+=P*Math.floor((q-e)/P))}else if(o)if(x)r=e+P*A;else{var ee=r;r=P*Math.ceil(r/P),Math.abs(r-e)/ze.getGCD(E,P)>i&&(r=e+P*w,r+=P*Math.ceil((ee-r)/P))}}else if(f.isMultipleYAxis&&x){var se=P*Math.floor(e/P),he=se+P*A;he<r&&(P*=2),he=r,r=(e=se)+P*A,E=Math.abs(r-e),e>0&&e<Math.abs(he-r)&&(e=0,r=P*A),r<0&&-r<Math.abs(se-e)&&(r=0,e=-P*A)}else e=P*Math.floor(e/P),r=P*Math.ceil(r/P);E=Math.abs(r-e),P=ze.getGCD(E,P),A=Math.round(E/P)}if(x||o||a||(A=Math.ceil((E-u)/(P+u)))>16&&ze.getPrimeFactors(A).length<2&&A++,!x&&n.forceNiceScale&&f.yValueDecimal===0&&A>E&&(A=E,P=Math.round(E/A)),A>i&&(!x&&!m||n.forceNiceScale)){var Se=ze.getPrimeFactors(A),oe=Se.length-1,_e=A;e:for(var xe=0;xe<oe;xe++)for(var Ne=0;Ne<=oe-xe;Ne++){for(var Re=Math.min(Ne+xe,oe),He=_e,tt=1,nt=Ne;nt<=Re;nt++)tt*=Se[nt];if((He/=tt)<i){_e=He;break e}}P=_e===A?E:E/_e,A=Math.round(E/P)}f.isMultipleYAxis&&f.multiAxisTickAmount==0&&f.ignoreYAxisIndexes.indexOf(l)<0&&(f.multiAxisTickAmount=A);var Ke=e-P,Ue=P*u;do Ke+=P,C.push(ze.stripNumber(Ke,7));while(r-Ke>Ue);return{result:C,niceMin:C[0],niceMax:C[C.length-1]}}},{key:"linearScale",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,a=Math.abs(r-e),l=[];if(e===r)return{result:l=[e],niceMin:l[0],niceMax:l[l.length-1]};(n=this._adjustTicksForSmallRange(n,i,a))==="dataPoints"&&(n=this.w.globals.dataPoints-1),o||(o=a/n),o=Math.round(10*(o+Number.EPSILON))/10,n===Number.MAX_VALUE&&(n=5,o=1);for(var u=e;n>=0;)l.push(u),u=ze.preciseAddition(u,o),n-=1;return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"logarithmicScaleNice",value:function(e,r,n){r<=0&&(r=Math.max(e,n)),e<=0&&(e=Math.min(r,n));for(var i=[],o=Math.ceil(Math.log(r)/Math.log(n)+1),a=Math.floor(Math.log(e)/Math.log(n));a<o;a++)i.push(Math.pow(n,a));return{result:i,niceMin:i[0],niceMax:i[i.length-1]}}},{key:"logarithmicScale",value:function(e,r,n){r<=0&&(r=Math.max(e,n)),e<=0&&(e=Math.min(r,n));for(var i=[],o=Math.log(r)/Math.log(n),a=Math.log(e)/Math.log(n),l=o-a,u=Math.round(l),h=l/u,f=0,m=a;f<u;f++,m+=h)i.push(Math.pow(n,m));return i.push(Math.pow(n,o)),{result:i,niceMin:e,niceMax:r}}},{key:"_adjustTicksForSmallRange",value:function(e,r,n){var i=e;if(r!==void 0&&this.w.config.yaxis[r].labels.formatter&&this.w.config.yaxis[r].tickAmount===void 0){var o=Number(this.w.config.yaxis[r].labels.formatter(1));ze.isNumber(o)&&this.w.globals.yValueDecimal===0&&(i=Math.ceil(n))}return i<e?i:e}},{key:"setYScaleForIndex",value:function(e,r,n){var i=this.w.globals,o=this.w.config,a=i.isBarHorizontal?o.xaxis:o.yaxis[e];i.yAxisScale[e]===void 0&&(i.yAxisScale[e]=[]);var l=Math.abs(n-r);a.logarithmic&&l<=5&&(i.invalidLogScale=!0),a.logarithmic&&l>5?(i.allSeriesCollapsed=!1,i.yAxisScale[e]=a.forceNiceScale?this.logarithmicScaleNice(r,n,a.logBase):this.logarithmicScale(r,n,a.logBase)):n!==-Number.MAX_VALUE&&ze.isNumber(n)&&r!==Number.MAX_VALUE&&ze.isNumber(r)?(i.allSeriesCollapsed=!1,i.yAxisScale[e]=this.niceScale(r,n,e)):i.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,r){var n=this.w,i=n.globals,o=Math.abs(r-e);if(r!==-Number.MAX_VALUE&&ze.isNumber(r)){var a=i.xTickAmount+1;o<10&&o>1&&(a=o),i.xAxisScale=this.linearScale(e,r,a,0,n.config.xaxis.stepSize)}else i.xAxisScale=this.linearScale(0,10,10);return i.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,r=this.w.config,n=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var i=n.seriesYAxisMap,o=n.minYArr,a=n.maxYArr;n.allSeriesCollapsed=!0,n.barGroups=[],i.forEach(function(l,u){var h=[];l.forEach(function(f){var m=r.series[f].group;h.indexOf(m)<0&&h.push(m)}),l.length>0?function(){var f,m,x=Number.MAX_VALUE,w=-Number.MAX_VALUE,S=x,C=w;if(r.chart.stacked)(function(){var P=new Array(n.dataPoints).fill(0),I=[],N=[],D=[];h.forEach(function(){I.push(P.map(function(){return Number.MIN_VALUE})),N.push(P.map(function(){return Number.MIN_VALUE})),D.push(P.map(function(){return Number.MIN_VALUE}))});for(var L=function($){!f&&r.series[l[$]].type&&(f=r.series[l[$]].type);var W=l[$];m=r.series[W].group?r.series[W].group:"axis-".concat(u),!(n.collapsedSeriesIndices.indexOf(W)<0&&n.ancillaryCollapsedSeriesIndices.indexOf(W)<0)||(n.allSeriesCollapsed=!1,h.forEach(function(J,q){if(r.series[W].group===J)for(var ee=0;ee<n.series[W].length;ee++){var se=n.series[W][ee];se>=0?N[q][ee]+=se:D[q][ee]+=se,I[q][ee]+=se,S=Math.min(S,se),C=Math.max(C,se)}})),f!=="bar"&&f!=="column"||n.barGroups.push(m)},R=0;R<l.length;R++)L(R);f||(f=r.chart.type),f==="bar"||f==="column"?h.forEach(function($,W){x=Math.min(x,Math.min.apply(null,D[W])),w=Math.max(w,Math.max.apply(null,N[W]))}):(h.forEach(function($,W){S=Math.min(S,Math.min.apply(null,I[W])),C=Math.max(C,Math.max.apply(null,I[W]))}),x=S,w=C),x===Number.MIN_VALUE&&w===Number.MIN_VALUE&&(w=-Number.MAX_VALUE)})();else for(var A=0;A<l.length;A++){var E=l[A];x=Math.min(x,o[E]),w=Math.max(w,a[E]),!(n.collapsedSeriesIndices.indexOf(E)<0&&n.ancillaryCollapsedSeriesIndices.indexOf(E)<0)||(n.allSeriesCollapsed=!1)}r.yaxis[u].min!==void 0&&(x=typeof r.yaxis[u].min=="function"?r.yaxis[u].min(x):r.yaxis[u].min),r.yaxis[u].max!==void 0&&(w=typeof r.yaxis[u].max=="function"?r.yaxis[u].max(w):r.yaxis[u].max),n.barGroups=n.barGroups.filter(function(P,I,N){return N.indexOf(P)===I}),e.setYScaleForIndex(u,x,w),l.forEach(function(P){o[P]=n.yAxisScale[u].niceMin,a[P]=n.yAxisScale[u].niceMax})}():e.setYScaleForIndex(u,0,-Number.MAX_VALUE)})}}]),t}(),uk=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w,this.scales=new w8(e)}return er(t,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=this.w.config,a=this.w.globals,l=-Number.MAX_VALUE,u=Number.MIN_VALUE;i===null&&(i=e+1);var h=a.series,f=h,m=h;o.chart.type==="candlestick"?(f=a.seriesCandleL,m=a.seriesCandleH):o.chart.type==="boxPlot"?(f=a.seriesCandleO,m=a.seriesCandleC):a.isRangeData&&(f=a.seriesRangeStart,m=a.seriesRangeEnd);var x=!1;if(a.seriesX.length>=i){var w,S=(w=a.brushSource)===null||w===void 0?void 0:w.w.config.chart.brush;(o.chart.zoom.enabled&&o.chart.zoom.autoScaleYaxis||S!=null&&S.enabled&&S!=null&&S.autoScaleYaxis)&&(x=!0)}for(var C=e;C<i;C++){a.dataPoints=Math.max(a.dataPoints,h[C].length);var A=o.series[C].type;a.categoryLabels.length&&(a.dataPoints=a.categoryLabels.filter(function(D){return D!==void 0}).length),a.labels.length&&o.xaxis.type!=="datetime"&&a.series.reduce(function(D,L){return D+L.length},0)!==0&&(a.dataPoints=Math.max(a.dataPoints,a.labels.length));var E=0,P=h[C].length-1;if(x){if(o.xaxis.min)for(;E<P&&a.seriesX[C][E]<o.xaxis.min;E++);if(o.xaxis.max)for(;P>E&&a.seriesX[C][P]>o.xaxis.max;P--);}for(var I=E;I<=P&&I<a.series[C].length;I++){var N=h[C][I];if(N!==null&&ze.isNumber(N)){switch(m[C][I]!==void 0&&(l=Math.max(l,m[C][I]),r=Math.min(r,m[C][I])),f[C][I]!==void 0&&(r=Math.min(r,f[C][I]),n=Math.max(n,f[C][I])),A){case"candlestick":a.seriesCandleC[C][I]!==void 0&&(l=Math.max(l,a.seriesCandleH[C][I]),r=Math.min(r,a.seriesCandleL[C][I]));break;case"boxPlot":a.seriesCandleC[C][I]!==void 0&&(l=Math.max(l,a.seriesCandleC[C][I]),r=Math.min(r,a.seriesCandleO[C][I]))}A&&A!=="candlestick"&&A!=="boxPlot"&&A!=="rangeArea"&&A!=="rangeBar"&&(l=Math.max(l,a.series[C][I]),r=Math.min(r,a.series[C][I])),a.seriesGoals[C]&&a.seriesGoals[C][I]&&Array.isArray(a.seriesGoals[C][I])&&a.seriesGoals[C][I].forEach(function(D){l=Math.max(l,D.value),r=Math.min(r,D.value)}),n=l,ze.isFloat(N)&&(N=ze.noExponents(N),a.yValueDecimal=Math.max(a.yValueDecimal,N.toString().split(".")[1].length)),u>f[C][I]&&f[C][I]<0&&(u=f[C][I])}else a.hasNullValues=!0}A!=="bar"&&A!=="column"||(u<0&&l<0&&(l=0,n=Math.max(n,0)),u===Number.MIN_VALUE&&(u=0,r=Math.min(r,0)))}return o.chart.type==="rangeBar"&&a.seriesRangeStart.length&&a.isBarHorizontal&&(u=r),o.chart.type==="bar"&&(u<0&&l<0&&(l=0),u===Number.MIN_VALUE&&(u=0)),{minY:u,maxY:l,lowestY:r,highestY:n}}},{key:"setYRange",value:function(){var e=this.w.globals,r=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var n,i=Number.MAX_VALUE;if(e.isMultipleYAxis){i=Number.MAX_VALUE;for(var o=0;o<e.series.length;o++)n=this.getMinYMaxY(o),e.minYArr[o]=n.lowestY,e.maxYArr[o]=n.highestY,i=Math.min(i,n.lowestY)}return n=this.getMinYMaxY(0,i,null,e.series.length),r.chart.type==="bar"?(e.minY=n.minY,e.maxY=n.maxY):(e.minY=n.lowestY,e.maxY=n.highestY),i=n.lowestY,r.chart.stacked&&this._setStackedMinMax(),r.chart.type==="line"||r.chart.type==="area"||r.chart.type==="scatter"||r.chart.type==="candlestick"||r.chart.type==="boxPlot"||r.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&i!==-Number.MAX_VALUE&&i!==e.maxY&&(e.minY=i):e.minY=e.minY!==Number.MIN_VALUE?Math.min(n.minY,e.minY):n.minY,r.yaxis.forEach(function(a,l){a.max!==void 0&&(typeof a.max=="number"?e.maxYArr[l]=a.max:typeof a.max=="function"&&(e.maxYArr[l]=a.max(e.isMultipleYAxis?e.maxYArr[l]:e.maxY)),e.maxY=e.maxYArr[l]),a.min!==void 0&&(typeof a.min=="number"?e.minYArr[l]=a.min:typeof a.min=="function"&&(e.minYArr[l]=a.min(e.isMultipleYAxis?e.minYArr[l]===Number.MIN_VALUE?0:e.minYArr[l]:e.minY)),e.minY=e.minYArr[l])}),e.isBarHorizontal&&["min","max"].forEach(function(a){r.xaxis[a]!==void 0&&typeof r.xaxis[a]=="number"&&(a==="min"?e.minY=r.xaxis[a]:e.maxY=r.xaxis[a])}),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=i):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],r.series.forEach(function(a){switch(a.type||r.chart.type){case"bar":case"column":e.barGroups.push(a.group);break;case"line":e.lineGroups.push(a.group);break;case"area":e.areaGroups.push(a.group)}}),e.barGroups=e.barGroups.filter(function(a,l,u){return u.indexOf(a)===l}),e.lineGroups=e.lineGroups.filter(function(a,l,u){return u.indexOf(a)===l}),e.areaGroups=e.areaGroups.filter(function(a,l,u){return u.indexOf(a)===l}),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,r=this.w.config,n=r.xaxis.type==="numeric"||r.xaxis.type==="datetime"||r.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var u=0;u<e.series.length;u++)if(e.labels[u])for(var h=0;h<e.labels[u].length;h++)e.labels[u][h]!==null&&ze.isNumber(e.labels[u][h])&&(e.maxX=Math.max(e.maxX,e.labels[u][h]),e.initialMaxX=Math.max(e.maxX,e.labels[u][h]),e.minX=Math.min(e.minX,e.labels[u][h]),e.initialMinX=Math.min(e.minX,e.labels[u][h]))}(),e.noLabelsProvided&&r.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var i=10;if(r.xaxis.tickAmount===void 0)i=Math.round(e.svgWidth/150),r.xaxis.type==="numeric"&&e.dataPoints<30&&(i=e.dataPoints-1),i>e.dataPoints&&e.dataPoints!==0&&(i=e.dataPoints-1);else if(r.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(i=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var o=e.maxX-e.minX;o<30&&(i=o-1)}}else i=r.xaxis.tickAmount;if(e.xTickAmount=i,r.xaxis.max!==void 0&&typeof r.xaxis.max=="number"&&(e.maxX=r.xaxis.max),r.xaxis.min!==void 0&&typeof r.xaxis.min=="number"&&(e.minX=r.xaxis.min),r.xaxis.range!==void 0&&(e.minX=e.maxX-r.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(r.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var a=[],l=e.minX-1;l<e.maxX;l++)a.push(l+1);e.xAxisScale={result:a,niceMin:a[0],niceMax:a[a.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,i,i,0,r.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,i-1,0,r.xaxis.stepSize),e.seriesX=e.labels.slice());n&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var r=0;r<e.series.length;r++)if(e.seriesZ[r]!==void 0)for(var n=0;n<e.seriesZ[r].length;n++)e.seriesZ[r][n]!==null&&ze.isNumber(e.seriesZ[r][n])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[r][n]),e.minZ=Math.min(e.minZ,e.seriesZ[r][n]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,r=this.w.config;if(e.minX===e.maxX){var n=new Ya(this.ctx);if(r.xaxis.type==="datetime"){var i=n.getDate(e.minX);r.xaxis.labels.datetimeUTC?i.setUTCDate(i.getUTCDate()-2):i.setDate(i.getDate()-2),e.minX=new Date(i).getTime();var o=n.getDate(e.maxX);r.xaxis.labels.datetimeUTC?o.setUTCDate(o.getUTCDate()+2):o.setDate(o.getDate()+2),e.maxX=new Date(o).getTime()}else(r.xaxis.type==="numeric"||r.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(r,n){r.length===1&&r.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var i=r.slice();i.sort(function(o,a){return o-a}),i.forEach(function(o,a){if(a>0){var l=o-i[a-1];l>0&&(e.minXDiff=Math.min(l,e.minXDiff))}}),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var e=this,r=this.w.globals;if(r.series.length){var n=r.seriesGroups;n.length||(n=[this.w.globals.seriesNames.map(function(a){return a})]);var i={},o={};n.forEach(function(a){i[a]=[],o[a]=[],e.w.config.series.map(function(l,u){return a.indexOf(r.seriesNames[u])>-1?u:null}).filter(function(l){return l!==null}).forEach(function(l){for(var u=0;u<r.series[r.maxValsInArrayIndex].length;u++){var h,f,m,x;i[a][u]===void 0&&(i[a][u]=0,o[a][u]=0),(e.w.config.chart.stacked&&!r.comboCharts||e.w.config.chart.stacked&&r.comboCharts&&(!e.w.config.chart.stackOnlyBar||((h=e.w.config.series)===null||h===void 0||(f=h[l])===null||f===void 0?void 0:f.type)==="bar"||((m=e.w.config.series)===null||m===void 0||(x=m[l])===null||x===void 0?void 0:x.type)==="column"))&&r.series[l][u]!==null&&ze.isNumber(r.series[l][u])&&(r.series[l][u]>0?i[a][u]+=parseFloat(r.series[l][u])+1e-4:o[a][u]+=parseFloat(r.series[l][u]))}})}),Object.entries(i).forEach(function(a){var l=VF(a,1)[0];i[l].forEach(function(u,h){r.maxY=Math.max(r.maxY,i[l][h]),r.minY=Math.min(r.minY,o[l][h])})})}}}]),t}(),cA=function(){function t(e,r){Qt(this,t),this.ctx=e,this.elgrid=r,this.w=e.w;var n=this.w;this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.axisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=n.config.chart.type==="bar"&&n.config.plotOptions.bar.horizontal,this.xAxisoffX=n.config.xaxis.position==="bottom"?n.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new lh(e)}return er(t,[{key:"drawYaxis",value:function(e){var r=this.w,n=new bt(this.ctx),i=r.config.yaxis[e].labels.style,o=i.fontSize,a=i.fontFamily,l=i.fontWeight,u=n.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(r.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return u;var h=n.group({class:"apexcharts-yaxis-texts-g"});u.add(h);var f=r.globals.yAxisScale[e].result.length-1,m=r.globals.gridHeight/f,x=r.globals.yLabelFormatters[e],w=this.axesUtils.checkForReversedLabels(e,r.globals.yAxisScale[e].result.slice());if(r.config.yaxis[e].labels.show){var S=r.globals.translateY+r.config.yaxis[e].labels.offsetY;r.globals.isBarHorizontal?S=0:r.config.chart.type==="heatmap"&&(S-=m/2),S+=parseInt(o,10)/3;for(var C=f;C>=0;C--){var A=x(w[C],C,r),E=r.config.yaxis[e].labels.padding;r.config.yaxis[e].opposite&&r.config.yaxis.length!==0&&(E*=-1);var P=this.getTextAnchor(r.config.yaxis[e].labels.align,r.config.yaxis[e].opposite),I=this.axesUtils.getYAxisForeColor(i.colors,e),N=Array.isArray(I)?I[C]:I,D=ze.listToArray(r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map(function(R){return R.textContent}),L=n.drawText({x:E,y:S,text:D.includes(A)&&!r.config.yaxis[e].labels.showDuplicates?"":A,textAnchor:P,fontSize:o,fontFamily:a,fontWeight:l,maxWidth:r.config.yaxis[e].labels.maxWidth,foreColor:N,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(i.cssClass)});h.add(L),this.addTooltip(L,A),r.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(n,L,firstLabel,r.config.yaxis[e].labels.rotate),S+=m}}return this.addYAxisTitle(n,u,e),this.addAxisBorder(n,u,e,f,m),u}},{key:"getTextAnchor",value:function(e,r){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":r?"start":"end"}},{key:"addTooltip",value:function(e,r){var n=document.createElementNS(this.w.globals.SVGNS,"title");n.textContent=Array.isArray(r)?r.join(" "):r,e.node.appendChild(n)}},{key:"rotateLabel",value:function(e,r,n,i){var o=e.rotateAroundCenter(n.node),a=e.rotateAroundCenter(r.node);r.node.setAttribute("transform","rotate(".concat(i," ").concat(o.x," ").concat(a.y,")"))}},{key:"addYAxisTitle",value:function(e,r,n){var i=this.w;if(i.config.yaxis[n].title.text!==void 0){var o=e.group({class:"apexcharts-yaxis-title"}),a=i.config.yaxis[n].opposite?i.globals.translateYAxisX[n]:0,l=e.drawText({x:a,y:i.globals.gridHeight/2+i.globals.translateY+i.config.yaxis[n].title.offsetY,text:i.config.yaxis[n].title.text,textAnchor:"end",foreColor:i.config.yaxis[n].title.style.color,fontSize:i.config.yaxis[n].title.style.fontSize,fontWeight:i.config.yaxis[n].title.style.fontWeight,fontFamily:i.config.yaxis[n].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(i.config.yaxis[n].title.style.cssClass)});o.add(l),r.add(o)}}},{key:"addAxisBorder",value:function(e,r,n,i,o){var a=this.w,l=a.config.yaxis[n].axisBorder,u=31+l.offsetX;if(a.config.yaxis[n].opposite&&(u=-31-l.offsetX),l.show){var h=e.drawLine(u,a.globals.translateY+l.offsetY-2,u,a.globals.gridHeight+a.globals.translateY+l.offsetY+2,l.color,0,l.width);r.add(h)}a.config.yaxis[n].axisTicks.show&&this.axesUtils.drawYAxisTicks(u,i,l,a.config.yaxis[n].axisTicks,n,o,r)}},{key:"drawYaxisInversed",value:function(e){var r=this.w,n=new bt(this.ctx),i=n.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),o=n.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(r.globals.translateXAxisX,", ").concat(r.globals.translateXAxisY,")")});i.add(o);var a=r.globals.yAxisScale[e].result.length-1,l=r.globals.gridWidth/a+.1,u=l+r.config.xaxis.labels.offsetX,h=r.globals.xLabelFormatter,f=this.axesUtils.checkForReversedLabels(e,r.globals.yAxisScale[e].result.slice()),m=r.globals.timescaleLabels;if(m.length>0&&(this.xaxisLabels=m.slice(),a=(f=m.slice()).length),r.config.xaxis.labels.show)for(var x=m.length?0:a;m.length?x<m.length:x>=0;m.length?x++:x--){var w=h(f[x],x,r),S=r.globals.gridWidth+r.globals.padHorizontal-(u-l+r.config.xaxis.labels.offsetX);if(m.length){var C=this.axesUtils.getLabel(f,m,S,x,this.drawnLabels,this.xaxisFontSize);S=C.x,w=C.text,this.drawnLabels.push(C.text),x===0&&r.globals.skipFirstTimelinelabel&&(w=""),x===f.length-1&&r.globals.skipLastTimelinelabel&&(w="")}var A=n.drawText({x:S,y:this.xAxisoffX+r.config.xaxis.labels.offsetY+30-(r.config.xaxis.position==="top"?r.globals.xAxisHeight+r.config.xaxis.axisTicks.height-2:0),text:w,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:r.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(r.config.xaxis.labels.style.cssClass)});o.add(A),A.tspan(w),this.addTooltip(A,w),u+=l}return this.inversedYAxisTitleText(i),this.inversedYAxisBorder(i),i}},{key:"inversedYAxisBorder",value:function(e){var r=this.w,n=new bt(this.ctx),i=r.config.xaxis.axisBorder;if(i.show){var o=0;r.config.chart.type==="bar"&&r.globals.isXNumeric&&(o-=15);var a=n.drawLine(r.globals.padHorizontal+o+i.offsetX,this.xAxisoffX,r.globals.gridWidth,this.xAxisoffX,i.color,0,i.height);this.elgrid&&this.elgrid.elGridBorders&&r.config.grid.show?this.elgrid.elGridBorders.add(a):e.add(a)}}},{key:"inversedYAxisTitleText",value:function(e){var r=this.w,n=new bt(this.ctx);if(r.config.xaxis.title.text!==void 0){var i=n.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),o=n.drawText({x:r.globals.gridWidth/2+r.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(r.config.xaxis.title.style.fontSize)+r.config.xaxis.title.offsetY+20,text:r.config.xaxis.title.text,textAnchor:"middle",fontSize:r.config.xaxis.title.style.fontSize,fontFamily:r.config.xaxis.title.style.fontFamily,fontWeight:r.config.xaxis.title.style.fontWeight,foreColor:r.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(r.config.xaxis.title.style.cssClass)});i.add(o),e.add(i)}}},{key:"yAxisTitleRotate",value:function(e,r){var n=this.w,i=new bt(this.ctx),o=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),a=o?o.getBoundingClientRect():{width:0,height:0},l=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),u=l?l.getBoundingClientRect():{width:0,height:0};if(l){var h=this.xPaddingForYAxisTitle(e,a,u,r);l.setAttribute("x",h.xPos-(r?10:0));var f=i.rotateAroundCenter(l);l.setAttribute("transform","rotate(".concat(r?-1*n.config.yaxis[e].title.rotate:n.config.yaxis[e].title.rotate," ").concat(f.x," ").concat(f.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,r,n,i){var o=this.w,a=0,l=10;return o.config.yaxis[e].title.text===void 0||e<0?{xPos:a,padd:0}:(i?a=r.width+o.config.yaxis[e].title.offsetX+n.width/2+l/2:(a=-1*r.width+o.config.yaxis[e].title.offsetX+l/2+n.width/2,o.globals.isBarHorizontal&&(l=25,a=-1*r.width-o.config.yaxis[e].title.offsetX-l)),{xPos:a,padd:l})}},{key:"setYAxisXPosition",value:function(e,r){var n=this.w,i=0,o=0,a=18,l=1;n.config.yaxis.length>1&&(this.multipleYs=!0),n.config.yaxis.forEach(function(u,h){var f=n.globals.ignoreYAxisIndexes.includes(h)||!u.show||u.floating||e[h].width===0,m=e[h].width+r[h].width;u.opposite?n.globals.isBarHorizontal?(o=n.globals.gridWidth+n.globals.translateX-1,n.globals.translateYAxisX[h]=o-u.labels.offsetX):(o=n.globals.gridWidth+n.globals.translateX+l,f||(l+=m+20),n.globals.translateYAxisX[h]=o-u.labels.offsetX+20):(i=n.globals.translateX-a,f||(a+=m+20),n.globals.translateYAxisX[h]=i+u.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;ze.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(r,n){var i=e.config.yaxis[n];if(i&&!i.floating&&i.labels.align!==void 0){var o=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-texts-g")),a=ze.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-label"))),l=o.getBoundingClientRect();a.forEach(function(u){u.setAttribute("text-anchor",i.labels.align)}),i.labels.align!=="left"||i.opposite?i.labels.align==="center"?o.setAttribute("transform","translate(".concat(l.width/2*(i.opposite?1:-1),", 0)")):i.labels.align==="right"&&i.opposite&&o.setAttribute("transform","translate(".concat(l.width,", 0)")):o.setAttribute("transform","translate(-".concat(l.width,", 0)"))}})}}]),t}(),yAe=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w,this.documentEvent=ze.bind(this.documentEvent,this)}return er(t,[{key:"addEventListener",value:function(e,r){var n=this.w;n.globals.events.hasOwnProperty(e)?n.globals.events[e].push(r):n.globals.events[e]=[r]}},{key:"removeEventListener",value:function(e,r){var n=this.w;if(n.globals.events.hasOwnProperty(e)){var i=n.globals.events[e].indexOf(r);i!==-1&&n.globals.events[e].splice(i,1)}}},{key:"fireEvent",value:function(e,r){var n=this.w;if(n.globals.events.hasOwnProperty(e)){r&&r.length||(r=[]);for(var i=n.globals.events[e],o=i.length,a=0;a<o;a++)i[a].apply(null,r)}}},{key:"setupEventHandlers",value:function(){var e=this,r=this.w,n=this.ctx,i=r.globals.dom.baseEl.querySelector(r.globals.chartClass);this.ctx.eventList.forEach(function(o){i.addEventListener(o,function(a){var l=Object.assign({},r,{seriesIndex:r.globals.axisCharts?r.globals.capturedSeriesIndex:0,dataPointIndex:r.globals.capturedDataPointIndex});a.type==="mousemove"||a.type==="touchmove"?typeof r.config.chart.events.mouseMove=="function"&&r.config.chart.events.mouseMove(a,n,l):a.type==="mouseleave"||a.type==="touchleave"?typeof r.config.chart.events.mouseLeave=="function"&&r.config.chart.events.mouseLeave(a,n,l):(a.type==="mouseup"&&a.which===1||a.type==="touchend")&&(typeof r.config.chart.events.click=="function"&&r.config.chart.events.click(a,n,l),n.ctx.events.fireEvent("click",[a,n,l]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(o){r.globals.dom.baseEl.addEventListener(o,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var r=this.w,n=e.target.className;if(e.type==="click"){var i=r.globals.dom.baseEl.querySelector(".apexcharts-menu");i&&i.classList.contains("apexcharts-menu-open")&&n!=="apexcharts-menu-icon"&&i.classList.remove("apexcharts-menu-open")}r.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,r.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),t}(),xAe=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w}return er(t,[{key:"setCurrentLocaleValues",value:function(e){var r=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(r=this.w.config.chart.locales.concat(window.Apex.chart.locales));var n=r.filter(function(o){return o.name===e})[0];if(!n)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var i=ze.extend(y8,n);this.w.globals.locale=i.options}}]),t}(),bAe=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w}return er(t,[{key:"drawAxis",value:function(e,r){var n,i,o=this,a=this.w.globals,l=this.w.config,u=new Gv(this.ctx,r),h=new cA(this.ctx,r);a.axisCharts&&e!=="radar"&&(a.isBarHorizontal?(i=h.drawYaxisInversed(0),n=u.drawXaxisInversed(0),a.dom.elGraphical.add(n),a.dom.elGraphical.add(i)):(n=u.drawXaxis(),a.dom.elGraphical.add(n),l.yaxis.map(function(f,m){if(a.ignoreYAxisIndexes.indexOf(m)===-1&&(i=h.drawYaxis(m),a.dom.Paper.add(i),o.w.config.grid.position==="back")){var x=a.dom.Paper.children()[1];x.remove(),a.dom.Paper.add(x)}})))}}]),t}(),hk=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w}return er(t,[{key:"drawXCrosshairs",value:function(){var e=this.w,r=new bt(this.ctx),n=new Xa(this.ctx),i=e.config.xaxis.crosshairs.fill.gradient,o=e.config.xaxis.crosshairs.dropShadow,a=e.config.xaxis.crosshairs.fill.type,l=i.colorFrom,u=i.colorTo,h=i.opacityFrom,f=i.opacityTo,m=i.stops,x=o.enabled,w=o.left,S=o.top,C=o.blur,A=o.color,E=o.opacity,P=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){a==="gradient"&&(P=r.drawGradient("vertical",l,u,h,f,null,m,null));var I=r.drawRect();e.config.xaxis.crosshairs.width===1&&(I=r.drawLine());var N=e.globals.gridHeight;(!ze.isNumber(N)||N<0)&&(N=0);var D=e.config.xaxis.crosshairs.width;(!ze.isNumber(D)||D<0)&&(D=0),I.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:N,width:D,height:N,fill:P,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),x&&(I=n.dropShadow(I,{left:w,top:S,blur:C,color:A,opacity:E})),e.globals.dom.elGraphical.add(I)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,r=new bt(this.ctx),n=e.config.yaxis[0].crosshairs,i=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var o=r.drawLine(-i,0,e.globals.gridWidth+i,0,n.stroke.color,n.stroke.dashArray,n.stroke.width);o.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(o)}var a=r.drawLine(-i,0,e.globals.gridWidth+i,0,n.stroke.color,0,0);a.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(a)}}]),t}(),_Ae=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w}return er(t,[{key:"checkResponsiveConfig",value:function(e){var r=this,n=this.w,i=n.config;if(i.responsive.length!==0){var o=i.responsive.slice();o.sort(function(h,f){return h.breakpoint>f.breakpoint?1:f.breakpoint>h.breakpoint?-1:0}).reverse();var a=new Xv({}),l=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=o[0].breakpoint,m=window.innerWidth>0?window.innerWidth:screen.width;if(m>f){var x=ze.clone(n.globals.initialConfig);x.series=ze.clone(n.config.series);var w=Qi.extendArrayProps(a,x,n);h=ze.extend(w,h),h=ze.extend(n.config,h),r.overrideResponsiveOptions(h)}else for(var S=0;S<o.length;S++)m<o[S].breakpoint&&(h=Qi.extendArrayProps(a,o[S].options,n),h=ze.extend(n.config,h),r.overrideResponsiveOptions(h))};if(e){var u=Qi.extendArrayProps(a,e,n);u=ze.extend(n.config,u),l(u=ze.extend(u,e))}else l({})}}},{key:"overrideResponsiveOptions",value:function(e){var r=new Xv(e).init({responsiveOverride:!0});this.w.config=r}}]),t}(),wAe=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return er(t,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,r=e.chart,n=e.plotOptions;return r.type==="treemap"&&n.treemap&&n.treemap.distributed||r.type==="heatmap"&&n.heatmap&&n.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,r=e.chart,n=e.plotOptions;return n.bar&&n.bar.distributed&&(r.type==="bar"||r.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,r=new ze;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode));var n=Oa(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(n),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,r));var i=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],i),this.applyDataLabelsColors(i),this.applyRadarPolygonsColors(),this.applyMarkersColors(i)}},{key:"getColors",value:function(e){var r=this,n=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,n.config.series.map(function(i,o){var a=e[o]||e[0];return typeof a=="function"?a({value:n.globals.axisCharts?n.globals.series[o][0]||0:n.globals.series[o],seriesIndex:o,dataPointIndex:o,w:r.w}):a})):e:this.predefined()}},{key:"applySeriesColors",value:function(e,r){e.forEach(function(n,i){n&&(r[i]=n)})}},{key:"getMonochromeColors",value:function(e,r,n){var i=e.color,o=e.shadeIntensity,a=e.shadeTo,l=this.isBarDistributed||this.isHeatmapDistributed?r[0].length*r.length:r.length,u=1/(l/o),h=0;return Array.from({length:l},function(){var f=a==="dark"?n.shadeColor(-1*h,i):n.shadeColor(h,i);return h+=u,f})}},{key:"applyColorTypes",value:function(e,r){var n=this,i=this.w;e.forEach(function(o){i.globals[o].colors=i.config[o].colors===void 0?n.isColorFn?i.config.colors:r:i.config[o].colors.slice(),n.pushExtraColors(i.globals[o].colors)})}},{key:"applyDataLabelsColors",value:function(e){var r=this.w;r.globals.dataLabels.style.colors=r.config.dataLabels.style.colors===void 0?e:r.config.dataLabels.style.colors.slice(),this.pushExtraColors(r.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#424242":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var r=this.w;r.globals.markers.colors=r.config.markers.colors===void 0?e:r.config.markers.colors.slice(),this.pushExtraColors(r.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=this.w,o=r||i.globals.series.length;if(n===null&&(n=this.isBarDistributed||this.isHeatmapDistributed||i.config.chart.type==="heatmap"&&i.config.plotOptions.heatmap&&i.config.plotOptions.heatmap.colorScale.inverse),n&&i.globals.series.length&&(o=i.globals.series[i.globals.maxValsInArrayIndex].length*i.globals.series.length),e.length<o)for(var a=o-e.length,l=0;l<a;l++)e.push(e[l])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var r=e.theme.mode,n=r==="dark"?"palette4":r==="light"?"palette1":e.theme.palette||"palette1",i=r==="dark"?"#f6f7f8":r==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=r||"light",e.chart.foreColor=i,e.theme.palette=n,e}},{key:"predefined",value:function(){var e={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return e[this.w.config.theme.palette]||e.default}}]),t}(),SAe=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w}return er(t,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var r=this.w,n=e==="title"?r.config.title:r.config.subtitle,i=r.globals.svgWidth/2,o=n.offsetY,a="middle";if(n.align==="left"?(i=10,a="start"):n.align==="right"&&(i=r.globals.svgWidth-10,a="end"),i+=n.offsetX,o=o+parseInt(n.style.fontSize,10)+n.margin/2,n.text!==void 0){var l=new bt(this.ctx).drawText({x:i,y:o,text:n.text,textAnchor:a,fontSize:n.style.fontSize,fontFamily:n.style.fontFamily,fontWeight:n.style.fontWeight,foreColor:n.style.color,opacity:1});l.node.setAttribute("class","apexcharts-".concat(e,"-text")),r.globals.dom.Paper.add(l)}}}]),t}(),CAe=function(){function t(e){Qt(this,t),this.w=e.w,this.dCtx=e}return er(t,[{key:"getTitleSubtitleCoords",value:function(e){var r=this.w,n=0,i=0,o=e==="title"?r.config.title.floating:r.config.subtitle.floating,a=r.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(a!==null&&!o){var l=a.getBoundingClientRect();n=l.width,i=r.globals.axisCharts?l.height+5:l.height}return{width:n,height:i}}},{key:"getLegendsRect",value:function(){var e=this.w,r=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(r.style.maxHeight=e.globals.svgHeight/2+"px");var n=Object.assign({},ze.getBoundingClientRect(r));return r!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:n.x,y:n.y,height:n.height,width:n.height===0?0:n.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,r=this.w,n=[];r.config.series.forEach(function(u,h){u.data.forEach(function(f,m){var x;x=r.globals.series[h][m],i=r.config.dataLabels.formatter(x,{ctx:e.dCtx.ctx,seriesIndex:h,dataPointIndex:m,w:r}),n.push(i)})});var i=ze.getLargestStringFromArr(n),o=new bt(this.dCtx.ctx),a=r.config.dataLabels.style,l=o.getTextRects(i,parseInt(a.fontSize),a.fontFamily);return{width:1.05*l.width,height:l.height}}},{key:"getLargestStringFromMultiArr",value:function(e,r){var n=e;if(this.w.globals.isMultiLineX){var i=r.map(function(a,l){return Array.isArray(a)?a.length:1}),o=Math.max.apply(Math,Oa(i));n=r[i.indexOf(o)]}return n}}]),t}(),kAe=function(){function t(e){Qt(this,t),this.w=e.w,this.dCtx=e}return er(t,[{key:"getxAxisLabelsCoords",value:function(){var e,r=this.w,n=r.globals.labels.slice();if(r.config.xaxis.convertedCatToNumeric&&n.length===0&&(n=r.globals.categoryLabels),r.globals.timescaleLabels.length>0){var i=this.getxAxisTimeScaleLabelsCoords();e={width:i.width,height:i.height},r.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=r.config.legend.position!=="left"&&r.config.legend.position!=="right"||r.config.legend.floating?0:this.dCtx.lgRect.width;var o=r.globals.xLabelFormatter,a=ze.getLargestStringFromArr(n),l=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,n);r.globals.isBarHorizontal&&(l=a=r.globals.yAxisScale[0].result.reduce(function(S,C){return S.length>C.length?S:C},0));var u=new Sy(this.dCtx.ctx),h=a;a=u.xLabelFormat(o,a,h,{i:void 0,dateFormatter:new Ya(this.dCtx.ctx).formatDate,w:r}),l=u.xLabelFormat(o,l,h,{i:void 0,dateFormatter:new Ya(this.dCtx.ctx).formatDate,w:r}),(r.config.xaxis.convertedCatToNumeric&&a===void 0||String(a).trim()==="")&&(l=a="1");var f=new bt(this.dCtx.ctx),m=f.getTextRects(a,r.config.xaxis.labels.style.fontSize),x=m;if(a!==l&&(x=f.getTextRects(l,r.config.xaxis.labels.style.fontSize)),(e={width:m.width>=x.width?m.width:x.width,height:m.height>=x.height?m.height:x.height}).width*n.length>r.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&r.config.xaxis.labels.rotate!==0||r.config.xaxis.labels.rotateAlways){if(!r.globals.isBarHorizontal){r.globals.rotateXLabels=!0;var w=function(S){return f.getTextRects(S,r.config.xaxis.labels.style.fontSize,r.config.xaxis.labels.style.fontFamily,"rotate(".concat(r.config.xaxis.labels.rotate," 0 0)"),!1)};m=w(a),a!==l&&(x=w(l)),e.height=(m.height>x.height?m.height:x.height)/1.5,e.width=m.width>x.width?m.width:x.width}}else r.globals.rotateXLabels=!1}return r.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,r=this.w;if(!r.globals.hasXaxisGroups)return{width:0,height:0};var n,i=((e=r.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||r.config.xaxis.labels.style.fontSize,o=r.globals.groups.map(function(m){return m.title}),a=ze.getLargestStringFromArr(o),l=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,o),u=new bt(this.dCtx.ctx),h=u.getTextRects(a,i),f=h;return a!==l&&(f=u.getTextRects(l,i)),n={width:h.width>=f.width?h.width:f.width,height:h.height>=f.height?h.height:f.height},r.config.xaxis.labels.show||(n={width:0,height:0}),{width:n.width,height:n.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,r=0,n=0;if(e.config.xaxis.title.text!==void 0){var i=new bt(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);r=i.width,n=i.height}return{width:r,height:n}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,r=this.w;this.dCtx.timescaleLabels=r.globals.timescaleLabels.slice();var n=this.dCtx.timescaleLabels.map(function(o){return o.value}),i=n.reduce(function(o,a){return o===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):o.length>a.length?o:a},0);return 1.05*(e=new bt(this.dCtx.ctx).getTextRects(i,r.config.xaxis.labels.style.fontSize)).width*n.length>r.globals.gridWidth&&r.config.xaxis.labels.rotate!==0&&(r.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var r=this,n=this.w,i=n.globals,o=n.config,a=o.xaxis.type,l=e.width;i.skipLastTimelinelabel=!1,i.skipFirstTimelinelabel=!1;var u=n.config.yaxis[0].opposite&&n.globals.isBarHorizontal,h=function(f,m){o.yaxis.length>1&&function(x){return i.collapsedSeriesIndices.indexOf(x)!==-1}(m)||function(x){if(r.dCtx.timescaleLabels&&r.dCtx.timescaleLabels.length){var w=r.dCtx.timescaleLabels[0],S=r.dCtx.timescaleLabels[r.dCtx.timescaleLabels.length-1].position+l/1.75-r.dCtx.yAxisWidthRight,C=w.position-l/1.75+r.dCtx.yAxisWidthLeft,A=n.config.legend.position==="right"&&r.dCtx.lgRect.width>0?r.dCtx.lgRect.width:0;S>i.svgWidth-i.translateX-A&&(i.skipLastTimelinelabel=!0),C<-(x.show&&!x.floating||o.chart.type!=="bar"&&o.chart.type!=="candlestick"&&o.chart.type!=="rangeBar"&&o.chart.type!=="boxPlot"?10:l/1.75)&&(i.skipFirstTimelinelabel=!0)}else a==="datetime"?r.dCtx.gridPad.right<l&&!i.rotateXLabels&&(i.skipLastTimelinelabel=!0):a!=="datetime"&&r.dCtx.gridPad.right<l/2-r.dCtx.yAxisWidthRight&&!i.rotateXLabels&&!n.config.xaxis.labels.trim&&(r.dCtx.xPadRight=l/2+1)}(f)};o.yaxis.forEach(function(f,m){u?(r.dCtx.gridPad.left<l&&(r.dCtx.xPadLeft=l/2+1),r.dCtx.xPadRight=l/2+1):h(f,m)})}}]),t}(),EAe=function(){function t(e){Qt(this,t),this.w=e.w,this.dCtx=e}return er(t,[{key:"getyAxisLabelsCoords",value:function(){var e=this,r=this.w,n=[],i=10,o=new lh(this.dCtx.ctx);return r.config.yaxis.map(function(a,l){var u={seriesIndex:l,dataPointIndex:-1,w:r},h=r.globals.yAxisScale[l],f=0;if(!o.isYAxisHidden(l)&&a.labels.show&&a.labels.minWidth!==void 0&&(f=a.labels.minWidth),!o.isYAxisHidden(l)&&a.labels.show&&h.result.length){var m=r.globals.yLabelFormatters[l],x=h.niceMin===Number.MIN_VALUE?0:h.niceMin,w=h.result.reduce(function(N,D){var L,R;return((L=String(m(N,u)))===null||L===void 0?void 0:L.length)>((R=String(m(D,u)))===null||R===void 0?void 0:R.length)?N:D},x),S=w=m(w,u);if(w!==void 0&&w.length!==0||(w=h.niceMax),r.globals.isBarHorizontal){i=0;var C=r.globals.labels.slice();w=ze.getLargestStringFromArr(C),w=m(w,{seriesIndex:l,dataPointIndex:-1,w:r}),S=e.dCtx.dimHelpers.getLargestStringFromMultiArr(w,C)}var A=new bt(e.dCtx.ctx),E="rotate(".concat(a.labels.rotate," 0 0)"),P=A.getTextRects(w,a.labels.style.fontSize,a.labels.style.fontFamily,E,!1),I=P;w!==S&&(I=A.getTextRects(S,a.labels.style.fontSize,a.labels.style.fontFamily,E,!1)),n.push({width:(f>I.width||f>P.width?f:I.width>P.width?I.width:P.width)+i,height:I.height>P.height?I.height:P.height})}else n.push({width:0,height:0})}),n}},{key:"getyAxisTitleCoords",value:function(){var e=this,r=this.w,n=[];return r.config.yaxis.map(function(i,o){if(i.show&&i.title.text!==void 0){var a=new bt(e.dCtx.ctx),l="rotate(".concat(i.title.rotate," 0 0)"),u=a.getTextRects(i.title.text,i.title.style.fontSize,i.title.style.fontFamily,l,!1);n.push({width:u.width,height:u.height})}else n.push({width:0,height:0})}),n}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,r=0,n=0,i=0,o=e.globals.yAxisScale.length>1?10:0,a=new lh(this.dCtx.ctx),l=function(u,h){var f=e.config.yaxis[h].floating,m=0;u.width>0&&!f?(m=u.width+o,function(x){return e.globals.ignoreYAxisIndexes.indexOf(x)>-1}(h)&&(m=m-u.width-o)):m=f||a.isYAxisHidden(h)?0:5,e.config.yaxis[h].opposite?i+=m:n+=m,r+=m};return e.globals.yLabelsCoords.map(function(u,h){l(u,h)}),e.globals.yTitleCoords.map(function(u,h){l(u,h)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(r=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=n,this.dCtx.yAxisWidthRight=i,r}}]),t}(),TAe=function(){function t(e){Qt(this,t),this.w=e.w,this.dCtx=e}return er(t,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var r=this.w,n=r.config,i=r.globals;if(i.noData||i.collapsedSeries.length+i.ancillaryCollapsedSeries.length===n.series.length)return 0;var o=function(w){return["bar","rangeBar","candlestick","boxPlot"].includes(w)},a=n.chart.type,l=0,u=o(a)?n.series.length:1;i.comboBarCount>0&&(u=i.comboBarCount),i.collapsedSeries.forEach(function(w){o(w.type)&&(u-=1)}),n.chart.stacked&&(u=1);var h=o(a)||i.comboBarCount>0,f=Math.abs(i.initialMaxX-i.initialMinX);if(h&&i.isXNumeric&&!i.isBarHorizontal&&u>0&&f!==0){f<=3&&(f=i.dataPoints);var m=f/e,x=i.minXDiff&&i.minXDiff/m>0?i.minXDiff/m:0;x>e/2&&(x/=2),(l=x*parseInt(n.plotOptions.bar.columnWidth,10)/100)<1&&(l=1),i.barPadForNumericAxis=l}return l}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,r=this.w,n=r.globals,i=this.dCtx.isSparkline||!n.axisCharts?0:10;["title","subtitle"].forEach(function(l){r.config[l].text!==void 0?i+=r.config[l].margin:i+=e.dCtx.isSparkline||!n.axisCharts?0:5}),!r.config.legend.show||r.config.legend.position!=="bottom"||r.config.legend.floating||n.axisCharts||(i+=10);var o=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),a=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");n.gridHeight-=o.height+a.height+i,n.translateY+=o.height+a.height+i}},{key:"setGridXPosForDualYAxis",value:function(e,r){var n=this.w,i=new lh(this.dCtx.ctx);n.config.yaxis.forEach(function(o,a){n.globals.ignoreYAxisIndexes.indexOf(a)!==-1||o.floating||i.isYAxisHidden(a)||(o.opposite&&(n.globals.translateX-=r[a].width+e[a].width+parseInt(o.labels.style.fontSize,10)/1.2+12),n.globals.translateX<2&&(n.globals.translateX=2))})}}]),t}(),ub=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new CAe(this),this.dimYAxis=new EAe(this),this.dimXAxis=new kAe(this),this.dimGrid=new TAe(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return er(t,[{key:"plotCoords",value:function(){var e=this,r=this.w,n=r.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var i=Array.isArray(r.config.stroke.width)?Math.max.apply(Math,Oa(r.config.stroke.width)):r.config.stroke.width;this.isSparkline&&((r.config.markers.discrete.length>0||r.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(a){var l=VF(a,2),u=l[0],h=l[1];e.gridPad[u]=Math.max(h,e.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(i/2,this.gridPad.top),this.gridPad.bottom=Math.max(i/2,this.gridPad.bottom)),n.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),n.gridHeight=n.gridHeight-this.gridPad.top-this.gridPad.bottom,n.gridWidth=n.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var o=this.dimGrid.gridPadForColumnsInNumericAxis(n.gridWidth);n.gridWidth=n.gridWidth-2*o,n.translateX=n.translateX+this.gridPad.left+this.xPadLeft+(o>0?o:0),n.translateY=n.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,r=this.w,n=r.globals,i=this.dimYAxis.getyAxisLabelsCoords(),o=this.dimYAxis.getyAxisTitleCoords();n.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),r.globals.yLabelsCoords=[],r.globals.yTitleCoords=[],r.config.yaxis.map(function(w,S){r.globals.yLabelsCoords.push({width:i[S].width,index:S}),r.globals.yTitleCoords.push({width:o[S].width,index:S})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var a=this.dimXAxis.getxAxisLabelsCoords(),l=this.dimXAxis.getxAxisGroupLabelsCoords(),u=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(a,u,l),n.translateXAxisY=r.globals.rotateXLabels?this.xAxisHeight/8:-4,n.translateXAxisX=r.globals.rotateXLabels&&r.globals.isXNumeric&&r.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,r.globals.isBarHorizontal&&(n.rotateXLabels=!1,n.translateXAxisY=parseInt(r.config.xaxis.labels.style.fontSize,10)/1.5*-1),n.translateXAxisY=n.translateXAxisY+r.config.xaxis.labels.offsetY,n.translateXAxisX=n.translateXAxisX+r.config.xaxis.labels.offsetX;var h=this.yAxisWidth,f=this.xAxisHeight;n.xAxisLabelsHeight=this.xAxisHeight-u.height,n.xAxisGroupLabelsHeight=n.xAxisLabelsHeight-a.height,n.xAxisLabelsWidth=this.xAxisWidth,n.xAxisHeight=this.xAxisHeight;var m=10;(r.config.chart.type==="radar"||this.isSparkline)&&(h=0,f=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||r.config.chart.type==="treemap")&&(h=0,f=0,m=0),this.isSparkline||r.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(a);var x=function(){n.translateX=h+e.datalabelsCoords.width,n.gridHeight=n.svgHeight-e.lgRect.height-f-(e.isSparkline||r.config.chart.type==="treemap"?0:r.globals.rotateXLabels?10:15),n.gridWidth=n.svgWidth-h-2*e.datalabelsCoords.width};switch(r.config.xaxis.position==="top"&&(m=n.xAxisHeight-r.config.xaxis.axisTicks.height-5),r.config.legend.position){case"bottom":n.translateY=m,x();break;case"top":n.translateY=this.lgRect.height+m,x();break;case"left":n.translateY=m,n.translateX=this.lgRect.width+h+this.datalabelsCoords.width,n.gridHeight=n.svgHeight-f-12,n.gridWidth=n.svgWidth-this.lgRect.width-h-2*this.datalabelsCoords.width;break;case"right":n.translateY=m,n.translateX=h+this.datalabelsCoords.width,n.gridHeight=n.svgHeight-f-12,n.gridWidth=n.svgWidth-this.lgRect.width-h-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(o,i),new cA(this.ctx).setYAxisXPosition(i,o)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,r=e.globals,n=e.config,i=0;e.config.legend.show&&!e.config.legend.floating&&(i=20);var o=n.chart.type==="pie"||n.chart.type==="polarArea"||n.chart.type==="donut"?"pie":"radialBar",a=n.plotOptions[o].offsetY,l=n.plotOptions[o].offsetX;if(!n.legend.show||n.legend.floating){r.gridHeight=r.svgHeight;var u=r.dom.elWrap.getBoundingClientRect().width;return r.gridWidth=Math.min(u,r.gridHeight),r.translateY=a,void(r.translateX=l+(r.svgWidth-r.gridWidth)/2)}switch(n.legend.position){case"bottom":r.gridHeight=r.svgHeight-this.lgRect.height,r.gridWidth=r.svgWidth,r.translateY=a-10,r.translateX=l+(r.svgWidth-r.gridWidth)/2;break;case"top":r.gridHeight=r.svgHeight-this.lgRect.height,r.gridWidth=r.svgWidth,r.translateY=this.lgRect.height+a+10,r.translateX=l+(r.svgWidth-r.gridWidth)/2;break;case"left":r.gridWidth=r.svgWidth-this.lgRect.width-i,r.gridHeight=n.chart.height!=="auto"?r.svgHeight:r.gridWidth,r.translateY=a,r.translateX=l+this.lgRect.width+i;break;case"right":r.gridWidth=r.svgWidth-this.lgRect.width-i-5,r.gridHeight=n.chart.height!=="auto"?r.svgHeight:r.gridWidth,r.translateY=a,r.translateX=l+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,r,n){var i=this.w,o=i.globals.hasXaxisGroups?2:1,a=n.height+e.height+r.height,l=i.globals.isMultiLineX?1.2:i.globals.LINE_HEIGHT_RATIO,u=i.globals.rotateXLabels?22:10,h=i.globals.rotateXLabels&&i.config.legend.position==="bottom"?10:0;this.xAxisHeight=a*l+o*u+h,this.xAxisWidth=e.width,this.xAxisHeight-r.height>i.config.xaxis.labels.maxHeight&&(this.xAxisHeight=i.config.xaxis.labels.maxHeight),i.config.xaxis.labels.minHeight&&this.xAxisHeight<i.config.xaxis.labels.minHeight&&(this.xAxisHeight=i.config.xaxis.labels.minHeight),i.config.xaxis.floating&&(this.xAxisHeight=0);var f=0,m=0;i.config.yaxis.forEach(function(x){f+=x.labels.minWidth,m+=x.labels.maxWidth}),this.yAxisWidth<f&&(this.yAxisWidth=f),this.yAxisWidth>m&&(this.yAxisWidth=m)}}]),t}(),AAe=function(){function t(e){Qt(this,t),this.w=e.w,this.lgCtx=e}return er(t,[{key:"getLegendStyles",value:function(){var e,r,n,i=document.createElement("style");i.setAttribute("type","text/css");var o=((e=this.lgCtx.ctx)===null||e===void 0||(r=e.opts)===null||r===void 0||(n=r.chart)===null||n===void 0?void 0:n.nonce)||this.w.config.chart.nonce;o&&i.setAttribute("nonce",o);var a=document.createTextNode(`
      .apexcharts-flip-y {
        transform: scaleY(-1) translateY(-100%);
        transform-origin: top;
        transform-box: fill-box;
      }
      .apexcharts-flip-x {
        transform: scaleX(-1);
        transform-origin: center;
        transform-box: fill-box;
      }
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apexcharts-legend-group-horizontal {
        flex-direction: column;
      }
      .apexcharts-legend-group {
        display: flex;
      }
      .apexcharts-legend-group-vertical {
        flex-direction: column-reverse;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
        align-items: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
        align-items: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
        align-items: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-right: 1px;
      }

      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }

    `);return i.appendChild(a),i}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),r=e.width;return{clwh:e.height,clww:r}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,r){var n=this,i=this.w;if(i.globals.axisCharts||i.config.chart.type==="radialBar"){i.globals.resized=!0;var o=null,a=null;i.globals.risingSeries=[],i.globals.axisCharts?(o=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),a=parseInt(o.getAttribute("data:realIndex"),10)):(o=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),a=parseInt(o.getAttribute("rel"),10)-1),r?[{cs:i.globals.collapsedSeries,csi:i.globals.collapsedSeriesIndices},{cs:i.globals.ancillaryCollapsedSeries,csi:i.globals.ancillaryCollapsedSeriesIndices}].forEach(function(f){n.riseCollapsedSeries(f.cs,f.csi,a)}):this.hideSeries({seriesEl:o,realIndex:a})}else{var l=i.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),u=i.config.chart.type;if(u==="pie"||u==="polarArea"||u==="donut"){var h=i.config.plotOptions.pie.donut.labels;new bt(this.lgCtx.ctx).pathMouseDown(l,null),this.lgCtx.ctx.pie.printDataLabelsInner(l.node,h)}l.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var r=e.realIndex,n=this.w,i=n.globals,o=ze.clone(n.config.series);if(i.axisCharts){var a=n.config.yaxis[i.seriesYAxisReverseMap[r]],l={index:r,data:o[r].data.slice(),type:o[r].type||n.config.chart.type};if(a&&a.show&&a.showAlways)i.ancillaryCollapsedSeriesIndices.indexOf(r)<0&&(i.ancillaryCollapsedSeries.push(l),i.ancillaryCollapsedSeriesIndices.push(r));else if(i.collapsedSeriesIndices.indexOf(r)<0){i.collapsedSeries.push(l),i.collapsedSeriesIndices.push(r);var u=i.risingSeries.indexOf(r);i.risingSeries.splice(u,1)}}else i.collapsedSeries.push({index:r,data:o[r]}),i.collapsedSeriesIndices.push(r);return i.allSeriesCollapsed=i.collapsedSeries.length+i.ancillaryCollapsedSeries.length===n.config.series.length,this._getSeriesBasedOnCollapsedState(o)}},{key:"hideSeries",value:function(e){for(var r=e.seriesEl,n=e.realIndex,i=this.w,o=this.getSeriesAfterCollapsing({realIndex:n}),a=r.childNodes,l=0;l<a.length;l++)a[l].classList.contains("apexcharts-series-markers-wrap")&&(a[l].classList.contains("apexcharts-hide")?a[l].classList.remove("apexcharts-hide"):a[l].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(o,i.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,r,n){var i=this.w,o=ze.clone(i.config.series);if(e.length>0){for(var a=0;a<e.length;a++)e[a].index===n&&(i.globals.axisCharts?o[n].data=e[a].data.slice():o[n]=e[a].data,typeof o[n]!="number"&&(o[n].hidden=!1),e.splice(a,1),r.splice(a,1),i.globals.risingSeries.push(n));o=this._getSeriesBasedOnCollapsedState(o),this.lgCtx.ctx.updateHelpers._updateSeries(o,i.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var r=this.w,n=0;return r.globals.axisCharts?e.forEach(function(i,o){r.globals.collapsedSeriesIndices.indexOf(o)<0&&r.globals.ancillaryCollapsedSeriesIndices.indexOf(o)<0||(e[o].data=[],n++)}):e.forEach(function(i,o){!r.globals.collapsedSeriesIndices.indexOf(o)<0&&(e[o]=0,n++)}),r.globals.allSeriesCollapsed=n===e.length,e}}]),t}(),S8=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new AAe(this)}return er(t,[{key:"init",value:function(){var e=this.w,r=e.globals,n=e.config,i=n.legend.showForSingleSeries&&r.series.length===1||this.isBarsDistributed||r.series.length>1;if(this.legendHelpers.appendToForeignObject(),(i||!r.axisCharts)&&n.legend.show){for(;r.dom.elLegendWrap.firstChild;)r.dom.elLegendWrap.removeChild(r.dom.elLegendWrap.firstChild);this.drawLegends(),n.legend.position==="bottom"||n.legend.position==="top"?this.legendAlignHorizontal():n.legend.position!=="right"&&n.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var r=e.i,n=e.fillcolor,i=this.w,o=document.createElement("span");o.classList.add("apexcharts-legend-marker");var a=i.config.legend.markers.shape||i.config.markers.shape,l=a;Array.isArray(a)&&(l=a[r]);var u=Array.isArray(i.config.legend.markers.size)?parseFloat(i.config.legend.markers.size[r]):parseFloat(i.config.legend.markers.size),h=Array.isArray(i.config.legend.markers.offsetX)?parseFloat(i.config.legend.markers.offsetX[r]):parseFloat(i.config.legend.markers.offsetX),f=Array.isArray(i.config.legend.markers.offsetY)?parseFloat(i.config.legend.markers.offsetY[r]):parseFloat(i.config.legend.markers.offsetY),m=Array.isArray(i.config.legend.markers.strokeWidth)?parseFloat(i.config.legend.markers.strokeWidth[r]):parseFloat(i.config.legend.markers.strokeWidth),x=o.style;if(x.height=2*(u+m)+"px",x.width=2*(u+m)+"px",x.left=h+"px",x.top=f+"px",i.config.legend.markers.customHTML)x.background="transparent",x.color=n[r],Array.isArray(i.config.legend.markers.customHTML)?i.config.legend.markers.customHTML[r]&&(o.innerHTML=i.config.legend.markers.customHTML[r]()):o.innerHTML=i.config.legend.markers.customHTML();else{var w=new km(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(l),seriesIndex:r,strokeWidth:m,size:u}),S=window.SVG().addTo(o).size("100%","100%"),C=new bt(this.ctx).drawMarker(0,0,Ft(Ft({},w),{},{pointFillColor:Array.isArray(n)?n[r]:w.pointFillColor,shape:l}));i.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(A){A.node.classList.contains("apexcharts-marker-triangle")?A.node.style.transform="translate(50%, 45%)":A.node.style.transform="translate(50%, 50%)"}),S.add(C)}return o}},{key:"drawLegends",value:function(){var e=this,r=this,n=this.w,i=n.config.legend.fontFamily,o=n.globals.seriesNames,a=n.config.legend.markers.fillColors?n.config.legend.markers.fillColors.slice():n.globals.colors.slice();if(n.config.chart.type==="heatmap"){var l=n.config.plotOptions.heatmap.colorScale.ranges;o=l.map(function(w){return w.name?w.name:w.from+" - "+w.to}),a=l.map(function(w){return w.color})}else this.isBarsDistributed&&(o=n.globals.labels.slice());n.config.legend.customLegendItems.length&&(o=n.config.legend.customLegendItems);var u=n.globals.legendFormatter,h=n.config.legend.inverseOrder,f=[];n.globals.seriesGroups.length>1&&n.config.legend.clusterGroupedSeries&&n.globals.seriesGroups.forEach(function(w,S){f[S]=document.createElement("div"),f[S].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(S)),n.config.legend.clusterGroupedSeriesOrientation==="horizontal"?n.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):f[S].classList.add("apexcharts-legend-group-vertical")});for(var m=function(w){var S,C=u(o[w],{seriesIndex:w,w:n}),A=!1,E=!1;if(n.globals.collapsedSeries.length>0)for(var P=0;P<n.globals.collapsedSeries.length;P++)n.globals.collapsedSeries[P].index===w&&(A=!0);if(n.globals.ancillaryCollapsedSeriesIndices.length>0)for(var I=0;I<n.globals.ancillaryCollapsedSeriesIndices.length;I++)n.globals.ancillaryCollapsedSeriesIndices[I]===w&&(E=!0);var N=e.createLegendMarker({i:w,fillcolor:a});bt.setAttrs(N,{rel:w+1,"data:collapsed":A||E}),(A||E)&&N.classList.add("apexcharts-inactive-legend");var D=document.createElement("div"),L=document.createElement("span");L.classList.add("apexcharts-legend-text"),L.innerHTML=Array.isArray(C)?C.join(" "):C;var R=n.config.legend.labels.useSeriesColors?n.globals.colors[w]:Array.isArray(n.config.legend.labels.colors)?(S=n.config.legend.labels.colors)===null||S===void 0?void 0:S[w]:n.config.legend.labels.colors;R||(R=n.config.chart.foreColor),L.style.color=R,L.style.fontSize=parseFloat(n.config.legend.fontSize)+"px",L.style.fontWeight=n.config.legend.fontWeight,L.style.fontFamily=i||n.config.chart.fontFamily,bt.setAttrs(L,{rel:w+1,i:w,"data:default-text":encodeURIComponent(C),"data:collapsed":A||E}),D.appendChild(N),D.appendChild(L);var $=new Qi(e.ctx);n.config.legend.showForZeroSeries||$.getSeriesTotalByIndex(w)===0&&$.seriesHaveSameValues(w)&&!$.isSeriesNull(w)&&n.globals.collapsedSeriesIndices.indexOf(w)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(w)===-1&&D.classList.add("apexcharts-hidden-zero-series"),n.config.legend.showForNullSeries||$.isSeriesNull(w)&&n.globals.collapsedSeriesIndices.indexOf(w)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(w)===-1&&D.classList.add("apexcharts-hidden-null-series"),f.length?n.globals.seriesGroups.forEach(function(W,J){var q;W.includes((q=n.config.series[w])===null||q===void 0?void 0:q.name)&&(n.globals.dom.elLegendWrap.appendChild(f[J]),f[J].appendChild(D))}):n.globals.dom.elLegendWrap.appendChild(D),n.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(n.config.legend.horizontalAlign)),n.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+n.config.legend.position),D.classList.add("apexcharts-legend-series"),D.style.margin="".concat(n.config.legend.itemMargin.vertical,"px ").concat(n.config.legend.itemMargin.horizontal,"px"),n.globals.dom.elLegendWrap.style.width=n.config.legend.width?n.config.legend.width+"px":"",n.globals.dom.elLegendWrap.style.height=n.config.legend.height?n.config.legend.height+"px":"",bt.setAttrs(D,{rel:w+1,seriesName:ze.escapeString(o[w]),"data:collapsed":A||E}),(A||E)&&D.classList.add("apexcharts-inactive-legend"),n.config.legend.onItemClick.toggleDataSeries||D.classList.add("apexcharts-no-click")},x=h?o.length-1:0;h?x>=0:x<=o.length-1;h?x--:x++)m(x);n.globals.dom.elWrap.addEventListener("click",r.onLegendClick,!0),n.config.legend.onItemHover.highlightDataSeries&&n.config.legend.customLegendItems.length===0&&(n.globals.dom.elWrap.addEventListener("mousemove",r.onLegendHovered,!0),n.globals.dom.elWrap.addEventListener("mouseout",r.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,r){var n=this.w,i=n.globals.dom.elLegendWrap,o=i.clientHeight,a=0,l=0;if(n.config.legend.position==="bottom")l=n.globals.svgHeight-Math.min(o,n.globals.svgHeight/2)-5;else if(n.config.legend.position==="top"){var u=new ub(this.ctx),h=u.dimHelpers.getTitleSubtitleCoords("title").height,f=u.dimHelpers.getTitleSubtitleCoords("subtitle").height;l=(h>0?h-10:0)+(f>0?f-10:0)}i.style.position="absolute",a=a+e+n.config.legend.offsetX,l=l+r+n.config.legend.offsetY,i.style.left=a+"px",i.style.top=l+"px",n.config.legend.position==="right"&&(i.style.left="auto",i.style.right=25+n.config.legend.offsetX+"px"),["width","height"].forEach(function(m){i.style[m]&&(i.style[m]=parseInt(n.config.legend[m],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var r=new ub(this.ctx),n=r.dimHelpers.getTitleSubtitleCoords("title"),i=r.dimHelpers.getTitleSubtitleCoords("subtitle"),o=0;e.config.legend.position==="top"&&(o=n.height+i.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,o)}},{key:"legendAlignVertical",value:function(){var e=this.w,r=this.legendHelpers.getLegendDimensions(),n=0;e.config.legend.position==="left"&&(n=20),e.config.legend.position==="right"&&(n=e.globals.svgWidth-r.clww-10),this.setLegendWrapXY(n,20)}},{key:"onLegendHovered",value:function(e){var r=this.w,n=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(r.config.chart.type==="heatmap"||this.isBarsDistributed){if(n){var i=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,i,this.w]),new zs(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&n&&new zs(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var r=this.w;if(!r.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var n=parseInt(e.target.getAttribute("rel"),10)-1,i=e.target.getAttribute("data:collapsed")==="true",o=this.w.config.chart.events.legendClick;typeof o=="function"&&o(this.ctx,n,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,n,this.w]);var a=this.w.config.legend.markers.onClick;typeof a=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(a(this.ctx,n,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,n,this.w])),r.config.chart.type!=="treemap"&&r.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&r.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(n,i)}}}]),t}(),C8=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w;var r=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=r.globals.minX,this.maxX=r.globals.maxX}return er(t,[{key:"createToolbar",value:function(){var e=this,r=this.w,n=function(){return document.createElement("div")},i=n();if(i.setAttribute("class","apexcharts-toolbar"),i.style.top=r.config.chart.toolbar.offsetY+"px",i.style.right=3-r.config.chart.toolbar.offsetX+"px",r.globals.dom.elWrap.appendChild(i),this.elZoom=n(),this.elZoomIn=n(),this.elZoomOut=n(),this.elPan=n(),this.elSelection=n(),this.elZoomReset=n(),this.elMenuIcon=n(),this.elMenu=n(),this.elCustomIcons=[],this.t=r.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var o=0;o<this.t.customIcons.length;o++)this.elCustomIcons.push(n());var a=[],l=function(m,x,w){var S=m.toLowerCase();e.t[S]&&r.config.chart.zoom.enabled&&a.push({el:x,icon:typeof e.t[S]=="string"?e.t[S]:w,title:e.localeValues[m],class:"apexcharts-".concat(S,"-icon")})};l("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),l("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var u=function(m){e.t[m]&&r.config.chart[m].enabled&&a.push({el:m==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[m]=="string"?e.t[m]:m==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[m==="zoom"?"selectionZoom":"selection"],class:r.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(m,"-icon")})};u("zoom"),u("selection"),this.t.pan&&r.config.chart.zoom.enabled&&a.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:r.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),l("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&a.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var h=0;h<this.elCustomIcons.length;h++)a.push({el:this.elCustomIcons[h],icon:this.t.customIcons[h].icon,title:this.t.customIcons[h].title,index:this.t.customIcons[h].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[h].class});a.forEach(function(m,x){m.index&&ze.moveIndexInArray(a,x,m.index)});for(var f=0;f<a.length;f++)bt.setAttrs(a[f].el,{class:a[f].class,title:a[f].title}),a[f].el.innerHTML=a[f].icon,i.appendChild(a[f].el);this._createHamburgerMenu(i),r.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):r.globals.panEnabled?this.elPan.classList.add(this.selectedClass):r.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),bt.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var r=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],n=0;n<r.length;n++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[n].innerHTML=r[n].title,bt.setAttrs(this.elMenuItems[n],{class:"apexcharts-menu-item ".concat(r[n].name),title:r[n].title}),this.elMenu.appendChild(this.elMenuItems[n])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(n){n.classList.contains("exportSVG")?n.addEventListener("click",e.handleDownload.bind(e,"svg")):n.classList.contains("exportPNG")?n.addEventListener("click",e.handleDownload.bind(e,"png")):n.classList.contains("exportCSV")&&n.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var r=0;r<this.t.customIcons.length;r++)this.elCustomIcons[r].addEventListener("click",this.t.customIcons[r].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(r){r.ctx.toolbar.toggleOtherControls();var n=e==="selection"?r.ctx.toolbar.elSelection:r.ctx.toolbar.elZoom,i=e==="selection"?"selectionEnabled":"zoomEnabled";r.w.globals[i]=!r.w.globals[i],n.classList.contains(r.ctx.toolbar.selectedClass)?n.classList.remove(r.ctx.toolbar.selectedClass):n.classList.add(r.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var r=e==="pan"?this.elPan:this.elZoom,n=e==="pan"?this.elZoom:this.elPan;r&&r.classList.add(this.selectedClass),n&&n.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,r=this.w;r.globals.panEnabled=!1,r.globals.zoomEnabled=!1,r.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(n){n&&n.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var r=(this.minX+this.maxX)/2,n=(this.minX+r)/2,i=(this.maxX+r)/2,o=this._getNewMinXMaxX(n,i);e.globals.disableZoomIn||this.zoomUpdateOptions(o.minX,o.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var r=(this.minX+this.maxX)/2,n=this.minX-(r-this.minX),i=this.maxX-(r-this.maxX),o=this._getNewMinXMaxX(n,i);e.globals.disableZoomOut||this.zoomUpdateOptions(o.minX,o.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,r){var n=this.w.config.xaxis.convertedCatToNumeric;return{minX:n?Math.floor(e):e,maxX:n?Math.floor(r):r}}},{key:"zoomUpdateOptions",value:function(e,r){var n=this.w;if(e!==void 0||r!==void 0){if(!(n.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,r=n.globals.dataPoints),r-e<2))){var i={min:e,max:r},o=this.getBeforeZoomRange(i);o&&(i=o.xaxis);var a={xaxis:i},l=ze.clone(n.globals.initialConfig.yaxis);n.config.chart.group||(a.yaxis=l),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(a,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(i,l)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,r){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:e,yaxis:r})}},{key:"getBeforeZoomRange",value:function(e,r){var n=null;return typeof this.ev.beforeZoom=="function"&&(n=this.ev.beforeZoom(this,{xaxis:e,yaxis:r})),n}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var r=this.w,n=new cb(this.ctx);switch(e){case"svg":n.exportToSVG(this.ctx);break;case"png":n.exportToPng(this.ctx);break;case"csv":n.exportToCSV({series:r.config.series,columnDelimiter:r.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(r){var n=r.w;if(n.globals.lastXAxis.min=n.globals.initialConfig.xaxis.min,n.globals.lastXAxis.max=n.globals.initialConfig.xaxis.max,r.updateHelpers.revertDefaultAxisMinMax(),typeof n.config.chart.events.beforeResetZoom=="function"){var i=n.config.chart.events.beforeResetZoom(r,n);i&&r.updateHelpers.revertDefaultAxisMinMax(i)}typeof n.config.chart.events.zoomed=="function"&&r.ctx.toolbar.zoomCallback({min:n.config.xaxis.min,max:n.config.xaxis.max}),n.globals.zoomed=!1;var o=r.ctx.series.emptyCollapsedSeries(ze.clone(n.globals.initialSeries));r.updateHelpers._updateSeries(o,n.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),t}(),PAe=function(t){xy(r,C8);var e=yy(r);function r(n){var i;return Qt(this,r),(i=e.call(this,n)).ctx=n,i.w=n.w,i.dragged=!1,i.graphics=new bt(i.ctx),i.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],i.clientX=0,i.clientY=0,i.startX=0,i.endX=0,i.dragX=0,i.startY=0,i.endY=0,i.dragY=0,i.moveDirection="none",i.debounceTimer=null,i.debounceDelay=100,i.wheelDelay=400,i}return er(r,[{key:"init",value:function(n){var i=this,o=n.xyRatios,a=this.w,l=this;this.xyRatios=o,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=a.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new Ji(0,0,a.globals.gridWidth,a.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),a.globals.dom.Paper.add(this.zoomRect),a.globals.dom.Paper.add(this.selectionRect),a.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:a.globals.gridWidth,maxY:a.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):a.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:a.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=a.globals.dom.baseEl.querySelector("".concat(a.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(u){i.hoverArea.addEventListener(u,l.svgMouseEvents.bind(l,o),{capture:!1,passive:!0})}),a.config.chart.zoom.enabled&&a.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",l.mouseWheelEvent.bind(l),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(n,i){var o=this.w,a=this.ctx.toolbar,l=o.globals.zoomEnabled?o.config.chart.zoom.type:o.config.chart.selection.type,u=o.config.chart.toolbar.autoSelected;if(i.shiftKey?(this.shiftWasPressed=!0,a.enableZoomPanFromToolbar(u==="pan"?"zoom":"pan")):this.shiftWasPressed&&(a.enableZoomPanFromToolbar(u),this.shiftWasPressed=!1),i.target){var h,f=i.target.classList;if(i.target.parentNode&&i.target.parentNode!==null&&(h=i.target.parentNode.classList),!(f.contains("apexcharts-legend-marker")||f.contains("apexcharts-legend-text")||h&&h.contains("apexcharts-toolbar"))){if(this.clientX=i.type==="touchmove"||i.type==="touchstart"?i.touches[0].clientX:i.type==="touchend"?i.changedTouches[0].clientX:i.clientX,this.clientY=i.type==="touchmove"||i.type==="touchstart"?i.touches[0].clientY:i.type==="touchend"?i.changedTouches[0].clientY:i.clientY,i.type==="mousedown"&&i.which===1||i.type==="touchstart"){var m=this.gridRect.getBoundingClientRect();this.startX=this.clientX-m.left-o.globals.barPadForNumericAxis,this.startY=this.clientY-m.top,this.dragged=!1,this.w.globals.mousedown=!0}(i.type==="mousemove"&&i.which===1||i.type==="touchmove")&&(this.dragged=!0,o.globals.panEnabled?(o.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:l,xyRatios:n})):(this.w.globals.mousedown&&o.globals.zoomEnabled||this.w.globals.mousedown&&o.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:l}))),i.type!=="mouseup"&&i.type!=="touchend"&&i.type!=="mouseleave"||this.handleMouseUp({zoomtype:l}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(n){var i,o=n.zoomtype,a=n.isResized,l=this.w,u=(i=this.gridRect)===null||i===void 0?void 0:i.getBoundingClientRect();u&&(this.w.globals.mousedown||a)&&(this.endX=this.clientX-u.left-l.globals.barPadForNumericAxis,this.endY=this.clientY-u.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(l.globals.zoomEnabled||l.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:o}),l.globals.panEnabled&&l.config.xaxis.convertedCatToNumeric&&this.delayedPanScrolled()),l.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(n){var i=this,o=this.w;n.preventDefault();var a=Date.now();a-o.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(n),o.globals.lastWheelExecution=a),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){a-o.globals.lastWheelExecution>i.wheelDelay&&(i.executeMouseWheelZoom(n),o.globals.lastWheelExecution=a)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(n){var i,o=this.w;this.minX=o.globals.isRangeBar?o.globals.minY:o.globals.minX,this.maxX=o.globals.isRangeBar?o.globals.maxY:o.globals.maxX;var a=(i=this.gridRect)===null||i===void 0?void 0:i.getBoundingClientRect();if(a){var l,u,h,f=(n.clientX-a.left)/a.width,m=this.minX,x=this.maxX,w=x-m;if(n.deltaY<0){var S=m+f*w;u=S-(l=.5*w)/2,h=S+l/2}else u=m-(l=1.5*w)/2,h=x+l/2;if(!o.globals.isRangeBar){u=Math.max(u,o.globals.initialMinX),h=Math.min(h,o.globals.initialMaxX);var C=.01*(o.globals.initialMaxX-o.globals.initialMinX);if(h-u<C){var A=(u+h)/2;u=A-C/2,h=A+C/2}}var E=this._getNewMinXMaxX(u,h);isNaN(E.minX)||isNaN(E.maxX)||this.zoomUpdateOptions(E.minX,E.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var n=this,i=this.w;if(this.selectionRect){var o=this.selectionRect.node.getBoundingClientRect();o.width>0&&o.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(a,l,u,h,f){return f==="l"||f==="r"?a.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):a.circle(0)},updateHandle:function(a,l){return a.center(l[0],l[1])}}).resize().on("resize",function(){var a=i.globals.zoomEnabled?i.config.chart.zoom.type:i.config.chart.selection.type;n.handleMouseUp({zoomtype:a,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var n=this.w,i=this.xyRatios;if(!n.globals.zoomEnabled){if(n.globals.selection!==void 0&&n.globals.selection!==null)this.drawSelectionRect(Ft(Ft({},n.globals.selection),{},{translateX:n.globals.translateX,translateY:n.globals.translateY}));else if(n.config.chart.selection.xaxis.min!==void 0&&n.config.chart.selection.xaxis.max!==void 0){var o=(n.config.chart.selection.xaxis.min-n.globals.minX)/i.xRatio,a=n.globals.gridWidth-(n.globals.maxX-n.config.chart.selection.xaxis.max)/i.xRatio-o;n.globals.isRangeBar&&(o=(n.config.chart.selection.xaxis.min-n.globals.yAxisScale[0].niceMin)/i.invertedYRatio,a=(n.config.chart.selection.xaxis.max-n.config.chart.selection.xaxis.min)/i.invertedYRatio);var l={x:o,y:0,width:a,height:n.globals.gridHeight,translateX:n.globals.translateX,translateY:n.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(l),this.makeSelectionRectDraggable(),typeof n.config.chart.events.selection=="function"&&n.config.chart.events.selection(this.ctx,{xaxis:{min:n.config.chart.selection.xaxis.min,max:n.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(n){var i=n.x,o=n.y,a=n.width,l=n.height,u=n.translateX,h=u===void 0?0:u,f=n.translateY,m=f===void 0?0:f,x=this.w,w=this.zoomRect,S=this.selectionRect;if(this.dragged||x.globals.selection!==null){var C={transform:"translate("+h+", "+m+")"};x.globals.zoomEnabled&&this.dragged&&(a<0&&(a=1),w.attr({x:i,y:o,width:a,height:l,fill:x.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":x.config.chart.zoom.zoomedArea.fill.opacity,stroke:x.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":x.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":x.config.chart.zoom.zoomedArea.stroke.opacity}),bt.setAttrs(w.node,C)),x.globals.selectionEnabled&&(S.attr({x:i,y:o,width:a>0?a:0,height:l>0?l:0,fill:x.config.chart.selection.fill.color,"fill-opacity":x.config.chart.selection.fill.opacity,stroke:x.config.chart.selection.stroke.color,"stroke-width":x.config.chart.selection.stroke.width,"stroke-dasharray":x.config.chart.selection.stroke.dashArray,"stroke-opacity":x.config.chart.selection.stroke.opacity}),bt.setAttrs(S.node,C))}}},{key:"hideSelectionRect",value:function(n){n&&n.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(n){var i=n.context,o=n.zoomtype,a=this.w,l=i,u=this.gridRect.getBoundingClientRect(),h=l.startX-1,f=l.startY,m=!1,x=!1,w=l.clientX-u.left-a.globals.barPadForNumericAxis,S=l.clientY-u.top,C=w-h,A=S-f,E={translateX:a.globals.translateX,translateY:a.globals.translateY};return Math.abs(C+h)>a.globals.gridWidth?C=a.globals.gridWidth-h:w<0&&(C=h),h>w&&(m=!0,C=Math.abs(C)),f>S&&(x=!0,A=Math.abs(A)),E=Ft(Ft({},E=o==="x"?{x:m?h-C:h,y:0,width:C,height:a.globals.gridHeight}:o==="y"?{x:0,y:x?f-A:f,width:a.globals.gridWidth,height:A}:{x:m?h-C:h,y:x?f-A:f,width:C,height:A}),{},{translateX:a.globals.translateX,translateY:a.globals.translateY}),l.drawSelectionRect(E),l.selectionDragging("resizing"),E}},{key:"selectionDragging",value:function(n,i){var o=this,a=this.w;if(i){i.preventDefault();var l=i.detail,u=l.handler,h=l.box,f=h.x,m=h.y;f<this.constraints.x&&(f=this.constraints.x),m<this.constraints.y&&(m=this.constraints.y),h.x2>this.constraints.x2&&(f=this.constraints.x2-h.w),h.y2>this.constraints.y2&&(m=this.constraints.y2-h.h),u.move(f,m);var x=this.xyRatios,w=this.selectionRect,S=0;n==="resizing"&&(S=30);var C=function(E){return parseFloat(w.node.getAttribute(E))},A={x:C("x"),y:C("y"),width:C("width"),height:C("height")};a.globals.selection=A,typeof a.config.chart.events.selection=="function"&&a.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var E,P,I,N,D=o.gridRect.getBoundingClientRect(),L=w.node.getBoundingClientRect();a.globals.isRangeBar?(E=a.globals.yAxisScale[0].niceMin+(L.left-D.left)*x.invertedYRatio,P=a.globals.yAxisScale[0].niceMin+(L.right-D.left)*x.invertedYRatio,I=0,N=1):(E=a.globals.xAxisScale.niceMin+(L.left-D.left)*x.xRatio,P=a.globals.xAxisScale.niceMin+(L.right-D.left)*x.xRatio,I=a.globals.yAxisScale[0].niceMin+(D.bottom-L.bottom)*x.yRatio[0],N=a.globals.yAxisScale[0].niceMax-(L.top-D.top)*x.yRatio[0]);var R={xaxis:{min:E,max:P},yaxis:{min:I,max:N}};a.config.chart.events.selection(o.ctx,R),a.config.chart.brush.enabled&&a.config.chart.events.brushScrolled!==void 0&&a.config.chart.events.brushScrolled(o.ctx,R)},S))}}},{key:"selectionDrawn",value:function(n){var i=n.context,o=n.zoomtype,a=this.w,l=i,u=this.xyRatios,h=this.ctx.toolbar;if(l.startX>l.endX){var f=l.startX;l.startX=l.endX,l.endX=f}if(l.startY>l.endY){var m=l.startY;l.startY=l.endY,l.endY=m}var x=void 0,w=void 0;a.globals.isRangeBar?(x=a.globals.yAxisScale[0].niceMin+l.startX*u.invertedYRatio,w=a.globals.yAxisScale[0].niceMin+l.endX*u.invertedYRatio):(x=a.globals.xAxisScale.niceMin+l.startX*u.xRatio,w=a.globals.xAxisScale.niceMin+l.endX*u.xRatio);var S=[],C=[];if(a.config.yaxis.forEach(function(L,R){var $=a.globals.seriesYAxisMap[R][0];S.push(a.globals.yAxisScale[R].niceMax-u.yRatio[$]*l.startY),C.push(a.globals.yAxisScale[R].niceMax-u.yRatio[$]*l.endY)}),l.dragged&&(l.dragX>10||l.dragY>10)&&x!==w){if(a.globals.zoomEnabled){var A=ze.clone(a.globals.initialConfig.yaxis),E=ze.clone(a.globals.initialConfig.xaxis);if(a.globals.zoomed=!0,a.config.xaxis.convertedCatToNumeric&&(x=Math.floor(x),w=Math.floor(w),x<1&&(x=1,w=a.globals.dataPoints),w-x<2&&(w=x+1)),o!=="xy"&&o!=="x"||(E={min:x,max:w}),o!=="xy"&&o!=="y"||A.forEach(function(L,R){A[R].min=C[R],A[R].max=S[R]}),h){var P=h.getBeforeZoomRange(E,A);P&&(E=P.xaxis?P.xaxis:E,A=P.yaxis?P.yaxis:A)}var I={xaxis:E};a.config.chart.group||(I.yaxis=A),l.ctx.updateHelpers._updateOptions(I,!1,l.w.config.chart.animations.dynamicAnimation.enabled),typeof a.config.chart.events.zoomed=="function"&&h.zoomCallback(E,A)}else if(a.globals.selectionEnabled){var N,D=null;N={min:x,max:w},o!=="xy"&&o!=="y"||(D=ze.clone(a.config.yaxis)).forEach(function(L,R){D[R].min=C[R],D[R].max=S[R]}),a.globals.selection=l.selection,typeof a.config.chart.events.selection=="function"&&a.config.chart.events.selection(l.ctx,{xaxis:N,yaxis:D})}}}},{key:"panDragging",value:function(n){var i=n.context,o=this.w,a=i;if(o.globals.lastClientPosition.x!==void 0){var l=o.globals.lastClientPosition.x-a.clientX,u=o.globals.lastClientPosition.y-a.clientY;Math.abs(l)>Math.abs(u)&&l>0?this.moveDirection="left":Math.abs(l)>Math.abs(u)&&l<0?this.moveDirection="right":Math.abs(u)>Math.abs(l)&&u>0?this.moveDirection="up":Math.abs(u)>Math.abs(l)&&u<0&&(this.moveDirection="down")}o.globals.lastClientPosition={x:a.clientX,y:a.clientY};var h=o.globals.isRangeBar?o.globals.minY:o.globals.minX,f=o.globals.isRangeBar?o.globals.maxY:o.globals.maxX;o.config.xaxis.convertedCatToNumeric||a.panScrolled(h,f)}},{key:"delayedPanScrolled",value:function(){var n=this.w,i=n.globals.minX,o=n.globals.maxX,a=(n.globals.maxX-n.globals.minX)/2;this.moveDirection==="left"?(i=n.globals.minX+a,o=n.globals.maxX+a):this.moveDirection==="right"&&(i=n.globals.minX-a,o=n.globals.maxX-a),i=Math.floor(i),o=Math.floor(o),this.updateScrolledChart({xaxis:{min:i,max:o}},i,o)}},{key:"panScrolled",value:function(n,i){var o=this.w,a=this.xyRatios,l=ze.clone(o.globals.initialConfig.yaxis),u=a.xRatio,h=o.globals.minX,f=o.globals.maxX;o.globals.isRangeBar&&(u=a.invertedYRatio,h=o.globals.minY,f=o.globals.maxY),this.moveDirection==="left"?(n=h+o.globals.gridWidth/15*u,i=f+o.globals.gridWidth/15*u):this.moveDirection==="right"&&(n=h-o.globals.gridWidth/15*u,i=f-o.globals.gridWidth/15*u),o.globals.isRangeBar||(n<o.globals.initialMinX||i>o.globals.initialMaxX)&&(n=h,i=f);var m={xaxis:{min:n,max:i}};o.config.chart.group||(m.yaxis=l),this.updateScrolledChart(m,n,i)}},{key:"updateScrolledChart",value:function(n,i,o){var a=this.w;this.ctx.updateHelpers._updateOptions(n,!1,!1),typeof a.config.chart.events.scrolled=="function"&&a.config.chart.events.scrolled(this.ctx,{xaxis:{min:i,max:o}})}}]),r}(),k8=function(){function t(e){Qt(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return er(t,[{key:"getNearestValues",value:function(e){var r=e.hoverArea,n=e.elGrid,i=e.clientX,o=e.clientY,a=this.w,l=n.getBoundingClientRect(),u=l.width,h=l.height,f=u/(a.globals.dataPoints-1),m=h/a.globals.dataPoints,x=this.hasBars();!a.globals.comboCharts&&!x||a.config.xaxis.convertedCatToNumeric||(f=u/a.globals.dataPoints);var w=i-l.left-a.globals.barPadForNumericAxis,S=o-l.top;w<0||S<0||w>u||S>h?(r.classList.remove("hovering-zoom"),r.classList.remove("hovering-pan")):a.globals.zoomEnabled?(r.classList.remove("hovering-pan"),r.classList.add("hovering-zoom")):a.globals.panEnabled&&(r.classList.remove("hovering-zoom"),r.classList.add("hovering-pan"));var C=Math.round(w/f),A=Math.floor(S/m);x&&!a.config.xaxis.convertedCatToNumeric&&(C=Math.ceil(w/f),C-=1);var E=null,P=null,I=a.globals.seriesXvalues.map(function($){return $.filter(function(W){return ze.isNumber(W)})}),N=a.globals.seriesYvalues.map(function($){return $.filter(function(W){return ze.isNumber(W)})});if(a.globals.isXNumeric){var D=this.ttCtx.getElGrid().getBoundingClientRect(),L=w*(D.width/u),R=S*(D.height/h);E=(P=this.closestInMultiArray(L,R,I,N)).index,C=P.j,E!==null&&(I=a.globals.seriesXvalues[E],C=(P=this.closestInArray(L,I)).index)}return a.globals.capturedSeriesIndex=E===null?-1:E,(!C||C<1)&&(C=0),a.globals.isBarHorizontal?a.globals.capturedDataPointIndex=A:a.globals.capturedDataPointIndex=C,{capturedSeries:E,j:a.globals.isBarHorizontal?A:C,hoverX:w,hoverY:S}}},{key:"closestInMultiArray",value:function(e,r,n,i){var o=this.w,a=0,l=null,u=-1;o.globals.series.length>1?a=this.getFirstActiveXArray(n):l=0;var h=n[a][0],f=Math.abs(e-h);if(n.forEach(function(w){w.forEach(function(S,C){var A=Math.abs(e-S);A<=f&&(f=A,u=C)})}),u!==-1){var m=i[a][u],x=Math.abs(r-m);l=a,i.forEach(function(w,S){var C=Math.abs(r-w[u]);C<=x&&(x=C,l=S)})}return{index:l,j:u}}},{key:"getFirstActiveXArray",value:function(e){for(var r=this.w,n=0,i=e.map(function(a,l){return a.length>0?l:-1}),o=0;o<i.length;o++)if(i[o]!==-1&&r.globals.collapsedSeriesIndices.indexOf(o)===-1&&r.globals.ancillaryCollapsedSeriesIndices.indexOf(o)===-1){n=i[o];break}return n}},{key:"closestInArray",value:function(e,r){for(var n=r[0],i=null,o=Math.abs(e-n),a=0;a<r.length;a++){var l=Math.abs(e-r[a]);l<o&&(o=l,i=a)}return{index:i}}},{key:"isXoverlap",value:function(e){var r=[],n=this.w.globals.seriesX.filter(function(o){return o[0]!==void 0});if(n.length>0)for(var i=0;i<n.length-1;i++)n[i][e]!==void 0&&n[i+1][e]!==void 0&&n[i][e]!==n[i+1][e]&&r.push("unEqual");return r.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,r=this.w.globals.initialSeries,n=0;n<r.length-1;n++)if(r[n].data.length!==r[n+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return Oa(e).reduce(function(r,n){return r+n.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(e=Oa(e)).sort(function(n,i){var o=Number(n.getAttribute("data:realIndex")),a=Number(i.getAttribute("data:realIndex"));return a<o?1:a>o?-1:0});var r=[];return e.forEach(function(n){r.push(n.querySelector(".apexcharts-marker"))}),r}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,r){var n=Number(e.getAttribute("cx")),i=Number(e.getAttribute("cy")),o=e.getAttribute("shape");return new bt(this.ctx).getMarkerPath(n,i,o,r)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var r=this.w,n=r.config.markers.hover.size;return n===void 0&&(n=r.globals.markers.size[e]+r.config.markers.hover.sizeOffset),n}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var r=this.w,n=this.ttCtx;n.allTooltipSeriesGroups.length===0&&(n.allTooltipSeriesGroups=r.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var i=n.allTooltipSeriesGroups,o=0;o<i.length;o++)e==="enable"?(i[o].classList.add("apexcharts-active"),i[o].style.display=r.config.tooltip.items.display):(i[o].classList.remove("apexcharts-active"),i[o].style.display="none")}}]),t}(),MAe=function(){function t(e){Qt(this,t),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new k8(e)}return er(t,[{key:"drawSeriesTexts",value:function(e){var r=e.shared,n=r===void 0||r,i=e.ttItems,o=e.i,a=o===void 0?0:o,l=e.j,u=l===void 0?null:l,h=e.y1,f=e.y2,m=e.e,x=this.w;x.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:a,j:u,y1:h,y2:f,w:x}):this.toggleActiveInactiveSeries(n,a);var w=this.getValuesToPrint({i:a,j:u});this.printLabels({i:a,j:u,values:w,ttItems:i,shared:n,e:m});var S=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=S.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=S.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var r,n=this,i=e.i,o=e.j,a=e.values,l=e.ttItems,u=e.shared,h=e.e,f=this.w,m=[],x=function(D){return f.globals.seriesGoals[D]&&f.globals.seriesGoals[D][o]&&Array.isArray(f.globals.seriesGoals[D][o])},w=a.xVal,S=a.zVal,C=a.xAxisTTVal,A="",E=f.globals.colors[i];o!==null&&f.config.plotOptions.bar.distributed&&(E=f.globals.colors[o]);for(var P=function(D,L){var R=n.getFormatters(i);A=n.getSeriesName({fn:R.yLbTitleFormatter,index:i,seriesIndex:i,j:o}),f.config.chart.type==="treemap"&&(A=R.yLbTitleFormatter(String(f.config.series[i].data[o].x),{series:f.globals.series,seriesIndex:i,dataPointIndex:o,w:f}));var $=f.config.tooltip.inverseOrder?L:D;if(f.globals.axisCharts){var W=function(ee){var se,he,Se,oe;return f.globals.isRangeData?R.yLbFormatter((se=f.globals.seriesRangeStart)===null||se===void 0||(he=se[ee])===null||he===void 0?void 0:he[o],{series:f.globals.seriesRangeStart,seriesIndex:ee,dataPointIndex:o,w:f})+" - "+R.yLbFormatter((Se=f.globals.seriesRangeEnd)===null||Se===void 0||(oe=Se[ee])===null||oe===void 0?void 0:oe[o],{series:f.globals.seriesRangeEnd,seriesIndex:ee,dataPointIndex:o,w:f}):R.yLbFormatter(f.globals.series[ee][o],{series:f.globals.series,seriesIndex:ee,dataPointIndex:o,w:f})};if(u)R=n.getFormatters($),A=n.getSeriesName({fn:R.yLbTitleFormatter,index:$,seriesIndex:i,j:o}),E=f.globals.colors[$],r=W($),x($)&&(m=f.globals.seriesGoals[$][o].map(function(ee){return{attrs:ee,val:R.yLbFormatter(ee.value,{seriesIndex:$,dataPointIndex:o,w:f})}}));else{var J,q=h==null||(J=h.target)===null||J===void 0?void 0:J.getAttribute("fill");q&&(q.indexOf("url")!==-1?q.indexOf("Pattern")!==-1&&(E=f.globals.dom.baseEl.querySelector(q.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):E=q),r=W(i),x(i)&&Array.isArray(f.globals.seriesGoals[i][o])&&(m=f.globals.seriesGoals[i][o].map(function(ee){return{attrs:ee,val:R.yLbFormatter(ee.value,{seriesIndex:i,dataPointIndex:o,w:f})}}))}}o===null&&(r=R.yLbFormatter(f.globals.series[i],Ft(Ft({},f),{},{seriesIndex:i,dataPointIndex:i}))),n.DOMHandling({i,t:$,j:o,ttItems:l,values:{val:r,goalVals:m,xVal:w,xAxisTTVal:C,zVal:S},seriesName:A,shared:u,pColor:E})},I=0,N=f.globals.series.length-1;I<f.globals.series.length;I++,N--)P(I,N)}},{key:"getFormatters",value:function(e){var r,n=this.w,i=n.globals.yLabelFormatters[e];return n.globals.ttVal!==void 0?Array.isArray(n.globals.ttVal)?(i=n.globals.ttVal[e]&&n.globals.ttVal[e].formatter,r=n.globals.ttVal[e]&&n.globals.ttVal[e].title&&n.globals.ttVal[e].title.formatter):(i=n.globals.ttVal.formatter,typeof n.globals.ttVal.title.formatter=="function"&&(r=n.globals.ttVal.title.formatter)):r=n.config.tooltip.y.title.formatter,typeof i!="function"&&(i=n.globals.yLabelFormatters[0]?n.globals.yLabelFormatters[0]:function(o){return o}),typeof r!="function"&&(r=function(o){return o?o+": ":""}),{yLbFormatter:i,yLbTitleFormatter:r}}},{key:"getSeriesName",value:function(e){var r=e.fn,n=e.index,i=e.seriesIndex,o=e.j,a=this.w;return r(String(a.globals.seriesNames[n]),{series:a.globals.series,seriesIndex:i,dataPointIndex:o,w:a})}},{key:"DOMHandling",value:function(e){e.i;var r=e.t,n=e.j,i=e.ttItems,o=e.values,a=e.seriesName,l=e.shared,u=e.pColor,h=this.w,f=this.ttCtx,m=o.val,x=o.goalVals,w=o.xVal,S=o.xAxisTTVal,C=o.zVal,A=null;A=i[r].children,h.config.tooltip.fillSeriesColor&&(i[r].style.backgroundColor=u,A[0].style.display="none"),f.showTooltipTitle&&(f.tooltipTitle===null&&(f.tooltipTitle=h.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),f.tooltipTitle.innerHTML=w),f.isXAxisTooltipEnabled&&(f.xaxisTooltipText.innerHTML=S!==""?S:w);var E=i[r].querySelector(".apexcharts-tooltip-text-y-label");E&&(E.innerHTML=a||"");var P=i[r].querySelector(".apexcharts-tooltip-text-y-value");P&&(P.innerHTML=m!==void 0?m:""),A[0]&&A[0].classList.contains("apexcharts-tooltip-marker")&&(h.config.tooltip.marker.fillColors&&Array.isArray(h.config.tooltip.marker.fillColors)&&(u=h.config.tooltip.marker.fillColors[r]),A[0].style.backgroundColor=u),h.config.tooltip.marker.show||(A[0].style.display="none");var I=i[r].querySelector(".apexcharts-tooltip-text-goals-label"),N=i[r].querySelector(".apexcharts-tooltip-text-goals-value");if(x.length&&h.globals.seriesGoals[r]){var D=function(){var $="<div >",W="<div>";x.forEach(function(J,q){$+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(J.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(J.attrs.name,"</div>"),W+="<div>".concat(J.val,"</div>")}),I.innerHTML=$+"</div>",N.innerHTML=W+"</div>"};l?h.globals.seriesGoals[r][n]&&Array.isArray(h.globals.seriesGoals[r][n])?D():(I.innerHTML="",N.innerHTML=""):D()}else I.innerHTML="",N.innerHTML="";if(C!==null&&(i[r].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=h.config.tooltip.z.title,i[r].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=C!==void 0?C:""),l&&A[0]){if(h.config.tooltip.hideEmptySeries){var L=i[r].querySelector(".apexcharts-tooltip-marker"),R=i[r].querySelector(".apexcharts-tooltip-text");parseFloat(m)==0?(L.style.display="none",R.style.display="none"):(L.style.display="block",R.style.display="block")}m==null||h.globals.ancillaryCollapsedSeriesIndices.indexOf(r)>-1||h.globals.collapsedSeriesIndices.indexOf(r)>-1||Array.isArray(f.tConfig.enabledOnSeries)&&f.tConfig.enabledOnSeries.indexOf(r)===-1?A[0].parentNode.style.display="none":A[0].parentNode.style.display=h.config.tooltip.items.display}else Array.isArray(f.tConfig.enabledOnSeries)&&f.tConfig.enabledOnSeries.indexOf(r)===-1&&(A[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,r){var n=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var i=n.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(r));i&&(i.classList.add("apexcharts-active"),i.style.display=n.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var r=e.i,n=e.j,i=this.w,o=this.ctx.series.filteredSeriesX(),a="",l="",u=null,h=null,f={series:i.globals.series,seriesIndex:r,dataPointIndex:n,w:i},m=i.globals.ttZFormatter;n===null?h=i.globals.series[r]:i.globals.isXNumeric&&i.config.chart.type!=="treemap"?(a=o[r][n],o[r].length===0&&(a=o[this.tooltipUtil.getFirstActiveXArray(o)][n])):a=new lA(this.ctx).isFormatXY()?i.config.series[r].data[n]!==void 0?i.config.series[r].data[n].x:"":i.globals.labels[n]!==void 0?i.globals.labels[n]:"";var x=a;return i.globals.isXNumeric&&i.config.xaxis.type==="datetime"?a=new Sy(this.ctx).xLabelFormat(i.globals.ttKeyFormatter,x,x,{i:void 0,dateFormatter:new Ya(this.ctx).formatDate,w:this.w}):a=i.globals.isBarHorizontal?i.globals.yLabelFormatters[0](x,f):i.globals.xLabelFormatter(x,f),i.config.tooltip.x.formatter!==void 0&&(a=i.globals.ttKeyFormatter(x,f)),i.globals.seriesZ.length>0&&i.globals.seriesZ[r].length>0&&(u=m(i.globals.seriesZ[r][n],i)),l=typeof i.config.xaxis.tooltip.formatter=="function"?i.globals.xaxisTooltipFormatter(x,f):a,{val:Array.isArray(h)?h.join(" "):h,xVal:Array.isArray(a)?a.join(" "):a,xAxisTTVal:Array.isArray(l)?l.join(" "):l,zVal:u}}},{key:"handleCustomTooltip",value:function(e){var r=e.i,n=e.j,i=e.y1,o=e.y2,a=e.w,l=this.ttCtx.getElTooltip(),u=a.config.tooltip.custom;Array.isArray(u)&&u[r]&&(u=u[r]),l.innerHTML=u({ctx:this.ctx,series:a.globals.series,seriesIndex:r,dataPointIndex:n,y1:i,y2:o,w:a})}}]),t}(),E8=function(){function t(e){Qt(this,t),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return er(t,[{key:"moveXCrosshairs",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.ttCtx,i=this.w,o=n.getElXCrosshairs(),a=e-n.xcrosshairsWidth/2,l=i.globals.labels.slice().length;if(r!==null&&(a=i.globals.gridWidth/l*r),o===null||i.globals.isBarHorizontal||(o.setAttribute("x",a),o.setAttribute("x1",a),o.setAttribute("x2",a),o.setAttribute("y2",i.globals.gridHeight),o.classList.add("apexcharts-active")),a<0&&(a=0),a>i.globals.gridWidth&&(a=i.globals.gridWidth),n.isXAxisTooltipEnabled){var u=a;i.config.xaxis.crosshairs.width!=="tickWidth"&&i.config.xaxis.crosshairs.width!=="barWidth"||(u=a+n.xcrosshairsWidth/2),this.moveXAxisTooltip(u)}}},{key:"moveYCrosshairs",value:function(e){var r=this.ttCtx;r.ycrosshairs!==null&&bt.setAttrs(r.ycrosshairs,{y1:e,y2:e}),r.ycrosshairsHidden!==null&&bt.setAttrs(r.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var r=this.w,n=this.ttCtx;if(n.xaxisTooltip!==null&&n.xcrosshairsWidth!==0){n.xaxisTooltip.classList.add("apexcharts-active");var i=n.xaxisOffY+r.config.xaxis.tooltip.offsetY+r.globals.translateY+1+r.config.xaxis.offsetY;if(e-=n.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=r.globals.translateX;var o;o=new bt(this.ctx).getTextRects(n.xaxisTooltipText.innerHTML),n.xaxisTooltipText.style.minWidth=o.width+"px",n.xaxisTooltip.style.left=e+"px",n.xaxisTooltip.style.top=i+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var r=this.w,n=this.ttCtx;n.yaxisTTEls===null&&(n.yaxisTTEls=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var i=parseInt(n.ycrosshairsHidden.getAttribute("y1"),10),o=r.globals.translateY+i,a=n.yaxisTTEls[e].getBoundingClientRect().height,l=r.globals.translateYAxisX[e]-2;r.config.yaxis[e].opposite&&(l-=26),o-=a/2,r.globals.ignoreYAxisIndexes.indexOf(e)===-1?(n.yaxisTTEls[e].classList.add("apexcharts-active"),n.yaxisTTEls[e].style.top=o+"px",n.yaxisTTEls[e].style.left=l+r.config.yaxis[e].tooltip.offsetX+"px"):n.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=this.w,o=this.ttCtx,a=o.getElTooltip(),l=o.tooltipRect,u=n!==null?parseFloat(n):1,h=parseFloat(e)+u+5,f=parseFloat(r)+u/2;if(h>i.globals.gridWidth/2&&(h=h-l.ttWidth-u-10),h>i.globals.gridWidth-l.ttWidth-10&&(h=i.globals.gridWidth-l.ttWidth),h<-20&&(h=-20),i.config.tooltip.followCursor){var m=o.getElGrid().getBoundingClientRect();(h=o.e.clientX-m.left)>i.globals.gridWidth/2&&(h-=o.tooltipRect.ttWidth),(f=o.e.clientY+i.globals.translateY-m.top)>i.globals.gridHeight/2&&(f-=o.tooltipRect.ttHeight)}else i.globals.isBarHorizontal||l.ttHeight/2+f>i.globals.gridHeight&&(f=i.globals.gridHeight-l.ttHeight+i.globals.translateY);isNaN(h)||(h+=i.globals.translateX,a.style.left=h+"px",a.style.top=f+"px")}},{key:"moveMarkers",value:function(e,r){var n=this.w,i=this.ttCtx;if(n.globals.markers.size[e]>0)for(var o=n.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),a=0;a<o.length;a++)parseInt(o[a].getAttribute("rel"),10)===r&&(i.marker.resetPointsSize(),i.marker.enlargeCurrentPoint(r,o[a]));else i.marker.resetPointsSize(),this.moveDynamicPointOnHover(r,e)}},{key:"moveDynamicPointOnHover",value:function(e,r){var n,i,o,a,l=this.w,u=this.ttCtx,h=new bt(this.ctx),f=l.globals.pointsArray,m=u.tooltipUtil.getHoverMarkerSize(r),x=l.config.series[r].type;if(!x||x!=="column"&&x!=="candlestick"&&x!=="boxPlot"){o=(n=f[r][e])===null||n===void 0?void 0:n[0],a=((i=f[r][e])===null||i===void 0?void 0:i[1])||0;var w=l.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"'] .apexcharts-series-markers path"));if(w&&a<l.globals.gridHeight&&a>0){var S=w.getAttribute("shape"),C=h.getMarkerPath(o,a,S,1.5*m);w.setAttribute("d",C)}this.moveXCrosshairs(o),u.fixedTooltip||this.moveTooltip(o,a,m)}}},{key:"moveDynamicPointsOnHover",value:function(e){var r,n=this.ttCtx,i=n.w,o=0,a=0,l=i.globals.pointsArray,u=new zs(this.ctx),h=new bt(this.ctx);r=u.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var f=n.tooltipUtil.getHoverMarkerSize(r);l[r]&&(o=l[r][e][0],a=l[r][e][1]);var m=n.tooltipUtil.getAllMarkers();if(m!==null)for(var x=0;x<i.globals.series.length;x++){var w=l[x];if(i.globals.comboCharts&&w===void 0&&m.splice(x,0,null),w&&w.length){var S=l[x][e][1],C=void 0;m[x].setAttribute("cx",o);var A=m[x].getAttribute("shape");if(i.config.chart.type==="rangeArea"&&!i.globals.comboCharts){var E=e+i.globals.series[x].length;C=l[x][E][1],S-=Math.abs(S-C)/2}if(S!==null&&!isNaN(S)&&S<i.globals.gridHeight+f&&S+f>0){var P=h.getMarkerPath(o,S,A,f);m[x].setAttribute("d",P)}else m[x].setAttribute("d","")}}this.moveXCrosshairs(o),n.fixedTooltip||this.moveTooltip(o,a||i.globals.gridHeight,f)}},{key:"moveStickyTooltipOverBars",value:function(e,r){var n=this.w,i=this.ttCtx,o=n.globals.columnSeries?n.globals.columnSeries.length:n.globals.series.length,a=o>=2&&o%2==0?Math.floor(o/2):Math.floor(o/2)+1;n.globals.isBarHorizontal&&(a=new zs(this.ctx).getActiveConfigSeriesIndex("desc")+1);var l=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(a,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"']"));l||typeof r!="number"||(l=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(r,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(r,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(r,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(r,"'] path[j='").concat(e,"']")));var u=l?parseFloat(l.getAttribute("cx")):0,h=l?parseFloat(l.getAttribute("cy")):0,f=l?parseFloat(l.getAttribute("barWidth")):0,m=i.getElGrid().getBoundingClientRect(),x=l&&(l.classList.contains("apexcharts-candlestick-area")||l.classList.contains("apexcharts-boxPlot-area"));n.globals.isXNumeric?(l&&!x&&(u-=o%2!=0?f/2:0),l&&x&&(u-=f/2)):n.globals.isBarHorizontal||(u=i.xAxisTicksPositions[e-1]+i.dataPointsDividedWidth/2,isNaN(u)&&(u=i.xAxisTicksPositions[e]-i.dataPointsDividedWidth/2)),n.globals.isBarHorizontal?h-=i.tooltipRect.ttHeight:n.config.tooltip.followCursor?h=i.e.clientY-m.top-i.tooltipRect.ttHeight/2:h+i.tooltipRect.ttHeight+15>n.globals.gridHeight&&(h=n.globals.gridHeight),n.globals.isBarHorizontal||this.moveXCrosshairs(u),i.fixedTooltip||this.moveTooltip(u,h||n.globals.gridHeight)}}]),t}(),IAe=function(){function t(e){Qt(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new E8(e)}return er(t,[{key:"drawDynamicPoints",value:function(){var e=this.w,r=new bt(this.ctx),n=new km(this.ctx),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");i=Oa(i),e.config.chart.stacked&&i.sort(function(m,x){return parseFloat(m.getAttribute("data:realIndex"))-parseFloat(x.getAttribute("data:realIndex"))});for(var o=0;o<i.length;o++){var a=i[o].querySelector(".apexcharts-series-markers-wrap");if(a!==null){var l=void 0,u="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(u+=" no-pointer-events");var h=n.getMarkerConfig({cssClass:u,seriesIndex:Number(a.getAttribute("data:realIndex"))});(l=r.drawMarker(0,0,h)).node.setAttribute("default-marker-size",0);var f=document.createElementNS(e.globals.SVGNS,"g");f.classList.add("apexcharts-series-markers"),f.appendChild(l.node),a.appendChild(f)}}}},{key:"enlargeCurrentPoint",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=this.w;o.config.chart.type!=="bubble"&&this.newPointSize(e,r);var a=r.getAttribute("cx"),l=r.getAttribute("cy");if(n!==null&&i!==null&&(a=n,l=i),this.tooltipPosition.moveXCrosshairs(a),!this.fixedTooltip){if(o.config.chart.type==="radar"){var u=this.ttCtx.getElGrid().getBoundingClientRect();a=this.ttCtx.e.clientX-u.left}this.tooltipPosition.moveTooltip(a,l,o.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var r=this.w,n=this,i=this.ttCtx,o=e,a=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),l=r.config.markers.hover.size,u=0;u<a.length;u++){var h=a[u].getAttribute("rel"),f=a[u].getAttribute("index");if(l===void 0&&(l=r.globals.markers.size[f]+r.config.markers.hover.sizeOffset),o===parseInt(h,10)){n.newPointSize(o,a[u]);var m=a[u].getAttribute("cx"),x=a[u].getAttribute("cy");n.tooltipPosition.moveXCrosshairs(m),i.fixedTooltip||n.tooltipPosition.moveTooltip(m,x,l)}else n.oldPointSize(a[u])}}},{key:"newPointSize",value:function(e,r){var n=this.w,i=n.config.markers.hover.size,o=e===0?r.parentNode.firstChild:r.parentNode.lastChild;if(o.getAttribute("default-marker-size")!=="0"){var a=parseInt(o.getAttribute("index"),10);i===void 0&&(i=n.globals.markers.size[a]+n.config.markers.hover.sizeOffset),i<0&&(i=0);var l=this.ttCtx.tooltipUtil.getPathFromPoint(r,i);r.setAttribute("d",l)}}},{key:"oldPointSize",value:function(e){var r=parseFloat(e.getAttribute("default-marker-size")),n=this.ttCtx.tooltipUtil.getPathFromPoint(e,r);e.setAttribute("d",n)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),r=0;r<e.length;r++){var n=parseFloat(e[r].getAttribute("default-marker-size"));if(ze.isNumber(n)&&n>0){var i=this.ttCtx.tooltipUtil.getPathFromPoint(e[r],n);e[r].setAttribute("d",i)}else e[r].setAttribute("d","M0,0")}}}]),t}(),OAe=function(){function t(e){Qt(this,t),this.w=e.w;var r=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!r.globals.isBarHorizontal&&r.config.chart.type==="rangeBar"&&r.config.plotOptions.bar.rangeBarGroupRows}return er(t,[{key:"getAttr",value:function(e,r){return parseFloat(e.target.getAttribute(r))}},{key:"handleHeatTreeTooltip",value:function(e){var r=e.e,n=e.opt,i=e.x,o=e.y,a=e.type,l=this.ttCtx,u=this.w;if(r.target.classList.contains("apexcharts-".concat(a,"-rect"))){var h=this.getAttr(r,"i"),f=this.getAttr(r,"j"),m=this.getAttr(r,"cx"),x=this.getAttr(r,"cy"),w=this.getAttr(r,"width"),S=this.getAttr(r,"height");if(l.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:h,j:f,shared:!1,e:r}),u.globals.capturedSeriesIndex=h,u.globals.capturedDataPointIndex=f,i=m+l.tooltipRect.ttWidth/2+w,o=x+l.tooltipRect.ttHeight/2-S/2,l.tooltipPosition.moveXCrosshairs(m+w/2),i>u.globals.gridWidth/2&&(i=m-l.tooltipRect.ttWidth/2+w),l.w.config.tooltip.followCursor){var C=u.globals.dom.elWrap.getBoundingClientRect();i=u.globals.clientX-C.left-(i>u.globals.gridWidth/2?l.tooltipRect.ttWidth:0),o=u.globals.clientY-C.top-(o>u.globals.gridHeight/2?l.tooltipRect.ttHeight:0)}}return{x:i,y:o}}},{key:"handleMarkerTooltip",value:function(e){var r,n,i=e.e,o=e.opt,a=e.x,l=e.y,u=this.w,h=this.ttCtx;if(i.target.classList.contains("apexcharts-marker")){var f=parseInt(o.paths.getAttribute("cx"),10),m=parseInt(o.paths.getAttribute("cy"),10),x=parseFloat(o.paths.getAttribute("val"));if(n=parseInt(o.paths.getAttribute("rel"),10),r=parseInt(o.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,h.intersect){var w=ze.findAncestor(o.paths,"apexcharts-series");w&&(r=parseInt(w.getAttribute("data:realIndex"),10))}if(h.tooltipLabels.drawSeriesTexts({ttItems:o.ttItems,i:r,j:n,shared:!h.showOnIntersect&&u.config.tooltip.shared,e:i}),i.type==="mouseup"&&h.markerClick(i,r,n),u.globals.capturedSeriesIndex=r,u.globals.capturedDataPointIndex=n,a=f,l=m+u.globals.translateY-1.4*h.tooltipRect.ttHeight,h.w.config.tooltip.followCursor){var S=h.getElGrid().getBoundingClientRect();l=h.e.clientY+u.globals.translateY-S.top}x<0&&(l=m),h.marker.enlargeCurrentPoint(n,o.paths,a,l)}return{x:a,y:l}}},{key:"handleBarTooltip",value:function(e){var r,n,i=e.e,o=e.opt,a=this.w,l=this.ttCtx,u=l.getElTooltip(),h=0,f=0,m=0,x=this.getBarTooltipXY({e:i,opt:o});if(x.j!==null||x.barHeight!==0||x.barWidth!==0){r=x.i;var w=x.j;if(a.globals.capturedSeriesIndex=r,a.globals.capturedDataPointIndex=w,a.globals.isBarHorizontal&&l.tooltipUtil.hasBars()||!a.config.tooltip.shared?(f=x.x,m=x.y,n=Array.isArray(a.config.stroke.width)?a.config.stroke.width[r]:a.config.stroke.width,h=f):a.globals.comboCharts||a.config.tooltip.shared||(h/=2),isNaN(m)&&(m=a.globals.svgHeight-l.tooltipRect.ttHeight),parseInt(o.paths.parentNode.getAttribute("data:realIndex"),10),f+l.tooltipRect.ttWidth>a.globals.gridWidth?f-=l.tooltipRect.ttWidth:f<0&&(f=0),l.w.config.tooltip.followCursor){var S=l.getElGrid().getBoundingClientRect();m=l.e.clientY-S.top}l.tooltip===null&&(l.tooltip=a.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),a.config.tooltip.shared||(a.globals.comboBarCount>0?l.tooltipPosition.moveXCrosshairs(h+n/2):l.tooltipPosition.moveXCrosshairs(h)),!l.fixedTooltip&&(!a.config.tooltip.shared||a.globals.isBarHorizontal&&l.tooltipUtil.hasBars())&&(m=m+a.globals.translateY-l.tooltipRect.ttHeight/2,u.style.left=f+a.globals.translateX+"px",u.style.top=m+"px")}}},{key:"getBarTooltipXY",value:function(e){var r=this,n=e.e,i=e.opt,o=this.w,a=null,l=this.ttCtx,u=0,h=0,f=0,m=0,x=0,w=n.target.classList;if(w.contains("apexcharts-bar-area")||w.contains("apexcharts-candlestick-area")||w.contains("apexcharts-boxPlot-area")||w.contains("apexcharts-rangebar-area")){var S=n.target,C=S.getBoundingClientRect(),A=i.elGrid.getBoundingClientRect(),E=C.height;x=C.height;var P=C.width,I=parseInt(S.getAttribute("cx"),10),N=parseInt(S.getAttribute("cy"),10);m=parseFloat(S.getAttribute("barWidth"));var D=n.type==="touchmove"?n.touches[0].clientX:n.clientX;a=parseInt(S.getAttribute("j"),10),u=parseInt(S.parentNode.getAttribute("rel"),10)-1;var L=S.getAttribute("data-range-y1"),R=S.getAttribute("data-range-y2");o.globals.comboCharts&&(u=parseInt(S.parentNode.getAttribute("data:realIndex"),10));var $=function(J){return o.globals.isXNumeric?I-P/2:r.isVerticalGroupedRangeBar?I+P/2:I-l.dataPointsDividedWidth+P/2},W=function(){return N-l.dataPointsDividedHeight+E/2-l.tooltipRect.ttHeight/2};l.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:u,j:a,y1:L?parseInt(L,10):null,y2:R?parseInt(R,10):null,shared:!l.showOnIntersect&&o.config.tooltip.shared,e:n}),o.config.tooltip.followCursor?o.globals.isBarHorizontal?(h=D-A.left+15,f=W()):(h=$(),f=n.clientY-A.top-l.tooltipRect.ttHeight/2-15):o.globals.isBarHorizontal?((h=I)<l.xyRatios.baseLineInvertedY&&(h=I-l.tooltipRect.ttWidth),f=W()):(h=$(),f=N)}return{x:h,y:f,barHeight:x,barWidth:m,i:u,j:a}}}]),t}(),DAe=function(){function t(e){Qt(this,t),this.w=e.w,this.ttCtx=e}return er(t,[{key:"drawXaxisTooltip",value:function(){var e=this.w,r=this.ttCtx,n=e.config.xaxis.position==="bottom";r.xaxisOffY=n?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var i=n?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",o=e.globals.dom.elWrap;r.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(r.xaxisTooltip=document.createElement("div"),r.xaxisTooltip.setAttribute("class",i+" apexcharts-theme-"+e.config.tooltip.theme),o.appendChild(r.xaxisTooltip),r.xaxisTooltipText=document.createElement("div"),r.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),r.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,r.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,r.xaxisTooltip.appendChild(r.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,r=this.ttCtx,n=0;n<e.config.yaxis.length;n++){var i=e.config.yaxis[n].opposite||e.config.yaxis[n].crosshairs.opposite;r.yaxisOffX=i?e.globals.gridWidth+1:1;var o="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n,i?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),a=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n))===null&&(r.yaxisTooltip=document.createElement("div"),r.yaxisTooltip.setAttribute("class",o+" apexcharts-theme-"+e.config.tooltip.theme),a.appendChild(r.yaxisTooltip),n===0&&(r.yaxisTooltipText=[]),r.yaxisTooltipText[n]=document.createElement("div"),r.yaxisTooltipText[n].classList.add("apexcharts-yaxistooltip-text"),r.yaxisTooltip.appendChild(r.yaxisTooltipText[n]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,r=this.ttCtx,n=r.getElXCrosshairs();if(r.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var i=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(i!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var o=parseFloat(i.getAttribute("barWidth"));r.xcrosshairsWidth=o}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var a=e.globals.labels.length;r.xcrosshairsWidth=e.globals.gridWidth/a}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var l=e.globals.labels.length;r.xcrosshairsWidth=e.globals.gridWidth/l}else if(e.config.xaxis.crosshairs.width==="barWidth"){var u=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(u!==null){var h=parseFloat(u.getAttribute("barWidth"));r.xcrosshairsWidth=h}else r.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(r.xcrosshairsWidth=0),n!==null&&r.xcrosshairsWidth>0&&n.setAttribute("width",r.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,r=this.ttCtx;r.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),r.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,r,n){var i=this.ttCtx,o=this.w,a=o.globals,l=a.seriesYAxisMap[e];if(i.yaxisTooltips[e]&&l.length>0){var u=a.yLabelFormatters[e],h=i.getElGrid().getBoundingClientRect(),f=l[0],m=0;n.yRatio.length>1&&(m=f);var x=(r-h.top)*n.yRatio[m],w=a.maxYArr[f]-a.minYArr[f],S=a.minYArr[f]+(w-x);o.config.yaxis[e].reversed&&(S=a.maxYArr[f]-(w-x)),i.tooltipPosition.moveYCrosshairs(r-h.top),i.yaxisTooltipText[e].innerHTML=u(S),i.tooltipPosition.moveYAxisTooltip(e)}}}]),t}(),jD=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w;var r=this.w;this.tConfig=r.config.tooltip,this.tooltipUtil=new k8(this),this.tooltipLabels=new MAe(this),this.tooltipPosition=new E8(this),this.marker=new IAe(this),this.intersect=new OAe(this),this.axesTooltip=new DAe(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!r.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return er(t,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var r=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=r.config.xaxis.tooltip.enabled&&r.globals.axisCharts,this.yaxisTooltips=r.config.yaxis.map(function(a,l){return!!(a.show&&a.tooltip.enabled&&r.globals.axisCharts)}),this.allTooltipSeriesGroups=[],r.globals.axisCharts||(this.showTooltipTitle=!1);var n=document.createElement("div");if(n.classList.add("apexcharts-tooltip"),r.config.tooltip.cssClass&&n.classList.add(r.config.tooltip.cssClass),n.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),r.globals.dom.elWrap.appendChild(n),r.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var i=new Gv(this.ctx);this.xAxisTicksPositions=i.getXAxisTicksPositions()}if(!r.globals.comboCharts&&!this.tConfig.intersect&&r.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),r.config.markers.size!==0&&r.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),r.globals.collapsedSeries.length!==r.globals.series.length){this.dataPointsDividedHeight=r.globals.gridHeight/r.globals.dataPoints,this.dataPointsDividedWidth=r.globals.gridWidth/r.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||r.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,n.appendChild(this.tooltipTitle));var o=r.globals.series.length;(r.globals.xyCharts||r.globals.comboCharts)&&this.tConfig.shared&&(o=this.showOnIntersect?1:r.globals.series.length),this.legendLabels=r.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(o),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var r=this,n=this.w,i=[],o=this.getElTooltip(),a=function(u){var h=document.createElement("div");h.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(u)),h.style.order=n.config.tooltip.inverseOrder?e-u:u+1;var f=document.createElement("span");f.classList.add("apexcharts-tooltip-marker"),f.style.backgroundColor=n.globals.colors[u],h.appendChild(f);var m=document.createElement("div");m.classList.add("apexcharts-tooltip-text"),m.style.fontFamily=r.tConfig.style.fontFamily||n.config.chart.fontFamily,m.style.fontSize=r.tConfig.style.fontSize,["y","goals","z"].forEach(function(x){var w=document.createElement("div");w.classList.add("apexcharts-tooltip-".concat(x,"-group"));var S=document.createElement("span");S.classList.add("apexcharts-tooltip-text-".concat(x,"-label")),w.appendChild(S);var C=document.createElement("span");C.classList.add("apexcharts-tooltip-text-".concat(x,"-value")),w.appendChild(C),m.appendChild(w)}),h.appendChild(m),o.appendChild(h),i.push(h)},l=0;l<e;l++)a(l);return i}},{key:"addSVGEvents",value:function(){var e=this.w,r=e.config.chart.type,n=this.getElTooltip(),i=!(r!=="bar"&&r!=="candlestick"&&r!=="boxPlot"&&r!=="rangeBar"),o=r==="area"||r==="line"||r==="scatter"||r==="bubble"||r==="radar",a=e.globals.dom.Paper.node,l=this.getElGrid();l&&(this.seriesBound=l.getBoundingClientRect());var u,h=[],f=[],m={hoverArea:a,elGrid:l,tooltipEl:n,tooltipY:h,tooltipX:f,ttItems:this.ttItems};if(e.globals.axisCharts&&(o?u=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):i?u=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):r!=="heatmap"&&r!=="treemap"||(u=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),u&&u.length))for(var x=0;x<u.length;x++)h.push(u[x].getAttribute("cy")),f.push(u[x].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||i&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([a],m);else if(i&&!e.globals.comboCharts||o&&this.showOnIntersect)this.addDatapointEventsListeners(m);else if(!e.globals.axisCharts||r==="heatmap"||r==="treemap"){var w=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(w,m)}if(this.showOnIntersect){var S=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");S.length>0&&this.addPathsEventListeners(S,m),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(m)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,r=this.getElTooltip(),n=r.getBoundingClientRect(),i=n.width+10,o=n.height+10,a=this.tConfig.fixed.offsetX,l=this.tConfig.fixed.offsetY,u=this.tConfig.fixed.position.toLowerCase();return u.indexOf("right")>-1&&(a=a+e.globals.svgWidth-i+10),u.indexOf("bottom")>-1&&(l=l+e.globals.svgHeight-o-10),r.style.left=a+"px",r.style.top=l+"px",{x:a,y:l,ttWidth:i,ttHeight:o}}},{key:"addDatapointEventsListeners",value:function(e){var r=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(r,e)}},{key:"addPathsEventListeners",value:function(e,r){for(var n=this,i=function(a){var l={paths:e[a],tooltipEl:r.tooltipEl,tooltipY:r.tooltipY,tooltipX:r.tooltipX,elGrid:r.elGrid,hoverArea:r.hoverArea,ttItems:r.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(u){return e[a].addEventListener(u,n.onSeriesHover.bind(n,l),{capture:!1,passive:!0})})},o=0;o<e.length;o++)i(o)}},{key:"onSeriesHover",value:function(e,r){var n=this,i=Date.now()-this.lastHoverTime;i>=20?this.seriesHover(e,r):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){n.seriesHover(e,r)},20-i))}},{key:"seriesHover",value:function(e,r){var n=this;this.lastHoverTime=Date.now();var i=[],o=this.w;o.config.chart.group&&(i=this.ctx.getGroupedCharts()),o.globals.axisCharts&&(o.globals.minX===-1/0&&o.globals.maxX===1/0||o.globals.dataPoints===0)||(i.length?i.forEach(function(a){var l=n.getElTooltip(a),u={paths:e.paths,tooltipEl:l,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:a.w.globals.tooltip.ttItems};a.w.globals.minX===n.w.globals.minX&&a.w.globals.maxX===n.w.globals.maxX&&a.w.globals.tooltip.seriesHoverByContext({chartCtx:a,ttCtx:a.w.globals.tooltip,opt:u,e:r})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:r}))}},{key:"seriesHoverByContext",value:function(e){var r=e.chartCtx,n=e.ttCtx,i=e.opt,o=e.e,a=r.w,l=this.getElTooltip(r);l&&(n.tooltipRect={x:0,y:0,ttWidth:l.getBoundingClientRect().width,ttHeight:l.getBoundingClientRect().height},n.e=o,n.tooltipUtil.hasBars()&&!a.globals.comboCharts&&!n.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new zs(r).toggleSeriesOnHover(o,o.target.parentNode),n.fixedTooltip&&n.drawFixedTooltipRect(),a.globals.axisCharts?n.axisChartsTooltips({e:o,opt:i,tooltipRect:n.tooltipRect}):n.nonAxisChartsTooltips({e:o,opt:i,tooltipRect:n.tooltipRect}))}},{key:"axisChartsTooltips",value:function(e){var r,n,i=e.e,o=e.opt,a=this.w,l=o.elGrid.getBoundingClientRect(),u=i.type==="touchmove"?i.touches[0].clientX:i.clientX,h=i.type==="touchmove"?i.touches[0].clientY:i.clientY;if(this.clientY=h,this.clientX=u,a.globals.capturedSeriesIndex=-1,a.globals.capturedDataPointIndex=-1,h<l.top||h>l.top+l.height)this.handleMouseOut(o);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!a.config.tooltip.shared){var f=parseInt(o.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(f)<0)return void this.handleMouseOut(o)}var m=this.getElTooltip(),x=this.getElXCrosshairs(),w=[];a.config.chart.group&&(w=this.ctx.getSyncedCharts());var S=a.globals.xyCharts||a.config.chart.type==="bar"&&!a.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||a.globals.comboCharts&&this.tooltipUtil.hasBars();if(i.type==="mousemove"||i.type==="touchmove"||i.type==="mouseup"){if(a.globals.collapsedSeries.length+a.globals.ancillaryCollapsedSeries.length===a.globals.series.length)return;x!==null&&x.classList.add("apexcharts-active");var C=this.yaxisTooltips.filter(function(P){return P===!0});if(this.ycrosshairs!==null&&C.length&&this.ycrosshairs.classList.add("apexcharts-active"),S&&!this.showOnIntersect||w.length>1)this.handleStickyTooltip(i,u,h,o);else if(a.config.chart.type==="heatmap"||a.config.chart.type==="treemap"){var A=this.intersect.handleHeatTreeTooltip({e:i,opt:o,x:r,y:n,type:a.config.chart.type});r=A.x,n=A.y,m.style.left=r+"px",m.style.top=n+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:i,opt:o}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:i,opt:o,x:r,y:n});if(this.yaxisTooltips.length)for(var E=0;E<a.config.yaxis.length;E++)this.axesTooltip.drawYaxisTooltipText(E,h,this.xyRatios);a.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),o.tooltipEl.classList.add("apexcharts-active")}else i.type!=="mouseout"&&i.type!=="touchend"||this.handleMouseOut(o)}}},{key:"nonAxisChartsTooltips",value:function(e){var r=e.e,n=e.opt,i=e.tooltipRect,o=this.w,a=n.paths.getAttribute("rel"),l=this.getElTooltip(),u=o.globals.dom.elWrap.getBoundingClientRect();if(r.type==="mousemove"||r.type==="touchmove"){o.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),l.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:parseInt(a,10)-1,shared:!1});var h=o.globals.clientX-u.left-i.ttWidth/2,f=o.globals.clientY-u.top-i.ttHeight-10;if(l.style.left=h+"px",l.style.top=f+"px",o.config.legend.tooltipHoverFormatter){var m=a-1,x=(0,o.config.legend.tooltipHoverFormatter)(this.legendLabels[m].getAttribute("data:default-text"),{seriesIndex:m,dataPointIndex:m,w:o});this.legendLabels[m].innerHTML=x}}else r.type!=="mouseout"&&r.type!=="touchend"||(l.classList.remove("apexcharts-active"),o.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),o.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(w){var S=w.getAttribute("data:default-text");w.innerHTML=decodeURIComponent(S)}))}},{key:"handleStickyTooltip",value:function(e,r,n,i){var o=this.w,a=this.tooltipUtil.getNearestValues({context:this,hoverArea:i.hoverArea,elGrid:i.elGrid,clientX:r,clientY:n}),l=a.j,u=a.capturedSeries;o.globals.collapsedSeriesIndices.includes(u)&&(u=null);var h=i.elGrid.getBoundingClientRect();if(a.hoverX<0||a.hoverX>h.width)this.handleMouseOut(i);else if(u!==null)this.handleStickyCapturedSeries(e,u,i,l);else if(this.tooltipUtil.isXoverlap(l)||o.globals.isBarHorizontal){var f=o.globals.series.findIndex(function(m,x){return!o.globals.collapsedSeriesIndices.includes(x)});this.create(e,this,f,l,i.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,r,n,i){var o=this.w;if(!this.tConfig.shared&&o.globals.series[r][i]===null)return void this.handleMouseOut(n);if(o.globals.series[r][i]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(i)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,r,i,n.ttItems):this.create(e,this,r,i,n.ttItems,!1);else if(this.tooltipUtil.isXoverlap(i)){var a=o.globals.series.findIndex(function(l,u){return!o.globals.collapsedSeriesIndices.includes(u)});this.create(e,this,a,i,n.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,r=new bt(this.ctx),n=e.globals.dom.Paper.find(".apexcharts-bar-area"),i=0;i<n.length;i++)r.pathMouseLeave(n[i])}},{key:"handleMouseOut",value:function(e){var r=this.w,n=this.getElXCrosshairs();if(r.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),r.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),n!==null&&n.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var i=0;i<this.yaxisTTEls.length;i++)this.yaxisTTEls[i].classList.remove("apexcharts-active")}r.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(o){var a=o.getAttribute("data:default-text");o.innerHTML=decodeURIComponent(a)})}},{key:"markerClick",value:function(e,r,n){var i=this.w;typeof i.config.chart.events.markerClick=="function"&&i.config.chart.events.markerClick(e,this.ctx,{seriesIndex:r,dataPointIndex:n,w:i}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:r,dataPointIndex:n,w:i}])}},{key:"create",value:function(e,r,n,i,o){var a,l,u,h,f,m,x,w,S,C,A,E,P,I,N,D,L=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,R=this.w,$=r;e.type==="mouseup"&&this.markerClick(e,n,i),L===null&&(L=this.tConfig.shared);var W=this.tooltipUtil.hasMarkers(n),J=this.tooltipUtil.getElBars();if(R.config.legend.tooltipHoverFormatter){var q=R.config.legend.tooltipHoverFormatter,ee=Array.from(this.legendLabels);ee.forEach(function(tt){var nt=tt.getAttribute("data:default-text");tt.innerHTML=decodeURIComponent(nt)});for(var se=0;se<ee.length;se++){var he=ee[se],Se=parseInt(he.getAttribute("i"),10),oe=decodeURIComponent(he.getAttribute("data:default-text")),_e=q(oe,{seriesIndex:L?Se:n,dataPointIndex:i,w:R});if(L)he.innerHTML=R.globals.collapsedSeriesIndices.indexOf(Se)<0?_e:oe;else if(he.innerHTML=Se===n?_e:oe,n===Se)break}}var xe=Ft(Ft({ttItems:o,i:n,j:i},((a=R.globals.seriesRange)===null||a===void 0||(l=a[n])===null||l===void 0||(u=l[i])===null||u===void 0||(h=u.y[0])===null||h===void 0?void 0:h.y1)!==void 0&&{y1:(f=R.globals.seriesRange)===null||f===void 0||(m=f[n])===null||m===void 0||(x=m[i])===null||x===void 0||(w=x.y[0])===null||w===void 0?void 0:w.y1}),((S=R.globals.seriesRange)===null||S===void 0||(C=S[n])===null||C===void 0||(A=C[i])===null||A===void 0||(E=A.y[0])===null||E===void 0?void 0:E.y2)!==void 0&&{y2:(P=R.globals.seriesRange)===null||P===void 0||(I=P[n])===null||I===void 0||(N=I[i])===null||N===void 0||(D=N.y[0])===null||D===void 0?void 0:D.y2});if(L){if($.tooltipLabels.drawSeriesTexts(Ft(Ft({},xe),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),W)R.globals.markers.largestSize>0?$.marker.enlargePoints(i):$.tooltipPosition.moveDynamicPointsOnHover(i);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(J),this.barSeriesHeight>0)){var Ne=new bt(this.ctx),Re=R.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(i,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(i,n);for(var He=0;He<Re.length;He++)Ne.pathMouseEnter(Re[He])}}else $.tooltipLabels.drawSeriesTexts(Ft({shared:!1},xe)),this.tooltipUtil.hasBars()&&$.tooltipPosition.moveStickyTooltipOverBars(i,n),W&&$.tooltipPosition.moveMarkers(n,i)}}]),t}(),NAe=function(){function t(e){Qt(this,t),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return er(t,[{key:"handleBarDataLabels",value:function(e){var r,n,i=e.x,o=e.y,a=e.y1,l=e.y2,u=e.i,h=e.j,f=e.realIndex,m=e.columnGroupIndex,x=e.series,w=e.barHeight,S=e.barWidth,C=e.barXPosition,A=e.barYPosition,E=e.visibleSeries,P=e.renderedPath,I=this.w,N=new bt(this.barCtx.ctx),D=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[f]:this.barCtx.strokeWidth;I.globals.isXNumeric&&!I.globals.isBarHorizontal?(r=i+parseFloat(S*(E+1)),n=o+parseFloat(w*(E+1))-D):(r=i+parseFloat(S*E),n=o+parseFloat(w*E));var L,R=null,$=i,W=o,J={},q=I.config.dataLabels,ee=this.barCtx.barOptions.dataLabels,se=this.barCtx.barOptions.dataLabels.total;A!==void 0&&this.barCtx.isRangeBar&&(n=A,W=A),C!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(r=C,$=C);var he=q.offsetX,Se=q.offsetY,oe={width:0,height:0};if(I.config.dataLabels.enabled){var _e=I.globals.series[u][h];oe=N.getTextRects(I.config.dataLabels.formatter?I.config.dataLabels.formatter(_e,Ft(Ft({},I),{},{seriesIndex:u,dataPointIndex:h,w:I})):I.globals.yLabelFormatters[0](_e),parseFloat(q.style.fontSize))}var xe={x:i,y:o,i:u,j:h,realIndex:f,columnGroupIndex:m,renderedPath:P,bcx:r,bcy:n,barHeight:w,barWidth:S,textRects:oe,strokeWidth:D,dataLabelsX:$,dataLabelsY:W,dataLabelsConfig:q,barDataLabelsConfig:ee,barTotalDataLabelsConfig:se,offX:he,offY:Se};return J=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(xe):this.calculateColumnsDataLabelsPosition(xe),P.attr({cy:J.bcy,cx:J.bcx,j:h,val:I.globals.series[u][h],barHeight:w,barWidth:S}),L=this.drawCalculatedDataLabels({x:J.dataLabelsX,y:J.dataLabelsY,val:this.barCtx.isRangeBar?[a,l]:I.config.chart.stackType==="100%"?x[f][h]:I.globals.series[f][h],i:f,j:h,barWidth:S,barHeight:w,textRects:oe,dataLabelsConfig:q}),I.config.chart.stacked&&se.enabled&&(R=this.drawTotalDataLabels({x:J.totalDataLabelsX,y:J.totalDataLabelsY,barWidth:S,barHeight:w,realIndex:f,textAnchor:J.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:f,j:h}),dataLabelsConfig:q,barTotalDataLabelsConfig:se})),{dataLabels:L,totalDataLabels:R}}},{key:"getStackedTotalDataLabel",value:function(e){var r=e.realIndex,n=e.j,i=this.w,o=this.barCtx.stackedSeriesTotals[n];return this.totalFormatter&&(o=this.totalFormatter(o,Ft(Ft({},i),{},{seriesIndex:r,dataPointIndex:n,w:i}))),o}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var r=this.w,n=e.i,i=e.j,o=e.realIndex;e.columnGroupIndex;var a,l,u=e.y,h=e.bcx,f=e.barWidth,m=e.barHeight,x=e.textRects,w=e.dataLabelsX,S=e.dataLabelsY,C=e.dataLabelsConfig,A=e.barDataLabelsConfig,E=e.barTotalDataLabelsConfig,P=e.strokeWidth,I=e.offX,N=e.offY,D=h;m=Math.abs(m);var L=r.config.plotOptions.bar.dataLabels.orientation==="vertical",R=this.barCtx.barHelpers.getZeroValueEncounters({i:n,j:i}).zeroEncounters;h-=P/2;var $=r.globals.gridWidth/r.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?w+=f/2:(w=r.globals.isXNumeric?h-f/2+I:h-$+f/2+I,R>0&&r.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(w-=f*R)),L&&(w=w+x.height/2-P/2-2);var W=r.globals.series[n][i]<0,J=u;switch(this.barCtx.isReversed&&(J=u+(W?m:-m)),A.position){case"center":S=L?W?J-m/2+N:J+m/2-N:W?J-m/2+x.height/2+N:J+m/2+x.height/2-N;break;case"bottom":S=L?W?J-m+N:J+m-N:W?J-m+x.height+P+N:J+m-x.height/2+P-N;break;case"top":S=L?W?J+N:J-N:W?J-x.height/2-N:J+x.height+N}if(this.barCtx.lastActiveBarSerieIndex===o&&E.enabled){var q=new bt(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:i}),C.fontSize);a=W?J-q.height/2-N-E.offsetY+18:J+q.height+N+E.offsetY-18;var ee=$;l=D+(r.globals.isXNumeric?-f*r.globals.barGroups.length/2:r.globals.barGroups.length*f/2-(r.globals.barGroups.length-1)*f-ee)+E.offsetX}return r.config.chart.stacked||(S<0?S=0+P:S+x.height/3>r.globals.gridHeight&&(S=r.globals.gridHeight-P)),{bcx:h,bcy:u,dataLabelsX:w,dataLabelsY:S,totalDataLabelsX:l,totalDataLabelsY:a,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var r=this.w,n=e.x,i=e.i,o=e.j,a=e.realIndex,l=e.bcy,u=e.barHeight,h=e.barWidth,f=e.textRects,m=e.dataLabelsX,x=e.strokeWidth,w=e.dataLabelsConfig,S=e.barDataLabelsConfig,C=e.barTotalDataLabelsConfig,A=e.offX,E=e.offY,P=r.globals.gridHeight/r.globals.dataPoints;h=Math.abs(h);var I,N,D=l-(this.barCtx.isRangeBar?0:P)+u/2+f.height/2+E-3,L="start",R=r.globals.series[i][o]<0,$=n;switch(this.barCtx.isReversed&&($=n+(R?-h:h),L=R?"start":"end"),S.position){case"center":m=R?$+h/2-A:Math.max(f.width/2,$-h/2)+A;break;case"bottom":m=R?$+h-x-A:$-h+x+A;break;case"top":m=R?$-x-A:$-x+A}if(this.barCtx.lastActiveBarSerieIndex===a&&C.enabled){var W=new bt(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:a,j:o}),w.fontSize);R?(I=$-x-A-C.offsetX,L="end"):I=$+A+C.offsetX+(this.barCtx.isReversed?-(h+x):x),N=D-f.height/2+W.height/2+C.offsetY+x}return r.config.chart.stacked||(w.textAnchor==="start"?m-f.width<0?m=R?f.width+x:x:m+f.width>r.globals.gridWidth&&(m=R?r.globals.gridWidth-x:r.globals.gridWidth-f.width-x):w.textAnchor==="middle"?m-f.width/2<0?m=f.width/2+x:m+f.width/2>r.globals.gridWidth&&(m=r.globals.gridWidth-f.width/2-x):w.textAnchor==="end"&&(m<1?m=f.width+x:m+1>r.globals.gridWidth&&(m=r.globals.gridWidth-f.width-x))),{bcx:n,bcy:l,dataLabelsX:m,dataLabelsY:D,totalDataLabelsX:I,totalDataLabelsY:N,totalDataLabelsAnchor:L}}},{key:"drawCalculatedDataLabels",value:function(e){var r=e.x,n=e.y,i=e.val,o=e.i,a=e.j,l=e.textRects,u=e.barHeight,h=e.barWidth,f=e.dataLabelsConfig,m=this.w,x="rotate(0)";m.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(x="rotate(-90, ".concat(r,", ").concat(n,")"));var w=new qp(this.barCtx.ctx),S=new bt(this.barCtx.ctx),C=f.formatter,A=null,E=m.globals.collapsedSeriesIndices.indexOf(o)>-1;if(f.enabled&&!E){A=S.group({class:"apexcharts-data-labels",transform:x});var P="";i!==void 0&&(P=C(i,Ft(Ft({},m),{},{seriesIndex:o,dataPointIndex:a,w:m}))),!i&&m.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(P="");var I=m.globals.series[o][a]<0,N=m.config.plotOptions.bar.dataLabels.position;m.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(N==="top"&&(f.textAnchor=I?"end":"start"),N==="center"&&(f.textAnchor="middle"),N==="bottom"&&(f.textAnchor=I?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&h<S.getTextRects(P,parseFloat(f.style.fontSize)).width&&(P=""),m.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?l.width/1.6>Math.abs(h)&&(P=""):l.height/1.6>Math.abs(u)&&(P=""));var D=Ft({},f);this.barCtx.isHorizontal&&i<0&&(f.textAnchor==="start"?D.textAnchor="end":f.textAnchor==="end"&&(D.textAnchor="start")),w.plotDataLabelsText({x:r,y:n,text:P,i:o,j:a,parent:A,dataLabelsConfig:D,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return A}},{key:"drawTotalDataLabels",value:function(e){var r=e.x,n=e.y,i=e.val,o=e.realIndex,a=e.textAnchor,l=e.barTotalDataLabelsConfig;this.w;var u,h=new bt(this.barCtx.ctx);return l.enabled&&r!==void 0&&n!==void 0&&this.barCtx.lastActiveBarSerieIndex===o&&(u=h.drawText({x:r,y:n,foreColor:l.style.color,text:i,textAnchor:a,fontFamily:l.style.fontFamily,fontSize:l.style.fontSize,fontWeight:l.style.fontWeight})),u}}]),t}(),LAe=function(){function t(e){Qt(this,t),this.w=e.w,this.barCtx=e}return er(t,[{key:"initVariables",value:function(e){var r=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var n=0;n<e.length;n++)if(e[n].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[n].length),r.globals.isXNumeric)for(var i=0;i<e[n].length;i++)r.globals.seriesX[n][i]>r.globals.minX&&r.globals.seriesX[n][i]<r.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=r.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(r.globals.series),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],r.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(){var e,r,n,i,o,a,l,u,h=this.w,f=h.globals.dataPoints;this.barCtx.isRangeBar&&(f=h.globals.labels.length);var m=this.barCtx.seriesLen;if(h.config.plotOptions.bar.rangeBarGroupRows&&(m=1),this.barCtx.isHorizontal)o=(n=h.globals.gridHeight/f)/m,h.globals.isXNumeric&&(o=(n=h.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),o=o*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(o=parseInt(this.barCtx.barOptions.barHeight,10)),u=this.barCtx.baseLineInvertedY+h.globals.padHorizontal+(this.barCtx.isReversed?h.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(u=h.globals.gridWidth/2),r=(n-o*this.barCtx.seriesLen)/2;else{if(i=h.globals.gridWidth/this.barCtx.visibleItems,h.config.xaxis.convertedCatToNumeric&&(i=h.globals.gridWidth/h.globals.dataPoints),a=i/m*parseInt(this.barCtx.barOptions.columnWidth,10)/100,h.globals.isXNumeric){var x=this.barCtx.xRatio;h.globals.minXDiff&&h.globals.minXDiff!==.5&&h.globals.minXDiff/x>0&&(i=h.globals.minXDiff/x),(a=i/m*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(a=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(a=parseInt(this.barCtx.barOptions.columnWidth,10)),l=h.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?h.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),e=h.globals.padHorizontal+(i-a*this.barCtx.seriesLen)/2}return h.globals.barHeight=o,h.globals.barWidth=a,{x:e,y:r,yDivision:n,xDivision:i,barHeight:o,barWidth:a,zeroH:l,zeroW:u}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach(function(r){e[r]||(e[r]={}),e[r].prevY=[],e[r].prevX=[],e[r].prevYF=[],e[r].prevXF=[],e[r].prevYVal=[],e[r].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach(function(r){e[r]||(e[r]={}),e[r].xArrj=[],e[r].xArrjF=[],e[r].xArrjVal=[],e[r].yArrj=[],e[r].yArrjF=[],e[r].yArrjVal=[]})}},{key:"getPathFillColor",value:function(e,r,n,i){var o,a,l,u,h=this.w,f=this.barCtx.ctx.fill,m=null,x=this.barCtx.barOptions.distributed?n:r;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(w){e[r][n]>=w.from&&e[r][n]<=w.to&&(m=w.color)}),f.fillPath({seriesNumber:this.barCtx.barOptions.distributed?x:i,dataPointIndex:n,color:m,value:e[r][n],fillConfig:(o=h.config.series[r].data[n])===null||o===void 0?void 0:o.fill,fillType:(a=h.config.series[r].data[n])!==null&&a!==void 0&&(l=a.fill)!==null&&l!==void 0&&l.type?(u=h.config.series[r].data[n])===null||u===void 0?void 0:u.fill.type:Array.isArray(h.config.fill.type)?h.config.fill.type[i]:h.config.fill.type})}},{key:"getStrokeWidth",value:function(e,r,n){var i=0,o=this.w;return this.barCtx.series[e][r]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,o.config.stroke.show&&(this.barCtx.isNullValue||(i=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[n]:this.barCtx.strokeWidth)),i}},{key:"createBorderRadiusArr",value:function(e){var r,n=this.w,i=!this.w.config.chart.stacked||n.config.plotOptions.bar.borderRadius<=0,o=e.length,a=0|((r=e[0])===null||r===void 0?void 0:r.length),l=Array.from({length:o},function(){return Array(a).fill(i?"top":"none")});if(i)return l;for(var u=0;u<a;u++){for(var h=[],f=[],m=0,x=0;x<o;x++){var w=e[x][u];w>0?(h.push(x),m++):w<0&&(f.push(x),m++)}if(h.length>0&&f.length===0)if(h.length===1)l[h[0]][u]="both";else{var S,C=h[0],A=h[h.length-1],E=Bg(h);try{for(E.s();!(S=E.n()).done;){var P=S.value;l[P][u]=P===C?"bottom":P===A?"top":"none"}}catch(oe){E.e(oe)}finally{E.f()}}else if(f.length>0&&h.length===0)if(f.length===1)l[f[0]][u]="both";else{var I,N=Math.max.apply(Math,f),D=Math.min.apply(Math,f),L=Bg(f);try{for(L.s();!(I=L.n()).done;){var R=I.value;l[R][u]=R===N?"bottom":R===D?"top":"none"}}catch(oe){L.e(oe)}finally{L.f()}}else if(h.length>0&&f.length>0){var $,W=h[h.length-1],J=Bg(h);try{for(J.s();!($=J.n()).done;){var q=$.value;l[q][u]=q===W?"top":"none"}}catch(oe){J.e(oe)}finally{J.f()}var ee,se=Math.max.apply(Math,f),he=Bg(f);try{for(he.s();!(ee=he.n()).done;){var Se=ee.value;l[Se][u]=Se===se?"bottom":"none"}}catch(oe){he.e(oe)}finally{he.f()}}else m===1&&(l[h[0]||f[0]][u]="both")}return l}},{key:"barBackground",value:function(e){var r=e.j,n=e.i,i=e.x1,o=e.x2,a=e.y1,l=e.y2,u=e.elSeries,h=this.w,f=new bt(this.barCtx.ctx),m=new zs(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&m===n){r>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(r%=this.barCtx.barOptions.colors.backgroundBarColors.length);var x=this.barCtx.barOptions.colors.backgroundBarColors[r],w=f.drawRect(i!==void 0?i:0,a!==void 0?a:0,o!==void 0?o:h.globals.gridWidth,l!==void 0?l:h.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,x,this.barCtx.barOptions.colors.backgroundBarOpacity);u.add(w),w.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var r,n=e.barWidth,i=e.barXPosition,o=e.y1,a=e.y2,l=e.strokeWidth,u=e.isReversed,h=e.series,f=e.seriesGroup,m=e.realIndex,x=e.i,w=e.j,S=e.w,C=new bt(this.barCtx.ctx);(l=Array.isArray(l)?l[m]:l)||(l=0);var A=n,E=i;(r=S.config.series[m].data[w])!==null&&r!==void 0&&r.columnWidthOffset&&(E=i-S.config.series[m].data[w].columnWidthOffset/2,A=n+S.config.series[m].data[w].columnWidthOffset);var P=l/2,I=E+P,N=E+A-P,D=(h[x][w]>=0?1:-1)*(u?-1:1);o+=.001-P*D,a+=.001+P*D;var L=C.move(I,o),R=C.move(I,o),$=C.line(N,o);if(S.globals.previousPaths.length>0&&(R=this.barCtx.getPreviousPath(m,w,!1)),L=L+C.line(I,a)+C.line(N,a)+$+(S.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[m][w]==="both"?" Z":" z"),R=R+C.line(I,o)+$+$+$+$+$+C.line(I,o)+(S.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[m][w]==="both"?" Z":" z"),this.arrBorderRadius[m][w]!=="none"&&(L=C.roundPathCorners(L,S.config.plotOptions.bar.borderRadius)),S.config.chart.stacked){var W=this.barCtx;(W=this.barCtx[f]).yArrj.push(a-P*D),W.yArrjF.push(Math.abs(o-a+l*D)),W.yArrjVal.push(this.barCtx.series[x][w])}return{pathTo:L,pathFrom:R}}},{key:"getBarpaths",value:function(e){var r,n=e.barYPosition,i=e.barHeight,o=e.x1,a=e.x2,l=e.strokeWidth,u=e.isReversed,h=e.series,f=e.seriesGroup,m=e.realIndex,x=e.i,w=e.j,S=e.w,C=new bt(this.barCtx.ctx);(l=Array.isArray(l)?l[m]:l)||(l=0);var A=n,E=i;(r=S.config.series[m].data[w])!==null&&r!==void 0&&r.barHeightOffset&&(A=n-S.config.series[m].data[w].barHeightOffset/2,E=i+S.config.series[m].data[w].barHeightOffset);var P=l/2,I=A+P,N=A+E-P,D=(h[x][w]>=0?1:-1)*(u?-1:1);o+=.001+P*D,a+=.001-P*D;var L=C.move(o,I),R=C.move(o,I);S.globals.previousPaths.length>0&&(R=this.barCtx.getPreviousPath(m,w,!1));var $=C.line(o,N);if(L=L+C.line(a,I)+C.line(a,N)+$+(S.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[m][w]==="both"?" Z":" z"),R=R+C.line(o,I)+$+$+$+$+$+C.line(o,I)+(S.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[m][w]==="both"?" Z":" z"),this.arrBorderRadius[m][w]!=="none"&&(L=C.roundPathCorners(L,S.config.plotOptions.bar.borderRadius)),S.config.chart.stacked){var W=this.barCtx;(W=this.barCtx[f]).xArrj.push(a+P*D),W.xArrjF.push(Math.abs(o-a-l*D)),W.xArrjVal.push(this.barCtx.series[x][w])}return{pathTo:L,pathFrom:R}}},{key:"checkZeroSeries",value:function(e){for(var r=e.series,n=this.w,i=0;i<r.length;i++){for(var o=0,a=0;a<r[n.globals.maxValsInArrayIndex].length;a++)o+=r[i][a];o===0&&this.barCtx.zeroSerieses.push(i)}}},{key:"getXForValue",value:function(e,r){var n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?r:null;return e!=null&&(n=r+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),n}},{key:"getYForValue",value:function(e,r,n){var i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?r:null;return e!=null&&(i=r-e/this.barCtx.yRatio[n]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[n]:0)),i}},{key:"getGoalValues",value:function(e,r,n,i,o,a){var l=this,u=this.w,h=[],f=function(w,S){var C;h.push((ab(C={},e,e==="x"?l.getXForValue(w,r,!1):l.getYForValue(w,n,a,!1)),ab(C,"attrs",S),C))};if(u.globals.seriesGoals[i]&&u.globals.seriesGoals[i][o]&&Array.isArray(u.globals.seriesGoals[i][o])&&u.globals.seriesGoals[i][o].forEach(function(w){f(w.value,w)}),this.barCtx.barOptions.isDumbbell&&u.globals.seriesRange.length){var m=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:u.globals.colors,x={strokeHeight:e==="x"?0:u.globals.markers.size[i],strokeWidth:e==="x"?u.globals.markers.size[i]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(m[i])?m[i][0]:m[i]};f(u.globals.seriesRangeStart[i][o],x),f(u.globals.seriesRangeEnd[i][o],Ft(Ft({},x),{},{strokeColor:Array.isArray(m[i])?m[i][1]:m[i]}))}return h}},{key:"drawGoalLine",value:function(e){var r=e.barXPosition,n=e.barYPosition,i=e.goalX,o=e.goalY,a=e.barWidth,l=e.barHeight,u=new bt(this.barCtx.ctx),h=u.group({className:"apexcharts-bar-goals-groups"});h.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:h.node}),h.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var f=null;return this.barCtx.isHorizontal?Array.isArray(i)&&i.forEach(function(m){if(m.x>=-1&&m.x<=u.w.globals.gridWidth+1){var x=m.attrs.strokeHeight!==void 0?m.attrs.strokeHeight:l/2,w=n+x+l/2;f=u.drawLine(m.x,w-2*x,m.x,w,m.attrs.strokeColor?m.attrs.strokeColor:void 0,m.attrs.strokeDashArray,m.attrs.strokeWidth?m.attrs.strokeWidth:2,m.attrs.strokeLineCap),h.add(f)}}):Array.isArray(o)&&o.forEach(function(m){if(m.y>=-1&&m.y<=u.w.globals.gridHeight+1){var x=m.attrs.strokeWidth!==void 0?m.attrs.strokeWidth:a/2,w=r+x+a/2;f=u.drawLine(w-2*x,m.y,w,m.y,m.attrs.strokeColor?m.attrs.strokeColor:void 0,m.attrs.strokeDashArray,m.attrs.strokeHeight?m.attrs.strokeHeight:2,m.attrs.strokeLineCap),h.add(f)}}),h}},{key:"drawBarShadow",value:function(e){var r=e.prevPaths,n=e.currPaths,i=e.color,o=this.w,a=r.x,l=r.x1,u=r.barYPosition,h=n.x,f=n.x1,m=n.barYPosition,x=u+n.barHeight,w=new bt(this.barCtx.ctx),S=new ze,C=w.move(l,x)+w.line(a,x)+w.line(h,m)+w.line(f,m)+w.line(l,x)+(o.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return w.drawPath({d:C,fill:S.shadeColor(.5,ze.rgb2hex(i)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var r,n=e.i,i=e.j,o=this.w,a=0,l=0;return(o.config.plotOptions.bar.horizontal?o.globals.series.map(function(u,h){return h}):((r=o.globals.columnSeries)===null||r===void 0?void 0:r.i.map(function(u){return u}))||[]).forEach(function(u){var h=o.globals.seriesPercent[u][i];h&&a++,u<n&&h===0&&l++}),{nonZeroColumns:a,zeroEncounters:l}}},{key:"getGroupIndex",value:function(e){var r=this.w,n=r.globals.seriesGroups.findIndex(function(a){return a.indexOf(r.globals.seriesNames[e])>-1}),i=this.barCtx.columnGroupIndices,o=i.indexOf(n);return o<0&&(i.push(n),o=i.length-1),{groupIndex:n,columnGroupIndex:o}}}]),t}(),Zp=function(){function t(e,r){Qt(this,t),this.ctx=e,this.w=e.w;var n=this.w;this.barOptions=n.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=n.config.stroke.width,this.isNullValue=!1,this.isRangeBar=n.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!n.globals.isBarHorizontal&&n.globals.seriesRange.length&&n.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=r,this.xyRatios!==null&&(this.xRatio=r.xRatio,this.yRatio=r.yRatio,this.invertedXRatio=r.invertedXRatio,this.invertedYRatio=r.invertedYRatio,this.baseLineY=r.baseLineY,this.baseLineInvertedY=r.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var i=new zs(this.ctx);this.lastActiveBarSerieIndex=i.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var o=i.getBarSeriesIndices(),a=new Qi(this.ctx);this.stackedSeriesTotals=a.getStackedSeriesTotals(this.w.config.series.map(function(l,u){return o.indexOf(u)===-1?u:-1}).filter(function(l){return l!==-1})),this.barHelpers=new LAe(this)}return er(t,[{key:"draw",value:function(e,r){var n=this.w,i=new bt(this.ctx),o=new Qi(this.ctx,n);e=o.getLogSeries(e),this.series=e,this.yRatio=o.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var a=i.group({class:"apexcharts-bar-series apexcharts-plot-series"});n.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var l=0,u=0;l<e.length;l++,u++){var h,f,m,x,w=void 0,S=void 0,C=[],A=[],E=n.globals.comboCharts?r[l]:l,P=this.barHelpers.getGroupIndex(E).columnGroupIndex,I=i.group({class:"apexcharts-series",rel:l+1,seriesName:ze.escapeString(n.globals.seriesNames[E]),"data:realIndex":E});this.ctx.series.addCollapsedClassToSeries(I,E),e[l].length>0&&(this.visibleI=this.visibleI+1);var N=0,D=0;this.yRatio.length>1&&(this.yaxisIndex=n.globals.seriesYAxisReverseMap[E],this.translationsIndex=E);var L=this.translationsIndex;this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed;var R=this.barHelpers.initialPositions();S=R.y,N=R.barHeight,f=R.yDivision,x=R.zeroW,w=R.x,D=R.barWidth,h=R.xDivision,m=R.zeroH,this.isHorizontal||A.push(w+D/2);var $=i.group({class:"apexcharts-datalabels","data:realIndex":E});n.globals.delayedElements.push({el:$.node}),$.node.classList.add("apexcharts-element-hidden");var W=i.group({class:"apexcharts-bar-goals-markers"}),J=i.group({class:"apexcharts-bar-shadows"});n.globals.delayedElements.push({el:J.node}),J.node.classList.add("apexcharts-element-hidden");for(var q=0;q<e[l].length;q++){var ee=this.barHelpers.getStrokeWidth(l,q,E),se=null,he={indexes:{i:l,j:q,realIndex:E,translationsIndex:L,bc:u},x:w,y:S,strokeWidth:ee,elSeries:I};this.isHorizontal?(se=this.drawBarPaths(Ft(Ft({},he),{},{barHeight:N,zeroW:x,yDivision:f})),D=this.series[l][q]/this.invertedYRatio):(se=this.drawColumnPaths(Ft(Ft({},he),{},{xDivision:h,barWidth:D,zeroH:m})),N=this.series[l][q]/this.yRatio[L]);var Se=this.barHelpers.getPathFillColor(e,l,q,E);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&q>0){var oe=this.barHelpers.drawBarShadow({color:typeof Se=="string"&&(Se==null?void 0:Se.indexOf("url"))===-1?Se:ze.hexToRgba(n.globals.colors[l]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:se});J.add(oe),n.config.chart.dropShadow.enabled&&new Xa(this.ctx).dropShadow(oe,n.config.chart.dropShadow,E)}this.pathArr.push(se);var _e=this.barHelpers.drawGoalLine({barXPosition:se.barXPosition,barYPosition:se.barYPosition,goalX:se.goalX,goalY:se.goalY,barHeight:N,barWidth:D});_e&&W.add(_e),S=se.y,w=se.x,q>0&&A.push(w+D/2),C.push(S),this.renderSeries({realIndex:E,pathFill:Se,j:q,i:l,columnGroupIndex:P,pathFrom:se.pathFrom,pathTo:se.pathTo,strokeWidth:ee,elSeries:I,x:w,y:S,series:e,barHeight:Math.abs(se.barHeight?se.barHeight:N),barWidth:Math.abs(se.barWidth?se.barWidth:D),elDataLabelsWrap:$,elGoalsMarkers:W,elBarShadows:J,visibleSeries:this.visibleI,type:"bar"})}n.globals.seriesXvalues[E]=A,n.globals.seriesYvalues[E]=C,a.add(I)}return a}},{key:"renderSeries",value:function(e){var r=e.realIndex,n=e.pathFill,i=e.lineFill,o=e.j,a=e.i,l=e.columnGroupIndex,u=e.pathFrom,h=e.pathTo,f=e.strokeWidth,m=e.elSeries,x=e.x,w=e.y,S=e.y1,C=e.y2,A=e.series,E=e.barHeight,P=e.barWidth,I=e.barXPosition,N=e.barYPosition,D=e.elDataLabelsWrap,L=e.elGoalsMarkers,R=e.elBarShadows,$=e.visibleSeries,W=e.type,J=e.classes,q=this.w,ee=new bt(this.ctx);if(!i){var se=typeof q.globals.stroke.colors[r]=="function"?function(xe){var Ne,Re=q.config.stroke.colors;return Array.isArray(Re)&&Re.length>0&&((Ne=Re[xe])||(Ne=""),typeof Ne=="function")?Ne({value:q.globals.series[xe][o],dataPointIndex:o,w:q}):Ne}(r):q.globals.stroke.colors[r];i=this.barOptions.distributed?q.globals.stroke.colors[o]:se}q.config.series[a].data[o]&&q.config.series[a].data[o].strokeColor&&(i=q.config.series[a].data[o].strokeColor),this.isNullValue&&(n="none");var he=o/q.config.chart.animations.animateGradually.delay*(q.config.chart.animations.speed/q.globals.dataPoints)/2.4,Se=ee.renderPaths({i:a,j:o,realIndex:r,pathFrom:u,pathTo:h,stroke:i,strokeWidth:f,strokeLineCap:q.config.stroke.lineCap,fill:n,animationDelay:he,initialSpeed:q.config.chart.animations.speed,dataChangeSpeed:q.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(W,"-area ").concat(J),chartType:W});Se.attr("clip-path","url(#gridRectBarMask".concat(q.globals.cuid,")"));var oe=q.config.forecastDataPoints;oe.count>0&&o>=q.globals.dataPoints-oe.count&&(Se.node.setAttribute("stroke-dasharray",oe.dashArray),Se.node.setAttribute("stroke-width",oe.strokeWidth),Se.node.setAttribute("fill-opacity",oe.fillOpacity)),S!==void 0&&C!==void 0&&(Se.attr("data-range-y1",S),Se.attr("data-range-y2",C)),new Xa(this.ctx).setSelectionFilter(Se,r,o),m.add(Se);var _e=new NAe(this).handleBarDataLabels({x,y:w,y1:S,y2:C,i:a,j:o,series:A,realIndex:r,columnGroupIndex:l,barHeight:E,barWidth:P,barXPosition:I,barYPosition:N,renderedPath:Se,visibleSeries:$});return _e.dataLabels!==null&&D.add(_e.dataLabels),_e.totalDataLabels&&D.add(_e.totalDataLabels),m.add(D),L&&m.add(L),R&&m.add(R),m}},{key:"drawBarPaths",value:function(e){var r,n=e.indexes,i=e.barHeight,o=e.strokeWidth,a=e.zeroW,l=e.x,u=e.y,h=e.yDivision,f=e.elSeries,m=this.w,x=n.i,w=n.j;if(m.globals.isXNumeric)r=(u=(m.globals.seriesX[x][w]-m.globals.minX)/this.invertedXRatio-i)+i*this.visibleI;else if(m.config.plotOptions.bar.hideZeroBarsWhenGrouped){var S=0,C=0;m.globals.seriesPercent.forEach(function(E,P){E[w]&&S++,P<x&&E[w]===0&&C++}),S>0&&(i=this.seriesLen*i/S),r=u+i*this.visibleI,r-=i*C}else r=u+i*this.visibleI;this.isFunnel&&(a-=(this.barHelpers.getXForValue(this.series[x][w],a)-a)/2),l=this.barHelpers.getXForValue(this.series[x][w],a);var A=this.barHelpers.getBarpaths({barYPosition:r,barHeight:i,x1:a,x2:l,strokeWidth:o,isReversed:this.isReversed,series:this.series,realIndex:n.realIndex,i:x,j:w,w:m});return m.globals.isXNumeric||(u+=h),this.barHelpers.barBackground({j:w,i:x,y1:r-i*this.visibleI,y2:i*this.seriesLen,elSeries:f}),{pathTo:A.pathTo,pathFrom:A.pathFrom,x1:a,x:l,y:u,goalX:this.barHelpers.getGoalValues("x",a,null,x,w),barYPosition:r,barHeight:i}}},{key:"drawColumnPaths",value:function(e){var r,n=e.indexes,i=e.x,o=e.y,a=e.xDivision,l=e.barWidth,u=e.zeroH,h=e.strokeWidth,f=e.elSeries,m=this.w,x=n.realIndex,w=n.translationsIndex,S=n.i,C=n.j,A=n.bc;if(m.globals.isXNumeric){var E=this.getBarXForNumericXAxis({x:i,j:C,realIndex:x,barWidth:l});i=E.x,r=E.barXPosition}else if(m.config.plotOptions.bar.hideZeroBarsWhenGrouped){var P=this.barHelpers.getZeroValueEncounters({i:S,j:C}),I=P.nonZeroColumns,N=P.zeroEncounters;I>0&&(l=this.seriesLen*l/I),r=i+l*this.visibleI,r-=l*N}else r=i+l*this.visibleI;o=this.barHelpers.getYForValue(this.series[S][C],u,w);var D=this.barHelpers.getColumnPaths({barXPosition:r,barWidth:l,y1:u,y2:o,strokeWidth:h,isReversed:this.isReversed,series:this.series,realIndex:x,i:S,j:C,w:m});return m.globals.isXNumeric||(i+=a),this.barHelpers.barBackground({bc:A,j:C,i:S,x1:r-h/2-l*this.visibleI,x2:l*this.seriesLen+h/2,elSeries:f}),{pathTo:D.pathTo,pathFrom:D.pathFrom,x:i,y:o,goalY:this.barHelpers.getGoalValues("y",null,u,S,C,w),barXPosition:r,barWidth:l}}},{key:"getBarXForNumericXAxis",value:function(e){var r=e.x,n=e.barWidth,i=e.realIndex,o=e.j,a=this.w,l=i;return a.globals.seriesX[i].length||(l=a.globals.maxValsInArrayIndex),ze.isNumber(a.globals.seriesX[l][o])&&(r=(a.globals.seriesX[l][o]-a.globals.minX)/this.xRatio-n*this.seriesLen/2),{barXPosition:r+n*this.visibleI,x:r}}},{key:"getPreviousPath",value:function(e,r){for(var n,i=this.w,o=0;o<i.globals.previousPaths.length;o++){var a=i.globals.previousPaths[o];a.paths&&a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(e,10)&&i.globals.previousPaths[o].paths[r]!==void 0&&(n=i.globals.previousPaths[o].paths[r].d)}return n}}]),t}(),zD=function(t){xy(r,Zp);var e=yy(r);function r(){return Qt(this,r),e.apply(this,arguments)}return er(r,[{key:"draw",value:function(n,i){var o=this,a=this.w;this.graphics=new bt(this.ctx),this.bar=new Zp(this.ctx,this.xyRatios);var l=new Qi(this.ctx,a);n=l.getLogSeries(n),this.yRatio=l.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n),a.config.chart.stackType==="100%"&&(n=a.globals.comboCharts?i.map(function(S){return a.globals.seriesPercent[S]}):a.globals.seriesPercent.slice()),this.series=n,this.barHelpers.initializeStackedPrevVars(this);for(var u=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),h=0,f=0,m=function(S,C){var A=void 0,E=void 0,P=void 0,I=void 0,N=a.globals.comboCharts?i[S]:S,D=o.barHelpers.getGroupIndex(N),L=D.groupIndex,R=D.columnGroupIndex;o.groupCtx=o[a.globals.seriesGroups[L]];var $=[],W=[],J=0;o.yRatio.length>1&&(o.yaxisIndex=a.globals.seriesYAxisReverseMap[N][0],J=N),o.isReversed=a.config.yaxis[o.yaxisIndex]&&a.config.yaxis[o.yaxisIndex].reversed;var q=o.graphics.group({class:"apexcharts-series",seriesName:ze.escapeString(a.globals.seriesNames[N]),rel:S+1,"data:realIndex":N});o.ctx.series.addCollapsedClassToSeries(q,N);var ee=o.graphics.group({class:"apexcharts-datalabels","data:realIndex":N}),se=o.graphics.group({class:"apexcharts-bar-goals-markers"}),he=0,Se=0,oe=o.initialPositions(h,f,A,E,P,I,J);f=oe.y,he=oe.barHeight,E=oe.yDivision,I=oe.zeroW,h=oe.x,Se=oe.barWidth,A=oe.xDivision,P=oe.zeroH,a.globals.barHeight=he,a.globals.barWidth=Se,o.barHelpers.initializeStackedXYVars(o),o.groupCtx.prevY.length===1&&o.groupCtx.prevY[0].every(function(Ue){return isNaN(Ue)})&&(o.groupCtx.prevY[0]=o.groupCtx.prevY[0].map(function(){return P}),o.groupCtx.prevYF[0]=o.groupCtx.prevYF[0].map(function(){return 0}));for(var _e=0;_e<a.globals.dataPoints;_e++){var xe=o.barHelpers.getStrokeWidth(S,_e,N),Ne={indexes:{i:S,j:_e,realIndex:N,translationsIndex:J,bc:C},strokeWidth:xe,x:h,y:f,elSeries:q,columnGroupIndex:R,seriesGroup:a.globals.seriesGroups[L]},Re=null;o.isHorizontal?(Re=o.drawStackedBarPaths(Ft(Ft({},Ne),{},{zeroW:I,barHeight:he,yDivision:E})),Se=o.series[S][_e]/o.invertedYRatio):(Re=o.drawStackedColumnPaths(Ft(Ft({},Ne),{},{xDivision:A,barWidth:Se,zeroH:P})),he=o.series[S][_e]/o.yRatio[J]);var He=o.barHelpers.drawGoalLine({barXPosition:Re.barXPosition,barYPosition:Re.barYPosition,goalX:Re.goalX,goalY:Re.goalY,barHeight:he,barWidth:Se});He&&se.add(He),f=Re.y,h=Re.x,$.push(h),W.push(f);var tt=o.barHelpers.getPathFillColor(n,S,_e,N),nt="",Ke=a.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(o.barHelpers.arrBorderRadius[N][_e]==="bottom"&&a.globals.series[N][_e]>0||o.barHelpers.arrBorderRadius[N][_e]==="top"&&a.globals.series[N][_e]<0)&&(nt=Ke),q=o.renderSeries({realIndex:N,pathFill:tt,j:_e,i:S,columnGroupIndex:R,pathFrom:Re.pathFrom,pathTo:Re.pathTo,strokeWidth:xe,elSeries:q,x:h,y:f,series:n,barHeight:he,barWidth:Se,elDataLabelsWrap:ee,elGoalsMarkers:se,type:"bar",visibleSeries:R,classes:nt})}a.globals.seriesXvalues[N]=$,a.globals.seriesYvalues[N]=W,o.groupCtx.prevY.push(o.groupCtx.yArrj),o.groupCtx.prevYF.push(o.groupCtx.yArrjF),o.groupCtx.prevYVal.push(o.groupCtx.yArrjVal),o.groupCtx.prevX.push(o.groupCtx.xArrj),o.groupCtx.prevXF.push(o.groupCtx.xArrjF),o.groupCtx.prevXVal.push(o.groupCtx.xArrjVal),u.add(q)},x=0,w=0;x<n.length;x++,w++)m(x,w);return u}},{key:"initialPositions",value:function(n,i,o,a,l,u,h){var f,m,x=this.w;if(this.isHorizontal){a=x.globals.gridHeight/x.globals.dataPoints;var w=x.config.plotOptions.bar.barHeight;f=String(w).indexOf("%")===-1?parseInt(w,10):a*parseInt(w,10)/100,u=x.globals.padHorizontal+(this.isReversed?x.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),i=(a-f)/2}else{m=o=x.globals.gridWidth/x.globals.dataPoints;var S=x.config.plotOptions.bar.columnWidth;x.globals.isXNumeric&&x.globals.dataPoints>1?m=(o=x.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(S).indexOf("%")===-1?m=parseInt(S,10):m*=parseInt(S,10)/100,l=this.isReversed?this.baseLineY[h]:x.globals.gridHeight-this.baseLineY[h],n=x.globals.padHorizontal+(o-m)/2}var C=x.globals.barGroups.length||1;return{x:n,y:i,yDivision:a,xDivision:o,barHeight:f/C,barWidth:m/C,zeroH:l,zeroW:u}}},{key:"drawStackedBarPaths",value:function(n){for(var i,o=n.indexes,a=n.barHeight,l=n.strokeWidth,u=n.zeroW,h=n.x,f=n.y,m=n.columnGroupIndex,x=n.seriesGroup,w=n.yDivision,S=n.elSeries,C=this.w,A=f+m*a,E=o.i,P=o.j,I=o.realIndex,N=o.translationsIndex,D=0,L=0;L<this.groupCtx.prevXF.length;L++)D+=this.groupCtx.prevXF[L][P];var R;if((R=x.indexOf(C.config.series[I].name))>0){var $=u;this.groupCtx.prevXVal[R-1][P]<0?$=this.series[E][P]>=0?this.groupCtx.prevX[R-1][P]+D-2*(this.isReversed?D:0):this.groupCtx.prevX[R-1][P]:this.groupCtx.prevXVal[R-1][P]>=0&&($=this.series[E][P]>=0?this.groupCtx.prevX[R-1][P]:this.groupCtx.prevX[R-1][P]-D+2*(this.isReversed?D:0)),i=$}else i=u;h=this.series[E][P]===null?i:i+this.series[E][P]/this.invertedYRatio-2*(this.isReversed?this.series[E][P]/this.invertedYRatio:0);var W=this.barHelpers.getBarpaths({barYPosition:A,barHeight:a,x1:i,x2:h,strokeWidth:l,isReversed:this.isReversed,series:this.series,realIndex:o.realIndex,seriesGroup:x,i:E,j:P,w:C});return this.barHelpers.barBackground({j:P,i:E,y1:A,y2:a,elSeries:S}),f+=w,{pathTo:W.pathTo,pathFrom:W.pathFrom,goalX:this.barHelpers.getGoalValues("x",u,null,E,P,N),barXPosition:i,barYPosition:A,x:h,y:f}}},{key:"drawStackedColumnPaths",value:function(n){var i=n.indexes,o=n.x,a=n.y,l=n.xDivision,u=n.barWidth,h=n.zeroH,f=n.columnGroupIndex,m=n.seriesGroup,x=n.elSeries,w=this.w,S=i.i,C=i.j,A=i.bc,E=i.realIndex,P=i.translationsIndex;if(w.globals.isXNumeric){var I=w.globals.seriesX[E][C];I||(I=0),o=(I-w.globals.minX)/this.xRatio-u/2*w.globals.barGroups.length}for(var N,D=o+f*u,L=0,R=0;R<this.groupCtx.prevYF.length;R++)L+=isNaN(this.groupCtx.prevYF[R][C])?0:this.groupCtx.prevYF[R][C];var $=S;if(m&&($=m.indexOf(w.globals.seriesNames[E])),$>0&&!w.globals.isXNumeric||$>0&&w.globals.isXNumeric&&w.globals.seriesX[E-1][C]===w.globals.seriesX[E][C]){var W,J,q,ee=Math.min(this.yRatio.length+1,E+1);if(this.groupCtx.prevY[$-1]!==void 0&&this.groupCtx.prevY[$-1].length)for(var se=1;se<ee;se++){var he;if(!isNaN((he=this.groupCtx.prevY[$-se])===null||he===void 0?void 0:he[C])){q=this.groupCtx.prevY[$-se][C];break}}for(var Se=1;Se<ee;Se++){var oe,_e;if(((oe=this.groupCtx.prevYVal[$-Se])===null||oe===void 0?void 0:oe[C])<0){J=this.series[S][C]>=0?q-L+2*(this.isReversed?L:0):q;break}if(((_e=this.groupCtx.prevYVal[$-Se])===null||_e===void 0?void 0:_e[C])>=0){J=this.series[S][C]>=0?q:q+L-2*(this.isReversed?L:0);break}}J===void 0&&(J=w.globals.gridHeight),N=(W=this.groupCtx.prevYF[0])!==null&&W!==void 0&&W.every(function(Ne){return Ne===0})&&this.groupCtx.prevYF.slice(1,$).every(function(Ne){return Ne.every(function(Re){return isNaN(Re)})})?h:J}else N=h;a=this.series[S][C]?N-this.series[S][C]/this.yRatio[P]+2*(this.isReversed?this.series[S][C]/this.yRatio[P]:0):N;var xe=this.barHelpers.getColumnPaths({barXPosition:D,barWidth:u,y1:N,y2:a,yRatio:this.yRatio[P],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:m,realIndex:i.realIndex,i:S,j:C,w});return this.barHelpers.barBackground({bc:A,j:C,i:S,x1:D,x2:u,elSeries:x}),{pathTo:xe.pathTo,pathFrom:xe.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,h,S,C),barXPosition:D,x:w.globals.isXNumeric?o:o+l,y:a}}}]),r}(),B2=function(t){xy(r,Zp);var e=yy(r);function r(){return Qt(this,r),e.apply(this,arguments)}return er(r,[{key:"draw",value:function(n,i,o){var a=this,l=this.w,u=new bt(this.ctx),h=l.globals.comboCharts?i:l.config.chart.type,f=new fl(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=l.config.plotOptions.bar.horizontal;var m=new Qi(this.ctx,l);n=m.getLogSeries(n),this.series=n,this.yRatio=m.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n);for(var x=u.group({class:"apexcharts-".concat(h,"-series apexcharts-plot-series")}),w=function(C){a.isBoxPlot=l.config.chart.type==="boxPlot"||l.config.series[C].type==="boxPlot";var A,E,P,I,N=void 0,D=void 0,L=[],R=[],$=l.globals.comboCharts?o[C]:C,W=a.barHelpers.getGroupIndex($).columnGroupIndex,J=u.group({class:"apexcharts-series",seriesName:ze.escapeString(l.globals.seriesNames[$]),rel:C+1,"data:realIndex":$});a.ctx.series.addCollapsedClassToSeries(J,$),n[C].length>0&&(a.visibleI=a.visibleI+1);var q,ee,se=0;a.yRatio.length>1&&(a.yaxisIndex=l.globals.seriesYAxisReverseMap[$][0],se=$);var he=a.barHelpers.initialPositions();D=he.y,q=he.barHeight,E=he.yDivision,I=he.zeroW,N=he.x,ee=he.barWidth,A=he.xDivision,P=he.zeroH,R.push(N+ee/2);for(var Se=u.group({class:"apexcharts-datalabels","data:realIndex":$}),oe=u.group({class:"apexcharts-bar-goals-markers"}),_e=function(Ne){var Re=a.barHelpers.getStrokeWidth(C,Ne,$),He=null,tt={indexes:{i:C,j:Ne,realIndex:$,translationsIndex:se},x:N,y:D,strokeWidth:Re,elSeries:J};He=a.isHorizontal?a.drawHorizontalBoxPaths(Ft(Ft({},tt),{},{yDivision:E,barHeight:q,zeroW:I})):a.drawVerticalBoxPaths(Ft(Ft({},tt),{},{xDivision:A,barWidth:ee,zeroH:P})),D=He.y,N=He.x;var nt=a.barHelpers.drawGoalLine({barXPosition:He.barXPosition,barYPosition:He.barYPosition,goalX:He.goalX,goalY:He.goalY,barHeight:q,barWidth:ee});nt&&oe.add(nt),Ne>0&&R.push(N+ee/2),L.push(D),He.pathTo.forEach(function(Ke,Ue){var Xe=!a.isBoxPlot&&a.candlestickOptions.wick.useFillColor?He.color[Ue]:l.globals.stroke.colors[C],Ae=f.fillPath({seriesNumber:$,dataPointIndex:Ne,color:He.color[Ue],value:n[C][Ne]});a.renderSeries({realIndex:$,pathFill:Ae,lineFill:Xe,j:Ne,i:C,pathFrom:He.pathFrom,pathTo:Ke,strokeWidth:Re,elSeries:J,x:N,y:D,series:n,columnGroupIndex:W,barHeight:q,barWidth:ee,elDataLabelsWrap:Se,elGoalsMarkers:oe,visibleSeries:a.visibleI,type:l.config.chart.type})})},xe=0;xe<l.globals.dataPoints;xe++)_e(xe);l.globals.seriesXvalues[$]=R,l.globals.seriesYvalues[$]=L,x.add(J)},S=0;S<n.length;S++)w(S);return x}},{key:"drawVerticalBoxPaths",value:function(n){var i=n.indexes,o=n.x;n.y;var a=n.xDivision,l=n.barWidth,u=n.zeroH,h=n.strokeWidth,f=this.w,m=new bt(this.ctx),x=i.i,w=i.j,S=f.config.plotOptions.candlestick.colors,C=this.boxOptions.colors,A=i.realIndex,E=function(Se){return Array.isArray(Se)?Se[A]:Se},P=E(S.upward),I=E(S.downward),N=this.yRatio[i.translationsIndex],D=this.getOHLCValue(A,w),L=u,R=u,$=D.o<D.c?[P]:[I];this.isBoxPlot&&($=[E(C.lower),E(C.upper)]);var W=Math.min(D.o,D.c),J=Math.max(D.o,D.c),q=D.m;f.globals.isXNumeric&&(o=(f.globals.seriesX[A][w]-f.globals.minX)/this.xRatio-l/2);var ee=o+l*this.visibleI;this.series[x][w]===void 0||this.series[x][w]===null?(W=u,J=u):(W=u-W/N,J=u-J/N,L=u-D.h/N,R=u-D.l/N,q=u-D.m/N);var se=m.move(ee,u),he=m.move(ee+l/2,W);return f.globals.previousPaths.length>0&&(he=this.getPreviousPath(A,w,!0)),se=this.isBoxPlot?[m.move(ee,W)+m.line(ee+l/2,W)+m.line(ee+l/2,L)+m.line(ee+l/4,L)+m.line(ee+l-l/4,L)+m.line(ee+l/2,L)+m.line(ee+l/2,W)+m.line(ee+l,W)+m.line(ee+l,q)+m.line(ee,q)+m.line(ee,W+h/2),m.move(ee,q)+m.line(ee+l,q)+m.line(ee+l,J)+m.line(ee+l/2,J)+m.line(ee+l/2,R)+m.line(ee+l-l/4,R)+m.line(ee+l/4,R)+m.line(ee+l/2,R)+m.line(ee+l/2,J)+m.line(ee,J)+m.line(ee,q)+"z"]:[m.move(ee,J)+m.line(ee+l/2,J)+m.line(ee+l/2,L)+m.line(ee+l/2,J)+m.line(ee+l,J)+m.line(ee+l,W)+m.line(ee+l/2,W)+m.line(ee+l/2,R)+m.line(ee+l/2,W)+m.line(ee,W)+m.line(ee,J-h/2)],he+=m.move(ee,W),f.globals.isXNumeric||(o+=a),{pathTo:se,pathFrom:he,x:o,y:J,goalY:this.barHelpers.getGoalValues("y",null,u,x,w,i.translationsIndex),barXPosition:ee,color:$}}},{key:"drawHorizontalBoxPaths",value:function(n){var i=n.indexes;n.x;var o=n.y,a=n.yDivision,l=n.barHeight,u=n.zeroW,h=n.strokeWidth,f=this.w,m=new bt(this.ctx),x=i.i,w=i.j,S=this.boxOptions.colors.lower;this.isBoxPlot&&(S=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var C=this.invertedYRatio,A=i.realIndex,E=this.getOHLCValue(A,w),P=u,I=u,N=Math.min(E.o,E.c),D=Math.max(E.o,E.c),L=E.m;f.globals.isXNumeric&&(o=(f.globals.seriesX[A][w]-f.globals.minX)/this.invertedXRatio-l/2);var R=o+l*this.visibleI;this.series[x][w]===void 0||this.series[x][w]===null?(N=u,D=u):(N=u+N/C,D=u+D/C,P=u+E.h/C,I=u+E.l/C,L=u+E.m/C);var $=m.move(u,R),W=m.move(N,R+l/2);return f.globals.previousPaths.length>0&&(W=this.getPreviousPath(A,w,!0)),$=[m.move(N,R)+m.line(N,R+l/2)+m.line(P,R+l/2)+m.line(P,R+l/2-l/4)+m.line(P,R+l/2+l/4)+m.line(P,R+l/2)+m.line(N,R+l/2)+m.line(N,R+l)+m.line(L,R+l)+m.line(L,R)+m.line(N+h/2,R),m.move(L,R)+m.line(L,R+l)+m.line(D,R+l)+m.line(D,R+l/2)+m.line(I,R+l/2)+m.line(I,R+l-l/4)+m.line(I,R+l/4)+m.line(I,R+l/2)+m.line(D,R+l/2)+m.line(D,R)+m.line(L,R)+"z"],W+=m.move(N,R),f.globals.isXNumeric||(o+=a),{pathTo:$,pathFrom:W,x:D,y:o,goalX:this.barHelpers.getGoalValues("x",u,null,x,w),barYPosition:R,color:S}}},{key:"getOHLCValue",value:function(n,i){var o=this.w,a=new Qi(this.ctx,o),l=a.getLogValAtSeriesIndex(o.globals.seriesCandleH[n][i],n),u=a.getLogValAtSeriesIndex(o.globals.seriesCandleO[n][i],n),h=a.getLogValAtSeriesIndex(o.globals.seriesCandleM[n][i],n),f=a.getLogValAtSeriesIndex(o.globals.seriesCandleC[n][i],n),m=a.getLogValAtSeriesIndex(o.globals.seriesCandleL[n][i],n);return{o:this.isBoxPlot?l:u,h:this.isBoxPlot?u:l,m:h,l:this.isBoxPlot?f:m,c:this.isBoxPlot?m:f}}}]),r}(),T8=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w}return er(t,[{key:"checkColorRange",value:function(){var e=this.w,r=!1,n=e.config.plotOptions[e.config.chart.type];return n.colorScale.ranges.length>0&&n.colorScale.ranges.map(function(i,o){i.from<=0&&(r=!0)}),r}},{key:"getShadeColor",value:function(e,r,n,i){var o=this.w,a=1,l=o.config.plotOptions[e].shadeIntensity,u=this.determineColor(e,r,n);o.globals.hasNegs||i?a=o.config.plotOptions[e].reverseNegativeShade?u.percent<0?u.percent/100*(1.25*l):(1-u.percent/100)*(1.25*l):u.percent<=0?1-(1+u.percent/100)*l:(1-u.percent/100)*l:(a=1-u.percent/100,e==="treemap"&&(a=(1-u.percent/100)*(1.25*l)));var h=u.color,f=new ze;if(o.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var m=f.shadeColor(-1*a,u.color);h=ze.hexToRgba(ze.isColorHex(m)?m:ze.rgb2hex(m),o.config.fill.opacity)}else{var x=f.shadeColor(a,u.color);h=ze.hexToRgba(ze.isColorHex(x)?x:ze.rgb2hex(x),o.config.fill.opacity)}return{color:h,colorProps:u}}},{key:"determineColor",value:function(e,r,n){var i=this.w,o=i.globals.series[r][n],a=i.config.plotOptions[e],l=a.colorScale.inverse?n:r;a.distributed&&i.config.chart.type==="treemap"&&(l=n);var u=i.globals.colors[l],h=null,f=Math.min.apply(Math,Oa(i.globals.series[r])),m=Math.max.apply(Math,Oa(i.globals.series[r]));a.distributed||e!=="heatmap"||(f=i.globals.minY,m=i.globals.maxY),a.colorScale.min!==void 0&&(f=a.colorScale.min<i.globals.minY?a.colorScale.min:i.globals.minY,m=a.colorScale.max>i.globals.maxY?a.colorScale.max:i.globals.maxY);var x=Math.abs(m)+Math.abs(f),w=100*o/(x===0?x-1e-6:x);return a.colorScale.ranges.length>0&&a.colorScale.ranges.map(function(S,C){if(o>=S.from&&o<=S.to){u=S.color,h=S.foreColor?S.foreColor:null,f=S.from,m=S.to;var A=Math.abs(m)+Math.abs(f);w=100*o/(A===0?A-1e-6:A)}}),{color:u,foreColor:h,percent:w}}},{key:"calculateDataLabels",value:function(e){var r=e.text,n=e.x,i=e.y,o=e.i,a=e.j,l=e.colorProps,u=e.fontSize,h=this.w.config.dataLabels,f=new bt(this.ctx),m=new qp(this.ctx),x=null;if(h.enabled){x=f.group({class:"apexcharts-data-labels"});var w=h.offsetX,S=h.offsetY,C=n+w,A=i+parseFloat(h.style.fontSize)/3+S;m.plotDataLabelsText({x:C,y:A,text:r,i:o,j:a,color:l.foreColor,parent:x,fontSize:u,dataLabelsConfig:h})}return x}},{key:"addListeners",value:function(e){var r=new bt(this.ctx);e.node.addEventListener("mouseenter",r.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",r.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",r.pathMouseDown.bind(this,e))}}]),t}(),RAe=function(){function t(e,r){Qt(this,t),this.ctx=e,this.w=e.w,this.xRatio=r.xRatio,this.yRatio=r.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new T8(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return er(t,[{key:"draw",value:function(e){var r=this.w,n=new bt(this.ctx),i=n.group({class:"apexcharts-heatmap"});i.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")"));var o=r.globals.gridWidth/r.globals.dataPoints,a=r.globals.gridHeight/r.globals.series.length,l=0,u=!1;this.negRange=this.helpers.checkColorRange();var h=e.slice();r.config.yaxis[0].reversed&&(u=!0,h.reverse());for(var f=u?0:h.length-1;u?f<h.length:f>=0;u?f++:f--){var m=n.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:ze.escapeString(r.globals.seriesNames[f]),rel:f+1,"data:realIndex":f});if(this.ctx.series.addCollapsedClassToSeries(m,f),r.config.chart.dropShadow.enabled){var x=r.config.chart.dropShadow;new Xa(this.ctx).dropShadow(m,x,f)}for(var w=0,S=r.config.plotOptions.heatmap.shadeIntensity,C=0,A=0;A<r.globals.dataPoints;A++)if(r.globals.seriesX.length&&r.globals.minX+r.globals.minXDiff*A<r.globals.seriesX[f][C])w+=o;else{if(C>=h[f].length)break;var E=this.helpers.getShadeColor(r.config.chart.type,f,C,this.negRange),P=E.color,I=E.colorProps;r.config.fill.type==="image"&&(P=new fl(this.ctx).fillPath({seriesNumber:f,dataPointIndex:C,opacity:r.globals.hasNegs?I.percent<0?1-(1+I.percent/100):S+I.percent/100:I.percent/100,patternID:ze.randomId(),width:r.config.fill.image.width?r.config.fill.image.width:o,height:r.config.fill.image.height?r.config.fill.image.height:a}));var N=this.rectRadius,D=n.drawRect(w,l,o,a,N);if(D.attr({cx:w,cy:l}),D.node.classList.add("apexcharts-heatmap-rect"),m.add(D),D.attr({fill:P,i:f,index:f,j:C,val:e[f][C],"stroke-width":this.strokeWidth,stroke:r.config.plotOptions.heatmap.useFillColorAsStroke?P:r.globals.stroke.colors[0],color:P}),this.helpers.addListeners(D),r.config.chart.animations.enabled&&!r.globals.dataChanged){var L=1;r.globals.resized||(L=r.config.chart.animations.speed),this.animateHeatMap(D,w,l,o,a,L)}if(r.globals.dataChanged){var R=1;if(this.dynamicAnim.enabled&&r.globals.shouldAnimate){R=this.dynamicAnim.speed;var $=r.globals.previousPaths[f]&&r.globals.previousPaths[f][C]&&r.globals.previousPaths[f][C].color;$||($="rgba(255, 255, 255, 0)"),this.animateHeatColor(D,ze.isColorHex($)?$:ze.rgb2hex($),ze.isColorHex(P)?P:ze.rgb2hex(P),R)}}var W=(0,r.config.dataLabels.formatter)(r.globals.series[f][C],{value:r.globals.series[f][C],seriesIndex:f,dataPointIndex:C,w:r}),J=this.helpers.calculateDataLabels({text:W,x:w+o/2,y:l+a/2,i:f,j:C,colorProps:I,series:h});J!==null&&m.add(J),w+=o,C++}l+=a,i.add(m)}var q=r.globals.yAxisScale[0].result.slice();return r.config.yaxis[0].reversed?q.unshift(""):q.push(""),r.globals.yAxisScale[0].result=q,i}},{key:"animateHeatMap",value:function(e,r,n,i,o,a){var l=new _m(this.ctx);l.animateRect(e,{x:r+i/2,y:n+o/2,width:0,height:0},{x:r,y:n,width:i,height:o},a,function(){l.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,r,n,i){e.attr({fill:r}).animate(i).attr({fill:n})}}]),t}(),A8=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w}return er(t,[{key:"drawYAxisTexts",value:function(e,r,n,i){var o=this.w,a=o.config.yaxis[0],l=o.globals.yLabelFormatters[0];return new bt(this.ctx).drawText({x:e+a.labels.offsetX,y:r+a.labels.offsetY,text:l(i,n),textAnchor:"middle",fontSize:a.labels.style.fontSize,fontFamily:a.labels.style.fontFamily,foreColor:Array.isArray(a.labels.style.colors)?a.labels.style.colors[n]:a.labels.style.colors})}}]),t}(),P8=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w;var r=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=r.globals.stroke.colors!==void 0?r.globals.stroke.colors:r.globals.colors,this.defaultSize=Math.min(r.globals.gridWidth,r.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=r.globals.gridWidth/2,r.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(r.config.plotOptions.pie.endAngle-r.config.plotOptions.pie.startAngle),this.initialAngle=r.config.plotOptions.pie.startAngle%this.fullAngle,r.globals.radialSize=this.defaultSize/2.05-r.config.stroke.width-(r.config.chart.sparkline.enabled?0:r.config.chart.dropShadow.blur),this.donutSize=r.globals.radialSize*parseInt(r.config.plotOptions.pie.donut.size,10)/100;var n=r.config.plotOptions.pie.customScale,i=r.globals.gridWidth/2,o=r.globals.gridHeight/2;this.translateX=i-i*n,this.translateY=o-o*n,this.dataLabelsGroup=new bt(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(n,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return er(t,[{key:"draw",value:function(e){var r=this,n=this.w,i=new bt(this.ctx),o=i.group({class:"apexcharts-pie"});if(n.globals.noData)return o;for(var a=0,l=0;l<e.length;l++)a+=ze.negToZero(e[l]);var u=[],h=i.group();a===0&&(a=1e-5),e.forEach(function(I){r.maxY=Math.max(r.maxY,I)}),n.config.yaxis[0].max&&(this.maxY=n.config.yaxis[0].max),n.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(o);for(var f=0;f<e.length;f++){var m=this.fullAngle*ze.negToZero(e[f])/a;u.push(m),this.chartType==="polarArea"?(u[f]=this.fullAngle/e.length,this.sliceSizes.push(n.globals.radialSize*e[f]/this.maxY)):this.sliceSizes.push(n.globals.radialSize)}if(n.globals.dataChanged){for(var x,w=0,S=0;S<n.globals.previousPaths.length;S++)w+=ze.negToZero(n.globals.previousPaths[S]);for(var C=0;C<n.globals.previousPaths.length;C++)x=this.fullAngle*ze.negToZero(n.globals.previousPaths[C])/w,this.prevSectorAngleArr.push(x)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var A=i.drawCircle(this.donutSize);A.attr({cx:this.centerX,cy:this.centerY,fill:n.config.plotOptions.pie.donut.background?n.config.plotOptions.pie.donut.background:"transparent"}),h.add(A)}var E=this.drawArcs(u,e);if(this.sliceLabels.forEach(function(I){E.add(I)}),h.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(n.config.plotOptions.pie.customScale,")")}),h.add(E),o.add(h),this.donutDataLabels.show){var P=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});o.add(P)}return n.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(o),o}},{key:"drawArcs",value:function(e,r){var n=this.w,i=new Xa(this.ctx),o=new bt(this.ctx),a=new fl(this.ctx),l=o.group({class:"apexcharts-slices"}),u=this.initialAngle,h=this.initialAngle,f=this.initialAngle,m=this.initialAngle;this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0;for(var x=0;x<e.length;x++){var w=o.group({class:"apexcharts-series apexcharts-pie-series",seriesName:ze.escapeString(n.globals.seriesNames[x]),rel:x+1,"data:realIndex":x});l.add(w),h=m,f=(u=f)+e[x],m=h+this.prevSectorAngleArr[x];var S=f<u?this.fullAngle+f-u:f-u,C=a.fillPath({seriesNumber:x,size:this.sliceSizes[x],value:r[x]}),A=this.getChangedPath(h,m),E=o.drawPath({d:A,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[x]:this.lineColorArr,strokeWidth:0,fill:C,fillOpacity:n.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(x)});if(E.attr({index:0,j:x}),i.setSelectionFilter(E,0,x),n.config.chart.dropShadow.enabled){var P=n.config.chart.dropShadow;i.dropShadow(E,P,x)}this.addListeners(E,this.donutDataLabels),bt.setAttrs(E.node,{"data:angle":S,"data:startAngle":u,"data:strokeWidth":this.strokeWidth,"data:value":r[x]});var I={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?I=ze.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize/1.25+n.config.plotOptions.pie.dataLabels.offset,(u+S/2)%this.fullAngle):this.chartType==="donut"&&(I=ze.polarToCartesian(this.centerX,this.centerY,(n.globals.radialSize+this.donutSize)/2+n.config.plotOptions.pie.dataLabels.offset,(u+S/2)%this.fullAngle)),w.add(E);var N=0;if(!this.initialAnim||n.globals.resized||n.globals.dataChanged?this.animBeginArr.push(0):((N=S/this.fullAngle*n.config.chart.animations.speed)===0&&(N=1),this.animDur=N+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&n.globals.dataChanged?this.animatePaths(E,{size:this.sliceSizes[x],endAngle:f,startAngle:u,prevStartAngle:h,prevEndAngle:m,animateStartingPos:!0,i:x,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:n.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(E,{size:this.sliceSizes[x],endAngle:f,startAngle:u,i:x,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:N}),n.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&E.node.addEventListener("mouseup",this.pieClicked.bind(this,x)),n.globals.selectedDataPoints[0]!==void 0&&n.globals.selectedDataPoints[0].indexOf(x)>-1&&this.pieClicked(x),n.config.dataLabels.enabled){var D=I.x,L=I.y,R=100*S/this.fullAngle+"%";if(S!==0&&n.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[x]){var $=n.config.dataLabels.formatter;$!==void 0&&(R=$(n.globals.seriesPercent[x][0],{seriesIndex:x,w:n}));var W=n.globals.dataLabels.style.colors[x],J=o.group({class:"apexcharts-datalabels"}),q=o.drawText({x:D,y:L,text:R,textAnchor:"middle",fontSize:n.config.dataLabels.style.fontSize,fontFamily:n.config.dataLabels.style.fontFamily,fontWeight:n.config.dataLabels.style.fontWeight,foreColor:W});if(J.add(q),n.config.dataLabels.dropShadow.enabled){var ee=n.config.dataLabels.dropShadow;i.dropShadow(q,ee)}q.node.classList.add("apexcharts-pie-label"),n.config.chart.animations.animate&&n.globals.resized===!1&&(q.node.classList.add("apexcharts-pie-label-delay"),q.node.style.animationDelay=n.config.chart.animations.speed/940+"s"),this.sliceLabels.push(J)}}}return l}},{key:"addListeners",value:function(e,r){var n=new bt(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,r)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,r)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,r)))}},{key:"animatePaths",value:function(e,r){var n=this.w,i=r.endAngle<r.startAngle?this.fullAngle+r.endAngle-r.startAngle:r.endAngle-r.startAngle,o=i,a=r.startAngle,l=r.startAngle;r.prevStartAngle!==void 0&&r.prevEndAngle!==void 0&&(a=r.prevEndAngle,o=r.prevEndAngle<r.prevStartAngle?this.fullAngle+r.prevEndAngle-r.prevStartAngle:r.prevEndAngle-r.prevStartAngle),r.i===n.config.series.length-1&&(i+l>this.fullAngle?r.endAngle=r.endAngle-(i+l):i+l<this.fullAngle&&(r.endAngle=r.endAngle+(this.fullAngle-(i+l)))),i===this.fullAngle&&(i=this.fullAngle-.01),this.animateArc(e,a,l,i,o,r)}},{key:"animateArc",value:function(e,r,n,i,o,a){var l,u=this,h=this.w,f=new _m(this.ctx),m=a.size;(isNaN(r)||isNaN(o))&&(r=n,o=i,a.dur=0);var x=i,w=n,S=r<n?this.fullAngle+r-n:r-n;h.globals.dataChanged&&a.shouldSetPrevPaths&&a.prevEndAngle&&(l=u.getPiePath({me:u,startAngle:a.prevStartAngle,angle:a.prevEndAngle<a.prevStartAngle?this.fullAngle+a.prevEndAngle-a.prevStartAngle:a.prevEndAngle-a.prevStartAngle,size:m}),e.attr({d:l})),a.dur!==0?e.animate(a.dur,a.animBeginArr[a.i]).after(function(){u.chartType!=="pie"&&u.chartType!=="donut"&&u.chartType!=="polarArea"||this.animate(h.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":u.strokeWidth}),a.i===h.config.series.length-1&&f.animationCompleted(e)}).during(function(C){x=S+(i-S)*C,a.animateStartingPos&&(x=o+(i-o)*C,w=r-o+(n-(r-o))*C),l=u.getPiePath({me:u,startAngle:w,angle:x,size:m}),e.node.setAttribute("data:pathOrig",l),e.attr({d:l})}):(l=u.getPiePath({me:u,startAngle:w,angle:i,size:m}),a.isTrack||(h.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",l),e.attr({d:l,"stroke-width":u.strokeWidth}))}},{key:"pieClicked",value:function(e){var r,n=this.w,i=this,o=i.sliceSizes[e]+(n.config.plotOptions.pie.expandOnClick?4:0),a=n.globals.dom.Paper.findOne(".apexcharts-".concat(i.chartType.toLowerCase(),"-slice-").concat(e));if(a.attr("data:pieClicked")!=="true"){var l=n.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(l,function(m){m.setAttribute("data:pieClicked","false");var x=m.getAttribute("data:pathOrig");x&&m.setAttribute("d",x)}),n.globals.capturedDataPointIndex=e,a.attr("data:pieClicked","true");var u=parseInt(a.attr("data:startAngle"),10),h=parseInt(a.attr("data:angle"),10);r=i.getPiePath({me:i,startAngle:u,angle:h,size:o}),h!==360&&a.plot(r)}else{a.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(a.node,this.donutDataLabels);var f=a.attr("data:pathOrig");a.attr({d:f})}}},{key:"getChangedPath",value:function(e,r){var n="";return this.dynamicAnim&&this.w.globals.dataChanged&&(n=this.getPiePath({me:this,startAngle:e,angle:r-e,size:this.size})),n}},{key:"getPiePath",value:function(e){var r,n=e.me,i=e.startAngle,o=e.angle,a=e.size,l=new bt(this.ctx),u=i,h=Math.PI*(u-90)/180,f=o+i;Math.ceil(f)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(f=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(f)>this.fullAngle&&(f-=this.fullAngle);var m=Math.PI*(f-90)/180,x=n.centerX+a*Math.cos(h),w=n.centerY+a*Math.sin(h),S=n.centerX+a*Math.cos(m),C=n.centerY+a*Math.sin(m),A=ze.polarToCartesian(n.centerX,n.centerY,n.donutSize,f),E=ze.polarToCartesian(n.centerX,n.centerY,n.donutSize,u),P=o>180?1:0,I=["M",x,w,"A",a,a,0,P,1,S,C];return r=n.chartType==="donut"?[].concat(I,["L",A.x,A.y,"A",n.donutSize,n.donutSize,0,P,0,E.x,E.y,"L",x,w,"z"]).join(" "):n.chartType==="pie"||n.chartType==="polarArea"?[].concat(I,["L",n.centerX,n.centerY,"L",x,w]).join(" "):[].concat(I).join(" "),l.roundPathCorners(r,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var r=this.w,n=new w8(this.ctx),i=new bt(this.ctx),o=new A8(this.ctx),a=i.group(),l=i.group(),u=n.niceScale(0,Math.ceil(this.maxY),0),h=u.result.reverse(),f=u.result.length;this.maxY=u.niceMax;for(var m=r.globals.radialSize,x=m/(f-1),w=0;w<f-1;w++){var S=i.drawCircle(m);if(S.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":r.config.plotOptions.polarArea.rings.strokeWidth,stroke:r.config.plotOptions.polarArea.rings.strokeColor}),r.config.yaxis[0].show){var C=o.drawYAxisTexts(this.centerX,this.centerY-m+parseInt(r.config.yaxis[0].labels.style.fontSize,10)/2,w,h[w]);l.add(C)}a.add(S),m-=x}this.drawSpokes(e),e.add(a),e.add(l)}},{key:"renderInnerDataLabels",value:function(e,r,n){var i=this.w,o=new bt(this.ctx),a=r.total.show;e.node.innerHTML="",e.node.style.opacity=n.opacity;var l,u,h=n.centerX,f=this.donutDataLabels.total.label?n.centerY:n.centerY-n.centerY/6;l=r.name.color===void 0?i.globals.colors[0]:r.name.color;var m=r.name.fontSize,x=r.name.fontFamily,w=r.name.fontWeight;u=r.value.color===void 0?i.config.chart.foreColor:r.value.color;var S=r.value.formatter,C="",A="";if(a?(l=r.total.color,m=r.total.fontSize,x=r.total.fontFamily,w=r.total.fontWeight,A=this.donutDataLabels.total.label?r.total.label:"",C=r.total.formatter(i)):i.globals.series.length===1&&(C=S(i.globals.series[0],i),A=i.globals.seriesNames[0]),A&&(A=r.name.formatter(A,r.total.show,i)),r.name.show){var E=o.drawText({x:h,y:f+parseFloat(r.name.offsetY),text:A,textAnchor:"middle",foreColor:l,fontSize:m,fontWeight:w,fontFamily:x});E.node.classList.add("apexcharts-datalabel-label"),e.add(E)}if(r.value.show){var P=r.name.show?parseFloat(r.value.offsetY)+16:r.value.offsetY,I=o.drawText({x:h,y:f+P,text:C,textAnchor:"middle",foreColor:u,fontWeight:r.value.fontWeight,fontSize:r.value.fontSize,fontFamily:r.value.fontFamily});I.node.classList.add("apexcharts-datalabel-value"),e.add(I)}return e}},{key:"printInnerLabels",value:function(e,r,n,i){var o,a=this.w;i?o=e.name.color===void 0?a.globals.colors[parseInt(i.parentNode.getAttribute("rel"),10)-1]:e.name.color:a.globals.series.length>1&&e.total.show&&(o=e.total.color);var l=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),u=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");n=(0,e.value.formatter)(n,a),i||typeof e.total.formatter!="function"||(n=e.total.formatter(a));var h=r===e.total.label;r=this.donutDataLabels.total.label?e.name.formatter(r,h,a):"",l!==null&&(l.textContent=r),u!==null&&(u.textContent=n),l!==null&&(l.style.fill=o)}},{key:"printDataLabelsInner",value:function(e,r){var n=this.w,i=e.getAttribute("data:value"),o=n.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];n.globals.series.length>1&&this.printInnerLabels(r,o,i,e);var a=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");a!==null&&(a.style.opacity=1)}},{key:"drawSpokes",value:function(e){var r=this,n=this.w,i=new bt(this.ctx),o=n.config.plotOptions.polarArea.spokes;if(o.strokeWidth!==0){for(var a=[],l=360/n.globals.series.length,u=0;u<n.globals.series.length;u++)a.push(ze.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize,n.config.plotOptions.pie.startAngle+l*u));a.forEach(function(h,f){var m=i.drawLine(h.x,h.y,r.centerX,r.centerY,Array.isArray(o.connectorColors)?o.connectorColors[f]:o.connectorColors);e.add(m)})}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var r=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),n=this.renderInnerDataLabels(r,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(n)}}}]),t}(),jAe=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var r=this.w;this.graphics=new bt(this.ctx),this.lineColorArr=r.globals.stroke.colors!==void 0?r.globals.stroke.colors:r.globals.colors,this.defaultSize=r.globals.svgHeight<r.globals.svgWidth?r.globals.gridHeight:r.globals.gridWidth,this.isLog=r.config.yaxis[0].logarithmic,this.logBase=r.config.yaxis[0].logBase,this.coreUtils=new Qi(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,r.globals.maxY,0):r.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):r.globals.minY,this.polygons=r.config.plotOptions.radar.polygons,this.strokeWidth=r.config.stroke.show?r.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-r.config.chart.dropShadow.blur,r.config.xaxis.labels.show&&(this.size=this.size-r.globals.xAxisLabelsWidth/1.75),r.config.plotOptions.radar.size!==void 0&&(this.size=r.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return er(t,[{key:"draw",value:function(e){var r=this,n=this.w,i=new fl(this.ctx),o=[],a=new qp(this.ctx);e.length&&(this.dataPointsLen=e[n.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var l=n.globals.gridWidth/2,u=n.globals.gridHeight/2,h=l+n.config.plotOptions.radar.offsetX,f=u+n.config.plotOptions.radar.offsetY,m=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(h||0,", ").concat(f||0,")")}),x=[],w=null,S=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(A,E){var P=A.length===n.globals.dataPoints,I=r.graphics.group().attr({class:"apexcharts-series","data:longestSeries":P,seriesName:ze.escapeString(n.globals.seriesNames[E]),rel:E+1,"data:realIndex":E});r.dataRadiusOfPercent[E]=[],r.dataRadius[E]=[],r.angleArr[E]=[],A.forEach(function(se,he){var Se=Math.abs(r.maxValue-r.minValue);se-=r.minValue,r.isLog&&(se=r.coreUtils.getLogVal(r.logBase,se,0)),r.dataRadiusOfPercent[E][he]=se/Se,r.dataRadius[E][he]=r.dataRadiusOfPercent[E][he]*r.size,r.angleArr[E][he]=he*r.disAngle}),x=r.getDataPointsPos(r.dataRadius[E],r.angleArr[E]);var N=r.createPaths(x,{x:0,y:0});w=r.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),S=r.graphics.group({class:"apexcharts-datalabels","data:realIndex":E}),n.globals.delayedElements.push({el:w.node,index:E});var D={i:E,realIndex:E,animationDelay:E,initialSpeed:n.config.chart.animations.speed,dataChangeSpeed:n.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:n.globals.stroke.colors[E],strokeLineCap:n.config.stroke.lineCap},L=null;n.globals.previousPaths.length>0&&(L=r.getPreviousPath(E));for(var R=0;R<N.linePathsTo.length;R++){var $=r.graphics.renderPaths(Ft(Ft({},D),{},{pathFrom:L===null?N.linePathsFrom[R]:L,pathTo:N.linePathsTo[R],strokeWidth:Array.isArray(r.strokeWidth)?r.strokeWidth[E]:r.strokeWidth,fill:"none",drawShadow:!1}));I.add($);var W=i.fillPath({seriesNumber:E}),J=r.graphics.renderPaths(Ft(Ft({},D),{},{pathFrom:L===null?N.areaPathsFrom[R]:L,pathTo:N.areaPathsTo[R],strokeWidth:0,fill:W,drawShadow:!1}));if(n.config.chart.dropShadow.enabled){var q=new Xa(r.ctx),ee=n.config.chart.dropShadow;q.dropShadow(J,Object.assign({},ee,{noUserSpaceOnUse:!0}),E)}I.add(J)}A.forEach(function(se,he){var Se=new km(r.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:E,dataPointIndex:he}),oe=r.graphics.drawMarker(x[he].x,x[he].y,Se);oe.attr("rel",he),oe.attr("j",he),oe.attr("index",E),oe.node.setAttribute("default-marker-size",Se.pSize);var _e=r.graphics.group({class:"apexcharts-series-markers"});_e&&_e.add(oe),w.add(_e),I.add(w);var xe=n.config.dataLabels;if(xe.enabled){var Ne=xe.formatter(n.globals.series[E][he],{seriesIndex:E,dataPointIndex:he,w:n});a.plotDataLabelsText({x:x[he].x,y:x[he].y,text:Ne,textAnchor:"middle",i:E,j:E,parent:S,offsetCorrection:!1,dataLabelsConfig:Ft({},xe)})}I.add(S)}),o.push(I)}),this.drawPolygons({parent:m}),n.config.xaxis.labels.show){var C=this.drawXAxisTexts();m.add(C)}return o.forEach(function(A){m.add(A)}),m.add(this.yaxisLabels),m}},{key:"drawPolygons",value:function(e){for(var r=this,n=this.w,i=e.parent,o=new A8(this.ctx),a=n.globals.yAxisScale[0].result.reverse(),l=a.length,u=[],h=this.size/(l-1),f=0;f<l;f++)u[f]=h*f;u.reverse();var m=[],x=[];u.forEach(function(w,S){var C=ze.getPolygonPos(w,r.dataPointsLen),A="";C.forEach(function(E,P){if(S===0){var I=r.graphics.drawLine(E.x,E.y,0,0,Array.isArray(r.polygons.connectorColors)?r.polygons.connectorColors[P]:r.polygons.connectorColors);x.push(I)}P===0&&r.yaxisLabelsTextsPos.push({x:E.x,y:E.y}),A+=E.x+","+E.y+" "}),m.push(A)}),m.forEach(function(w,S){var C=r.polygons.strokeColors,A=r.polygons.strokeWidth,E=r.graphics.drawPolygon(w,Array.isArray(C)?C[S]:C,Array.isArray(A)?A[S]:A,n.globals.radarPolygons.fill.colors[S]);i.add(E)}),x.forEach(function(w){i.add(w)}),n.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(w,S){var C=o.drawYAxisTexts(w.x,w.y,S,a[S]);r.yaxisLabels.add(C)})}},{key:"drawXAxisTexts",value:function(){var e=this,r=this.w,n=r.config.xaxis.labels,i=this.graphics.group({class:"apexcharts-xaxis"}),o=ze.getPolygonPos(this.size,this.dataPointsLen);return r.globals.labels.forEach(function(a,l){var u=r.config.xaxis.labels.formatter,h=new qp(e.ctx);if(o[l]){var f=e.getTextPos(o[l],e.size),m=u(a,{seriesIndex:-1,dataPointIndex:l,w:r});h.plotDataLabelsText({x:f.newX,y:f.newY,text:m,textAnchor:f.textAnchor,i:l,j:l,parent:i,className:"apexcharts-xaxis-label",color:Array.isArray(n.style.colors)&&n.style.colors[l]?n.style.colors[l]:"#a8a8a8",dataLabelsConfig:Ft({textAnchor:f.textAnchor,dropShadow:{enabled:!1}},n),offsetCorrection:!1}).on("click",function(x){if(typeof r.config.chart.events.xAxisLabelClick=="function"){var w=Object.assign({},r,{labelIndex:l});r.config.chart.events.xAxisLabelClick(x,e.ctx,w)}})}}),i}},{key:"createPaths",value:function(e,r){var n=this,i=[],o=[],a=[],l=[];if(e.length){o=[this.graphics.move(r.x,r.y)],l=[this.graphics.move(r.x,r.y)];var u=this.graphics.move(e[0].x,e[0].y),h=this.graphics.move(e[0].x,e[0].y);e.forEach(function(f,m){u+=n.graphics.line(f.x,f.y),h+=n.graphics.line(f.x,f.y),m===e.length-1&&(u+="Z",h+="Z")}),i.push(u),a.push(h)}return{linePathsFrom:o,linePathsTo:i,areaPathsFrom:l,areaPathsTo:a}}},{key:"getTextPos",value:function(e,r){var n="middle",i=e.x,o=e.y;return Math.abs(e.x)>=10?e.x>0?(n="start",i+=10):e.x<0&&(n="end",i-=10):n="middle",Math.abs(e.y)>=r-10&&(e.y<0?o-=10:e.y>0&&(o+=10)),{textAnchor:n,newX:i,newY:o}}},{key:"getPreviousPath",value:function(e){for(var r=this.w,n=null,i=0;i<r.globals.previousPaths.length;i++){var o=r.globals.previousPaths[i];o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(e,10)&&r.globals.previousPaths[i].paths[0]!==void 0&&(n=r.globals.previousPaths[i].paths[0].d)}return n}},{key:"getDataPointsPos",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],r=r||[];for(var i=[],o=0;o<n;o++){var a={};a.x=e[o]*Math.sin(r[o]),a.y=-e[o]*Math.cos(r[o]),i.push(a)}return i}}]),t}(),zAe=function(t){xy(r,P8);var e=yy(r);function r(n){var i;Qt(this,r),(i=e.call(this,n)).ctx=n,i.w=n.w,i.animBeginArr=[0],i.animDur=0;var o=i.w;return i.startAngle=o.config.plotOptions.radialBar.startAngle,i.endAngle=o.config.plotOptions.radialBar.endAngle,i.totalAngle=Math.abs(o.config.plotOptions.radialBar.endAngle-o.config.plotOptions.radialBar.startAngle),i.trackStartAngle=o.config.plotOptions.radialBar.track.startAngle,i.trackEndAngle=o.config.plotOptions.radialBar.track.endAngle,i.barLabels=i.w.config.plotOptions.radialBar.barLabels,i.donutDataLabels=i.w.config.plotOptions.radialBar.dataLabels,i.radialDataLabels=i.donutDataLabels,i.trackStartAngle||(i.trackStartAngle=i.startAngle),i.trackEndAngle||(i.trackEndAngle=i.endAngle),i.endAngle===360&&(i.endAngle=359.99),i.margin=parseInt(o.config.plotOptions.radialBar.track.margin,10),i.onBarLabelClick=i.onBarLabelClick.bind(HF(i)),i}return er(r,[{key:"draw",value:function(n){var i=this.w,o=new bt(this.ctx),a=o.group({class:"apexcharts-radialbar"});if(i.globals.noData)return a;var l=o.group(),u=this.defaultSize/2,h=i.globals.gridWidth/2,f=this.defaultSize/2.05;i.config.chart.sparkline.enabled||(f=f-i.config.stroke.width-i.config.chart.dropShadow.blur);var m=i.globals.fill.colors;if(i.config.plotOptions.radialBar.track.show){var x=this.drawTracks({size:f,centerX:h,centerY:u,colorArr:m,series:n});l.add(x)}var w=this.drawArcs({size:f,centerX:h,centerY:u,colorArr:m,series:n}),S=360;i.config.plotOptions.radialBar.startAngle<0&&(S=this.totalAngle);var C=(360-S)/360;if(i.globals.radialSize=f-f*C,this.radialDataLabels.value.show){var A=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);i.globals.radialSize+=A*C}return l.add(w.g),i.config.plotOptions.radialBar.hollow.position==="front"&&(w.g.add(w.elHollow),w.dataLabels&&w.g.add(w.dataLabels)),a.add(l),a}},{key:"drawTracks",value:function(n){var i=this.w,o=new bt(this.ctx),a=o.group({class:"apexcharts-tracks"}),l=new Xa(this.ctx),u=new fl(this.ctx),h=this.getStrokeWidth(n);n.size=n.size-h/2;for(var f=0;f<n.series.length;f++){var m=o.group({class:"apexcharts-radialbar-track apexcharts-track"});a.add(m),m.attr({rel:f+1}),n.size=n.size-h-this.margin;var x=i.config.plotOptions.radialBar.track,w=u.fillPath({seriesNumber:0,size:n.size,fillColors:Array.isArray(x.background)?x.background[f]:x.background,solid:!0}),S=this.trackStartAngle,C=this.trackEndAngle;Math.abs(C)+Math.abs(S)>=360&&(C=360-Math.abs(this.startAngle)-.1);var A=o.drawPath({d:"",stroke:w,strokeWidth:h*parseInt(x.strokeWidth,10)/100,fill:"none",strokeOpacity:x.opacity,classes:"apexcharts-radialbar-area"});if(x.dropShadow.enabled){var E=x.dropShadow;l.dropShadow(A,E)}m.add(A),A.attr("id","apexcharts-radialbarTrack-"+f),this.animatePaths(A,{centerX:n.centerX,centerY:n.centerY,endAngle:C,startAngle:S,size:n.size,i:f,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return a}},{key:"drawArcs",value:function(n){var i=this.w,o=new bt(this.ctx),a=new fl(this.ctx),l=new Xa(this.ctx),u=o.group(),h=this.getStrokeWidth(n);n.size=n.size-h/2;var f=i.config.plotOptions.radialBar.hollow.background,m=n.size-h*n.series.length-this.margin*n.series.length-h*parseInt(i.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,x=m-i.config.plotOptions.radialBar.hollow.margin;i.config.plotOptions.radialBar.hollow.image!==void 0&&(f=this.drawHollowImage(n,u,m,f));var w=this.drawHollow({size:x,centerX:n.centerX,centerY:n.centerY,fill:f||"transparent"});if(i.config.plotOptions.radialBar.hollow.dropShadow.enabled){var S=i.config.plotOptions.radialBar.hollow.dropShadow;l.dropShadow(w,S)}var C=1;!this.radialDataLabels.total.show&&i.globals.series.length>1&&(C=0);var A=null;if(this.radialDataLabels.show){var E=i.globals.dom.Paper.findOne(".apexcharts-datalabels-group");A=this.renderInnerDataLabels(E,this.radialDataLabels,{hollowSize:m,centerX:n.centerX,centerY:n.centerY,opacity:C})}i.config.plotOptions.radialBar.hollow.position==="back"&&(u.add(w),A&&u.add(A));var P=!1;i.config.plotOptions.radialBar.inverseOrder&&(P=!0);for(var I=P?n.series.length-1:0;P?I>=0:I<n.series.length;P?I--:I++){var N=o.group({class:"apexcharts-series apexcharts-radial-series",seriesName:ze.escapeString(i.globals.seriesNames[I])});u.add(N),N.attr({rel:I+1,"data:realIndex":I}),this.ctx.series.addCollapsedClassToSeries(N,I),n.size=n.size-h-this.margin;var D=a.fillPath({seriesNumber:I,size:n.size,value:n.series[I]}),L=this.startAngle,R=void 0,$=ze.negToZero(n.series[I]>100?100:n.series[I])/100,W=Math.round(this.totalAngle*$)+this.startAngle,J=void 0;i.globals.dataChanged&&(R=this.startAngle,J=Math.round(this.totalAngle*ze.negToZero(i.globals.previousPaths[I])/100)+R),Math.abs(W)+Math.abs(L)>360&&(W-=.01),Math.abs(J)+Math.abs(R)>360&&(J-=.01);var q=W-L,ee=Array.isArray(i.config.stroke.dashArray)?i.config.stroke.dashArray[I]:i.config.stroke.dashArray,se=o.drawPath({d:"",stroke:D,strokeWidth:h,fill:"none",fillOpacity:i.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+I,strokeDashArray:ee});if(bt.setAttrs(se.node,{"data:angle":q,"data:value":n.series[I]}),i.config.chart.dropShadow.enabled){var he=i.config.chart.dropShadow;l.dropShadow(se,he,I)}if(l.setSelectionFilter(se,0,I),this.addListeners(se,this.radialDataLabels),N.add(se),se.attr({index:0,j:I}),this.barLabels.enabled){var Se=ze.polarToCartesian(n.centerX,n.centerY,n.size,L),oe=this.barLabels.formatter(i.globals.seriesNames[I],{seriesIndex:I,w:i}),_e=["apexcharts-radialbar-label"];this.barLabels.onClick||_e.push("apexcharts-no-click");var xe=this.barLabels.useSeriesColors?i.globals.colors[I]:i.config.chart.foreColor;xe||(xe=i.config.chart.foreColor);var Ne=Se.x+this.barLabels.offsetX,Re=Se.y+this.barLabels.offsetY,He=o.drawText({x:Ne,y:Re,text:oe,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:xe,cssClass:_e.join(" ")});He.on("click",this.onBarLabelClick),He.attr({rel:I+1}),L!==0&&He.attr({"transform-origin":"".concat(Ne," ").concat(Re),transform:"rotate(".concat(L," 0 0)")}),N.add(He)}var tt=0;!this.initialAnim||i.globals.resized||i.globals.dataChanged||(tt=i.config.chart.animations.speed),i.globals.dataChanged&&(tt=i.config.chart.animations.dynamicAnimation.speed),this.animDur=tt/(1.2*n.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(se,{centerX:n.centerX,centerY:n.centerY,endAngle:W,startAngle:L,prevEndAngle:J,prevStartAngle:R,size:n.size,i:I,totalItems:2,animBeginArr:this.animBeginArr,dur:tt,shouldSetPrevPaths:!0})}return{g:u,elHollow:w,dataLabels:A}}},{key:"drawHollow",value:function(n){var i=new bt(this.ctx).drawCircle(2*n.size);return i.attr({class:"apexcharts-radialbar-hollow",cx:n.centerX,cy:n.centerY,r:n.size,fill:n.fill}),i}},{key:"drawHollowImage",value:function(n,i,o,a){var l=this.w,u=new fl(this.ctx),h=ze.randomId(),f=l.config.plotOptions.radialBar.hollow.image;if(l.config.plotOptions.radialBar.hollow.imageClipped)u.clippedImgArea({width:o,height:o,image:f,patternID:"pattern".concat(l.globals.cuid).concat(h)}),a="url(#pattern".concat(l.globals.cuid).concat(h,")");else{var m=l.config.plotOptions.radialBar.hollow.imageWidth,x=l.config.plotOptions.radialBar.hollow.imageHeight;if(m===void 0&&x===void 0){var w=l.globals.dom.Paper.image(f,function(C){this.move(n.centerX-C.width/2+l.config.plotOptions.radialBar.hollow.imageOffsetX,n.centerY-C.height/2+l.config.plotOptions.radialBar.hollow.imageOffsetY)});i.add(w)}else{var S=l.globals.dom.Paper.image(f,function(C){this.move(n.centerX-m/2+l.config.plotOptions.radialBar.hollow.imageOffsetX,n.centerY-x/2+l.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(m,x)});i.add(S)}}return a}},{key:"getStrokeWidth",value:function(n){var i=this.w;return n.size*(100-parseInt(i.config.plotOptions.radialBar.hollow.size,10))/100/(n.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(n){var i=parseInt(n.target.getAttribute("rel"),10)-1,o=this.barLabels.onClick,a=this.w;o&&o(a.globals.seriesNames[i],{w:a,seriesIndex:i})}}]),r}(),FAe=function(t){xy(r,Zp);var e=yy(r);function r(){return Qt(this,r),e.apply(this,arguments)}return er(r,[{key:"draw",value:function(n,i){var o=this.w,a=new bt(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=n,this.seriesRangeStart=o.globals.seriesRangeStart,this.seriesRangeEnd=o.globals.seriesRangeEnd,this.barHelpers.initVariables(n);for(var l=a.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),u=0;u<n.length;u++){var h,f,m,x,w=void 0,S=void 0,C=o.globals.comboCharts?i[u]:u,A=this.barHelpers.getGroupIndex(C).columnGroupIndex,E=a.group({class:"apexcharts-series",seriesName:ze.escapeString(o.globals.seriesNames[C]),rel:u+1,"data:realIndex":C});this.ctx.series.addCollapsedClassToSeries(E,C),n[u].length>0&&(this.visibleI=this.visibleI+1);var P=0,I=0,N=0;this.yRatio.length>1&&(this.yaxisIndex=o.globals.seriesYAxisReverseMap[C][0],N=C);var D=this.barHelpers.initialPositions();S=D.y,x=D.zeroW,w=D.x,I=D.barWidth,P=D.barHeight,h=D.xDivision,f=D.yDivision,m=D.zeroH;for(var L=a.group({class:"apexcharts-datalabels","data:realIndex":C}),R=a.group({class:"apexcharts-rangebar-goals-markers"}),$=0;$<o.globals.dataPoints;$++){var W=this.barHelpers.getStrokeWidth(u,$,C),J=this.seriesRangeStart[u][$],q=this.seriesRangeEnd[u][$],ee=null,se=null,he=null,Se={x:w,y:S,strokeWidth:W,elSeries:E},oe=this.seriesLen;if(o.config.plotOptions.bar.rangeBarGroupRows&&(oe=1),o.config.series[u].data[$]===void 0)break;if(this.isHorizontal){he=S+P*this.visibleI;var _e=(f-P*oe)/2;if(o.config.series[u].data[$].x){var xe=this.detectOverlappingBars({i:u,j:$,barYPosition:he,srty:_e,barHeight:P,yDivision:f,initPositions:D});P=xe.barHeight,he=xe.barYPosition}I=(ee=this.drawRangeBarPaths(Ft({indexes:{i:u,j:$,realIndex:C},barHeight:P,barYPosition:he,zeroW:x,yDivision:f,y1:J,y2:q},Se))).barWidth}else{o.globals.isXNumeric&&(w=(o.globals.seriesX[u][$]-o.globals.minX)/this.xRatio-I/2),se=w+I*this.visibleI;var Ne=(h-I*oe)/2;if(o.config.series[u].data[$].x){var Re=this.detectOverlappingBars({i:u,j:$,barXPosition:se,srtx:Ne,barWidth:I,xDivision:h,initPositions:D});I=Re.barWidth,se=Re.barXPosition}P=(ee=this.drawRangeColumnPaths(Ft({indexes:{i:u,j:$,realIndex:C,translationsIndex:N},barWidth:I,barXPosition:se,zeroH:m,xDivision:h},Se))).barHeight}var He=this.barHelpers.drawGoalLine({barXPosition:ee.barXPosition,barYPosition:he,goalX:ee.goalX,goalY:ee.goalY,barHeight:P,barWidth:I});He&&R.add(He),S=ee.y,w=ee.x;var tt=this.barHelpers.getPathFillColor(n,u,$,C),nt=o.globals.stroke.colors[C];this.renderSeries({realIndex:C,pathFill:tt,lineFill:nt,j:$,i:u,x:w,y:S,y1:J,y2:q,pathFrom:ee.pathFrom,pathTo:ee.pathTo,strokeWidth:W,elSeries:E,series:n,barHeight:P,barWidth:I,barXPosition:se,barYPosition:he,columnGroupIndex:A,elDataLabelsWrap:L,elGoalsMarkers:R,visibleSeries:this.visibleI,type:"rangebar"})}l.add(E)}return l}},{key:"detectOverlappingBars",value:function(n){var i=n.i,o=n.j,a=n.barYPosition,l=n.barXPosition,u=n.srty,h=n.srtx,f=n.barHeight,m=n.barWidth,x=n.yDivision,w=n.xDivision,S=n.initPositions,C=this.w,A=[],E=C.config.series[i].data[o].rangeName,P=C.config.series[i].data[o].x,I=Array.isArray(P)?P.join(" "):P,N=C.globals.labels.map(function(L){return Array.isArray(L)?L.join(" "):L}).indexOf(I),D=C.globals.seriesRange[i].findIndex(function(L){return L.x===I&&L.overlaps.length>0});return this.isHorizontal?(a=C.config.plotOptions.bar.rangeBarGroupRows?u+x*N:u+f*this.visibleI+x*N,D>-1&&!C.config.plotOptions.bar.rangeBarOverlap&&(A=C.globals.seriesRange[i][D].overlaps).indexOf(E)>-1&&(a=(f=S.barHeight/A.length)*this.visibleI+x*(100-parseInt(this.barOptions.barHeight,10))/100/2+f*(this.visibleI+A.indexOf(E))+x*N)):(N>-1&&!C.globals.timescaleLabels.length&&(l=C.config.plotOptions.bar.rangeBarGroupRows?h+w*N:h+m*this.visibleI+w*N),D>-1&&!C.config.plotOptions.bar.rangeBarOverlap&&(A=C.globals.seriesRange[i][D].overlaps).indexOf(E)>-1&&(l=(m=S.barWidth/A.length)*this.visibleI+w*(100-parseInt(this.barOptions.barWidth,10))/100/2+m*(this.visibleI+A.indexOf(E))+w*N)),{barYPosition:a,barXPosition:l,barHeight:f,barWidth:m}}},{key:"drawRangeColumnPaths",value:function(n){var i=n.indexes,o=n.x,a=n.xDivision,l=n.barWidth,u=n.barXPosition,h=n.zeroH,f=this.w,m=i.i,x=i.j,w=i.realIndex,S=i.translationsIndex,C=this.yRatio[S],A=this.getRangeValue(w,x),E=Math.min(A.start,A.end),P=Math.max(A.start,A.end);this.series[m][x]===void 0||this.series[m][x]===null?E=h:(E=h-E/C,P=h-P/C);var I=Math.abs(P-E),N=this.barHelpers.getColumnPaths({barXPosition:u,barWidth:l,y1:E,y2:P,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:w,i:w,j:x,w:f});if(f.globals.isXNumeric){var D=this.getBarXForNumericXAxis({x:o,j:x,realIndex:w,barWidth:l});o=D.x,u=D.barXPosition}else o+=a;return{pathTo:N.pathTo,pathFrom:N.pathFrom,barHeight:I,x:o,y:A.start<0&&A.end<0?E:P,goalY:this.barHelpers.getGoalValues("y",null,h,m,x,S),barXPosition:u}}},{key:"preventBarOverflow",value:function(n){var i=this.w;return n<0&&(n=0),n>i.globals.gridWidth&&(n=i.globals.gridWidth),n}},{key:"drawRangeBarPaths",value:function(n){var i=n.indexes,o=n.y,a=n.y1,l=n.y2,u=n.yDivision,h=n.barHeight,f=n.barYPosition,m=n.zeroW,x=this.w,w=i.realIndex,S=i.j,C=this.preventBarOverflow(m+a/this.invertedYRatio),A=this.preventBarOverflow(m+l/this.invertedYRatio),E=this.getRangeValue(w,S),P=Math.abs(A-C),I=this.barHelpers.getBarpaths({barYPosition:f,barHeight:h,x1:C,x2:A,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:w,realIndex:w,j:S,w:x});return x.globals.isXNumeric||(o+=u),{pathTo:I.pathTo,pathFrom:I.pathFrom,barWidth:P,x:E.start<0&&E.end<0?C:A,goalX:this.barHelpers.getGoalValues("x",m,null,w,S),y:o}}},{key:"getRangeValue",value:function(n,i){var o=this.w;return{start:o.globals.seriesRangeStart[n][i],end:o.globals.seriesRangeEnd[n][i]}}}]),r}(),BAe=function(){function t(e){Qt(this,t),this.w=e.w,this.lineCtx=e}return er(t,[{key:"sameValueSeriesFix",value:function(e,r){var n=this.w;if((n.config.fill.type==="gradient"||n.config.fill.type[e]==="gradient")&&new Qi(this.lineCtx.ctx,n).seriesHaveSameValues(e)){var i=r[e].slice();i[i.length-1]=i[i.length-1]+1e-6,r[e]=i}return r}},{key:"calculatePoints",value:function(e){var r=e.series,n=e.realIndex,i=e.x,o=e.y,a=e.i,l=e.j,u=e.prevY,h=this.w,f=[],m=[];if(l===0){var x=this.lineCtx.categoryAxisCorrection+h.config.markers.offsetX;h.globals.isXNumeric&&(x=(h.globals.seriesX[n][0]-h.globals.minX)/this.lineCtx.xRatio+h.config.markers.offsetX),f.push(x),m.push(ze.isNumber(r[a][0])?u+h.config.markers.offsetY:null),f.push(i+h.config.markers.offsetX),m.push(ze.isNumber(r[a][l+1])?o+h.config.markers.offsetY:null)}else f.push(i+h.config.markers.offsetX),m.push(ze.isNumber(r[a][l+1])?o+h.config.markers.offsetY:null);return{x:f,y:m}}},{key:"checkPreviousPaths",value:function(e){for(var r=e.pathFromLine,n=e.pathFromArea,i=e.realIndex,o=this.w,a=0;a<o.globals.previousPaths.length;a++){var l=o.globals.previousPaths[a];(l.type==="line"||l.type==="area")&&l.paths.length>0&&parseInt(l.realIndex,10)===parseInt(i,10)&&(l.type==="line"?(this.lineCtx.appendPathFrom=!1,r=o.globals.previousPaths[a].paths[0].d):l.type==="area"&&(this.lineCtx.appendPathFrom=!1,n=o.globals.previousPaths[a].paths[0].d,o.config.stroke.show&&o.globals.previousPaths[a].paths[1]&&(r=o.globals.previousPaths[a].paths[1].d)))}return{pathFromLine:r,pathFromArea:n}}},{key:"determineFirstPrevY",value:function(e){var r,n,i,o=e.i,a=e.realIndex,l=e.series,u=e.prevY,h=e.lineYPosition,f=e.translationsIndex,m=this.w,x=m.config.chart.stacked&&!m.globals.comboCharts||m.config.chart.stacked&&m.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((r=this.w.config.series[a])===null||r===void 0?void 0:r.type)==="bar"||((n=this.w.config.series[a])===null||n===void 0?void 0:n.type)==="column");if(((i=l[o])===null||i===void 0?void 0:i[0])!==void 0)u=(h=x&&o>0?this.lineCtx.prevSeriesY[o-1][0]:this.lineCtx.zeroY)-l[o][0]/this.lineCtx.yRatio[f]+2*(this.lineCtx.isReversed?l[o][0]/this.lineCtx.yRatio[f]:0);else if(x&&o>0&&l[o][0]===void 0){for(var w=o-1;w>=0;w--)if(l[w][0]!==null&&l[w][0]!==void 0){u=h=this.lineCtx.prevSeriesY[w][0];break}}return{prevY:u,lineYPosition:h}}}]),t}(),$Ae=function(t){for(var e,r,n,i,o=function(f){for(var m=[],x=f[0],w=f[1],S=m[0]=$2(x,w),C=1,A=f.length-1;C<A;C++)x=w,w=f[C+1],m[C]=.5*(S+(S=$2(x,w)));return m[C]=S,m}(t),a=t.length-1,l=[],u=0;u<a;u++)n=$2(t[u],t[u+1]),Math.abs(n)<1e-6?o[u]=o[u+1]=0:(i=(e=o[u]/n)*e+(r=o[u+1]/n)*r)>9&&(i=3*n/Math.sqrt(i),o[u]=i*e,o[u+1]=i*r);for(var h=0;h<=a;h++)i=(t[Math.min(a,h+1)][0]-t[Math.max(0,h-1)][0])/(6*(1+o[h]*o[h])),l.push([i||0,o[h]*i||0]);return l},HAe=function(t){var e=$Ae(t),r=t[1],n=t[0],i=[],o=e[1],a=e[0];i.push(n,[n[0]+a[0],n[1]+a[1],r[0]-o[0],r[1]-o[1],r[0],r[1]]);for(var l=2,u=e.length;l<u;l++){var h=t[l],f=e[l];i.push([h[0]-f[0],h[1]-f[1],h[0],h[1]])}return i},UAe=function(t,e,r){var n=t.slice(e,r);if(e){if(r-e>1&&n[1].length<6){var i=n[0].length;n[1]=[2*n[0][i-2]-n[0][i-4],2*n[0][i-1]-n[0][i-3]].concat(n[1])}n[0]=n[0].slice(-2)}return n};function $2(t,e){return(e[1]-t[1])/(e[0]-t[0])}var H2=function(){function t(e,r,n){Qt(this,t),this.ctx=e,this.w=e.w,this.xyRatios=r,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||n,this.scatter=new b8(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new BAe(this),this.markers=new km(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return er(t,[{key:"draw",value:function(e,r,n,i){var o,a=this.w,l=new bt(this.ctx),u=a.globals.comboCharts?r:a.config.chart.type,h=l.group({class:"apexcharts-".concat(u,"-series apexcharts-plot-series")}),f=new Qi(this.ctx,a);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=f.getLogSeries(e),this.yRatio=f.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var m=[],x=0;x<e.length;x++){e=this.lineHelpers.sameValueSeriesFix(x,e);var w=a.globals.comboCharts?n[x]:x,S=this.yRatio.length>1?w:0;this._initSerieVariables(e,x,w);var C=[],A=[],E=[],P=a.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,w),a.globals.isXNumeric&&a.globals.seriesX.length>0&&(P=(a.globals.seriesX[w][0]-a.globals.minX)/this.xRatio),E.push(P);var I,N=P,D=void 0,L=N,R=this.zeroY,$=this.zeroY;R=this.lineHelpers.determineFirstPrevY({i:x,realIndex:w,series:e,prevY:R,lineYPosition:0,translationsIndex:S}).prevY,a.config.stroke.curve==="monotoneCubic"&&e[x][0]===null?C.push(null):C.push(R),I=R,u==="rangeArea"&&(D=$=this.lineHelpers.determineFirstPrevY({i:x,realIndex:w,series:i,prevY:$,lineYPosition:0,translationsIndex:S}).prevY,A.push(C[0]!==null?$:null));var W=this._calculatePathsFrom({type:u,series:e,i:x,realIndex:w,translationsIndex:S,prevX:L,prevY:R,prevY2:$}),J=[C[0]],q=[A[0]],ee={type:u,series:e,realIndex:w,translationsIndex:S,i:x,x:P,y:1,pX:N,pY:I,pathsFrom:W,linePaths:[],areaPaths:[],seriesIndex:n,lineYPosition:0,xArrj:E,yArrj:C,y2Arrj:A,seriesRangeEnd:i},se=this._iterateOverDataPoints(Ft(Ft({},ee),{},{iterations:u==="rangeArea"?e[x].length-1:void 0,isRangeStart:!0}));if(u==="rangeArea"){for(var he=this._calculatePathsFrom({series:i,i:x,realIndex:w,prevX:L,prevY:$}),Se=this._iterateOverDataPoints(Ft(Ft({},ee),{},{series:i,xArrj:[P],yArrj:J,y2Arrj:q,pY:D,areaPaths:se.areaPaths,pathsFrom:he,iterations:i[x].length-1,isRangeStart:!1})),oe=se.linePaths.length/2,_e=0;_e<oe;_e++)se.linePaths[_e]=Se.linePaths[_e+oe]+se.linePaths[_e];se.linePaths.splice(oe),se.pathFromLine=Se.pathFromLine+se.pathFromLine}else se.pathFromArea+="z";this._handlePaths({type:u,realIndex:w,i:x,paths:se}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),m.push(this.elSeries)}if(((o=a.config.series[0])===null||o===void 0?void 0:o.zIndex)!==void 0&&m.sort(function(Re,He){return Number(Re.node.getAttribute("zIndex"))-Number(He.node.getAttribute("zIndex"))}),a.config.chart.stacked)for(var xe=m.length-1;xe>=0;xe--)h.add(m[xe]);else for(var Ne=0;Ne<m.length;Ne++)h.add(m[Ne]);return h}},{key:"_initSerieVariables",value:function(e,r,n){var i=this.w,o=new bt(this.ctx);this.xDivision=i.globals.gridWidth/(i.globals.dataPoints-(i.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(i.config.stroke.width)?i.config.stroke.width[n]:i.config.stroke.width;var a=0;this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[n],a=n),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed,this.zeroY=i.globals.gridHeight-this.baseLineY[a]-(this.isReversed?i.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[a]:0),this.areaBottomY=this.zeroY,(this.zeroY>i.globals.gridHeight||i.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=i.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=o.group({class:"apexcharts-series",zIndex:i.config.series[n].zIndex!==void 0?i.config.series[n].zIndex:n,seriesName:ze.escapeString(i.globals.seriesNames[n])}),this.elPointsMain=o.group({class:"apexcharts-series-markers-wrap","data:realIndex":n}),this.elDataLabelsWrap=o.group({class:"apexcharts-datalabels","data:realIndex":n});var l=e[r].length===i.globals.dataPoints;this.elSeries.attr({"data:longestSeries":l,rel:r+1,"data:realIndex":n}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var r,n,i,o,a=e.type,l=e.series,u=e.i,h=e.realIndex,f=e.translationsIndex,m=e.prevX,x=e.prevY,w=e.prevY2,S=this.w,C=new bt(this.ctx);if(l[u][0]===null){for(var A=0;A<l[u].length;A++)if(l[u][A]!==null){m=this.xDivision*A,x=this.zeroY-l[u][A]/this.yRatio[f],r=C.move(m,x),n=C.move(m,this.areaBottomY);break}}else r=C.move(m,x),a==="rangeArea"&&(r=C.move(m,w)+C.line(m,x)),n=C.move(m,this.areaBottomY)+C.line(m,x);if(i=C.move(0,this.areaBottomY)+C.line(0,this.areaBottomY),o=C.move(0,this.areaBottomY)+C.line(0,this.areaBottomY),S.globals.previousPaths.length>0){var E=this.lineHelpers.checkPreviousPaths({pathFromLine:i,pathFromArea:o,realIndex:h});i=E.pathFromLine,o=E.pathFromArea}return{prevX:m,prevY:x,linePath:r,areaPath:n,pathFromLine:i,pathFromArea:o}}},{key:"_handlePaths",value:function(e){var r=e.type,n=e.realIndex,i=e.i,o=e.paths,a=this.w,l=new bt(this.ctx),u=new fl(this.ctx);this.prevSeriesY.push(o.yArrj),a.globals.seriesXvalues[n]=o.xArrj,a.globals.seriesYvalues[n]=o.yArrj;var h=a.config.forecastDataPoints;if(h.count>0&&r!=="rangeArea"){var f=a.globals.seriesXvalues[n][a.globals.seriesXvalues[n].length-h.count-1],m=l.drawRect(f,0,a.globals.gridWidth,a.globals.gridHeight,0);a.globals.dom.elForecastMask.appendChild(m.node);var x=l.drawRect(0,0,f,a.globals.gridHeight,0);a.globals.dom.elNonForecastMask.appendChild(x.node)}this.pointsChart||a.globals.delayedElements.push({el:this.elPointsMain.node,index:n});var w={i,realIndex:n,animationDelay:i,initialSpeed:a.config.chart.animations.speed,dataChangeSpeed:a.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(r)};if(r==="area")for(var S=u.fillPath({seriesNumber:n}),C=0;C<o.areaPaths.length;C++){var A=l.renderPaths(Ft(Ft({},w),{},{pathFrom:o.pathFromArea,pathTo:o.areaPaths[C],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:S}));this.elSeries.add(A)}if(a.config.stroke.show&&!this.pointsChart){var E=null;if(r==="line")E=u.fillPath({seriesNumber:n,i});else if(a.config.stroke.fill.type==="solid")E=a.globals.stroke.colors[n];else{var P=a.config.fill;a.config.fill=a.config.stroke.fill,E=u.fillPath({seriesNumber:n,i}),a.config.fill=P}for(var I=0;I<o.linePaths.length;I++){var N=E;r==="rangeArea"&&(N=u.fillPath({seriesNumber:n}));var D=Ft(Ft({},w),{},{pathFrom:o.pathFromLine,pathTo:o.linePaths[I],stroke:E,strokeWidth:this.strokeWidth,strokeLineCap:a.config.stroke.lineCap,fill:r==="rangeArea"?N:"none"}),L=l.renderPaths(D);if(this.elSeries.add(L),L.attr("fill-rule","evenodd"),h.count>0&&r!=="rangeArea"){var R=l.renderPaths(D);R.node.setAttribute("stroke-dasharray",h.dashArray),h.strokeWidth&&R.node.setAttribute("stroke-width",h.strokeWidth),this.elSeries.add(R),R.attr("clip-path","url(#forecastMask".concat(a.globals.cuid,")")),L.attr("clip-path","url(#nonForecastMask".concat(a.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var r,n,i=this,o=e.type,a=e.series,l=e.iterations,u=e.realIndex,h=e.translationsIndex,f=e.i,m=e.x,x=e.y,w=e.pX,S=e.pY,C=e.pathsFrom,A=e.linePaths,E=e.areaPaths,P=e.seriesIndex,I=e.lineYPosition,N=e.xArrj,D=e.yArrj,L=e.y2Arrj,R=e.isRangeStart,$=e.seriesRangeEnd,W=this.w,J=new bt(this.ctx),q=this.yRatio,ee=C.prevY,se=C.linePath,he=C.areaPath,Se=C.pathFromLine,oe=C.pathFromArea,_e=ze.isNumber(W.globals.minYArr[u])?W.globals.minYArr[u]:W.globals.minY;l||(l=W.globals.dataPoints>1?W.globals.dataPoints-1:W.globals.dataPoints);var xe=function(qe,pt){return pt-qe/q[h]+2*(i.isReversed?qe/q[h]:0)},Ne=x,Re=W.config.chart.stacked&&!W.globals.comboCharts||W.config.chart.stacked&&W.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((r=this.w.config.series[u])===null||r===void 0?void 0:r.type)==="bar"||((n=this.w.config.series[u])===null||n===void 0?void 0:n.type)==="column"),He=W.config.stroke.curve;Array.isArray(He)&&(He=Array.isArray(P)?He[P[f]]:He[f]);for(var tt,nt=0,Ke=0;Ke<l;Ke++){var Ue=a[f][Ke+1]===void 0||a[f][Ke+1]===null;if(W.globals.isXNumeric){var Xe=W.globals.seriesX[u][Ke+1];W.globals.seriesX[u][Ke+1]===void 0&&(Xe=W.globals.seriesX[u][l-1]),m=(Xe-W.globals.minX)/this.xRatio}else m+=this.xDivision;Re?f>0&&W.globals.collapsedSeries.length<W.config.series.length-1?I=this.prevSeriesY[function(qe){for(var pt=qe;pt>0;pt--){if(!(W.globals.collapsedSeriesIndices.indexOf((P==null?void 0:P[pt])||pt)>-1))return pt;pt--}return 0}(f-1)][Ke+1]:I=this.zeroY:I=this.zeroY,Ue?x=xe(_e,I):(x=xe(a[f][Ke+1],I),o==="rangeArea"&&(Ne=xe($[f][Ke+1],I))),N.push(m),!Ue||W.config.stroke.curve!=="smooth"&&W.config.stroke.curve!=="monotoneCubic"?(D.push(x),L.push(Ne)):(D.push(null),L.push(null));var Ae=this.lineHelpers.calculatePoints({series:a,x:m,y:x,realIndex:u,i:f,j:Ke,prevY:ee}),We=this._createPaths({type:o,series:a,i:f,realIndex:u,j:Ke,x:m,y:x,y2:Ne,xArrj:N,yArrj:D,y2Arrj:L,pX:w,pY:S,pathState:nt,segmentStartX:tt,linePath:se,areaPath:he,linePaths:A,areaPaths:E,curve:He,isRangeStart:R});E=We.areaPaths,A=We.linePaths,w=We.pX,S=We.pY,nt=We.pathState,tt=We.segmentStartX,he=We.areaPath,se=We.linePath,!this.appendPathFrom||W.globals.hasNullValues||He==="monotoneCubic"&&o==="rangeArea"||(Se+=J.line(m,this.areaBottomY),oe+=J.line(m,this.areaBottomY)),this.handleNullDataPoints(a,Ae,f,Ke,u),this._handleMarkersAndLabels({type:o,pointsPos:Ae,i:f,j:Ke,realIndex:u,isRangeStart:R})}return{yArrj:D,xArrj:N,pathFromArea:oe,areaPaths:E,pathFromLine:Se,linePaths:A,linePath:se,areaPath:he}}},{key:"_handleMarkersAndLabels",value:function(e){var r=e.type,n=e.pointsPos,i=e.isRangeStart,o=e.i,a=e.j,l=e.realIndex,u=this.w,h=new qp(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,a,{realIndex:l,pointsPos:n,zRatio:this.zRatio,elParent:this.elPointsMain});else{u.globals.series[o].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var f=this.markers.plotChartMarkers(n,l,a+1);f!==null&&this.elPointsMain.add(f)}var m=h.drawDataLabel({type:r,isRangeStart:i,pos:n,i:l,j:a+1});m!==null&&this.elDataLabelsWrap.add(m)}},{key:"_createPaths",value:function(e){var r=e.type,n=e.series,i=e.i;e.realIndex;var o,a=e.j,l=e.x,u=e.y,h=e.xArrj,f=e.yArrj,m=e.y2,x=e.y2Arrj,w=e.pX,S=e.pY,C=e.pathState,A=e.segmentStartX,E=e.linePath,P=e.areaPath,I=e.linePaths,N=e.areaPaths,D=e.curve,L=e.isRangeStart,R=new bt(this.ctx),$=this.areaBottomY,W=r==="rangeArea",J=r==="rangeArea"&&L;switch(D){case"monotoneCubic":var q=L?f:x;switch(C){case 0:if(q[a+1]===null)break;C=1;case 1:if(!(W?h.length===n[i].length:a===n[i].length-2))break;case 2:var ee=L?h:h.slice().reverse(),se=L?q:q.slice().reverse(),he=(o=se,ee.map(function(Xe,Ae){return[Xe,o[Ae]]}).filter(function(Xe){return Xe[1]!==null})),Se=he.length>1?HAe(he):he,oe=[];W&&(J?N=he:oe=N.reverse());var _e=0,xe=0;if(function(Xe,Ae){for(var We=function(Ht){var dt=[],yt=0;return Ht.forEach(function(sr){sr!==null?yt++:yt>0&&(dt.push(yt),yt=0)}),yt>0&&dt.push(yt),dt}(Xe),qe=[],pt=0,Pt=0;pt<We.length;Pt+=We[pt++])qe[pt]=UAe(Ae,Pt,Pt+We[pt]);return qe}(se,Se).forEach(function(Xe){_e++;var Ae=function(pt){for(var Pt="",Ht=0;Ht<pt.length;Ht++){var dt=pt[Ht],yt=dt.length;yt>4?(Pt+="C".concat(dt[0],", ").concat(dt[1]),Pt+=", ".concat(dt[2],", ").concat(dt[3]),Pt+=", ".concat(dt[4],", ").concat(dt[5])):yt>2&&(Pt+="S".concat(dt[0],", ").concat(dt[1]),Pt+=", ".concat(dt[2],", ").concat(dt[3]))}return Pt}(Xe),We=xe,qe=(xe+=Xe.length)-1;J?E=R.move(he[We][0],he[We][1])+Ae:W?E=R.move(oe[We][0],oe[We][1])+R.line(he[We][0],he[We][1])+Ae+R.line(oe[qe][0],oe[qe][1]):(E=R.move(he[We][0],he[We][1])+Ae,P=E+R.line(he[qe][0],$)+R.line(he[We][0],$)+"z",N.push(P)),I.push(E)}),W&&_e>1&&!J){var Ne=I.slice(_e).reverse();I.splice(_e),Ne.forEach(function(Xe){return I.push(Xe)})}C=0}break;case"smooth":var Re=.35*(l-w);if(n[i][a]===null)C=0;else switch(C){case 0:if(A=w,E=J?R.move(w,x[a])+R.line(w,S):R.move(w,S),P=R.move(w,S),n[i][a+1]===null){I.push(E),N.push(P);break}if(C=1,a<n[i].length-2){var He=R.curve(w+Re,S,l-Re,u,l,u);E+=He,P+=He;break}case 1:if(n[i][a+1]===null)E+=J?R.line(w,m):R.move(w,S),P+=R.line(w,$)+R.line(A,$)+"z",I.push(E),N.push(P),C=-1;else{var tt=R.curve(w+Re,S,l-Re,u,l,u);E+=tt,P+=tt,a>=n[i].length-2&&(J&&(E+=R.curve(l,u,l,u,l,m)+R.move(l,m)),P+=R.curve(l,u,l,u,l,$)+R.line(A,$)+"z",I.push(E),N.push(P),C=-1)}}w=l,S=u;break;default:var nt=function(Xe,Ae,We){var qe=[];switch(Xe){case"stepline":qe=R.line(Ae,null,"H")+R.line(null,We,"V");break;case"linestep":qe=R.line(null,We,"V")+R.line(Ae,null,"H");break;case"straight":qe=R.line(Ae,We)}return qe};if(n[i][a]===null)C=0;else switch(C){case 0:if(A=w,E=J?R.move(w,x[a])+R.line(w,S):R.move(w,S),P=R.move(w,S),n[i][a+1]===null){I.push(E),N.push(P);break}if(C=1,a<n[i].length-2){var Ke=nt(D,l,u);E+=Ke,P+=Ke;break}case 1:if(n[i][a+1]===null)E+=J?R.line(w,m):R.move(w,S),P+=R.line(w,$)+R.line(A,$)+"z",I.push(E),N.push(P),C=-1;else{var Ue=nt(D,l,u);E+=Ue,P+=Ue,a>=n[i].length-2&&(J&&(E+=R.line(l,m)),P+=R.line(l,$)+R.line(A,$)+"z",I.push(E),N.push(P),C=-1)}}w=l,S=u}return{linePaths:I,areaPaths:N,pX:w,pY:S,pathState:C,segmentStartX:A,linePath:E,areaPath:P}}},{key:"handleNullDataPoints",value:function(e,r,n,i,o){var a=this.w;if(e[n][i]===null&&a.config.markers.showNullDataPoints||e[n].length===1){var l=this.strokeWidth-a.config.markers.strokeWidth/2;l>0||(l=0);var u=this.markers.plotChartMarkers(r,o,i+1,l,!0);u!==null&&this.elPointsMain.add(u)}}}]),t}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function t(l,u,h,f){this.xoffset=l,this.yoffset=u,this.height=f,this.width=h,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(m){var x,w=[],S=this.xoffset,C=this.yoffset,A=o(m)/this.height,E=o(m)/this.width;if(this.width>=this.height)for(x=0;x<m.length;x++)w.push([S,C,S+A,C+m[x]/A]),C+=m[x]/A;else for(x=0;x<m.length;x++)w.push([S,C,S+m[x]/E,C+E]),S+=m[x]/E;return w},this.cutArea=function(m){var x;if(this.width>=this.height){var w=m/this.height,S=this.width-w;x=new t(this.xoffset+w,this.yoffset,S,this.height)}else{var C=m/this.width,A=this.height-C;x=new t(this.xoffset,this.yoffset+C,this.width,A)}return x}}function e(l,u,h,f,m){f=f===void 0?0:f,m=m===void 0?0:m;var x=r(function(w,S){var C,A=[],E=S/o(w);for(C=0;C<w.length;C++)A[C]=w[C]*E;return A}(l,u*h),[],new t(f,m,u,h),[]);return function(w){var S,C,A=[];for(S=0;S<w.length;S++)for(C=0;C<w[S].length;C++)A.push(w[S][C]);return A}(x)}function r(l,u,h,f){var m,x,w;if(l.length!==0)return m=h.shortestEdge(),function(S,C,A){var E;if(S.length===0)return!0;(E=S.slice()).push(C);var P=n(S,A),I=n(E,A);return P>=I}(u,x=l[0],m)?(u.push(x),r(l.slice(1),u,h,f)):(w=h.cutArea(o(u),f),f.push(h.getCoordinates(u)),r(l,[],w,f)),f;f.push(h.getCoordinates(u))}function n(l,u){var h=Math.min.apply(Math,l),f=Math.max.apply(Math,l),m=o(l);return Math.max(Math.pow(u,2)*f/Math.pow(m,2),Math.pow(m,2)/(Math.pow(u,2)*h))}function i(l){return l&&l.constructor===Array}function o(l){var u,h=0;for(u=0;u<l.length;u++)h+=l[u];return h}function a(l){var u,h=0;if(i(l[0]))for(u=0;u<l.length;u++)h+=a(l[u]);else h=o(l);return h}return function l(u,h,f,m,x){m=m===void 0?0:m,x=x===void 0?0:x;var w,S,C=[],A=[];if(i(u[0])){for(S=0;S<u.length;S++)C[S]=a(u[S]);for(w=e(C,h,f,m,x),S=0;S<u.length;S++)A.push(l(u[S],w[S][2]-w[S][0],w[S][3]-w[S][1],w[S][0],w[S][1]))}else A=e(u,h,f,m,x);return A}}();var VAe=function(){function t(e,r){Qt(this,t),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new T8(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return er(t,[{key:"draw",value:function(e){var r=this,n=this.w,i=new bt(this.ctx),o=new fl(this.ctx),a=i.group({class:"apexcharts-treemap"});if(n.globals.noData)return a;var l=[];return e.forEach(function(u){var h=u.map(function(f){return Math.abs(f)});l.push(h)}),this.negRange=this.helpers.checkColorRange(),n.config.series.forEach(function(u,h){u.data.forEach(function(f){Array.isArray(r.labels[h])||(r.labels[h]=[]),r.labels[h].push(f.x)})}),window.TreemapSquared.generate(l,n.globals.gridWidth,n.globals.gridHeight).forEach(function(u,h){var f=i.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:ze.escapeString(n.globals.seriesNames[h]),rel:h+1,"data:realIndex":h});if(n.config.chart.dropShadow.enabled){var m=n.config.chart.dropShadow;new Xa(r.ctx).dropShadow(a,m,h)}var x=i.group({class:"apexcharts-data-labels"});u.forEach(function(w,S){var C=w[0],A=w[1],E=w[2],P=w[3],I=i.drawRect(C,A,E-C,P-A,n.config.plotOptions.treemap.borderRadius,"#fff",1,r.strokeWidth,n.config.plotOptions.treemap.useFillColorAsStroke?D:n.globals.stroke.colors[h]);I.attr({cx:C,cy:A,index:h,i:h,j:S,width:E-C,height:P-A});var N=r.helpers.getShadeColor(n.config.chart.type,h,S,r.negRange),D=N.color,L=o.fillPath({color:D,seriesNumber:h,dataPointIndex:S});I.node.classList.add("apexcharts-treemap-rect"),I.attr({fill:L}),r.helpers.addListeners(I);var R={x:C+(E-C)/2,y:A+(P-A)/2,width:0,height:0},$={x:C,y:A,width:E-C,height:P-A};if(n.config.chart.animations.enabled&&!n.globals.dataChanged){var W=1;n.globals.resized||(W=n.config.chart.animations.speed),r.animateTreemap(I,R,$,W)}if(n.globals.dataChanged){var J=1;r.dynamicAnim.enabled&&n.globals.shouldAnimate&&(J=r.dynamicAnim.speed,n.globals.previousPaths[h]&&n.globals.previousPaths[h][S]&&n.globals.previousPaths[h][S].rect&&(R=n.globals.previousPaths[h][S].rect),r.animateTreemap(I,R,$,J))}var q=r.getFontSize(w),ee=n.config.dataLabels.formatter(r.labels[h][S],{value:n.globals.series[h][S],seriesIndex:h,dataPointIndex:S,w:n});n.config.plotOptions.treemap.dataLabels.format==="truncate"&&(q=parseInt(n.config.dataLabels.style.fontSize,10),ee=r.truncateLabels(ee,q,C,A,E,P));var se=null;n.globals.series[h][S]&&(se=r.helpers.calculateDataLabels({text:ee,x:(C+E)/2,y:(A+P)/2+r.strokeWidth/2+q/3,i:h,j:S,colorProps:N,fontSize:q,series:e})),n.config.dataLabels.enabled&&se&&r.rotateToFitLabel(se,q,ee,C,A,E,P),f.add(I),se!==null&&f.add(se)}),f.add(x),a.add(f)}),a}},{key:"getFontSize",value:function(e){var r=this.w,n=function i(o){var a,l=0;if(Array.isArray(o[0]))for(a=0;a<o.length;a++)l+=i(o[a]);else for(a=0;a<o.length;a++)l+=o[a].length;return l}(this.labels)/function i(o){var a,l=0;if(Array.isArray(o[0]))for(a=0;a<o.length;a++)l+=i(o[a]);else for(a=0;a<o.length;a++)l+=1;return l}(this.labels);return function(i,o){var a=i*o,l=Math.pow(a,.5);return Math.min(l/n,parseInt(r.config.dataLabels.style.fontSize,10))}(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,r,n,i,o,a,l){var u=new bt(this.ctx),h=u.getTextRects(n,r);if(h.width+this.w.config.stroke.width+5>a-i&&h.width<=l-o){var f=u.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(f.x," ").concat(f.y,") translate(").concat(h.height/3,")"))}}},{key:"truncateLabels",value:function(e,r,n,i,o,a){var l=new bt(this.ctx),u=l.getTextRects(e,r).width+this.w.config.stroke.width+5>o-n&&a-i>o-n?a-i:o-n,h=l.getTextBasedOnMaxWidth({text:e,maxWidth:u,fontSize:r});return e.length!==h.length&&u/r<5?"":h}},{key:"animateTreemap",value:function(e,r,n,i){var o=new _m(this.ctx);o.animateRect(e,{x:r.x,y:r.y,width:r.width,height:r.height},{x:n.x,y:n.y,width:n.width,height:n.height},i,function(){o.animationCompleted(e)})}}]),t}(),M8=86400,WAe=10/M8,YAe=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return er(t,[{key:"calculateTimeScaleTicks",value:function(e,r){var n=this,i=this.w;if(i.globals.allSeriesCollapsed)return i.globals.labels=[],i.globals.timescaleLabels=[],[];var o=new Ya(this.ctx),a=(r-e)/864e5;this.determineInterval(a),i.globals.disableZoomIn=!1,i.globals.disableZoomOut=!1,a<WAe?i.globals.disableZoomIn=!0:a>5e4&&(i.globals.disableZoomOut=!0);var l=o.getTimeUnitsfromTimestamp(e,r,this.utc),u=i.globals.gridWidth/a,h=u/24,f=h/60,m=f/60,x=Math.floor(24*a),w=Math.floor(1440*a),S=Math.floor(a*M8),C=Math.floor(a),A=Math.floor(a/30),E=Math.floor(a/365),P={minMillisecond:l.minMillisecond,minSecond:l.minSecond,minMinute:l.minMinute,minHour:l.minHour,minDate:l.minDate,minMonth:l.minMonth,minYear:l.minYear},I={firstVal:P,currentMillisecond:P.minMillisecond,currentSecond:P.minSecond,currentMinute:P.minMinute,currentHour:P.minHour,currentMonthDate:P.minDate,currentDate:P.minDate,currentMonth:P.minMonth,currentYear:P.minYear,daysWidthOnXAxis:u,hoursWidthOnXAxis:h,minutesWidthOnXAxis:f,secondsWidthOnXAxis:m,numberOfSeconds:S,numberOfMinutes:w,numberOfHours:x,numberOfDays:C,numberOfMonths:A,numberOfYears:E};switch(this.tickInterval){case"years":this.generateYearScale(I);break;case"months":case"half_year":this.generateMonthScale(I);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(I);break;case"hours":this.generateHourScale(I);break;case"minutes_fives":case"minutes":this.generateMinuteScale(I);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(I)}var N=this.timeScaleArray.map(function(D){var L={position:D.position,unit:D.unit,year:D.year,day:D.day?D.day:1,hour:D.hour?D.hour:0,month:D.month+1};return D.unit==="month"?Ft(Ft({},L),{},{day:1,value:D.value+1}):D.unit==="day"||D.unit==="hour"?Ft(Ft({},L),{},{value:D.value}):D.unit==="minute"?Ft(Ft({},L),{},{value:D.value,minute:D.value}):D.unit==="second"?Ft(Ft({},L),{},{value:D.value,minute:D.minute,second:D.second}):D});return N.filter(function(D){var L=1,R=Math.ceil(i.globals.gridWidth/120),$=D.value;i.config.xaxis.tickAmount!==void 0&&(R=i.config.xaxis.tickAmount),N.length>R&&(L=Math.floor(N.length/R));var W=!1,J=!1;switch(n.tickInterval){case"years":D.unit==="year"&&(W=!0);break;case"half_year":L=7,D.unit==="year"&&(W=!0);break;case"months":L=1,D.unit==="year"&&(W=!0);break;case"months_fortnight":L=15,D.unit!=="year"&&D.unit!=="month"||(W=!0),$===30&&(J=!0);break;case"months_days":L=10,D.unit==="month"&&(W=!0),$===30&&(J=!0);break;case"week_days":L=8,D.unit==="month"&&(W=!0);break;case"days":L=1,D.unit==="month"&&(W=!0);break;case"hours":D.unit==="day"&&(W=!0);break;case"minutes_fives":case"seconds_fives":$%5!=0&&(J=!0);break;case"seconds_tens":$%10!=0&&(J=!0)}if(n.tickInterval==="hours"||n.tickInterval==="minutes_fives"||n.tickInterval==="seconds_tens"||n.tickInterval==="seconds_fives"){if(!J)return!0}else if(($%L==0||W)&&!J)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,r){var n=this.w,i=this.formatDates(e),o=this.removeOverlappingTS(i);n.globals.timescaleLabels=o.slice(),new ub(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var r=24*e,n=60*r;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case r>2.4:this.tickInterval="hours";break;case n>15:this.tickInterval="minutes_fives";break;case n>5:this.tickInterval="minutes";break;case n>1:this.tickInterval="seconds_tens";break;case 60*n>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var r=e.firstVal,n=e.currentMonth,i=e.currentYear,o=e.daysWidthOnXAxis,a=e.numberOfYears,l=r.minYear,u=0,h=new Ya(this.ctx),f="year";if(r.minDate>1||r.minMonth>0){var m=h.determineRemainingDaysOfYear(r.minYear,r.minMonth,r.minDate);u=(h.determineDaysOfYear(r.minYear)-m+1)*o,l=r.minYear+1,this.timeScaleArray.push({position:u,value:l,unit:f,year:l,month:ze.monthMod(n+1)})}else r.minDate===1&&r.minMonth===0&&this.timeScaleArray.push({position:u,value:l,unit:f,year:i,month:ze.monthMod(n+1)});for(var x=l,w=u,S=0;S<a;S++)x++,w=h.determineDaysOfYear(x-1)*o+w,this.timeScaleArray.push({position:w,value:x,unit:f,year:x,month:1})}},{key:"generateMonthScale",value:function(e){var r=e.firstVal,n=e.currentMonthDate,i=e.currentMonth,o=e.currentYear,a=e.daysWidthOnXAxis,l=e.numberOfMonths,u=i,h=0,f=new Ya(this.ctx),m="month",x=0;if(r.minDate>1){h=(f.determineDaysOfMonths(i+1,r.minYear)-n+1)*a,u=ze.monthMod(i+1);var w=o+x,S=ze.monthMod(u),C=u;u===0&&(m="year",C=w,S=1,w+=x+=1),this.timeScaleArray.push({position:h,value:C,unit:m,year:w,month:S})}else this.timeScaleArray.push({position:h,value:u,unit:m,year:o,month:ze.monthMod(i)});for(var A=u+1,E=h,P=0,I=1;P<l;P++,I++){(A=ze.monthMod(A))===0?(m="year",x+=1):m="month";var N=this._getYear(o,A,x);E=f.determineDaysOfMonths(A,N)*a+E;var D=A===0?N:A;this.timeScaleArray.push({position:E,value:D,unit:m,year:N,month:A===0?1:A}),A++}}},{key:"generateDayScale",value:function(e){var r=e.firstVal,n=e.currentMonth,i=e.currentYear,o=e.hoursWidthOnXAxis,a=e.numberOfDays,l=new Ya(this.ctx),u="day",h=r.minDate+1,f=h,m=function(I,N,D){return I>l.determineDaysOfMonths(N+1,D)&&(f=1,u="month",w=N+=1),N},x=(24-r.minHour)*o,w=h,S=m(f,n,i);r.minHour===0&&r.minDate===1?(x=0,w=ze.monthMod(r.minMonth),u="month",f=r.minDate):r.minDate!==1&&r.minHour===0&&r.minMinute===0&&(x=0,h=r.minDate,w=h,S=m(f=h,n,i),w!==1&&(u="day")),this.timeScaleArray.push({position:x,value:w,unit:u,year:this._getYear(i,S,0),month:ze.monthMod(S),day:f});for(var C=x,A=0;A<a;A++){u="day",S=m(f+=1,S,this._getYear(i,S,0));var E=this._getYear(i,S,0);C=24*o+C;var P=f===1?ze.monthMod(S):f;this.timeScaleArray.push({position:C,value:P,unit:u,year:E,month:ze.monthMod(S),day:P})}}},{key:"generateHourScale",value:function(e){var r=e.firstVal,n=e.currentDate,i=e.currentMonth,o=e.currentYear,a=e.minutesWidthOnXAxis,l=e.numberOfHours,u=new Ya(this.ctx),h="hour",f=function(L,R){return L>u.determineDaysOfMonths(R+1,o)&&(A=1,R+=1),{month:R,date:A}},m=function(L,R){return L>u.determineDaysOfMonths(R+1,o)?R+=1:R},x=60-(r.minMinute+r.minSecond/60),w=x*a,S=r.minHour+1,C=S;x===60&&(w=0,C=S=r.minHour);var A=n;C>=24&&(C=0,h="day",S=A+=1);var E=f(A,i).month;E=m(A,E),this.timeScaleArray.push({position:w,value:S,unit:h,day:A,hour:C,year:o,month:ze.monthMod(E)}),C++;for(var P=w,I=0;I<l;I++){h="hour",C>=24&&(C=0,h="day",E=f(A+=1,E).month,E=m(A,E));var N=this._getYear(o,E,0);P=60*a+P;var D=C===0?A:C;this.timeScaleArray.push({position:P,value:D,unit:h,hour:C,day:A,year:N,month:ze.monthMod(E)}),C++}}},{key:"generateMinuteScale",value:function(e){for(var r=e.currentMillisecond,n=e.currentSecond,i=e.currentMinute,o=e.currentHour,a=e.currentDate,l=e.currentMonth,u=e.currentYear,h=e.minutesWidthOnXAxis,f=e.secondsWidthOnXAxis,m=e.numberOfMinutes,x=i+1,w=a,S=l,C=u,A=o,E=(60-n-r/1e3)*f,P=0;P<m;P++)x>=60&&(x=0,(A+=1)===24&&(A=0)),this.timeScaleArray.push({position:E,value:x,unit:"minute",hour:A,minute:x,day:w,year:this._getYear(C,S,0),month:ze.monthMod(S)}),E+=h,x++}},{key:"generateSecondScale",value:function(e){for(var r=e.currentMillisecond,n=e.currentSecond,i=e.currentMinute,o=e.currentHour,a=e.currentDate,l=e.currentMonth,u=e.currentYear,h=e.secondsWidthOnXAxis,f=e.numberOfSeconds,m=n+1,x=i,w=a,S=l,C=u,A=o,E=(1e3-r)/1e3*h,P=0;P<f;P++)m>=60&&(m=0,++x>=60&&(x=0,++A===24&&(A=0))),this.timeScaleArray.push({position:E,value:m,unit:"second",hour:A,minute:x,second:m,day:w,year:this._getYear(C,S,0),month:ze.monthMod(S)}),E+=h,m++}},{key:"createRawDateString",value:function(e,r){var n=e.year;return e.month===0&&(e.month=1),n+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?n+=e.unit==="day"?"-"+("0"+r).slice(-2):"-01":n+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?n+=e.unit==="hour"?"T"+("0"+r).slice(-2):"T00":n+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?n+=":"+("0"+r).slice(-2):n+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?n+=":"+("0"+r).slice(-2):n+=":00",this.utc&&(n+=".000Z"),n}},{key:"formatDates",value:function(e){var r=this,n=this.w;return e.map(function(i){var o=i.value.toString(),a=new Ya(r.ctx),l=r.createRawDateString(i,o),u=a.getDate(a.parseDate(l));if(r.utc||(u=a.getDate(a.parseDateWithTimezone(l))),n.config.xaxis.labels.format===void 0){var h="dd MMM",f=n.config.xaxis.labels.datetimeFormatter;i.unit==="year"&&(h=f.year),i.unit==="month"&&(h=f.month),i.unit==="day"&&(h=f.day),i.unit==="hour"&&(h=f.hour),i.unit==="minute"&&(h=f.minute),i.unit==="second"&&(h=f.second),o=a.formatDate(u,h)}else o=a.formatDate(u,n.config.xaxis.labels.format);return{dateString:l,position:i.position,value:o,unit:i.unit,year:i.year,month:i.month}})}},{key:"removeOverlappingTS",value:function(e){var r,n=this,i=new bt(this.ctx),o=!1;e.length>0&&e[0].value&&e.every(function(u){return u.value.length===e[0].value.length})&&(o=!0,r=i.getTextRects(e[0].value).width);var a=0,l=e.map(function(u,h){if(h>0&&n.w.config.xaxis.labels.hideOverlappingLabels){var f=o?r:i.getTextRects(e[a].value).width,m=e[a].position;return u.position>m+f+10?(a=h,u):null}return u});return l=l.filter(function(u){return u!==null})}},{key:"_getYear",value:function(e,r,n){return e+Math.floor(r/12)+n}}]),t}(),XAe=function(){function t(e,r){Qt(this,t),this.ctx=r,this.w=r.w,this.el=e}return er(t,[{key:"setupElements",value:function(){var e=this.w,r=e.globals,n=e.config,i=n.chart.type;r.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(i),r.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(i),r.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(i)&&n.plotOptions.bar.horizontal,r.chartClass=".apexcharts".concat(r.chartID),r.dom.baseEl=this.el,r.dom.elWrap=document.createElement("div"),bt.setAttrs(r.dom.elWrap,{id:r.chartClass.substring(1),class:"apexcharts-canvas ".concat(r.chartClass.substring(1))}),this.el.appendChild(r.dom.elWrap),r.dom.Paper=window.SVG().addTo(r.dom.elWrap),r.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(n.chart.offsetX,", ").concat(n.chart.offsetY,")")}),r.dom.Paper.node.style.background=n.theme.mode!=="dark"||n.chart.background?n.theme.mode!=="light"||n.chart.background?n.chart.background:"#fff":"#424242",this.setSVGDimensions(),r.dom.elLegendForeign=document.createElementNS(r.SVGNS,"foreignObject"),bt.setAttrs(r.dom.elLegendForeign,{x:0,y:0,width:r.svgWidth,height:r.svgHeight}),r.dom.elLegendWrap=document.createElement("div"),r.dom.elLegendWrap.classList.add("apexcharts-legend"),r.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),r.dom.elLegendForeign.appendChild(r.dom.elLegendWrap),r.dom.Paper.node.appendChild(r.dom.elLegendForeign),r.dom.elGraphical=r.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),r.dom.elDefs=r.dom.Paper.defs(),r.dom.Paper.add(r.dom.elGraphical),r.dom.elGraphical.add(r.dom.elDefs)}},{key:"plotChartType",value:function(e,r){var n=this.w,i=this.ctx,o=n.config,a=n.globals,l={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},column:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},u=o.chart.type||"line",h=null,f=0;a.series.forEach(function(L,R){var $=e[R].type||u;l[$]?($==="rangeArea"?(l[$].series.push(a.seriesRangeStart[R]),l[$].seriesRangeEnd.push(a.seriesRangeEnd[R])):l[$].series.push(L),l[$].i.push(R),$!=="column"&&$!=="bar"||(n.globals.columnSeries=l.column)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes($)?h=$:$==="bar"?(l.column.series.push(L),l.column.i.push(R)):console.warn("You have specified an unrecognized series type (".concat($,").")),u!==$&&$!=="scatter"&&f++}),f>0&&(h&&console.warn("Chart or series type ".concat(h," cannot appear with other chart or series types.")),l.column.series.length>0&&o.plotOptions.bar.horizontal&&(f-=l.column.series.length,l.column={series:[],i:[]},n.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),a.comboCharts||(a.comboCharts=f>0);var m=new H2(i,r),x=new B2(i,r);i.pie=new P8(i);var w=new zAe(i);i.rangeBar=new FAe(i,r);var S=new jAe(i),C=[];if(a.comboCharts){var A,E,P=new Qi(i);if(l.area.series.length>0&&(A=C).push.apply(A,Oa(P.drawSeriesByGroup(l.area,a.areaGroups,"area",m))),l.column.series.length>0)if(o.chart.stacked){var I=new zD(i,r);C.push(I.draw(l.column.series,l.column.i))}else i.bar=new Zp(i,r),C.push(i.bar.draw(l.column.series,l.column.i));if(l.rangeArea.series.length>0&&C.push(m.draw(l.rangeArea.series,"rangeArea",l.rangeArea.i,l.rangeArea.seriesRangeEnd)),l.line.series.length>0&&(E=C).push.apply(E,Oa(P.drawSeriesByGroup(l.line,a.lineGroups,"line",m))),l.candlestick.series.length>0&&C.push(x.draw(l.candlestick.series,"candlestick",l.candlestick.i)),l.boxPlot.series.length>0&&C.push(x.draw(l.boxPlot.series,"boxPlot",l.boxPlot.i)),l.rangeBar.series.length>0&&C.push(i.rangeBar.draw(l.rangeBar.series,l.rangeBar.i)),l.scatter.series.length>0){var N=new H2(i,r,!0);C.push(N.draw(l.scatter.series,"scatter",l.scatter.i))}if(l.bubble.series.length>0){var D=new H2(i,r,!0);C.push(D.draw(l.bubble.series,"bubble",l.bubble.i))}}else switch(o.chart.type){case"line":C=m.draw(a.series,"line");break;case"area":C=m.draw(a.series,"area");break;case"bar":o.chart.stacked?C=new zD(i,r).draw(a.series):(i.bar=new Zp(i,r),C=i.bar.draw(a.series));break;case"candlestick":C=new B2(i,r).draw(a.series,"candlestick");break;case"boxPlot":C=new B2(i,r).draw(a.series,o.chart.type);break;case"rangeBar":C=i.rangeBar.draw(a.series);break;case"rangeArea":C=m.draw(a.seriesRangeStart,"rangeArea",void 0,a.seriesRangeEnd);break;case"heatmap":C=new RAe(i,r).draw(a.series);break;case"treemap":C=new VAe(i,r).draw(a.series);break;case"pie":case"donut":case"polarArea":C=i.pie.draw(a.series);break;case"radialBar":C=w.draw(a.series);break;case"radar":C=S.draw(a.series);break;default:C=m.draw(a.series)}return C}},{key:"setSVGDimensions",value:function(){var e=this.w,r=e.globals,n=e.config;n.chart.width=n.chart.width||"100%",n.chart.height=n.chart.height||"auto",r.svgWidth=n.chart.width,r.svgHeight=n.chart.height;var i=ze.getDimensions(this.el),o=n.chart.width.toString().split(/[0-9]+/g).pop();o==="%"?ze.isNumber(i[0])&&(i[0].width===0&&(i=ze.getDimensions(this.el.parentNode)),r.svgWidth=i[0]*parseInt(n.chart.width,10)/100):o!=="px"&&o!==""||(r.svgWidth=parseInt(n.chart.width,10));var a=String(n.chart.height).toString().split(/[0-9]+/g).pop();if(r.svgHeight!=="auto"&&r.svgHeight!=="")if(a==="%"){var l=ze.getDimensions(this.el.parentNode);r.svgHeight=l[1]*parseInt(n.chart.height,10)/100}else r.svgHeight=parseInt(n.chart.height,10);else r.svgHeight=r.axisCharts?r.svgWidth/1.61:r.svgWidth/1.2;if(r.svgWidth=Math.max(r.svgWidth,0),r.svgHeight=Math.max(r.svgHeight,0),bt.setAttrs(r.dom.Paper.node,{width:r.svgWidth,height:r.svgHeight}),a!=="%"){var u=n.chart.sparkline.enabled?0:r.axisCharts?n.chart.parentHeightOffset:0;r.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(r.svgHeight+u,"px")}r.dom.elWrap.style.width="".concat(r.svgWidth,"px"),r.dom.elWrap.style.height="".concat(r.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,r=e.translateY,n=e.translateX;bt.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(n,", ").concat(r,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,r=e.globals,n=0,i=e.config.chart.sparkline.enabled?1:15;i+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(n=new S8(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var o=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),a=2.05*e.globals.radialSize;if(o&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var l=ze.getBoundingClientRect(o);a=l.bottom;var u=l.bottom-l.top;a=Math.max(2.05*e.globals.radialSize,u)}var h=Math.ceil(a+r.translateY+n+i);r.dom.elLegendForeign&&r.dom.elLegendForeign.setAttribute("height",h),e.config.chart.height&&String(e.config.chart.height).includes("%")||(r.dom.elWrap.style.height="".concat(h,"px"),bt.setAttrs(r.dom.Paper.node,{height:h}),r.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(h,"px"))}},{key:"coreCalculations",value:function(){new uk(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,r=function(){return e.w.config.series.map(function(){return[]})},n=new x8,i=this.w.globals;n.initGlobalVars(i),i.seriesXvalues=r(),i.seriesYvalues=r()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,r=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new hk(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new hk(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new YAe(this.ctx);var n=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?n=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(n=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(n)}r=new Qi(this.ctx).getCalculatedRatios()}return r}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,r=this.w;if(r.config.chart.brush.enabled&&typeof r.config.chart.events.selection!="function"){var n=Array.isArray(r.config.chart.brush.targets)?r.config.chart.brush.targets:[r.config.chart.brush.target];n.forEach(function(i){var o=ApexCharts.getChartByID(i);o.w.globals.brushSource=e.ctx,typeof o.w.config.chart.events.zoomed!="function"&&(o.w.config.chart.events.zoomed=function(){return e.updateSourceChart(o)}),typeof o.w.config.chart.events.scrolled!="function"&&(o.w.config.chart.events.scrolled=function(){return e.updateSourceChart(o)})}),r.config.chart.events.selection=function(i,o){n.forEach(function(a){ApexCharts.getChartByID(a).ctx.updateHelpers._updateOptions({xaxis:{min:o.xaxis.min,max:o.xaxis.max}},!1,!1,!1,!1)})}}}}]),t}(),GAe=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w}return er(t,[{key:"_updateOptions",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],o=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],a=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(l){var u=[r.ctx];o&&(u=r.ctx.getSyncedCharts()),r.ctx.w.globals.isExecCalled&&(u=[r.ctx],r.ctx.w.globals.isExecCalled=!1),u.forEach(function(h,f){var m=h.w;if(m.globals.shouldAnimate=i,n||(m.globals.resized=!0,m.globals.dataChanged=!0,i&&h.series.getPreviousPaths()),e&&Gp(e)==="object"&&(h.config=new Xv(e),e=Qi.extendArrayProps(h.config,e,m),h.w.globals.chartID!==r.ctx.w.globals.chartID&&delete e.series,m.config=ze.extend(m.config,e),a&&(m.globals.lastXAxis=e.xaxis?ze.clone(e.xaxis):[],m.globals.lastYAxis=e.yaxis?ze.clone(e.yaxis):[],m.globals.initialConfig=ze.extend({},m.config),m.globals.initialSeries=ze.clone(m.config.series),e.series))){for(var x=0;x<m.globals.collapsedSeriesIndices.length;x++){var w=m.config.series[m.globals.collapsedSeriesIndices[x]];m.globals.collapsedSeries[x].data=m.globals.axisCharts?w.data.slice():w}for(var S=0;S<m.globals.ancillaryCollapsedSeriesIndices.length;S++){var C=m.config.series[m.globals.ancillaryCollapsedSeriesIndices[S]];m.globals.ancillaryCollapsedSeries[S].data=m.globals.axisCharts?C.data.slice():C}h.series.emptyCollapsedSeries(m.config.series)}return h.update(e).then(function(){f===u.length-1&&l(h)})})})}},{key:"_updateSeries",value:function(e,r){var n=this,i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(o){var a,l=n.w;return l.globals.shouldAnimate=r,l.globals.dataChanged=!0,r&&n.ctx.series.getPreviousPaths(),l.globals.axisCharts?((a=e.map(function(u,h){return n._extendSeries(u,h)})).length===0&&(a=[{data:[]}]),l.config.series=a):l.config.series=e.slice(),i&&(l.globals.initialConfig.series=ze.clone(l.config.series),l.globals.initialSeries=ze.clone(l.config.series)),n.ctx.update().then(function(){o(n.ctx)})})}},{key:"_extendSeries",value:function(e,r){var n=this.w,i=n.config.series[r];return Ft(Ft({},n.config.series[r]),{},{name:e.name?e.name:i==null?void 0:i.name,color:e.color?e.color:i==null?void 0:i.color,type:e.type?e.type:i==null?void 0:i.type,group:e.group?e.group:i==null?void 0:i.group,hidden:e.hidden!==void 0?e.hidden:i==null?void 0:i.hidden,data:e.data?e.data:i==null?void 0:i.data,zIndex:e.zIndex!==void 0?e.zIndex:r})}},{key:"toggleDataPointSelection",value:function(e,r){var n=this.w,i=null,o=".apexcharts-series[data\\:realIndex='".concat(e,"']");return n.globals.axisCharts?i=n.globals.dom.Paper.findOne("".concat(o," path[j='").concat(r,"'], ").concat(o," circle[j='").concat(r,"'], ").concat(o," rect[j='").concat(r,"']")):r===void 0&&(i=n.globals.dom.Paper.findOne("".concat(o," path[j='").concat(e,"']")),n.config.chart.type!=="pie"&&n.config.chart.type!=="polarArea"&&n.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),i?(new bt(this.ctx).pathMouseDown(i,null),i.node?i.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var r=this.w;if(["min","max"].forEach(function(i){e.xaxis[i]!==void 0&&(r.config.xaxis[i]=e.xaxis[i],r.globals.lastXAxis[i]=e.xaxis[i])}),e.xaxis.categories&&e.xaxis.categories.length&&(r.config.xaxis.categories=e.xaxis.categories),r.config.xaxis.convertedCatToNumeric){var n=new Yv(e);e=n.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(r,n){e.yaxis[n].min=0,e.yaxis[n].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var r=this,n=this.w,i=n.globals.lastXAxis,o=n.globals.lastYAxis;e&&e.xaxis&&(i=e.xaxis),e&&e.yaxis&&(o=e.yaxis),n.config.xaxis.min=i.min,n.config.xaxis.max=i.max;var a=function(l){o[l]!==void 0&&(n.config.yaxis[l].min=o[l].min,n.config.yaxis[l].max=o[l].max)};n.config.yaxis.map(function(l,u){n.globals.zoomed||o[u]!==void 0?a(u):r.ctx.opts.yaxis[u]!==void 0&&(l.min=r.ctx.opts.yaxis[u].min,l.max=r.ctx.opts.yaxis[u].max)})}}]),t}();(function(){function t(){for(var o=arguments.length>0&&arguments[0]!==m?arguments[0]:[],a=arguments.length>1?arguments[1]:m,l=arguments.length>2?arguments[2]:m,u=arguments.length>3?arguments[3]:m,h=arguments.length>4?arguments[4]:m,f=arguments.length>5?arguments[5]:m,m=arguments.length>6?arguments[6]:m,x=o.slice(a,l||m),w=u.slice(h,f||m),S=0,C={pos:[0,0],start:[0,0]},A={pos:[0,0],start:[0,0]};x[S]=e.call(C,x[S]),w[S]=e.call(A,w[S]),x[S][0]!=w[S][0]||x[S][0]=="M"||x[S][0]=="A"&&(x[S][4]!=w[S][4]||x[S][5]!=w[S][5])?(Array.prototype.splice.apply(x,[S,1].concat(n.call(C,x[S]))),Array.prototype.splice.apply(w,[S,1].concat(n.call(A,w[S])))):(x[S]=r.call(C,x[S]),w[S]=r.call(A,w[S])),!(++S==x.length&&S==w.length);)S==x.length&&x.push(["C",C.pos[0],C.pos[1],C.pos[0],C.pos[1],C.pos[0],C.pos[1]]),S==w.length&&w.push(["C",A.pos[0],A.pos[1],A.pos[0],A.pos[1],A.pos[0],A.pos[1]]);return{start:x,dest:w}}function e(o){switch(o[0]){case"z":case"Z":o[0]="L",o[1]=this.start[0],o[2]=this.start[1];break;case"H":o[0]="L",o[2]=this.pos[1];break;case"V":o[0]="L",o[2]=o[1],o[1]=this.pos[0];break;case"T":o[0]="Q",o[3]=o[1],o[4]=o[2],o[1]=this.reflection[1],o[2]=this.reflection[0];break;case"S":o[0]="C",o[6]=o[4],o[5]=o[3],o[4]=o[2],o[3]=o[1],o[2]=this.reflection[1],o[1]=this.reflection[0]}return o}function r(o){var a=o.length;return this.pos=[o[a-2],o[a-1]],"SCQT".indexOf(o[0])!=-1&&(this.reflection=[2*this.pos[0]-o[a-4],2*this.pos[1]-o[a-3]]),o}function n(o){var a=[o];switch(o[0]){case"M":return this.pos=this.start=[o[1],o[2]],a;case"L":o[5]=o[3]=o[1],o[6]=o[4]=o[2],o[1]=this.pos[0],o[2]=this.pos[1];break;case"Q":o[6]=o[4],o[5]=o[3],o[4]=1*o[4]/3+2*o[2]/3,o[3]=1*o[3]/3+2*o[1]/3,o[2]=1*this.pos[1]/3+2*o[2]/3,o[1]=1*this.pos[0]/3+2*o[1]/3;break;case"A":a=function(l,u){var h,f,m,x,w,S,C,A,E,P,I,N,D,L,R,$,W,J,q,ee,se,he,Se,oe,_e,xe,Ne=Math.abs(u[1]),Re=Math.abs(u[2]),He=u[3]%360,tt=u[4],nt=u[5],Ke=u[6],Ue=u[7],Xe=new Vn(l),Ae=new Vn(Ke,Ue),We=[];if(Ne===0||Re===0||Xe.x===Ae.x&&Xe.y===Ae.y)return[["C",Xe.x,Xe.y,Ae.x,Ae.y,Ae.x,Ae.y]];for(h=new Vn((Xe.x-Ae.x)/2,(Xe.y-Ae.y)/2).transform(new xr().rotate(He)),f=h.x*h.x/(Ne*Ne)+h.y*h.y/(Re*Re),f>1&&(Ne*=f=Math.sqrt(f),Re*=f),m=new xr().rotate(He).scale(1/Ne,1/Re).rotate(-He),Xe=Xe.transform(m),Ae=Ae.transform(m),x=[Ae.x-Xe.x,Ae.y-Xe.y],S=x[0]*x[0]+x[1]*x[1],w=Math.sqrt(S),x[0]/=w,x[1]/=w,C=S<4?Math.sqrt(1-S/4):0,tt===nt&&(C*=-1),A=new Vn((Ae.x+Xe.x)/2+C*-x[1],(Ae.y+Xe.y)/2+C*x[0]),E=new Vn(Xe.x-A.x,Xe.y-A.y),P=new Vn(Ae.x-A.x,Ae.y-A.y),I=Math.acos(E.x/Math.sqrt(E.x*E.x+E.y*E.y)),E.y<0&&(I*=-1),N=Math.acos(P.x/Math.sqrt(P.x*P.x+P.y*P.y)),P.y<0&&(N*=-1),nt&&I>N&&(N+=2*Math.PI),!nt&&I<N&&(N-=2*Math.PI),L=Math.ceil(2*Math.abs(I-N)/Math.PI),$=[],W=I,D=(N-I)/L,R=4*Math.tan(D/4)/3,se=0;se<=L;se++)q=Math.cos(W),J=Math.sin(W),ee=new Vn(A.x+q,A.y+J),$[se]=[new Vn(ee.x+R*J,ee.y-R*q),ee,new Vn(ee.x-R*J,ee.y+R*q)],W+=D;for($[0][0]=$[0][1].clone(),$[$.length-1][2]=$[$.length-1][1].clone(),m=new xr().rotate(He).scale(Ne,Re).rotate(-He),se=0,he=$.length;se<he;se++)$[se][0]=$[se][0].transform(m),$[se][1]=$[se][1].transform(m),$[se][2]=$[se][2].transform(m);for(se=1,he=$.length;se<he;se++)Se=(ee=$[se-1][2]).x,oe=ee.y,_e=(ee=$[se][0]).x,xe=ee.y,Ke=(ee=$[se][1]).x,Ue=ee.y,We.push(["C",Se,oe,_e,xe,Ke,Ue]);return We}(this.pos,o),o=a[0]}return o[0]="C",this.pos=[o[5],o[6]],this.reflection=[2*o[5]-o[3],2*o[6]-o[4]],a}function i(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;if(a===!1)return!1;for(var l=a,u=o.length;l<u;++l)if(o[l][0]=="M")return l;return!1}Pr(sl,{morph:function(o,a,l,u,h){for(var f=this.parse(o),m=this.parse(a),x=0,w=0,S=!1,C=!1;x!==!1||w!==!1;){var A;S=i(f,x!==!1&&x+1),C=i(m,w!==!1&&w+1),x===!1&&(x=(A=new sl(E.start).bbox()).height==0||A.width==0?f.push(f[0])-1:f.push(["M",A.x+A.width/2,A.y+A.height/2])-1),w===!1&&(w=(A=new sl(E.dest).bbox()).height==0||A.width==0?m.push(m[0])-1:m.push(["M",A.x+A.width/2,A.y+A.height/2])-1);var E=t(f,x,S,m,w,C);f=f.slice(0,x).concat(E.start,S===!1?[]:f.slice(S)),m=m.slice(0,w).concat(E.dest,C===!1?[]:m.slice(C)),x=S!==!1&&x+E.start.length,w=C!==!1&&w+E.dest.length}this._array=f,this.destination=new sl,this.destination._array=m;var P=this.fromArray(f.map(function(I,N){var D=m[N].map(function(L,R){return R===0?L:u.step(I[R],m[N][R],l,h[N],h)});return D}));return P}})})();const FD=t=>(t.changedTouches&&(t=t.changedTouches[0]),{x:t.clientX,y:t.clientY});class qAe{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const r=!e.type.indexOf("mouse");if(r&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(FD(e));const n=(r?"mouseup":"touchend")+".drag";jc(window,(r?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),jc(window,n,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:r,lastClick:n}=this,i=this.el.point(FD(e)),o=i.x-n.x,a=i.y-n.y;if(!o&&!a)return r;const l=r.x+o,u=r.y+a;this.box=new Ji(l,u,r.w,r.h),this.lastClick=i,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(l,u)}move(e,r){this.el.type==="svg"?Zu.prototype.move.call(this.el,e,r):this.el.move(e,r)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),Rs(window,"mousemove.drag"),Rs(window,"touchmove.drag"),Rs(window,"mouseup.drag"),Rs(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schäfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function dk(t,e,r,n=null){return function(i){i.preventDefault(),i.stopPropagation();var o=i.pageX||i.touches[0].pageX,a=i.pageY||i.touches[0].pageY;e.fire(t,{x:o,y:a,event:i,index:n,points:r})}}function fk([t,e],{a:r,b:n,c:i,d:o,e:a,f:l}){return[t*r+e*i+a,t*n+e*o+l]}Pr(Za,{draggable(t=!0){return(this.remember("_draggable")||new qAe(this)).init(t),this}});let I8=class{constructor(t){this.el=t,t.remember("_selectHandler",this),this.selection=new Zu,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=by();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.createRot=t.createRot||this.createRotFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.updateRot=t.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((t,e,r)=>{const n=this.order[e];this.createHandle.call(this,this.selection,t,e,r,n),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+n).on("mousedown.selection touchstart.selection",dk(n,this.el,this.handlePoints,e))})}createHandleFn(t){t.polyline()}updateHandleFn(t,e,r,n){const i=n.at(r-1),o=n[(r+1)%n.length],a=e,l=[a[0]-i[0],a[1]-i[1]],u=[a[0]-o[0],a[1]-o[1]],h=Math.sqrt(l[0]*l[0]+l[1]*l[1]),f=Math.sqrt(u[0]*u[0]+u[1]*u[1]),m=[l[0]/h,l[1]/h],x=[u[0]/f,u[1]/f],w=[a[0]-10*m[0],a[1]-10*m[1]],S=[a[0]-10*x[0],a[1]-10*x[1]];t.plot([w,a,S])}updateResizeHandles(){this.handlePoints.forEach((t,e,r)=>{const n=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),t,e,r,n)})}createRotFn(t){t.line(),t.circle(5)}getPoint(t){return this.handlePoints[this.order.indexOf(t)]}getPointHandle(t){return this.selection.get(this.order.indexOf(t)+1)}updateRotFn(t,e){const r=this.getPoint("t");t.get(0).plot(r[0],r[1],e[0],e[1]),t.get(1).center(e[0],e[1])}createRotationHandle(){const t=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",dk("rot",this.el,this.handlePoints));this.createRot.call(this,t)}updateRotationHandle(){const t=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(t,this.rotationPoint,this.handlePoints)}updatePoints(){const t=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(t).map(r=>fk(r,e)),this.rotationPoint=fk(this.getRotationPoint(t),e)}getHandlePoints({x:t,x2:e,y:r,y2:n,cx:i,cy:o}=this.el.bbox()){return[[t,r],[i,r],[e,r],[e,o],[e,n],[i,n],[t,n],[t,o]]}getRotationPoint({y:t,cx:e}=this.el.bbox()){return[e,t-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const BD=t=>function(e=!0,r={}){typeof e=="object"&&(r=e,e=!0);let n=this.remember("_"+t.name);return n||(e.prototype instanceof I8?(n=new e(this),e=!0):n=new t(this),this.remember("_"+t.name,n)),n.active(e,r),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schäfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function pk(t,e,r,n=null){return function(i){i.preventDefault(),i.stopPropagation();var o=i.pageX||i.touches[0].pageX,a=i.pageY||i.touches[0].pageY;e.fire(t,{x:o,y:a,event:i,index:n,points:r})}}function mk([t,e],{a:r,b:n,c:i,d:o,e:a,f:l}){return[t*r+e*i+a,t*n+e*o+l]}Pr(Za,{select:BD(I8)}),Pr([ad,od,id],{pointSelect:BD(class{constructor(t){this.el=t,t.remember("_pointSelectHandler",this),this.selection=new Zu,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=by();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((t,e,r)=>{this.createHandle.call(this,this.selection,t,e,r),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",dk("point",this.el,this.points,e))})}createHandleFn(t){t.circle(5)}updateHandleFn(t,e){t.center(e[0],e[1])}updatePointHandles(){this.points.forEach((t,e,r)=>{this.updateHandle.call(this,this.selection.get(e+1),t,e,r)})}updatePoints(){const t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>fk(e,t))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class O8{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new Zu,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const r=by();this.observer=new r.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,r){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(r)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,r,n)=>{const i=this.order[r];this.createHandle.call(this,this.selection,e,r,n,i),this.selection.get(r+1).addClass("svg_select_handle svg_select_handle_"+i).on("mousedown.selection touchstart.selection",pk(i,this.el,this.handlePoints,r))})}createHandleFn(e){e.polyline()}updateHandleFn(e,r,n,i){const o=i.at(n-1),a=i[(n+1)%i.length],l=r,u=[l[0]-o[0],l[1]-o[1]],h=[l[0]-a[0],l[1]-a[1]],f=Math.sqrt(u[0]*u[0]+u[1]*u[1]),m=Math.sqrt(h[0]*h[0]+h[1]*h[1]),x=[u[0]/f,u[1]/f],w=[h[0]/m,h[1]/m],S=[l[0]-10*x[0],l[1]-10*x[1]],C=[l[0]-10*w[0],l[1]-10*w[1]];e.plot([S,l,C])}updateResizeHandles(){this.handlePoints.forEach((e,r,n)=>{const i=this.order[r];this.updateHandle.call(this,this.selection.get(r+1),e,r,n,i)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,r){const n=this.getPoint("t");e.get(0).plot(n[0],n[1],r[0],r[1]),e.get(1).center(r[0],r[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",pk("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),r=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(n=>mk(n,r)),this.rotationPoint=mk(this.getRotationPoint(e),r)}getHandlePoints({x:e,x2:r,y:n,y2:i,cx:o,cy:a}=this.el.bbox()){return[[e,n],[o,n],[r,n],[r,a],[r,i],[o,i],[e,i],[e,a]]}getRotationPoint({y:e,cx:r}=this.el.bbox()){return[r,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const $D=t=>function(e=!0,r={}){typeof e=="object"&&(r=e,e=!0);let n=this.remember("_"+t.name);return n||(e.prototype instanceof O8?(n=new e(this),e=!0):n=new t(this),this.remember("_"+t.name,n)),n.active(e,r),this};Pr(Za,{select:$D(O8)}),Pr([ad,od,id],{pointSelect:$D(class{constructor(t){this.el=t,t.remember("_pointSelectHandler",this),this.selection=new Zu,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=by();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((t,e,r)=>{this.createHandle.call(this,this.selection,t,e,r),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",pk("point",this.el,this.points,e))})}createHandleFn(t){t.circle(5)}updateHandleFn(t,e){t.center(e[0],e[1])}updatePointHandles(){this.points.forEach((t,e,r)=>{this.updateHandle.call(this,this.selection.get(e+1),t,e,r)})}updatePoints(){const t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>mk(e,t))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const gx=t=>(t.changedTouches&&(t=t.changedTouches[0]),{x:t.clientX,y:t.clientY}),HD=t=>{let e=1/0,r=1/0,n=-1/0,i=-1/0;for(let o=0;o<t.length;o++){const a=t[o];e=Math.min(e,a[0]),r=Math.min(r,a[1]),n=Math.max(n,a[0]),i=Math.max(i,a[1])}return new Ji(e,r,n-e,i-r)};class UD{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,r){this.preserveAspectRatio=r.preserveAspectRatio??!1,this.aroundCenter=r.aroundCenter??!1,this.grid=r.grid??0,this.degree=r.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:r,index:n,points:i}=e.detail,o=!r.type.indexOf("mouse");if(o&&(r.which||r.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(gx(r)),this.index=n,this.points=i.slice();const a=(o?"mousemove":"touchmove")+".resize",l=(o?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?jc(window,a,this.movePoint):e.type==="rot"?jc(window,a,this.rotate):jc(window,a,this.resize),jc(window,l,this.endResize)}resize(e){this.lastEvent=e;const r=this.snapToGrid(this.el.point(gx(e)));let n=r.x-this.startPoint.x,i=r.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(n*=2,i*=2);const o=this.box.x+n,a=this.box.y+i,l=this.box.x2+n,u=this.box.y2+i;let h=new Ji(this.box);if(this.eventType.includes("l")&&(h.x=Math.min(o,this.box.x2),h.x2=Math.max(o,this.box.x2)),this.eventType.includes("r")&&(h.x=Math.min(l,this.box.x),h.x2=Math.max(l,this.box.x)),this.eventType.includes("t")&&(h.y=Math.min(a,this.box.y2),h.y2=Math.max(a,this.box.y2)),this.eventType.includes("b")&&(h.y=Math.min(u,this.box.y),h.y2=Math.max(u,this.box.y)),h.width=h.x2-h.x,h.height=h.y2-h.y,this.preserveAspectRatio){const f=h.width/this.box.width,m=h.height/this.box.height,x=["lt","t","rt","r","rb","b","lb","l"],w=(x.indexOf(this.eventType)+4)%x.length,S=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[w];let C=this.eventType.includes("t")||this.eventType.includes("b")?m:f;C=this.eventType.length===2?Math.max(f,m):C,h=function(A,E,P){const I=[[A.x,A.y],[A.x+A.width,A.y],[A.x+A.width,A.y+A.height],[A.x,A.y+A.height]].map(([N,D])=>{const L=N-E[0],R=(D-E[1])*P;return[L*P+E[0],R+E[1]]});return HD(I)}(this.box,S,C)}this.el.dispatch("resize",{box:new Ji(h),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(h.width,h.height).move(h.x,h.y)}movePoint(e){this.lastEvent=e;const{x:r,y:n}=this.snapToGrid(this.el.point(gx(e))),i=this.el.array().slice();i[this.index]=[r,n],this.el.dispatch("resize",{box:HD(i),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(i)}rotate(e){this.lastEvent=e;const r=this.startPoint,n=this.el.point(gx(e)),{cx:i,cy:o}=this.box,a=r.x-i,l=r.y-o,u=n.x-i,h=n.y-o,f=Math.sqrt(a*a+l*l)*Math.sqrt(u*u+h*h);if(f===0)return;let m=Math.acos((a*u+l*h)/f)/Math.PI*180;if(!m)return;n.x<r.x&&(m=-m);const x=new xr(this.el),{x:w,y:S}=new Vn(i,o).transformO(x),{rotate:C}=x.decompose(),A=this.snapToAngle(C+m)-C;this.el.dispatch("resize",{box:this.box,angle:A,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(x.rotateO(A,w,S))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",Rs(window,"mousemove.resize touchmove.resize"),Rs(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}Pr(Za,{resize:function(t=!0,e={}){typeof t=="object"&&(e=t,t=!0);let r=this.remember("_ResizeHandler");return r||(t.prototype instanceof UD?(r=new t(this),t=!0):r=new UD(this),this.remember("_resizeHandler",r)),r.active(t,e),this}}),window.SVG===void 0&&(window.SVG=uAe),window.Apex===void 0&&(window.Apex={});var VD=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w}return er(t,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new _m(this.ctx),this.ctx.axes=new bAe(this.ctx),this.ctx.core=new XAe(this.ctx.el,this.ctx),this.ctx.config=new Xv({}),this.ctx.data=new lA(this.ctx),this.ctx.grid=new _8(this.ctx),this.ctx.graphics=new bt(this.ctx),this.ctx.coreUtils=new Qi(this.ctx),this.ctx.crosshairs=new hk(this.ctx),this.ctx.events=new yAe(this.ctx),this.ctx.exports=new cb(this.ctx),this.ctx.fill=new fl(this.ctx),this.ctx.localization=new xAe(this.ctx),this.ctx.options=new Gh,this.ctx.responsive=new _Ae(this.ctx),this.ctx.series=new zs(this.ctx),this.ctx.theme=new wAe(this.ctx),this.ctx.formatters=new Sy(this.ctx),this.ctx.titleSubtitle=new SAe(this.ctx),this.ctx.legend=new S8(this.ctx),this.ctx.toolbar=new C8(this.ctx),this.ctx.tooltip=new jD(this.ctx),this.ctx.dimensions=new ub(this.ctx),this.ctx.updateHelpers=new GAe(this.ctx),this.ctx.zoomPanSelection=new PAe(this.ctx),this.ctx.w.globals.tooltip=new jD(this.ctx)}}]),t}(),WD=function(){function t(e){Qt(this,t),this.ctx=e,this.w=e.w}return er(t,[{key:"clear",value:function(e){var r=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:r})}},{key:"killSVG",value:function(e){e.each(function(){this.removeClass("*"),this.off()},!0),e.clear()}},{key:"clearDomElements",value:function(e){var r=this,n=e.isUpdating,i=this.w.globals.dom.Paper.node;i.parentNode&&i.parentNode.parentNode&&!n&&(i.parentNode.parentNode.style.minHeight="unset");var o=this.w.globals.dom.baseEl;o&&this.ctx.eventList.forEach(function(l){o.removeEventListener(l,r.ctx.events.documentEvent)});var a=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(a.Paper),a.Paper.remove(),a.elWrap=null,a.elGraphical=null,a.elLegendWrap=null,a.elLegendForeign=null,a.baseEl=null,a.elGridRect=null,a.elGridRectMask=null,a.elGridRectBarMask=null,a.elGridRectMarkerMask=null,a.elForecastMask=null,a.elNonForecastMask=null,a.elDefs=null}}]),t}(),U2=new WeakMap,ZAe=function(){function t(e,r){Qt(this,t),this.opts=r,this.ctx=this,this.w=new vAe(r).init(),this.el=e,this.w.globals.cuid=ze.randomId(),this.w.globals.chartID=this.w.config.chart.id?ze.escapeString(this.w.config.chart.id):this.w.globals.cuid,new VD(this).initModules(),this.create=ze.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return er(t,[{key:"render",value:function(){var e=this;return new Promise(function(r,n){if(ze.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var i=e.w.config.chart.events.beforeMount;typeof i=="function"&&i(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(x,w){var S=!1;if(x.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var C=x.getBoundingClientRect();x.style.display!=="none"&&C.width!==0||(S=!0)}var A=new ResizeObserver(function(E){S&&w.call(x,E),S=!0});x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(x.children).forEach(function(E){return A.observe(E)}):A.observe(x),U2.set(w,A)}(e.el.parentNode,e.parentResizeHandler);var o=e.el.getRootNode&&e.el.getRootNode(),a=ze.is("ShadowRoot",o),l=e.el.ownerDocument,u=a?o.getElementById("apexcharts-css"):l.getElementById("apexcharts-css");if(!u){var h;(u=document.createElement("style")).id="apexcharts-css",u.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0;
  margin-right: 10px;
  border-radius: 50%
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}`;var f=((h=e.opts.chart)===null||h===void 0?void 0:h.nonce)||e.w.config.chart.nonce;f&&u.setAttribute("nonce",f),a?o.prepend(u):l.head.appendChild(u)}var m=e.create(e.w.config.series,{});if(!m)return r(e);e.mount(m).then(function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),r(m)}).catch(function(x){n(x)})}else n(new Error("Element not found"))})}},{key:"create",value:function(e,r){var n=this,i=this.w;new VD(this).initModules();var o=this.w.globals;if(o.noData=!1,o.animationEnded=!1,!ze.elementExists(this.el))return o.animationEnded=!0,this.destroy(),null;if(this.responsive.checkResponsiveConfig(r),i.config.xaxis.convertedCatToNumeric&&new Yv(i.config).convertCatToNumericXaxis(i.config,this.ctx),this.core.setupElements(),i.config.chart.type==="treemap"&&(i.config.grid.show=!1,i.config.yaxis[0].show=!1),o.svgWidth===0)return o.animationEnded=!0,null;var a=e;e.forEach(function(x,w){x.hidden&&(a=n.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:w}))});var l=Qi.checkComboSeries(a,i.config.chart.type);o.comboCharts=l.comboCharts,o.comboBarCount=l.comboBarCount;var u=a.every(function(x){return x.data&&x.data.length===0});(a.length===0||u&&o.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(a),this.theme.init(),new km(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),o.noData&&o.collapsedSeries.length!==o.series.length&&!i.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),o.axisCharts&&(this.core.coreCalculations(),i.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=i.globals.minX,this.ctx.toolbar.maxX=i.globals.maxX),this.formatters.heatmapLabelFormatters(),new Qi(this).getLargestMarkerSize(),this.dimensions.plotCoords();var h=this.core.xySettings();this.grid.createGridMask();var f=this.core.plotChartType(a,h),m=new qp(this);return m.bringForward(),i.config.dataLabels.background.enabled&&m.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:f,xyRatios:h,dimensions:{plot:{left:i.globals.translateX,top:i.globals.translateY,width:i.globals.gridWidth,height:i.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=this,i=n.w;return new Promise(function(o,a){if(n.el===null)return a(new Error("Not enough data to display or target element not found"));(r===null||i.globals.allSeriesCollapsed)&&n.series.handleNoData(),n.grid=new _8(n);var l,u,h=n.grid.drawGrid();if(n.annotations=new gAe(n),n.annotations.drawImageAnnos(),n.annotations.drawTextAnnos(),i.config.grid.position==="back"&&(h&&i.globals.dom.elGraphical.add(h.el),h!=null&&(l=h.elGridBorders)!==null&&l!==void 0&&l.node&&i.globals.dom.elGraphical.add(h.elGridBorders)),Array.isArray(r.elGraph))for(var f=0;f<r.elGraph.length;f++)i.globals.dom.elGraphical.add(r.elGraph[f]);else i.globals.dom.elGraphical.add(r.elGraph);i.config.grid.position==="front"&&(h&&i.globals.dom.elGraphical.add(h.el),h!=null&&(u=h.elGridBorders)!==null&&u!==void 0&&u.node&&i.globals.dom.elGraphical.add(h.elGridBorders)),i.config.xaxis.crosshairs.position==="front"&&n.crosshairs.drawXCrosshairs(),i.config.yaxis[0].crosshairs.position==="front"&&n.crosshairs.drawYCrosshairs(),i.config.chart.type!=="treemap"&&n.axes.drawAxis(i.config.chart.type,h);var m=new Gv(e.ctx,h),x=new cA(e.ctx,h);if(h!==null&&(m.xAxisLabelCorrections(h.xAxisTickWidth),x.setYAxisTextAlignments(),i.config.yaxis.map(function(S,C){i.globals.ignoreYAxisIndexes.indexOf(C)===-1&&x.yAxisTitleRotate(C,S.opposite)})),n.annotations.drawAxesAnnotations(),!i.globals.noData){if(i.config.tooltip.enabled&&!i.globals.noData&&n.w.globals.tooltip.drawTooltip(r.xyRatios),i.globals.axisCharts&&(i.globals.isXNumeric||i.config.xaxis.convertedCatToNumeric||i.globals.isRangeBar))(i.config.chart.zoom.enabled||i.config.chart.selection&&i.config.chart.selection.enabled||i.config.chart.pan&&i.config.chart.pan.enabled)&&n.zoomPanSelection.init({xyRatios:r.xyRatios});else{var w=i.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(S){w[S]=!1})}i.config.chart.toolbar.show&&!i.globals.allSeriesCollapsed&&n.toolbar.createToolbar()}i.globals.memory.methodsToExec.length>0&&i.globals.memory.methodsToExec.forEach(function(S){S.method(S.params,!1,S.context)}),i.globals.axisCharts||i.globals.noData||n.core.resizeNonAxisCharts(),o(n)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(r,n){var i=U2.get(n);i&&(i.disconnect(),U2.delete(n))}(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach(function(r,n){r.id===ze.escapeString(e)&&Apex._chartInstances.splice(n,1)}),new WD(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],o=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],a=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],l=this.w;return this.opts=e,l.globals.selection=void 0,e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(u,h){return r.updateHelpers._extendSeries(u,h)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),l.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,n,i,o,a)}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,r,n)}},{key:"appendSeries",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=this.w.config.series.slice();return i.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(i,r,n)}},{key:"appendData",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=this;n.w.globals.dataChanged=!0,n.series.getPreviousPaths();for(var i=n.w.config.series.slice(),o=0;o<i.length;o++)if(e[o]!==null&&e[o]!==void 0)for(var a=0;a<e[o].data.length;a++)i[o].data.push(e[o].data[a]);return n.w.config.series=i,r&&(n.w.globals.initialSeries=ze.clone(n.w.config.series)),this.update()}},{key:"update",value:function(e){var r=this;return new Promise(function(n,i){new WD(r.ctx).clear({isUpdating:!0});var o=r.create(r.w.config.series,e);if(!o)return n(r);r.mount(o).then(function(){typeof r.w.config.chart.events.updated=="function"&&r.w.config.chart.events.updated(r,r.w),r.events.fireEvent("updated",[r,r.w]),r.w.globals.isDirty=!0,n(r)}).catch(function(a){i(a)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),r=[this];return e.length&&(r=[],e.forEach(function(n){r.push(n)})),r}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(r){if(r.group)return!0}).map(function(r){return e.w.config.chart.group===r.group?r.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,r){return this.series.toggleSeriesOnHover(e,r)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,r)}},{key:"addEventListener",value:function(e,r){this.events.addEventListener(e,r)}},{key:"removeEventListener",value:function(e,r){this.events.removeEventListener(e,r)}},{key:"addXaxisAnnotation",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i=this;n&&(i=n),i.annotations.addXaxisAnnotationExternal(e,r,i)}},{key:"addYaxisAnnotation",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i=this;n&&(i=n),i.annotations.addYaxisAnnotationExternal(e,r,i)}},{key:"addPointAnnotation",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i=this;n&&(i=n),i.annotations.addPointAnnotationExternal(e,r,i)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,r=this;e&&(r=e),r.annotations.clearAnnotations(r)}},{key:"removeAnnotation",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=this;r&&(n=r),n.annotations.removeAnnotation(n,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,r){return this.coreUtils.getSeriesTotalsXRange(e,r)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new uk(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new uk(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,r){return this.updateHelpers.toggleDataPointSelection(e,r)}},{key:"zoomX",value:function(e,r){this.ctx.toolbar.zoomUpdateOptions(e,r)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new cb(this.ctx).dataURI(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new cb(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var r=ze.escapeString(e);if(Apex._chartInstances){var n=Apex._chartInstances.filter(function(i){return i.id===r})[0];return n&&n.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),r=0;r<e.length;r++)new t(e[r],JSON.parse(e[r].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,r){var n=this.getChartByID(e);if(n){n.w.globals.isExecCalled=!0;var i=null;if(n.publicMethods.indexOf(r)!==-1){for(var o=arguments.length,a=new Array(o>2?o-2:0),l=2;l<o;l++)a[l-2]=arguments[l];i=n[r].apply(n,a)}return i}}},{key:"merge",value:function(e,r){return ze.extend(e,r)}}]),t}(),KAe=ZAe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=I;var e=l(H),r=o(KAe),n=o(Ze),i=["type","width","height","series","options"];function o(N){return N&&N.__esModule?N:{default:N}}function a(N){var D,L;return typeof WeakMap!="function"?null:(D=new WeakMap,L=new WeakMap,(a=function(R){return R?L:D})(N))}function l(N,D){if(!D&&N&&N.__esModule)return N;if(N===null||m(N)!="object"&&typeof N!="function")return{default:N};if(D=a(D),D&&D.has(N))return D.get(N);var L,R,$={__proto__:null},W=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(L in N)L!=="default"&&{}.hasOwnProperty.call(N,L)&&((R=W?Object.getOwnPropertyDescriptor(N,L):null)&&(R.get||R.set)?Object.defineProperty($,L,R):$[L]=N[L]);return $.default=N,D&&D.set(N,$),$}function u(){return(u=Object.assign?Object.assign.bind():function(N){for(var D=1;D<arguments.length;D++){var L,R=arguments[D];for(L in R)!{}.hasOwnProperty.call(R,L)||(N[L]=R[L])}return N}).apply(null,arguments)}function h(N,D){if(N==null)return{};var L,R=f(N,D);if(Object.getOwnPropertySymbols)for(var $=Object.getOwnPropertySymbols(N),W=0;W<$.length;W++)L=$[W],D.includes(L)||{}.propertyIsEnumerable.call(N,L)&&(R[L]=N[L]);return R}function f(N,D){if(N==null)return{};var L,R={};for(L in N)if({}.hasOwnProperty.call(N,L)){if(D.includes(L))continue;R[L]=N[L]}return R}function m(N){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(N)}function x(N,D){var L,R=Object.keys(N);return Object.getOwnPropertySymbols&&(L=Object.getOwnPropertySymbols(N),D&&(L=L.filter(function($){return Object.getOwnPropertyDescriptor(N,$).enumerable})),R.push.apply(R,L)),R}function w(N){for(var D=1;D<arguments.length;D++){var L=arguments[D]!=null?arguments[D]:{};D%2?x(Object(L),!0).forEach(function(R){S(N,R,L[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(L)):x(Object(L)).forEach(function(R){Object.defineProperty(N,R,Object.getOwnPropertyDescriptor(L,R))})}return N}function S(N,D,L){return(D=C(D))in N?Object.defineProperty(N,D,{value:L,enumerable:!0,configurable:!0,writable:!0}):N[D]=L,N}function C(N){return N=A(N,"string"),m(N)=="symbol"?N:N+""}function A(N,D){if(m(N)!="object"||!N)return N;var L=N[Symbol.toPrimitive];if(L===void 0)return(D==="string"?String:Number)(N);if(L=L.call(N,D||"default"),m(L)!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}function E(N,D){var L=w({},N);return D.forEach(function(R){delete L[R]}),L}function P(N,D){var L=2<arguments.length&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(N!==D){if(m(N)!=="object"||N===null||m(D)!=="object"||D===null)return!1;if(!L.has(N)&&!L.has(D)){L.add(N),L.add(D);var R=Object.keys(N),$=Object.keys(D);if(R.length!==$.length)return!1;for(var W=0,J=R;W<J.length;W++){var q=J[W];if(!$.includes(q)||!P(N[q],D[q],L))return!1}}}return!0}function I(_e){function D(xe){return xe&&m(xe)==="object"&&!Array.isArray(xe)}var q=_e.type,L=q===void 0?"line":q,q=_e.width,R=q===void 0?"100%":q,q=_e.height,$=q===void 0?"auto":q,W=_e.series,J=_e.options,q=h(_e,i),ee=(0,e.useRef)(null),se=(0,e.useRef)(null),he=(0,e.useRef)(),Se=((0,e.useEffect)(function(){he.current=J;var xe=ee.current;return se.current=new r.default(xe,Se()),se.current.render(),function(){se.current&&typeof se.current.destroy=="function"&&se.current.destroy()}},[]),(0,e.useEffect)(function(){var xe=!P(se.current.w.config.series,W),Ne=!P(he.current,J)||$!==se.current.opts.chart.height||R!==se.current.opts.chart.width;(xe||Ne)&&(!xe||Ne?se.current.updateOptions(Se()):se.current.updateSeries(W)),he.current=J},[J,W,$,R]),function(){return oe(J,{chart:{type:L,height:$,width:R},series:W})}),oe=function(xe,Ne){var Re=w({},xe);return D(xe)&&D(Ne)&&Object.keys(Ne).forEach(function(He){D(Ne[He])&&He in xe?Re[He]=oe(xe[He],Ne[He]):Object.assign(Re,S({},He,Ne[He]))}),Re},_e=E(q,Object.keys(I.propTypes));return e.default.createElement("div",u({ref:ee},_e))}I.propTypes={type:n.default.string.isRequired,series:n.default.array.isRequired,options:n.default.object.isRequired,width:n.default.oneOfType([n.default.string,n.default.number]),height:n.default.oneOfType([n.default.string,n.default.number])}})($F);const Cy=Qn($F),Cu=["day","month"],jf=["7 Ngày","14 Ngày"],zf=["Tháng này","3 tháng","6 tháng","12 tháng"],JAe=({title:t})=>{const[e,r]=H.useState([]),[n,i]=H.useState("day"),[o,a]=H.useState(jf[0]),[l,u]=H.useState({startDate:new Date(Date.now()-7*24*60*60*1e3),endDate:new Date}),[h,f]=H.useState(jf),[m,x]=H.useState(""),[w,S]=H.useState(!0);H.useEffect(()=>{(async()=>{S(!0);try{const L=await Dd({start_date:l.startDate.toISOString(),end_date:l.endDate.toISOString(),group_by:n,status:"completed",group_by_branch:!0});switch(n){case Cu[0]:const R=A(L.appointment,l.startDate.toISOString(),l.endDate.toISOString());r(R);break;case Cu[1]:const $=E(L.appointment,l.startDate.toISOString(),l.endDate.toISOString());r($);break}}catch{x("Failed to fetch data.")}finally{S(!1)}})()},[l]),H.useEffect(()=>{(()=>{switch(n){case Cu[0]:f(jf),I(jf[0]);break;case Cu[1]:f(zf),I(zf[0]);break}})()},[n]);const C=D=>{switch(n){case Cu[0]:return D.toLocaleDateString("vi-VN",{day:"numeric",month:"numeric"});case Cu[1]:return D.toLocaleDateString("vi-VN",{month:"numeric",year:"numeric"})}},A=(D,L,R)=>{const $=[],W=new Date(L),J=new Date(R),q=Array.from(new Set(D.map(oe=>oe.branch_id))),ee=new Map(D.map(oe=>[oe.branch_id,oe.branch_name])),se=new Map;D.forEach(oe=>{const _e=new Date(new Date(oe.appointment_date).setHours(0,0,0,0)),xe=`${oe.branch_id}-${oe.branch_name}-${_e.toISOString()}`;se.set(xe,oe)});const he=[];let Se=new Date(new Date(W).setHours(0,0,0,0));for(;Se<=J;)he.push(Se.toISOString()),Se.setDate(Se.getDate()+1);for(const oe of q)for(const _e of he){const xe=`${oe}-${ee.get(oe)}-${_e}`;if(se.has(xe)){const Ne=se.get(xe);$.push({...Ne,appointment_date:new Date(_e).toISOString()})}else $.push({employee_id:0,appointment_date:_e,total_revenue:0,average_revenue:0,number_of_appointments:0,employee_name:"",branch_id:oe,branch_name:ee.get(oe)||"",service_id:0,service_title:""})}return $},E=(D,L,R)=>{const $=[],W=new Date(L),J=new Date(R),q=Array.from(new Set(D.map(oe=>oe.branch_id))),ee=new Map(D.map(oe=>[oe.branch_id,oe.branch_name])),se=new Map;D.forEach(oe=>{const _e=`${oe.branch_id}-${oe.branch_name}-${oe.appointment_date}`;se.set(_e,oe)});const he=[];let Se=new Date(new Date(W).setHours(0,0,0,0));for(;Se<=J;)he.push(Se.toISOString()),Se.setMonth(Se.getMonth()+1);for(const oe of q)for(const _e of he){const xe=`${oe}-${ee.get(oe)}-${new Date(_e).getMonth()+1}`;if(se.has(xe)){const Ne=se.get(xe);$.push({...Ne,appointment_date:new Date(_e).toISOString()})}else $.push({employee_id:0,appointment_date:new Date(_e).toISOString(),total_revenue:0,average_revenue:0,number_of_appointments:0,employee_name:"",branch_id:oe,branch_name:ee.get(oe)||"",service_id:0,service_title:""})}return $},P={chart:{type:"bar",width:"100%",height:400,toolbar:{show:!1}},series:e.filter((D,L,R)=>R.findIndex($=>$.branch_id===D.branch_id&&$.branch_name!=="")===L).map(D=>{const L=e.filter(R=>R.branch_id===D.branch_id);return{name:D.branch_name,data:L.map(R=>R.total_revenue??null)}}),xaxis:{categories:e.filter((D,L,R)=>R.findIndex($=>$.appointment_date===D.appointment_date)===L).map(D=>C(new Date(D.appointment_date))),floating:!1,labels:{show:!0,style:{fontFamily:"Inter, sans-serif",cssClass:"text-xs font-normal fill-gray-500 dark:fill-gray-400"}}},yaxis:{show:!0,labels:{formatter:function(D){return jv(D)}},axisBorder:{show:!0}},fill:{opacity:1},dataLabels:{enabled:!1,style:{fontSize:"12px",fontFamily:"Inter, sans-serif",fontWeight:"medium",colors:["#304758"]}},stroke:{show:!0,width:0,colors:["transparent"]},grid:{show:!1,strokeDashArray:4},plotOptions:{bar:{columnWidth:"80%",borderRadiusApplication:"end",borderRadius:2,dataLabels:{position:"top"}}},states:{hover:{filter:{type:"darken",value:1}}},legend:{show:!0,position:"bottom"}},I=D=>{switch(a(D),D){case jf[0]:u({startDate:new Date(new Date(Date.now()-6*24*60*60*1e3).setHours(0,0,0,0)),endDate:new Date});break;case jf[1]:u({startDate:new Date(new Date(Date.now()-13*24*60*60*1e3).setHours(0,0,0,0)),endDate:new Date});break;case zf[0]:u({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1),endDate:new Date});break;case zf[1]:u({startDate:new Date(new Date().getFullYear(),new Date().getMonth()-2,1),endDate:new Date(new Date().getFullYear(),new Date().getMonth()+1,0)});break;case zf[2]:u({startDate:new Date(new Date().getFullYear(),new Date().getMonth()-5,1),endDate:new Date});break;case zf[3]:u({startDate:new Date(new Date().getFullYear(),new Date().getMonth()-11,1),endDate:new Date});break}},N=D=>_.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg shadow-sm bg-white",children:[_.jsxs("div",{className:"flex flex-row justify-between",children:[_.jsx("h2",{className:"text-lg font-medium text-gray-800 mb-4",children:t||"Branch Chart"}),_.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[_.jsx("select",{className:"border border-gray-200 rounded p-2",value:o,onChange:L=>{I(L.target.value)},children:h.map((L,R)=>_.jsx("option",{value:L,children:L},R))}),_.jsxs("select",{className:"border border-gray-200 rounded p-2",onChange:L=>i(L.target.value),children:[_.jsx("option",{value:Cu[0],children:"Ngày"}),_.jsx("option",{value:Cu[1],children:"Tháng"})]})]})]}),D]});return N(w?_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-gray-900"})}):m?_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("p",{className:"text-red-500",children:m})}):_.jsx(Cy,{options:P,series:P.series,type:"bar",height:400,width:"100%"}))},Sc=["day","month"],Ff=["7 Ngày","14 Ngày"],Bf=["Tháng này","3 tháng","6 tháng","12 tháng"],QAe=({title:t})=>{const[e,r]=H.useState([]),[n,i]=H.useState(Sc[0]),[o,a]=H.useState(""),[l,u]=H.useState(!0),[h,f]=H.useState(Ff[0]),[m,x]=H.useState({startDate:new Date(new Date(Date.now()-6*24*60*60*1e3).setHours(0,0,0,0)),endDate:new Date}),[w,S]=H.useState(Ff);H.useEffect(()=>{(async()=>{u(!0);try{const L=await Dd({start_date:m.startDate.toISOString(),end_date:m.endDate.toISOString(),group_by:n,status:"completed",group_by_service:!0});switch(n){case Sc[0]:const R=A(L.appointment,m.startDate.toISOString(),m.endDate.toISOString());r(R);break;case Sc[1]:const $=E(L.appointment,m.startDate.toISOString(),m.endDate.toISOString());r($);break}}catch{a("Failed to fetch data.")}finally{u(!1)}})()},[m]),H.useEffect(()=>{(()=>{switch(n){case Sc[0]:S(Ff),I(Ff[0]);break;case Sc[1]:S(Bf),I(Bf[0]);break}})()},[n]);const C=D=>{switch(n){case Sc[0]:return D.toLocaleDateString("vi-VN",{day:"numeric",month:"numeric"});case Sc[1]:return D.toLocaleDateString("vi-VN",{month:"numeric",year:"numeric"})}},A=(D,L,R)=>{const $=[],W=new Date(L),J=new Date(R),q=Array.from(new Set(D.map(oe=>oe.service_id))),ee=new Map(D.map(oe=>[oe.service_id,oe.service_title])),se=new Map;D.forEach(oe=>{const _e=new Date(new Date(oe.appointment_date).setHours(0,0,0,0)),xe=`${oe.service_id}-${oe.service_title}-${_e.toISOString()}`;se.set(xe,oe)});const he=[];let Se=new Date(new Date(W).setHours(0,0,0,0));for(;Se<=J;)he.push(Se.toISOString()),Se.setDate(Se.getDate()+1);for(const oe of q)for(const _e of he){const xe=`${oe}-${ee.get(oe)}-${_e}`;if(se.has(xe)){const Ne=se.get(xe);$.push({...Ne,appointment_date:new Date(_e).toISOString()})}else $.push({employee_id:0,appointment_date:_e,total_revenue:0,average_revenue:0,number_of_appointments:0,employee_name:"",branch_id:0,branch_name:"",service_id:oe,service_title:ee.get(oe)||""})}return $},E=(D,L,R)=>{const $=[],W=new Date(L),J=new Date(R),q=Array.from(new Set(D.map(oe=>oe.service_id))),ee=new Map(D.map(oe=>[oe.service_id,oe.service_title])),se=new Map;D.forEach(oe=>{const _e=`${oe.service_id}-${oe.service_title}-${oe.appointment_date}`;se.set(_e,oe)});const he=[];let Se=new Date(new Date(W).setHours(0,0,0,0));for(;Se<=J;)he.push(Se.toISOString()),Se.setMonth(Se.getMonth()+1);for(const oe of q)for(const _e of he){const xe=`${oe}-${ee.get(oe)}-${new Date(_e).getMonth()+1}`;if(se.has(xe)){const Ne=se.get(xe);$.push({...Ne,appointment_date:new Date(_e).toISOString()})}else $.push({employee_id:0,appointment_date:new Date(_e).toISOString(),total_revenue:0,average_revenue:0,number_of_appointments:0,employee_name:"",branch_id:0,branch_name:"",service_id:oe,service_title:ee.get(oe)||""})}return $},P={chart:{sparkline:{enabled:!1},type:"bar",width:"100%",toolbar:{show:!1}},series:e.filter((D,L,R)=>R.findIndex($=>$.service_id===D.service_id&&$.service_title!=="")===L).map(D=>{const L=e.filter(R=>R.service_id===D.service_id);return{name:D.service_title,data:L.map(R=>R.number_of_appointments??null)}}),xaxis:{categories:e.filter((D,L,R)=>R.findIndex($=>$.appointment_date===D.appointment_date)===L).map(D=>C(new Date(D.appointment_date))),floating:!1,labels:{show:!0,style:{fontFamily:"Inter, sans-serif",cssClass:"text-xs font-normal fill-gray-500 dark:fill-gray-400"},formatter:function(D){return Number(D).toFixed(0)+" lịch hẹn"}}},yaxis:{show:!0,axisBorder:{show:!0}},fill:{opacity:1},dataLabels:{enabled:!1,style:{fontSize:"12px",fontFamily:"Inter, sans-serif",fontWeight:"medium",colors:["#304758"]}},stroke:{show:!0,width:0,colors:["transparent"]},grid:{show:!1,strokeDashArray:4},plotOptions:{bar:{horizontal:!0,columnWidth:"100%",borderRadiusApplication:"end",borderRadius:2,dataLabels:{position:"top"}}},legend:{show:!0,position:"bottom"}},I=D=>{switch(f(D),D){case Ff[0]:x({startDate:new Date(new Date(Date.now()-6*24*60*60*1e3).setHours(0,0,0,0)),endDate:new Date});break;case Ff[1]:x({startDate:new Date(new Date(Date.now()-13*24*60*60*1e3).setHours(0,0,0,0)),endDate:new Date});break;case Bf[0]:x({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1),endDate:new Date});break;case Bf[1]:x({startDate:new Date(new Date().getFullYear(),new Date().getMonth()-2,1),endDate:new Date(new Date().getFullYear(),new Date().getMonth()+1,0)});break;case Bf[2]:x({startDate:new Date(new Date().getFullYear(),new Date().getMonth()-5,1),endDate:new Date});break;case Bf[3]:x({startDate:new Date(new Date().getFullYear(),new Date().getMonth()-11,1),endDate:new Date});break}},N=D=>_.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg shadow-sm bg-white",children:[_.jsxs("div",{className:"flex flex-row justify-between",children:[_.jsx("h2",{className:"text-lg font-medium text-gray-800 mb-4",children:t||"Employee Chart"}),_.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[_.jsx("select",{className:"border border-gray-200 rounded p-2",value:h,onChange:L=>{I(L.target.value)},children:w.map((L,R)=>_.jsx("option",{value:L,children:L},R))}),_.jsxs("select",{className:"border border-gray-200 rounded p-2",onChange:L=>i(L.target.value),children:[_.jsx("option",{value:Sc[0],children:"Ngày"}),_.jsx("option",{value:Sc[1],children:"Tháng"})]})]})]}),D]});return N(l?_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-gray-900"})}):o?_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("p",{className:"text-red-500",children:o})}):_.jsx(Cy,{options:P,series:P.series,type:"bar",height:400}))},Cc=["day","month"],$f=["7 Ngày","14 Ngày"],Hf=["Tháng này","3 tháng","6 tháng","12 tháng"],ePe=({title:t})=>{const[e,r]=H.useState([]),[n,i]=H.useState(Cc[0]),[o,a]=H.useState(""),[l,u]=H.useState(!0),[h,f]=H.useState($f[0]),[m,x]=H.useState({startDate:new Date(new Date(Date.now()-6*24*60*60*1e3).setHours(0,0,0,0)),endDate:new Date}),[w,S]=H.useState($f);H.useEffect(()=>{(async()=>{u(!0),console.log(m.startDate.toLocaleDateString());try{const L=await Dd({start_date:m.startDate.toISOString(),end_date:m.endDate.toISOString(),group_by:n,status:"completed",group_by_employee:!0});switch(n){case Cc[0]:const R=A(L.appointment,m.startDate.toISOString(),m.endDate.toISOString());r(R);break;case Cc[1]:const $=E(L.appointment,m.startDate.toISOString(),m.endDate.toISOString());r($);break}}catch{a("Failed to fetch data.")}finally{u(!1)}})()},[m]),H.useEffect(()=>{(()=>{switch(n){case Cc[0]:S($f),I($f[0]);break;case Cc[1]:S(Hf),I(Hf[0]);break}})()},[n]);const C=D=>{switch(n){case Cc[0]:return D.toLocaleDateString("vi-VN",{day:"numeric",month:"numeric"});case Cc[1]:return D.toLocaleDateString("vi-VN",{month:"numeric",year:"numeric"})}},A=(D,L,R)=>{const $=[],W=new Date(L),J=new Date(R),q=Array.from(new Set(D.map(oe=>oe.employee_id))),ee=new Map(D.map(oe=>[oe.employee_id,oe.employee_name])),se=new Map;D.forEach(oe=>{const _e=new Date(new Date(oe.appointment_date).setHours(0,0,0,0)),xe=`${oe.employee_id}-${oe.employee_name}-${_e.toISOString()}`;se.set(xe,oe)});const he=[];let Se=new Date(new Date(W).setHours(0,0,0,0));for(;Se<=J;)he.push(Se.toISOString()),Se.setDate(Se.getDate()+1);for(const oe of q)for(const _e of he){const xe=`${oe}-${ee.get(oe)}-${_e}`;if(se.has(xe)){const Ne=se.get(xe);$.push({...Ne,appointment_date:new Date(_e).toISOString()})}else $.push({employee_id:oe,appointment_date:_e,total_revenue:0,average_revenue:0,number_of_appointments:0,employee_name:ee.get(oe)||"",branch_id:0,branch_name:"",service_id:0,service_title:""})}return $},E=(D,L,R)=>{const $=[],W=new Date(L),J=new Date(R),q=Array.from(new Set(D.map(oe=>oe.employee_id))),ee=new Map(D.map(oe=>[oe.employee_id,oe.employee_name])),se=new Map;D.forEach(oe=>{const _e=`${oe.employee_id}-${oe.employee_name}-${oe.appointment_date}`;se.set(_e,oe)}),console.log(se);const he=[];let Se=new Date(new Date(W).setHours(0,0,0,0));for(;Se<=J;)he.push(Se.toISOString()),Se.setMonth(Se.getMonth()+1);for(const oe of q)for(const _e of he){const xe=`${oe}-${ee.get(oe)}-${new Date(_e).getMonth()+1}`;if(se.has(xe)){const Ne=se.get(xe);$.push({...Ne,appointment_date:new Date(_e).toISOString()})}else $.push({employee_id:oe,appointment_date:new Date(_e).toISOString(),total_revenue:0,average_revenue:0,number_of_appointments:0,employee_name:ee.get(oe)||"",branch_id:0,branch_name:"",service_id:0,service_title:""})}return $},P={chart:{type:"bar",width:"100%",height:400,toolbar:{show:!1}},series:e.filter((D,L,R)=>R.findIndex($=>$.employee_id===D.employee_id&&$.employee_name!=="")===L).map(D=>{const L=e.filter(R=>R.employee_id===D.employee_id);return{name:D.employee_name,data:L.map(R=>R.number_of_appointments??null)}}),xaxis:{categories:e.filter((D,L,R)=>R.findIndex($=>$.appointment_date===D.appointment_date)===L).map(D=>C(new Date(D.appointment_date))),floating:!1,labels:{show:!0,style:{fontFamily:"Inter, sans-serif",cssClass:"text-xs font-normal fill-gray-500 dark:fill-gray-400"}}},yaxis:{labels:{formatter:function(D){return Number(D).toFixed(0)+" lịch hẹn"}},axisBorder:{show:!0}},fill:{opacity:1},dataLabels:{enabled:!1,style:{fontSize:"12px",fontFamily:"Inter, sans-serif",fontWeight:"medium",colors:["#304758"]}},stroke:{show:!0,width:0,colors:["transparent"]},grid:{show:!1,strokeDashArray:4},plotOptions:{bar:{columnWidth:"80%",borderRadiusApplication:"end",borderRadius:2,dataLabels:{position:"top"}}},states:{hover:{filter:{type:"darken",value:1}}},legend:{show:!0,position:"bottom"}},I=D=>{switch(f(D),D){case $f[0]:x({startDate:new Date(new Date(Date.now()-6*24*60*60*1e3).setHours(0,0,0,0)),endDate:new Date});break;case $f[1]:x({startDate:new Date(new Date(Date.now()-13*24*60*60*1e3).setHours(0,0,0,0)),endDate:new Date});break;case Hf[0]:x({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1),endDate:new Date});break;case Hf[1]:x({startDate:new Date(new Date().getFullYear(),new Date().getMonth()-2,1),endDate:new Date(new Date().getFullYear(),new Date().getMonth()+1,0)});break;case Hf[2]:x({startDate:new Date(new Date().getFullYear(),new Date().getMonth()-5,1),endDate:new Date});break;case Hf[3]:x({startDate:new Date(new Date().getFullYear(),new Date().getMonth()-11,1),endDate:new Date});break}},N=D=>_.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg shadow-sm bg-white",children:[_.jsxs("div",{className:"flex flex-row justify-between",children:[_.jsx("h2",{className:"text-lg font-medium text-gray-800 mb-4",children:t||"Employee Chart"}),_.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[_.jsx("select",{className:"border border-gray-200 rounded p-2",value:h,onChange:L=>{I(L.target.value)},children:w.map((L,R)=>_.jsx("option",{value:L,children:L},R))}),_.jsxs("select",{className:"border border-gray-200 rounded p-2",onChange:L=>i(L.target.value),children:[_.jsx("option",{value:Cc[0],children:"Ngày"}),_.jsx("option",{value:Cc[1],children:"Tháng"})]})]})]}),D]});return N(l?_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-gray-900"})}):o?_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("p",{className:"text-red-500",children:o})}):_.jsx(Cy,{options:P,series:P.series,type:"bar",height:400}))},kc=["day","month"],Uf=["7 Ngày","14 Ngày"],Vf=["Tháng này","3 tháng","6 tháng","12 tháng"],tPe=({title:t})=>{const[e,r]=H.useState([]),[n,i]=H.useState(kc[0]),[o,a]=H.useState(""),[l,u]=H.useState(!0),[h,f]=H.useState(Uf[0]),[m,x]=H.useState({startDate:new Date(new Date(Date.now()-6*24*60*60*1e3).setHours(0,0,0,0)),endDate:new Date}),[w,S]=H.useState(Uf);H.useEffect(()=>{(async()=>{u(!0);try{const L=await Dd({start_date:m.startDate.toISOString(),end_date:m.endDate.toISOString(),group_by:n,status:"completed",group_by_service:!0});switch(n){case kc[0]:const R=A(L.appointment,m.startDate.toISOString(),m.endDate.toISOString());r(R);break;case kc[1]:const $=E(L.appointment,m.startDate.toISOString(),m.endDate.toISOString());r($);break}}catch{a("Failed to fetch data.")}finally{u(!1)}})()},[m]),H.useEffect(()=>{(()=>{switch(n){case kc[0]:S(Uf),I(Uf[0]);break;case kc[1]:S(Vf),I(Vf[0]);break}})()},[n]);const C=D=>{switch(n){case kc[0]:return D.toLocaleDateString("vi-VN",{day:"numeric",month:"numeric"});case kc[1]:return D.toLocaleDateString("vi-VN",{month:"numeric",year:"numeric"})}},A=(D,L,R)=>{const $=[];let W=new Date(L);const J=new Date(R);for(;W<=J;){const q=D.find(ee=>ee.appointment_date&&new Date(ee.appointment_date).getDate()===W.getDate());$.push({appointment_date:W.toISOString(),total_revenue:q?q.total_revenue:0,average_revenue:q?q.average_revenue:0,number_of_appointments:q?q.number_of_appointments:0,employee_id:q?q.employee_id:0,employee_name:q?q.employee_name:"",branch_id:q?q.branch_id:0,branch_name:q?q.branch_name:"",service_id:q?q.service_id:0,service_title:q?q.service_title:""}),W.setDate(W.getDate()+1)}return $},E=(D,L,R)=>{const $=[];let W=new Date(L);const J=new Date(R);for(;W<=J;){const q=D.find(ee=>Number(ee.appointment_date)===W.getMonth()+1);$.push({appointment_date:W.toISOString(),total_revenue:q?q.total_revenue:0,average_revenue:q?q.average_revenue:0,number_of_appointments:q?q.number_of_appointments:0,employee_id:q?q.employee_id:0,employee_name:q?q.employee_name:"",branch_id:q?q.branch_id:0,branch_name:q?q.branch_name:"",service_id:q?q.service_id:0,service_title:q?q.service_title:""}),W.setMonth(W.getMonth()+1)}return $},P={chart:{height:"100%",maxWidth:"100%",fontFamily:"Inter, sans-serif",dropShadow:{enabled:!1},toolbar:{show:!1}},series:[{name:"Doanh thu tổng",data:e.map(D=>D.total_revenue??null),color:"#1A56DB"},{name:"Doanh thu trung bình trên lịch hẹn",data:e.map(D=>D.average_revenue??null),color:"#7E3BF2"}],xaxis:{categories:e.map(D=>C(new Date(D.appointment_date)))},yaxis:{labels:{formatter:function(D){return jv(D)}},axisBorder:{show:!0}},fill:{type:"gradient",gradient:{opacityFrom:.55,opacityTo:0,shade:"#1C64F2",gradientToColors:["#1C64F2"]}},dataLabels:{enabled:!1},stroke:{width:6},grid:{show:!1,strokeDashArray:4}},I=D=>{switch(f(D),D){case Uf[0]:x({startDate:new Date(new Date(Date.now()-6*24*60*60*1e3).setHours(0,0,0,0)),endDate:new Date});break;case Uf[1]:x({startDate:new Date(new Date(Date.now()-13*24*60*60*1e3).setHours(0,0,0,0)),endDate:new Date});break;case Vf[0]:x({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1),endDate:new Date});break;case Vf[1]:x({startDate:new Date(new Date().getFullYear(),new Date().getMonth()-2,1),endDate:new Date(new Date().getFullYear(),new Date().getMonth()+1,0)});break;case Vf[2]:x({startDate:new Date(new Date().getFullYear(),new Date().getMonth()-5,1),endDate:new Date});break;case Vf[3]:x({startDate:new Date(new Date().getFullYear(),new Date().getMonth()-11,1),endDate:new Date});break}},N=D=>_.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg shadow-sm bg-white",children:[_.jsxs("div",{className:"flex flex-row justify-between",children:[_.jsx("h2",{className:"text-lg font-medium text-gray-800 mb-4",children:t||"Employee Chart"}),_.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[_.jsx("select",{className:"border border-gray-200 rounded p-2",value:h,onChange:L=>{I(L.target.value)},children:w.map((L,R)=>_.jsx("option",{value:L,children:L},R))}),_.jsxs("select",{className:"border border-gray-200 rounded p-2",onChange:L=>i(L.target.value),children:[_.jsx("option",{value:kc[0],children:"Ngày"}),_.jsx("option",{value:kc[1],children:"Tháng"})]})]})]}),D]});return N(l?_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-gray-900"})}):o?_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("p",{className:"text-red-500",children:o})}):_.jsx(Cy,{options:P,series:P.series,type:"area",height:400}))},Ec=["day","month"],Wf=["7 Ngày","14 Ngày"],Yf=["Tháng này","3 tháng","6 tháng","12 tháng"],rPe=({title:t})=>{const[e,r]=H.useState([]),[n,i]=H.useState(Ec[0]),[o,a]=H.useState(""),[l,u]=H.useState(!0),[h,f]=H.useState(Wf[0]),[m,x]=H.useState({startDate:new Date(new Date(Date.now()-6*24*60*60*1e3).setHours(0,0,0,0)),endDate:new Date}),[w,S]=H.useState(Wf);H.useEffect(()=>{(async()=>{u(!0);try{const L=await Dd({start_date:m.startDate.toISOString(),end_date:m.endDate.toISOString(),new_customer:!0,new_customer_group_by:n});switch(n){case Ec[0]:const R=A(L.new_customer??[],m.startDate.toISOString(),m.endDate.toISOString());r(R);break;case Ec[1]:const $=E(L.new_customer??[],m.startDate.toISOString(),m.endDate.toISOString());r($);break}}catch{a("Failed to fetch data.")}finally{u(!1)}})()},[m]),H.useEffect(()=>{(()=>{switch(n){case Ec[0]:S(Wf),I(Wf[0]);break;case Ec[1]:S(Yf),I(Yf[0]);break}})()},[n]);const C=D=>{switch(n){case Ec[0]:return D.toLocaleDateString("vi-VN",{day:"numeric",month:"numeric"});case Ec[1]:return D.toLocaleDateString("vi-VN",{month:"numeric",year:"numeric"})}},A=(D,L,R)=>{const $=[];let W=new Date(L);const J=new Date(R);for(;W<=J;){const q=D.find(ee=>ee.created_at&&new Date(ee.created_at).getDate()===W.getDate());$.push({created_at:W.toISOString(),number_of_customers_user:q?q.number_of_customers_user:0}),W.setDate(W.getDate()+1)}return $},E=(D,L,R)=>{const $=[];let W=new Date(L);const J=new Date(R);for(;W<=J;){const q=D.find(ee=>Number(ee.created_at)===W.getMonth()+1);$.push({created_at:W.toISOString(),number_of_customers_user:q?q.number_of_customers_user:0}),W.setMonth(W.getMonth()+1)}return $},P={chart:{height:"100%",maxWidth:"100%",fontFamily:"Inter, sans-serif",dropShadow:{enabled:!1},toolbar:{show:!1}},series:[{name:"Người dùng",data:e.map(D=>D.number_of_customers_user??null)}],xaxis:{categories:e.map(D=>C(new Date(D.created_at??"")))},yaxis:{axisBorder:{show:!0}},fill:{type:"gradient",gradient:{opacityFrom:.55,opacityTo:0,shade:"#1C64F2",gradientToColors:["#1C64F2"]}},dataLabels:{enabled:!1},stroke:{width:6},grid:{show:!1,strokeDashArray:4}},I=D=>{switch(f(D),D){case Wf[0]:x({startDate:new Date(new Date(Date.now()-6*24*60*60*1e3).setHours(0,0,0,0)),endDate:new Date});break;case Wf[1]:x({startDate:new Date(new Date(Date.now()-13*24*60*60*1e3).setHours(0,0,0,0)),endDate:new Date});break;case Yf[0]:x({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1),endDate:new Date});break;case Yf[1]:x({startDate:new Date(new Date().getFullYear(),new Date().getMonth()-2,1),endDate:new Date(new Date().getFullYear(),new Date().getMonth()+1,0)});break;case Yf[2]:x({startDate:new Date(new Date().getFullYear(),new Date().getMonth()-5,1),endDate:new Date});break;case Yf[3]:x({startDate:new Date(new Date().getFullYear(),new Date().getMonth()-11,1),endDate:new Date});break}},N=D=>_.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg shadow-sm bg-white",children:[_.jsxs("div",{className:"flex flex-row justify-between",children:[_.jsx("h2",{className:"text-lg font-medium text-gray-800 mb-4",children:t||"Employee Chart"}),_.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[_.jsx("select",{className:"border border-gray-200 rounded p-2",value:h,onChange:L=>{I(L.target.value)},children:w.map((L,R)=>_.jsx("option",{value:L,children:L},R))}),_.jsxs("select",{className:"border border-gray-200 rounded p-2",onChange:L=>i(L.target.value),children:[_.jsx("option",{value:Ec[0],children:"Ngày"}),_.jsx("option",{value:Ec[1],children:"Tháng"})]})]})]}),D]});return N(l?_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-gray-900"})}):o?_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("p",{className:"text-red-500",children:o})}):_.jsx(Cy,{options:P,series:P.series,type:"area",height:400}))},nPe=()=>{const[t,e]=H.useState(new Date(Date.now()-11232e5)),[r,n]=H.useState(new Date),[i,o]=H.useState("day"),[a,l]=H.useState(!1),[u,h]=H.useState(null),[f,m]=H.useState({totalRevenue:0,comparedToLastWeek:0}),[x,w]=H.useState({totalGuests:0,comparedToLastWeek:0}),[S,C]=H.useState({newCustomers:0,comparedToLastWeek:0}),[A,E]=H.useState({avgAppointmentRevenue:0,comparedToLastWeek:0});H.useEffect(()=>{(async()=>{l(!0);try{const L=await Dd({start_date:t.toISOString(),end_date:r.toISOString(),group_by:i,status:"completed",new_customer:!0,new_customer_group_by:i,customer:!0}),R=P(L.appointment,t.toISOString(),r.toISOString()),$=I(L.new_customer||[],t.toISOString(),r.toISOString());console.log("appointmentFilledData",R);const W=R.slice(7,14).reduce((_e,xe)=>_e+Number(xe.total_revenue),0),J=R.slice(0,7).reduce((_e,xe)=>_e+Number(xe.total_revenue),0);m({totalRevenue:W,comparedToLastWeek:Math.round((W-J)/J*100)});const q=R.slice(7,14).reduce((_e,xe)=>_e+Number(xe.number_of_appointments),0),ee=R.slice(0,7).reduce((_e,xe)=>_e+Number(xe.number_of_appointments),0);w({totalGuests:q,comparedToLastWeek:q-ee});const se=$.slice(7,14).reduce((_e,xe)=>_e+Number(xe.number_of_customers_user),0),he=$.slice(0,7).reduce((_e,xe)=>_e+Number(xe.number_of_customers_user),0);C({newCustomers:se,comparedToLastWeek:se-he});const Se=Math.round(W/q),oe=Math.round(J/ee);E({avgAppointmentRevenue:Se,comparedToLastWeek:Math.round((Se-oe)/oe*100)})}catch{h("Failed to fetch data.")}finally{l(!1)}})()},[i]);const P=(D,L,R)=>{const $=[];let W=new Date(L);const J=new Date(R);for(;W<=J;){const q=D.find(ee=>ee.appointment_date&&new Date(ee.appointment_date).getDate()===W.getDate());$.push({appointment_date:W.toISOString(),total_revenue:q?q.total_revenue:0,average_revenue:q?q.average_revenue:0,number_of_appointments:q?q.number_of_appointments:0,employee_id:q?q.employee_id:0,employee_name:q?q.employee_name:"",branch_id:q?q.branch_id:0,branch_name:q?q.branch_name:"",service_id:q?q.service_id:0,service_title:q?q.service_title:""}),W.setDate(W.getDate()+1)}return $},I=(D,L,R)=>{const $=[];let W=new Date(L);const J=new Date(R);for(;W<=J;){const q=D.find(ee=>ee.created_at&&new Date(ee.created_at).getDate()===W.getDate());$.push({created_at:W.toISOString(),number_of_customers_user:q?q.number_of_customers_user:0}),W.setDate(W.getDate()+1)}return $},N=D=>D.comparedToLastWeek>0?_.jsxs("span",{className:"text-green-500 font-medium",children:["+",D.comparedToLastWeek,"%"]}):_.jsxs("span",{className:"text-red-500 font-medium",children:[D.comparedToLastWeek,"%"]});return a?_.jsx("p",{children:"Loading..."}):u?_.jsx("p",{children:u}):_.jsx("div",{children:_.jsxs("div",{className:"container mx-auto p-6",children:[_.jsx("h1",{className:"text-3xl font-semibold text-gray-800 mb-6",children:"Thống kê chung"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[_.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg shadow-sm bg-white",children:[_.jsx("h2",{className:"text-lg font-medium text-gray-800 mb-2",children:"Tổng doanh thu"}),_.jsx("p",{className:"text-2xl font-bold text-green-600",children:jv(f.totalRevenue)}),_.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:["So với tuần trước: ",N(f)]})]}),_.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg shadow-sm bg-white",children:[_.jsx("h2",{className:"text-lg font-medium text-gray-800 mb-2",children:"Tổng lịch hẹn hoàn thành"}),_.jsx("p",{className:"text-2xl font-bold text-blue-600",children:x.totalGuests}),_.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:["So với tuần trước: ",N(x)]})]}),_.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg shadow-sm bg-white",children:[_.jsx("h2",{className:"text-lg font-medium text-gray-800 mb-2",children:"Khách hàng mới"}),_.jsx("p",{className:"text-2xl font-bold text-purple-600",children:S.newCustomers}),_.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:["So với tuần trước: ",N(S)]})]}),_.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg shadow-sm bg-white",children:[_.jsx("h2",{className:"text-lg font-medium text-gray-800 mb-2",children:"Avg. Appointment Value"}),_.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:jv(A.avgAppointmentRevenue)}),_.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:["Compared to last week: ",N(A)]})]})]}),_.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[_.jsx(tPe,{title:"Doanh thu"}),_.jsx(rPe,{title:"Người dùng"})]}),_.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[_.jsx(JAe,{title:"Doanh thu theo chi nhánh"}),_.jsx(QAe,{title:"Dịch vụ phổ biến"})]}),_.jsx("div",{className:"mt-8",children:_.jsx(ePe,{title:"Nhân viên được đặt lịch"})})]})})},iPe=()=>_.jsx(gJ,{children:_.jsxs(Ib,{children:[_.jsx(Un,{path:"dashboard",element:_.jsx(lQ,{})}),_.jsx(Un,{path:"accounts",element:_.jsx(NQ,{})}),_.jsx(Un,{path:"appointments",element:_.jsx(zCe,{})}),_.jsx(Un,{path:"feedbacks",element:_.jsx(HCe,{})}),_.jsx(Un,{path:"services",element:_.jsx(WCe,{})}),_.jsx(Un,{path:"schedules",element:_.jsx(ETe,{})}),_.jsx(Un,{path:"employees",element:_.jsx(PTe,{})}),_.jsx(Un,{path:"branches",element:_.jsx(OTe,{})}),_.jsx(Un,{path:"statistics",element:_.jsx(nPe,{})}),_.jsx(Un,{path:"*",element:_.jsx(BF,{})})]})}),aPe=({children:t})=>{const e=Ql();return UE.isAuthenticated()?t:_.jsx(kH,{to:"/manager/login",replace:!0,state:{from:e}})},oPe=()=>_.jsxs(Ib,{children:[_.jsx(Un,{path:"/login",element:_.jsx(UK,{})}),_.jsx(Un,{path:"/*",element:_.jsx(aPe,{children:_.jsx(iPe,{})})}),_.jsx(Un,{path:"*",element:_.jsx(BF,{})})]});oL(document.getElementById("root")).render(_.jsx(H.StrictMode,{children:_.jsx(LH,{children:_.jsxs(Ib,{children:[_.jsx(Un,{path:"/manager/*",element:_.jsx(oPe,{})}),_.jsx(Un,{path:"/*",element:_.jsx(IK,{})})]})})}));
